!function(e){function t(t){for(var r,a,o=t[0],i=t[1],s=t[2],c=0,u=[];c<o.length;c++)a=o[c],N[a]&&u.push(N[a][0]),N[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(x&&x(t);u.length;)u.shift()();return I.push.apply(I,s||[]),n()}function n(){for(var e,t=0;t<I.length;t++){for(var n=I[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==N[o]&&(r=!1)}r&&(I.splice(t--,1),e=P(P.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!k[e]||!E[e])return;for(var n in E[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--v&&0===g&&w()}(e,t),r&&r(e,t)};var a,o=!0,i="804c6a8d35a17bf909e4",s=1e4,c={},u=[],l=[];function p(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:a!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:A,apply:C,status:function(e){if(!e)return m;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[e]};return a=void 0,t}var f=[],m="idle";function d(e){m=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var b,y,h,v=0,g=0,S={},E={},k={};function O(e){return+e+""===e?+e:e}function A(e){if("idle"!==m)throw new Error("check() is only allowed in idle status");return o=e,d("check"),(t=s,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=P.p+"hot/hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return d("idle"),null;E={},S={},k=e.c,h=e.h,d("prepare");var t=new Promise(function(e,t){b={resolve:e,reject:t}});for(var n in y={},N)T(n);return"prepare"===m&&0===g&&0===v&&w(),t});var t}function T(e){var t;k[e]?(E[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=P.p+"hot/hot-update.js",document.head.appendChild(t)):S[e]=!0}function w(){d("ready");var e=b;if(b=null,e)if(o)Promise.resolve().then(function(){return C(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(O(n));e.resolve(t)}}function C(t){if("ready"!==m)throw new Error("apply() is only allowed in ready status");var n,r,a,o,s;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var a=r.pop(),i=a.id,s=a.chain;if((o=_[i])&&!o.hot._selfAccepted){if(o.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(o.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var c=0;c<o.parents.length;c++){var u=o.parents[c],l=_[u];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(l.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),p(n[u],[i])):(delete n[u],t.push(u),r.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},b=[],v={},g=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var S in y)if(Object.prototype.hasOwnProperty.call(y,S)){var E;s=O(S);var A=!1,T=!1,w=!1,C="";switch((E=y[S]?l(s):{type:"disposed",moduleId:S}).chain&&(C="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(A=new Error("Aborted because of self decline: "+E.moduleId+C));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+C));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(A=new Error("Aborted because "+s+" is not accepted"+C));break;case"accepted":t.onAccepted&&t.onAccepted(E),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),w=!0;break;default:throw new Error("Unexception type "+E.type)}if(A)return d("abort"),Promise.reject(A);if(T)for(s in v[s]=y[s],p(b,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,s)&&(f[s]||(f[s]=[]),p(f[s],E.outdatedDependencies[s]));w&&(p(b,[E.moduleId]),v[s]=g)}var I,j=[];for(r=0;r<b.length;r++)s=b[r],_[s]&&_[s].hot._selfAccepted&&j.push({module:s,errorHandler:_[s].hot._selfAccepted});d("dispose"),Object.keys(k).forEach(function(e){!1===k[e]&&function(e){delete N[e]}(e)});for(var R,D,x=b.slice();x.length>0;)if(s=x.pop(),o=_[s]){var U={},L=o.hot._disposeHandlers;for(a=0;a<L.length;a++)(n=L[a])(U);for(c[s]=U,o.hot.active=!1,delete _[s],delete f[s],a=0;a<o.children.length;a++){var M=_[o.children[a]];M&&((I=M.parents.indexOf(s))>=0&&M.parents.splice(I,1))}}for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(o=_[s]))for(D=f[s],a=0;a<D.length;a++)R=D[a],(I=o.children.indexOf(R))>=0&&o.children.splice(I,1);for(s in d("apply"),i=h,v)Object.prototype.hasOwnProperty.call(v,s)&&(e[s]=v[s]);var F=null;for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(o=_[s])){D=f[s];var B=[];for(r=0;r<D.length;r++)if(R=D[r],n=o.hot._acceptedDependencies[R]){if(-1!==B.indexOf(n))continue;B.push(n)}for(r=0;r<B.length;r++){n=B[r];try{n(D)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:D[r],error:e}),t.ignoreErrored||F||(F=e)}}}for(r=0;r<j.length;r++){var Q=j[r];s=Q.module,u=[s];try{P(s)}catch(e){if("function"==typeof Q.errorHandler)try{Q.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:n,originalError:e}),t.ignoreErrored||F||(F=n),F||(F=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||F||(F=e)}}return F?(d("fail"),Promise.reject(F)):(d("idle"),new Promise(function(e){e(b)}))}var _={},N={2:0},I=[];function P(t){if(_[t])return _[t].exports;var n=_[t]={i:t,l:!1,exports:{},hot:p(t),parents:(l=u,u=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=_[e];if(!t)return P;var n=function(n){return t.hot.active?(_[n]?-1===_[n].parents.indexOf(e)&&_[n].parents.push(e):(u=[e],a=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),P(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return P[e]},set:function(t){P[e]=t}}};for(var o in P)Object.prototype.hasOwnProperty.call(P,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,r(o));return n.e=function(e){return"ready"===m&&d("prepare"),g++,P.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===m&&(S[e]||T(e),0===g&&0===v&&w())}},n.t=function(e,t){return 1&t&&(e=n(e)),P.t(e,-2&t)},n}(t)),n.l=!0,n.exports}P.m=e,P.c=_,P.d=function(e,t,n){P.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},P.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},P.t=function(e,t){if(1&t&&(e=P(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(P.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)P.d(n,r,function(t){return e[t]}.bind(null,r));return n},P.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return P.d(t,"a",t),t},P.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},P.p="/resources/themes/sdlt/dist/img/",P.h=function(){return i};var j=window.webpackJsonp=window.webpackJsonp||[],R=j.push.bind(j);j.push=t,j=j.slice();for(var D=0;D<j.length;D++)t(j[D]);var x=R;I.push([451,0]),n()}({108:function(e,t,n){e.exports=n.p+"../img/9480e88b542db6f375b12f4016ad3cf1.svg"},111:function(e,t,n){e.exports=n.p+"../img/e5dfac45674afc1ceaa06543fe8459f8.svg"},145:function(e,t,n){e.exports=n.p+"../img/99de1aaa8b5b87899363a95004d73fd3.svg"},146:function(e,t,n){e.exports=n.p+"../img/8c940e4f505b38895423737310f1fb6c.svg"},191:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},196:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},199:function(e,t,n){e.exports=n.p+"../img/de677722d74728fea0aa7cb12a510519.svg"},202:function(e,t,n){e.exports=n.p+"../img/9f61063964aa72748e2ad460ce525fdf.svg"},203:function(e,t,n){e.exports=n.p+"../img/80b11e3269520032c200106f4eb3a353.svg"},397:function(e,t){},405:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},406:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},407:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},408:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},410:function(e,t,n){e.exports=n.p+"../img/36c9b6221f568e708200d032ead0f301.svg"},411:function(e,t,n){e.exports=n.p+"../img/6386407ae0c864b8da00d694e23cb0ad.svg"},412:function(e,t,n){e.exports=n.p+"../img/8dc2848aaafdb21cb9daf60de7dc36a2.svg"},413:function(e,t,n){e.exports=n.p+"../img/5246666d8d0629f054357d2460acddcd.svg"},419:function(e,t,n){e.exports=n.p+"../img/2ab29f65ba5b5e9a5fa1053458f43971.svg"},420:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},421:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},425:function(e,t,n){e.exports=n.p+"../img/9198e472a6c8367f8732e615d77f5cba.svg"},426:function(e,t,n){e.exports=n.p+"../img/0c865019e25308a0cb171f68cadd01bc.svg"},427:function(e,t,n){e.exports=n.p+"../img/c67b16dbdf2cbda4870d66a28b326761.svg"},428:function(e,t,n){e.exports=n.p+"../img/b12b0e8b32fffee92478e00d635ffd41.svg"},431:function(e,t,n){e.exports=n.p+"../img/253fcb80900dd1752b22f7607d2c75bb.svg"},432:function(e,t,n){e.exports=n.p+"../img/1f41b999d8c492059354357358576c11.svg"},433:function(e,t,n){e.exports=n.p+"../img/5026d4f7013eb6750fe473b8b1f857fc.svg"},434:function(e,t,n){e.exports=n.p+"../img/b4059ba2a80c6df051a8c5e3a0db180b.svg"},437:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},438:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},439:function(e,t,n){e.exports=n.p+"../img/1a64300e65fb7c88203c303f0c9a1a54.svg"},440:function(e,t,n){e.exports=n.p+"../img/b49e6ec0cb091b6e52f39a9c84e6fcc6.svg"},441:function(e,t,n){e.exports=n.p+"../img/39defb22ab1da0d7785089dbadf296ff.svg"},451:function(e,t,n){n(205),e.exports=n(764)},61:function(e,t,n){e.exports=n.p+"../img/7f858504e1409f70135d863bcb581914.svg"},679:function(e,t,n){var r={"./af":261,"./af.js":261,"./ar":262,"./ar-dz":263,"./ar-dz.js":263,"./ar-kw":264,"./ar-kw.js":264,"./ar-ly":265,"./ar-ly.js":265,"./ar-ma":266,"./ar-ma.js":266,"./ar-sa":267,"./ar-sa.js":267,"./ar-tn":268,"./ar-tn.js":268,"./ar.js":262,"./az":269,"./az.js":269,"./be":270,"./be.js":270,"./bg":271,"./bg.js":271,"./bm":272,"./bm.js":272,"./bn":273,"./bn.js":273,"./bo":274,"./bo.js":274,"./br":275,"./br.js":275,"./bs":276,"./bs.js":276,"./ca":277,"./ca.js":277,"./cs":278,"./cs.js":278,"./cv":279,"./cv.js":279,"./cy":280,"./cy.js":280,"./da":281,"./da.js":281,"./de":282,"./de-at":283,"./de-at.js":283,"./de-ch":284,"./de-ch.js":284,"./de.js":282,"./dv":285,"./dv.js":285,"./el":286,"./el.js":286,"./en-SG":287,"./en-SG.js":287,"./en-au":288,"./en-au.js":288,"./en-ca":289,"./en-ca.js":289,"./en-gb":290,"./en-gb.js":290,"./en-ie":291,"./en-ie.js":291,"./en-il":292,"./en-il.js":292,"./en-nz":293,"./en-nz.js":293,"./en-sg":294,"./en-sg.js":294,"./eo":295,"./eo.js":295,"./es":296,"./es-do":297,"./es-do.js":297,"./es-us":298,"./es-us.js":298,"./es.js":296,"./et":299,"./et.js":299,"./eu":300,"./eu.js":300,"./fa":301,"./fa.js":301,"./fi":302,"./fi.js":302,"./fo":303,"./fo.js":303,"./fr":304,"./fr-ca":305,"./fr-ca.js":305,"./fr-ch":306,"./fr-ch.js":306,"./fr.js":304,"./fy":307,"./fy.js":307,"./ga":308,"./ga.js":308,"./gd":309,"./gd.js":309,"./gl":310,"./gl.js":310,"./gom-latn":311,"./gom-latn.js":311,"./gu":312,"./gu.js":312,"./he":313,"./he.js":313,"./hi":314,"./hi.js":314,"./hr":315,"./hr.js":315,"./hu":316,"./hu.js":316,"./hy-am":317,"./hy-am.js":317,"./id":318,"./id.js":318,"./is":319,"./is.js":319,"./it":320,"./it-ch":321,"./it-ch.js":321,"./it.js":320,"./ja":322,"./ja.js":322,"./jv":323,"./jv.js":323,"./ka":324,"./ka.js":324,"./kk":325,"./kk.js":325,"./km":326,"./km.js":326,"./kn":327,"./kn.js":327,"./ko":328,"./ko.js":328,"./ku":329,"./ku.js":329,"./ky":330,"./ky.js":330,"./lb":331,"./lb.js":331,"./lo":332,"./lo.js":332,"./lt":333,"./lt.js":333,"./lv":334,"./lv.js":334,"./me":335,"./me.js":335,"./mi":336,"./mi.js":336,"./mk":337,"./mk.js":337,"./ml":338,"./ml.js":338,"./mn":339,"./mn.js":339,"./mr":340,"./mr.js":340,"./ms":341,"./ms-my":342,"./ms-my.js":342,"./ms.js":341,"./mt":343,"./mt.js":343,"./my":344,"./my.js":344,"./nb":345,"./nb.js":345,"./ne":346,"./ne.js":346,"./nl":347,"./nl-be":348,"./nl-be.js":348,"./nl.js":347,"./nn":349,"./nn.js":349,"./pa-in":350,"./pa-in.js":350,"./pl":351,"./pl.js":351,"./pt":352,"./pt-br":353,"./pt-br.js":353,"./pt.js":352,"./ro":354,"./ro.js":354,"./ru":355,"./ru.js":355,"./sd":356,"./sd.js":356,"./se":357,"./se.js":357,"./si":358,"./si.js":358,"./sk":359,"./sk.js":359,"./sl":360,"./sl.js":360,"./sq":361,"./sq.js":361,"./sr":362,"./sr-cyrl":363,"./sr-cyrl.js":363,"./sr.js":362,"./ss":364,"./ss.js":364,"./sv":365,"./sv.js":365,"./sw":366,"./sw.js":366,"./ta":367,"./ta.js":367,"./te":368,"./te.js":368,"./tet":369,"./tet.js":369,"./tg":370,"./tg.js":370,"./th":371,"./th.js":371,"./tl-ph":372,"./tl-ph.js":372,"./tlh":373,"./tlh.js":373,"./tr":374,"./tr.js":374,"./tzl":375,"./tzl.js":375,"./tzm":376,"./tzm-latn":377,"./tzm-latn.js":377,"./tzm.js":376,"./ug-cn":378,"./ug-cn.js":378,"./uk":379,"./uk.js":379,"./ur":380,"./ur.js":380,"./uz":381,"./uz-latn":382,"./uz-latn.js":382,"./uz.js":381,"./vi":383,"./vi.js":383,"./x-pseudo":384,"./x-pseudo.js":384,"./yo":385,"./yo.js":385,"./zh-cn":386,"./zh-cn.js":386,"./zh-hk":387,"./zh-hk.js":387,"./zh-tw":388,"./zh-tw.js":388};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=679},68:function(e,t,n){e.exports=n.p+"../img/e5ade74409af1721ad1dfcadb7f04aee.svg"},689:function(e,t){},713:function(e,t){},764:function(e,t,n){"use strict";n.r(t);n(452),n(454),n(455),n(458),n(459),n(460),n(157),n(463),n(464),n(466),n(467),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(500),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(525),n(526),n(527),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(224),n(541),n(543),n(544),n(545),n(546),n(547),n(548),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589);var r=n(0),a=n.n(r),o=n(27),i=n.n(o),s=n(10),c=n(789),u=n(785),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE",ADD_COLLABORATOR:"QUESTIONNAIRE/ADD_COLLABORATOR"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION:"TASK/LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE",ADD_TASK_RECOMMENDATION:"TASK/ADD_RECOMMENDATION"},PAGINATION:{FETCH_NEXT_PAGE:"PAGINATION/FETCH_NEXT_PAGE",FETCH_PREV_PAGE:"PAGINATION/FETCH_PREV_PAGE",FETCH_FIRST_PAGE:"PAGINATION/FETCH_FIRST_PAGE",FETCH_LAST_PAGE:"PAGINATION/FETCH_LAST_PAGE",SET_SELECTED_ROWS:"PAGINATION/SET_SELECTED_ROWS",RESET_PAGINATION:"PAGINATION/RESET"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER",LOAD_MEMBER:"USER/LOAD_MEMBER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},p=n(47),f=n(196),m=n.n(f),d=n(405),b=n.n(d),y=n(406),h=n.n(y),v=n(407),g=n.n(v),S=n(408),E=n.n(S),k=n(3),O=n.n(k),A=n(5),T=n.n(A),w=n(409),C=n.n(w),N=n(137),I=n.n(N),P=n(2),j=n.n(P);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/task/submission/".concat(e);if(t&&(r="/task/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/security-risk-assessment/submission/".concat(e);if(t&&(r="/security-risk-assessment/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/control-validation-audit/submission/".concat(e);if(t&&(r="/control-validation-audit/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}},{key:"redirectToApprovals",value:function(){window.location.href="#/AwaitingApprovals"}},{key:"redirectToSubmissions",value:function(){window.location.href="#/MySubmissions"}}],(n=null)&&R(t.prototype,n),r&&R(t,r),e}();function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"request",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=x({},t),r=n.query,a=n.variables,o=n.csrfToken,i={},o&&(i["X-CSRF-TOKEN"]=o),s={query:C()(r),variables:a},e.next=6,I.a.request({url:"/graphql",method:"post",data:s,headers:i});case 6:if(c=e.sent,u=c.data,!(l=j.a.get(u,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,s,"next",e)}function s(e){L(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&M(t.prototype,n),r&&M(t,r),e}(),B=new Error("There is an error when fetching data..."),Q=new Error("There is an error when parsing data...");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){q(e,t,n[t])})}return e}({},e),n=t.schemaJSON,r=t.answersJSON,a=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw Q;return t}(n),o=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&j.a.keys(t).forEach(function(e){n[j.a.toString(e)]=t[e]}),n}(r),i=function(e){var t="";return j.a.keys(e).forEach(function(n){var r=e[n];!t&&Boolean(j.a.get(r,"isCurrent",!1))&&(t=n)}),t}(o);return a.map(function(e,t){var n=j.a.toString(j.a.get(e,"ID","")),r=Boolean(j.a.get(o,"".concat(n,".hasAnswer"),!1)),a=Boolean(j.a.get(o,"".concat(n,".isApplicable"),!0)),s=!1;s=i?i===n:0===t;var c=null,u=null,l=r?j.a.get(o,"".concat(n,".inputs"),[]):[],p=r?j.a.get(o,"".concat(n,".actions"),[]):[],f=j.a.get(e,"AnswerInputFields",[]),m=j.a.get(e,"AnswerActionFields",[]);f&&Array.isArray(f)&&f.length>0&&(c=f.map(function(e){var t=j.a.toString(j.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox");["text","email","textarea","rich text editor","service register","information classification","dropdown","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=j.a.toString(j.a.get(e,"ID","")),r={id:n,label:j.a.toString(j.a.get(e,"Label","")),type:t,required:Boolean(j.a.toInteger(j.a.get(e,"Required",!1))),minLength:Number.parseInt(j.a.toString(j.a.get(e,"MinLength",0))),maxLength:Number.parseInt(j.a.toString(j.a.get(e,"MaxLength",0))),placeholder:j.a.toString(j.a.get(e,"PlaceHolder","")),options:j.a.has(e,"MultiChoiceAnswer")?JSON.parse(j.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:j.a.has(e,"MultiChoiceSingleAnswerDefault")?j.a.toString(j.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:j.a.has(e,"MultiChoiceMultipleAnswerDefault")?j.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var a=j.a.head(l.filter(function(e){return e.id===n}));if(a){var o=j.a.toString(j.a.get(a,"data",null));o&&(r.data=o)}}return r})),m&&Array.isArray(m)&&m.length>0&&(u=m.map(function(e){var t=j.a.toString(j.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=j.a.toString(j.a.get(e,"ID","")),r={id:n,label:j.a.toString(j.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=j.a.toString(j.a.get(e,"Message",""))),"goto"===t&&(r.goto=j.a.toString(j.a.get(e,"GotoID",""))),"finish"===t&&(r.result=j.a.toString(j.a.get(e,"Result","")));var a=j.a.toString(j.a.get(e,"TaskID",""));if(r.taskID=a,p&&Array.isArray(p)&&p.length>0){var o=j.a.head(p.filter(function(e){return e.id===n}));if(o){var i=Boolean(j.a.get(o,"isChose",!1));r.isChose=i}}return r}));var d={id:n,title:j.a.toString(j.a.get(e,"Title","")),heading:j.a.toString(j.a.get(e,"QuestionHeading","")),description:j.a.toString(j.a.get(e,"Description","")),type:j.a.toString(j.a.get(e,"AnswerFieldType","")).toLowerCase(),isCurrent:s,hasAnswer:r,isApplicable:a};if(j.a.isEmpty(j.a.get(d,"heading"))){var b=j.a.toString(j.a.get(e,"Question",""));j.a.set(d,"heading",b)}return c&&(d.inputs=c),u&&(d.actions=u),d})}}],(n=null)&&H(t.prototype,n),r&&H(t,r),e}(),J=n(57),K=n.n(J);function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=T()(O()(e,"ID","")),n=T()(O()(e,"Name","")),r=T()(O()(e,"ComponentTarget","")),a=T()(O()(e,"TaskType",""));switch(a){case"questionnaire":case"selection":break;default:a="questionnaire"}var o=[],i=T()(O()(e,"QuestionsDataJSON",""));return i&&(o=V.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:a,componentTarget:r,questions:o}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?K()(t).map(function(e){return{name:T()(O()(e,"Name")),value:T()(O()(e,"Value")),operator:T()(O()(e,"Operator")),colour:T()(O()(e,"Colour"))}}):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=O()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===O()(e,"Submission.TaskType","")?[]:t?t.map(function(e){return{uuid:T()(O()(e,"UUID")),taskType:T()(O()(e,"TaskType")),status:T()(O()(e,"Status"))}}):[]}},{key:"parseServiceRegister",value:function(e){return e.map(function(e){return{value:T()(O()(e,"ID")),label:T()(O()(e,"ServiceName"))}})}}],(n=null)&&G(t.prototype,n),r&&G(t,r),e}();function W(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchHomeData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw B;case 7:return r=n[0],a=T()(O()(r,"Title","")),o=T()(O()(r,"Subtitle","")),i=O()(r,"Pillars",[]),s=this.parsePillars(i),c=O()(r,"Tasks",[]),u=this.parseTasks(c),e.abrupt("return",{title:a,subtitle:o,pillars:s,tasks:u});case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,s,"next",e)}function s(e){W(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map(function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=b.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=g.a;break;case"risk_questionnaire":t=E.a}return{title:T()(O()(e,"Label","")),disabled:Boolean(O()(e,"Disabled",!0)),questionnaireID:T()(O()(e,"Questionnaire.0.ID","")),icon:t}}):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach(function(e){var n=Y.parseFromJSONObject(e);t.push(n)}),t}}],n&&z(t.prototype,n),r&&z(t,r),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&Z(t.prototype,n),r&&Z(t,r),e}();function ee(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function te(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,s,"next",e)}function s(e){ee(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}var ne=n(782);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,se(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(ae(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),a.a.createElement(ne.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},a.a.createElement("div",{className:"icon"},a.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),a.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&oe(n.prototype,o),i&&oe(n,i),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,de(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=["TaskButton"].concat(pe(this.props.classes));return a.a.createElement(ne.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&fe(n.prototype,o),i&&fe(n,i),t}(),he=n(410),ve=n.n(he);function ge(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"getCSRFToken",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=j.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ge(o,r,a,i,s,"next",e)}function s(e){ge(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Se(t.prototype,n),r&&Se(t,r),e}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),we(this,Ce(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ae(e,t,n[t])})}return e}({},this.props).classes;return a.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},a.a.createElement("div",null,a.a.createElement("img",{src:ve.a}),"Log out"))}},{key:"logout",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Oe(o,r,a,i,s,"next",e)}function s(e){Oe(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Te(n.prototype,o),i&&Te(n,i),t}();Ne.defaultProps={classes:[]};var Ie=Ne,Pe=n(411),je=n.n(Pe);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Me(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}({},this.props),n=t.classes,r=t.showApprovalBreadcrumb,o=!1;return("#/AwaitingApprovals"==window.location.hash||r)&&(o=!0),a.a.createElement("button",{className:"HeaderButton ".concat(n.join(" ")).concat(o?"active":""),onClick:function(){e.awaitingApprovals()}},a.a.createElement("div",null,a.a.createElement("img",{src:je.a}),"Approvals"))}},{key:"awaitingApprovals",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){De(o,r,a,i,s,"next",e)}function s(e){De(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ue(n.prototype,o),i&&Ue(n,i),t}();Be.defaultProps={classes:[]};var Qe=Be,qe=n(412),He=n.n(qe);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ye(this,We(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ke(e,t,n[t])})}return e}({},this.props),n=t.classes,r=t.showSubmissionBreadcrumb,o=!1;return("#/MySubmissions"==window.location.hash||r)&&(o=!0),a.a.createElement("button",{className:"HeaderButton ".concat(n.join(" ")).concat(o?"active":""),onClick:function(){e.allSubmission()}},a.a.createElement("div",null,a.a.createElement("img",{src:He.a}),"Submissions"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Je(o,r,a,i,s,"next",e)}function s(e){Je(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ge(n.prototype,o),i&&Ge(n,i),t}();Xe.defaultProps={classes:[]};var Ze=Xe,$e=n(413),et=n.n($e);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,it(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}({},this.props).classes,n=!1;return"#/"==window.location.hash&&(n=!0),a.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")).concat(n?"active":""),onClick:function(){e.homepage()}},a.a.createElement("div",null,a.a.createElement("img",{src:et.a,className:"home-icon"}),"Home"))}},{key:"homepage",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="/";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){nt(o,r,a,i,s,"next",e)}function s(e){nt(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&at(n.prototype,o),i&&at(n,i),t}();ct.defaultProps={classes:[]};var ut=ct,lt=n(783),pt=n(788),ft=n(197),mt=n.n(ft),dt=n(790);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var St=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=ht(this,(e=vt(t)).call.apply(e,[this].concat(o)))).getApprovalsBreadcrumb=function(e){return e?a.a.createElement(lt.a,{onClick:function(){return D.redirectToApprovals()}},"Your approvals"):a.a.createElement(lt.a,{onClick:function(){return D.redirectToSubmissions()}},"Your submissions")},n.getProductNameBreadcrumb=function(e,t){if(!t)return a.a.createElement(lt.a,{onClick:function(){return n.sendBackToQuestionnaireSummaryPage()}},e)},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,r["Component"]),n=t,(o=[{key:"sendBackToQuestionnaireSummaryPage",value:function(){D.redirectToQuestionnaireSummary(this.props.questionnaireSubmissionUUID)}},{key:"render",value:function(){var e=this.props,t=e.match.path,n=e.productName,r=e.showApprovalBreadcrumb,o=e.isTaskApprover;return a.a.createElement(pt.a,{separator:a.a.createElement(mt.a,{fontSize:"inherit"}),"aria-label":"breadcrumb"},a.a.createElement(lt.a,{onClick:function(){return D.redirectToHome()}},"Home"),"/questionnaire/summary/:hash"==t||"/task/submission/:uuid"==t||"/security-risk-assessment/submission/:uuid"==t||"/control-validation-audit/submission/:uuid"==t||"/component-selection/submission/:uuid"==t?this.getApprovalsBreadcrumb(r):null,"/task/submission/:uuid"==t||"/security-risk-assessment/submission/:uuid"==t||"/control-validation-audit/submission/:uuid"==t||"/component-selection/submission/:uuid"==t?this.getProductNameBreadcrumb(n,o):null,a.a.createElement(pt.a,{separator:a.a.createElement(mt.a,{fontSize:"inherit"}),"aria-label":"breadcrumb"}))}}])&&yt(n.prototype,o),i&&yt(n,i),t}(),Et=Object(dt.a)(St);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tt(this,wt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ot(e,t,n[t])})}return e}({},this.props),t=e.pageTitle,n=e.logopath,r=e.showLogoutButton,o=e.productName,i=e.isTaskApprover,s=e.questionnaireSubmissionUUID,c=e.showApprovalBreadcrumb,u=e.showSubmissionBreadcrumb,l=!1;return"#/"==window.location.hash&&(l=!0),a.a.createElement("header",{className:"Header"},a.a.createElement("div",{className:"main-header"},a.a.createElement("a",{href:"/"},a.a.createElement("img",{src:n,className:"logo"})),a.a.createElement("div",{className:"header-buttons"},a.a.createElement(ut,null),a.a.createElement(Ze,{showSubmissionBreadcrumb:u}),a.a.createElement(Qe,{showApprovalBreadcrumb:c}),r&&a.a.createElement(Ie,null))),a.a.createElement("div",{className:l?"":"breadcrumbs-subheader"},l?null:a.a.createElement(a.a.Fragment,null,a.a.createElement(Et,{productName:o,questionnaireSubmissionUUID:s,showApprovalBreadcrumb:c,isTaskApprover:i}),a.a.createElement("div",{className:"page-title"},a.a.createElement("h1",null,t)))))}}])&&At(n.prototype,o),i&&At(n,i),t}();_t.defaultProps={pageTitle:"",logopath:"",showLogoutButton:!0,productName:"",isTaskApprover:!1,showApprovalBreadcrumb:!1,showSubmissionBreadcrumb:!1};var Nt=_t;function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jt(e,t,n[t])})}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dt(this,xt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=Pt({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,o=e.tasks,i=Pt({},this.props.siteConfig).logoPath;return a.a.createElement("div",{className:"Home"},a.a.createElement(Nt,{logopath:i}),a.a.createElement("div",{className:"layout"},a.a.createElement("a",{href:"/"},a.a.createElement("img",{src:i,className:"homepage-layout-logo"})),a.a.createElement("h1",null,t),a.a.createElement("h2",null,n),a.a.createElement("div",{className:"pillars"},a.a.createElement("div",{className:"row"},r.map(function(e,t){return a.a.createElement(ue,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})}))),a.a.createElement("div",{className:"tasks"},o.map(function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),a.a.createElement(ye,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})}))))}}])&&Rt(n.prototype,o),i&&Rt(n,i),t}();function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qt(this,qt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ft(e,t,n[t])})}return e}({},this.props).footerCopyrightText;return a.a.createElement("footer",{className:"Footer"},a.a.createElement("div",null,e))}}])&&Bt(n.prototype,o),i&&Bt(n,i),t}();Vt.defaultProps={footerCopyrightText:""};var Jt=Vt,Kt=n(191),Gt=n.n(Kt),Yt=n(419),Wt=n.n(Yt),zt=n(420),Xt=n.n(zt),Zt=n(421),$t=n.n(Zt);function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:T()(O()(t,"Title")||"NZTA SDLT"),footerCopyrightText:T()(O()(t,"FooterCopyrightText","")||n),logoPath:T()(O()(t,"LogoPath","")||Wt.a),homePageBackgroundImagePath:T()(O()(t,"HomePageBackgroundImagePath","")||Gt.a),pdfHeaderImageLink:T()(O()(t,"PdfHeaderImageLink","")||Xt.a),pdfFooterImageLink:T()(O()(t,"PdfFooterImageLink","")||$t.a),securityTeamEmail:T()(O()(t,"SecurityTeamEmail")||"")}}}],(n=null)&&en(t.prototype,n),r&&en(t,r),e}();function nn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var an=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSiteConfig",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}"});case 3:return t=e.sent,n=j.a.get(t,"data.readSiteConfig.0",null),r=tn.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){nn(o,r,a,i,s,"next",e)}function s(e){nn(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&rn(t.prototype,n),r&&rn(t,r),e}();function on(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function sn(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){on(o,r,a,i,s,"next",e)}function s(e){on(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pn(this,fn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){un(e,t,n[t])})}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?a.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},a.a.createElement(Lt,{homeState:n,siteConfig:t}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&ln(n.prototype,o),i&&ln(n,i),t}(),bn=Object(s.b)(function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadHomeDataAction:function(){e(te()),e(sn())}}})(dn),yn=n(42),hn=n.n(yn);function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var An=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),En(this,kn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){gn(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,o=e.onClick,i=e.iconImage,s=e.rightIconImage,c=null,u=null;return i&&(c=a.a.createElement("img",{src:i})),s&&(u=a.a.createElement("img",{className:"img-right",src:s})),a.a.createElement("button",{className:hn()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():o(e)}},c,t,u)}}])&&Sn(n.prototype,o),i&&Sn(n,i),t}();An.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Tn=An;function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(){return(Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),In(this,Pn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(Tn,Cn({},this.props,{classes:["LightButton"].concat(_n(this.props.classes))}))}}])&&Nn(n.prototype,o),i&&Nn(n,i),t}();Rn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Dn=Rn;function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ln(this,Mn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return a.a.createElement("div",{className:"Start"},a.a.createElement("div",{className:"start-form"},a.a.createElement("div",{className:"info-box"},a.a.createElement("div",{className:"key-info-title"},"Key Information:"),a.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),a.a.createElement("div",{className:"user-info"},a.a.createElement("div",{className:"info-line"},a.a.createElement("b",null,"Your Name: "),a.a.createElement("span",null,n.name)),a.a.createElement("div",{className:"info-line"},a.a.createElement("b",null,"Email Address: "),a.a.createElement("span",null,n.email))),a.a.createElement("div",{className:"actions"},a.a.createElement(Dn,{title:"START",onClick:r})))))}}])&&Un(n.prototype,o),i&&Un(n,i),t}();function Qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=O()(t,"FirstName")?T()(O()(t,"FirstName",""))+" "+T()(O()(t,"Surname","")):"";return{id:T()(O()(t,"ID")),name:n,email:O()(t,"Email"),isSA:"true"===T()(O()(t,"IsSA")),isCISO:"true"===T()(O()(t,"IsCISO")),isCertificationAuthority:"true"===T()(O()(t,"IsCertificationAuthority")),isAccreditationAuthority:"true"===T()(O()(t,"IsAccreditationAuthority"))}}},{key:"parserMemberFromJSON",value:function(e){return K()(e).map(function(e){var t=O()(e,"FirstName")?T()(O()(e,"FirstName",""))+" "+T()(O()(e,"Surname","")):"";return{value:O()(e,"ID"),label:t}})}},{key:"parserCollaboratorsFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return K()(t).map(function(e){var t=O()(e,"Name")?T()(O()(e,"Name","")):"";return{value:O()(e,"ID"),label:t}})}}],(n=null)&&Qn(t.prototype,n),r&&Qn(t,r),e}();function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vn(e,t,n[t])})}return e}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Kn(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Jn(o,r,a,i,s,"next",e)}function s(e){Jn(o,r,a,i,s,"throw",e)}i(void 0)})}}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"createInProgressSubmission",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.questionnaireID,a=n.csrfToken,o="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw B;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStartData",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readMember(Type: "Current")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: '.concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,F.request({query:n});case 3:if(r=e.sent,a=j.a.get(r,"data.readMember.0",null),o=j.a.get(r,"data.readQuestionnaire",null),i=j.a.get(r,"data.readSiteConfig.0",null),a&&o&&i){e.next=9;break}throw B;case 9:return e.abrupt("return",{title:j.a.get(o,"Name",""),siteConfig:tn.parseSiteConfigFromJSON(i),subtitle:j.a.get(i,"Title",""),questionnaireID:j.a.get(o,"ID",""),keyInformation:j.a.get(o,"KeyInformation",""),user:qn.parseUserFromJSON(a)});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSubmissionData",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t,n){var r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsCertificationAuthority\n    IsAccreditationAuthority\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    BusinessOwnerAcknowledgementText\n    CertificationAuthorityAcknowledgementText\n    AccreditationAuthorityAcknowledgementText\n    IsCertificationAndAccreditationTaskExists\n    ProductAspects\n    User {\n      ID\n    }\n    SubmitterName\n    SubmitterEmail\n    QuestionnaireStatus\n    BusinessOwnerApproverName\n    RiskResultData\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      IsTaskApprovalRequired\n      TimeToComplete\n      TimeToReview\n      CanTaskCreateNewTasks\n      ResultForCertificationAndAccreditation\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    AccreditationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprovalStatus\n    AccreditationAuthorityApprovalStatus\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n    Created\n    ReleaseDate\n    IsBusinessOwner\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    SecurityTeamEmail\n  }\n}'),e.next=3,F.request({query:r});case 3:if(a=e.sent,o=j.a.get(a,"data.readMember.0",{}),i=j.a.get(a,"data.readQuestionnaireSubmission.0",{}),s=j.a.get(a,"data.readSiteConfig.0",null),o&&i&&s){e.next=9;break}throw B;case 9:return c={title:j.a.toString(j.a.get(i,"Questionnaire.Name","")),siteConfig:tn.parseSiteConfigFromJSON(s),user:qn.parseUserFromJSON(o),isCurrentUserApprover:"true"===j.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===j.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(j.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),hideWeightsAndScore:"true"===j.a.get(i,"HideWeightsAndScore","false"),questionnaireID:j.a.toString(j.a.get(i,"Questionnaire.ID","")),questionnaireTitle:j.a.toString(j.a.get(i,"Questionnaire.Name","")),submissionID:j.a.toString(j.a.get(i,"ID","")),submissionUUID:j.a.toString(j.a.get(i,"UUID","")),submissionToken:j.a.toString(j.a.get(i,"ApprovalLinkToken","")),productName:j.a.toString(j.a.get(i,"ProductName","")),submitter:{id:j.a.toString(j.a.get(i,"User.ID")),name:j.a.toString(j.a.get(i,"SubmitterName","")),email:j.a.toString(j.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:j.a.toString(j.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:j.a.toString(j.a.get(i,"CisoApprovalStatus","")),businessOwner:j.a.toString(j.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:j.a.toString(j.a.get(i,"SecurityArchitectApprovalStatus","")),certificationAuthority:j.a.toString(j.a.get(i,"CertificationAuthorityApprovalStatus","")),accreditationAuthority:j.a.toString(j.a.get(i,"AccreditationAuthorityApprovalStatus",""))},securityArchitectApprover:{firstName:j.a.toString(j.a.get(i,"SecurityArchitectApprover.FirstName","")),surname:j.a.toString(j.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{firstName:j.a.toString(j.a.get(i,"CisoApprover.FirstName","")),surname:j.a.toString(j.a.get(i,"CisoApprover.Surname",""))},certificationAuthorityApprover:{firstName:j.a.toString(j.a.get(i,"CertificationAuthorityApprover.FirstName","")),surname:j.a.toString(j.a.get(i,"CertificationAuthorityApprover.Surname",""))},accreditationAuthorityApprover:{firstName:j.a.toString(j.a.get(i,"AccreditationAuthorityApprover.FirstName","")),surname:j.a.toString(j.a.get(i,"AccreditationAuthorityApprover.Surname",""))},questions:V.parseQuestionsFromJSON({schemaJSON:j.a.toString(j.a.get(i,"QuestionnaireData","")),answersJSON:j.a.toString(j.a.get(i,"AnswerData",""))}),businessOwnerApproverName:j.a.toString(j.a.get(i,"BusinessOwnerApproverName","")),businessOwnerAcknowledgementText:j.a.toString(j.a.get(i,"BusinessOwnerAcknowledgementText","")),certificationAuthorityAcknowledgementText:j.a.toString(j.a.get(i,"CertificationAuthorityAcknowledgementText","")),accreditationAuthorityAcknowledgementText:j.a.toString(j.a.get(i,"AccreditationAuthorityAcknowledgementText","")),isCertificationAndAccreditationTaskExists:"true"===j.a.get(i,"IsCertificationAndAccreditationTaskExists","false"),taskSubmissions:j.a.toArray(j.a.get(i,"TaskSubmissions",[])).map(function(e){return{uuid:j.a.toString(j.a.get(e,"UUID","")),taskName:j.a.toString(j.a.get(e,"TaskName","")),taskType:j.a.toString(j.a.get(e,"TaskType","")),status:j.a.toString(j.a.get(e,"Status","")),approver:qn.parseUserFromJSON(j.a.get(e,"TaskApprover")),isTaskApprovalRequired:"true"===j.a.get(e,"IsTaskApprovalRequired","false"),timeToComplete:j.a.toString(j.a.get(e,"TimeToComplete","")),timeToReview:j.a.toString(j.a.get(e,"TimeToReview","")),canTaskCreateNewTasks:"true"===j.a.get(e,"CanTaskCreateNewTasks","false"),resultForCertificationAndAccreditation:j.a.get(e,"ResultForCertificationAndAccreditation","[]")}}),collaborators:qn.parserCollaboratorsFromJSON(j.a.get(i,"CollaboratorList",[])),riskResults:j.a.has(i,"RiskResultData")?JSON.parse(j.a.get(i,"RiskResultData","[]")):"[]",created:j.a.toString(j.a.get(i,"Created","")),releaseDate:j.a.toString(j.a.get(i,"ReleaseDate","")),productAspects:j.a.has(i,"ProductAspects")?JSON.parse(j.a.get(i,"ProductAspects","[]")):"[]",isBusinessOwner:"true"===j.a.get(i,"IsBusinessOwner","false")}},e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateSubmissionData",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.questionID,o=n.answerData,i=n.csrfToken,s=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(a,'", AnswerData: "').concat(s,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,F.request({query:c,csrfToken:i});case 5:if(u=e.sent,j.a.get(u,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw B;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateSubmissionData",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Hn({},t),r=n.submissionID,a=n.questionIDList,o=n.answerDataList,i=n.csrfToken,a.length===o.length){e.next=3;break}throw B;case 3:for(s=[],c=0;c<a.length;c++)u=a[c],l=o[c],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),f="\nupdateQuestion".concat(u,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(u,'", AnswerData: "').concat(p,'") {\n  ID\n  AnswerData\n}'),s.push(f);return m="\nmutation {\n  ".concat(s.join("\n"),"\n}\n"),e.next=8,F.request({query:m,csrfToken:i});case 8:if(d=e.sent,j.a.get(d,"data",null)){e.next=12;break}throw B;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaire",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaireForApproval",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmission",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.csrfToken,o=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(o,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),u=j.a.toString(j.a.get(s,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),c&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmission",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.csrfToken,o=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(o,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),u=j.a.toString(j.a.get(s,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),c&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editQuestionnaireSubmission",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateQuestionnaireStatusToSendBackForChanges",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToSendBackForChanges(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchQuestionnaireSubmissionList",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t,n,r,a){var o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o='query {\n      paginatedReadQuestionnaireSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(a,") {\n        edges {\n          node {\n            ID\n            UUID\n            QuestionnaireStatus\n            QuestionnaireName\n            Created\n            ProductName\n            ReleaseDate\n            BusinessOwnerApproverName\n            SubmitterName\n            SecurityArchitectApprover {\n              FirstName\n              Surname\n              ID\n            }\n            CisoApprovalStatus\n            BusinessOwnerApprovalStatus\n          }\n        }\n        pageInfo {\n          hasNextPage,\n          hasPreviousPage,\n          totalCount\n        }\n      }\n    }"),e.next=3,F.request({query:o});case 3:if(i=e.sent,s=j.a.get(i,"data.paginatedReadQuestionnaireSubmissions.edges",[]),c=j.a.get(i,"data.paginatedReadQuestionnaireSubmissions.pageInfo",[]),Array.isArray(s)){e.next=8;break}throw"error";case 8:return u={totalCount:j.a.get(c,"totalCount",0),hasNextPage:Boolean(j.a.get(c,"hasNextPage",!1)),hasPreviousPage:Boolean(j.a.get(c,"hasPreviousPage",!1))},l=s.map(function(e){var t={};return t.id=j.a.get(e,"node.ID",""),t.uuid=j.a.get(e,"node.UUID",""),t.status=j.a.get(e,"node.QuestionnaireStatus",""),t.productName=j.a.get(e,"node.ProductName",""),t.questionnaireName=j.a.get(e,"node.QuestionnaireName",""),t.created=j.a.get(e,"node.Created",""),t.releaseDate=j.a.get(e,"node.ReleaseDate",""),t.businessOwner=j.a.get(e,"node.BusinessOwnerApproverName",""),t.submitterName=j.a.get(e,"node.SubmitterName",""),t.SecurityArchitectApprover=j.a.toString(j.a.get(e,"node.SecurityArchitectApprover.FirstName","")+" "+j.a.get(e,"node.SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=j.a.get(e,"node.SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=j.a.get(e,"node.CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=j.a.get(e,"node.BusinessOwnerApprovalStatus",""),t[""],t}),e.abrupt("return",{questionnaireSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.csrfToken,o=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(o,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),u=j.a.toString(j.a.get(s,"data.updateQuestionnaireStatusToApproved.UUID",null)),c&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hn({},t),r=n.submissionID,a=n.csrfToken,o=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(o,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),u=j.a.toString(j.a.get(s,"data.updateQuestionnaireStatusToDenied.UUID",null)),c&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addCollaborator",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t,n,r){var a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n&&n.length>0&&(a=n.map(function(e){return j.a.get(e,"value","")})),o=window.btoa(JSON.stringify(a)),i='mutation {\n     addCollaborator(ID: "'.concat(t,'", SelectedCollaborator: "').concat(o,'") {\n       UUID\n     }\n    }'),e.next=6,F.request({query:i,csrfToken:r});case 6:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.addCollaborator.UUID",null))){e.next=10;break}throw B;case 10:return e.abrupt("return",{uuid:c});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"grantCertification",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     grantCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=j.a.toString(j.a.get(a,"data.grantCertification.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"denyCertification",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=j.a.toString(j.a.get(a,"data.denyCertification.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"issueAccreditation",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t,n,r){var a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a='mutation {\n      issueAccreditation(ID: "'.concat(t,'", AccreditationPeriod: "').concat(r,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:a,csrfToken:n});case 3:if(o=e.sent,i=j.a.toString(j.a.get(o,"data.issueAccreditation.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:i});case 8:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"denyAccreditation",value:function(){var e=Kn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=j.a.toString(j.a.get(a,"data.denyAccreditation.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],n&&Gn(t.prototype,n),r&&Gn(t,r),e}();function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zn(e,t,n[t])})}return e}function zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map(function(e){var t=e.data;return t&&j.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}})),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map(function(e){return{id:e.id,isChose:e.isChose}})),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach(function(e){var n=Wn({},e),r=n.hasAnswer,a=n.isApplicable;!r&&a&&(t=!0)}),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach(function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)}),t}},{key:"getDataUpdateIntent",value:function(e){var t=Wn({},e),n=t.answeredQuestion,r=t.questions,a=r.findIndex(function(e){return e.id===n.id}),o=a===r.length-1,i={currentIndex:a,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type||"display"===n.type)return o?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var s=n.actions.find(function(e){return e.isChose});if(!s)throw new Error("This question does not have any chosen action!");if("finish"===s.type){for(var c=i.currentIndex+1;c<r.length;c++)i.nonApplicableIndexes.push(c);i.result=s.result||"",i.complete=!0}if("message"===s.type&&(i.terminate=!0),"continue"!==s.type||o||(i.targetIndex=i.currentIndex+1),"goto"===s.type){var u=s.goto;if(i.targetIndex=r.findIndex(function(e){return e.id===u}),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return o&&!i.terminate&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&Xn(t.prototype,n),r&&Xn(t,r),e}(),$n=n(192),er=n.n($n);function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return K()(t).map(function(t){var n=e.parseFromJSONObject(O()(t,"SecurityComponent"));return n.productAspect=T()(O()(t,"ProductAspect","")),n})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(O()(e,"ID","")),name:T()(O()(e,"Name","")),description:T()(O()(e,"Description")),controls:(O()(e,"Controls")||[]).map(function(e){return{id:T()(O()(e,"ID","")),name:T()(O()(e,"Name","")),description:T()(O()(e,"Description","")),implementationGuidance:T()(O()(e,"ImplementationGuidance",""))}})}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map(function(e){return{id:T()(O()(e,"id","")),name:T()(O()(e,"name","")),productAspect:T()(O()(e,"productAspect","")),controls:(O()(e,"controls")||[]).map(function(e){return{id:T()(O()(e,"id","")),name:T()(O()(e,"name","")),selectedOption:T()(O()(e,"selectedOption","")),description:T()(O()(e,"description","")),implementationGuidance:T()(O()(e,"implementationGuidance","")),implementationEvidence:T()(O()(e,"implementationEvidence","")),implementationEvidenceUserInput:T()(O()(e,"implementationEvidenceUserInput",""))}}),jiraTicketLink:T()(O()(e,"jiraTicketLink",""))}})}}],(n=null)&&tr(t.prototype,n),r&&tr(t,r),e}();function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ar=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return K()(t).map(function(t){return e.parseFromJSONObject(t)})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(O()(e,"ID")),jiraKey:T()(O()(e,"JiraKey")),link:T()(O()(e,"TicketLink"))}}}],(n=null)&&rr(t.prototype,n),r&&rr(t,r),e}();function or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ir(e,t,n[t])})}return e}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function cr(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){sr(o,r,a,i,s,"next",e)}function s(e){sr(o,r,a,i,s,"throw",e)}i(void 0)})}}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=or({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    RiskProfileData\n    ResultForCertificationAndAccreditation\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    IsDisplayPreventMessage\n    PreventMessage\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n    InformationClassificationTaskResult\n  }\n  readServiceInventory {\n    ID\n    ServiceName\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null),c=O()(i,"data.readServiceInventory",null),s){e.next=9;break}throw B;case 9:return u={id:T()(O()(s,"ID","")),uuid:T()(O()(s,"UUID","")),taskName:T()(O()(s,"TaskName","")),taskType:T()(O()(s,"TaskType","")),status:T()(O()(s,"Status","")),result:T()(O()(s,"Result","")),informationClassificationTaskResult:T()(O()(s,"InformationClassificationTaskResult","")),submitter:qn.parseUserFromJSON(O()(s,"Submitter")),lockWhenComplete:Boolean(O()(s,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:T()(O()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:T()(O()(s,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:T()(O()(s,"QuestionnaireSubmission.QuestionnaireStatus","")),questionnaireSubmissionProductName:T()(O()(s,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===O()(s,"QuestionnaireSubmission.IsBusinessOwner","false"),questions:V.parseQuestionsFromJSON({schemaJSON:T()(O()(s,"QuestionnaireData","")),answersJSON:T()(O()(s,"AnswerData",""))}),selectedComponents:nr.parseFromJSONOArray(O()(s,"SelectedComponents",[])),jiraTickets:ar.parseFromJSONArray(O()(s,"JiraTickets",[])),isCurrentUserAnApprover:"true"===O()(s,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===O()(s,"IsTaskApprovalRequired",!1),riskResults:_.has(s,"RiskResultData")?JSON.parse(O()(s,"RiskResultData","[]")):"[]",taskRecommendations:_.has(s,"TaskRecommendationData")?JSON.parse(_.defaultTo(O()(s,"TaskRecommendationData","[]"),"[]")):"[]",productAspects:_.has(s,"ProductAspects")?JSON.parse(O()(s,"ProductAspects",[])):[],componentTarget:T()(O()(s,"ComponentTarget","")),hideWeightsAndScore:"true"===_.get(s,"HideWeightsAndScore","false"),isTaskCollborator:"true"===_.get(s,"IsTaskCollborator","false"),isDisplayPreventMessage:"true"===_.get(s,"IsDisplayPreventMessage","false"),preventMessage:T()(O()(s,"PreventMessage","")),siblingSubmissions:Y.parseAlltaskSubmissionforQuestionnaire(s),serviceRegister:Y.parseServiceRegister(c),riskProfileData:_.has(s,"RiskProfileData")?JSON.parse(O()(s,"RiskProfileData",[])):[],resultForCertificationAndAccreditation:_.has(s,"ResultForCertificationAndAccreditation")?JSON.parse(O()(s,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",u);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchResultForCertificationAndAccreditation",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=or({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    ID\n    UUID\n    ResultForCertificationAndAccreditation\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw B;case 8:return c={id:T()(O()(s,"ID","")),uuid:T()(O()(s,"UUID","")),resultForCertificationAndAccreditation:_.has(s,"ResultForCertificationAndAccreditation")?JSON.parse(O()(s,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateTaskSubmissionData",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=or({},t),r=n.uuid,a=n.questionIDList,o=n.answerDataList,i=n.csrfToken,s=n.secureToken,a.length===o.length){e.next=3;break}throw B;case 3:for(c=[],u=0;u<a.length;u++)l=a[u],p=o[u],f=window.btoa(unescape(encodeURIComponent(JSON.stringify(p)))),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(f,'",\n  SecureToken: "').concat(s||"",'"\n) {\n  UUID\n  Status\n\n}'),c.push(m);return d="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,F.request({query:d,csrfToken:i});case 8:if(b=e.sent,O()(b,"data",null)){e.next=12;break}throw B;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"completeTaskSubmission",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=or({},t),r=n.uuid,a=n.result,o=n.csrfToken,i=n.secureToken,s='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(a,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:s,csrfToken:o});case 4:if(c=e.sent,O()(c,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editTaskSubmission",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=or({},t),r=n.uuid,a=n.csrfToken,o=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,O()(s,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStandaloneTask",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=or({},t),r=n.taskId,a='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,F.request({query:a});case 4:if(o=e.sent,i=O()(o,"data.readTask",null)){e.next=8;break}throw B;case 8:return s=Y.parseFromJSONObject(i),e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskSubmissionWithSelectedComponents",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=or({},t),r=n.uuid,a=n.csrfToken,o=n.components,i=n.jiraKey,s='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(o)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:s,csrfToken:a});case 4:if(c=e.sent,O()(c,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveTaskSubmission",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=or({},t),r=n.uuid,a=n.csrfToken,o='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,(s=T()(O()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw B;case 8:return e.abrupt("return",{status:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyTaskSubmission",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=or({},t),r=n.uuid,a=n.csrfToken,o='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,(s=T()(O()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw B;case 8:return e.abrupt("return",{status:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskRecommendation",value:function(){var e=cr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=or({},t),r=n.uuid,a=n.csrfToken,o=n.taskRecommendations,i='\n  mutation {\n    updateTaskRecommendation(\n      UUID: "'.concat(r,'",\n      TaskRecommendationData: "').concat(window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),'"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,(c=_.has(s,"TaskRecommendationData")?JSON.parse(O()(submissionJSONObject,"TaskRecommendationData","[]")):"[]")&&r){e.next=8;break}throw B;case 8:return e.abrupt("return",{taskRecommendationData:c});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTaskSubmissionList",value:function(){var e=cr(regeneratorRuntime.mark(function e(t,n,r,a){var o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o='query {\n      paginatedReadTaskSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(a,") {\n        edges {\n          node {\n            ID\n            UUID\n            Created\n            TaskName\n            QuestionnaireSubmission {\n              ProductName\n            }\n            Submitter {\n              FirstName\n              Surname\n            }\n            Status\n          }\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          totalCount\n        }\n      }\n    }"),e.next=3,F.request({query:o});case 3:if(i=e.sent,s=O()(i,"data.paginatedReadTaskSubmissions.edges",[]),c=O()(i,"data.paginatedReadTaskSubmissions.pageInfo",[]),Array.isArray(s)){e.next=8;break}throw"error";case 8:return u={totalCount:O()(c,"totalCount",0),hasNextPage:Boolean(O()(c,"hasNextPage",!1)),hasPreviousPage:Boolean(O()(c,"hasPreviousPage",!1))},l=s.map(function(e){var t={};return t.id=O()(e,"node.ID",""),t.uuid=O()(e,"node.UUID",""),t.created=O()(e,"node.Created",""),t.taskName=O()(e,"node.TaskName",""),t.productName=O()(e,"node.QuestionnaireSubmission.ProductName",""),t.submitterName=T()(O()(e,"node.Submitter.FirstName",""))+" "+T()(O()(e,"node.Submitter.Surname","")),t.status=O()(e,"node.Status",""),t}),e.abrupt("return",{taskSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()}],n&&ur(t.prototype,n),r&&ur(t,r),e}();function pr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fr(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function mr(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){fr(o,r,a,i,s,"next",e)}function s(e){fr(o,r,a,i,s,"throw",e)}i(void 0)})}}function dr(e,t){return void 0===t&&(t=""),function(){var n=mr(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,Yn.fetchSubmissionData(e,t);case 5:a=n.sent,r((o=a,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:o})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var o},n,this,[[2,9]])}));return function(e){return n.apply(this,arguments)}}()}function br(e){return function(){var t=mr(regeneratorRuntime.mark(function t(n,r){var a,o,i,s,c,u,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=Zn.getDataUpdateIntent({answeredQuestion:e,questions:o.questions}),s=i.currentIndex,c=i.targetIndex,u=i.nonApplicableIndexes,p=i.complete,u.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:u}),c>s&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=9,hr(r(),j.a.uniq([s].concat(pr(u),[c])));case 9:p&&D.redirectToQuestionnaireReview(o.submissionUUID);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}function yr(e,t){return function(){var n=mr(regeneratorRuntime.mark(function n(r,a){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return n.prev=5,n.next=8,Yn.fetchQuestionnaireSubmissionList(o.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:n.t0});case 16:ErrorUtil.displayError(n.t0);case 17:case"end":return n.stop()}},n,this,[[5,12]])}));return function(e,t){return n.apply(this,arguments)}}()}function hr(e,t){return vr.apply(this,arguments)}function vr(){return(vr=mr(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ee.getCSRFToken();case 5:return a=e.sent,e.prev=6,e.next=9,Yn.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map(function(e){return r.questions[e].id}),answerDataList:n.map(function(e){return Zn.transformFromFullQuestionToData(r.questions[e])}),csrfToken:a});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[6,11]])}))).apply(this,arguments)}function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Er(e,t,n[t])})}return e}function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return!t||"object"!==gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tr(e,t){return(Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Or(this,Ar(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tr(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Sr({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=Sr({},this.props.startState),t=(e.title,e.siteConfig),n=e.keyInformation,r=e.user,o=Sr({},this.props),i=o.questionnaireID,s=o.dispatchCreateInProgressSubmissionAction;return r?a.a.createElement("div",{className:"StartContainer"},a.a.createElement(Nt,{pageTitle:"New submission",logopath:t.logoPath,showSubmissionBreadcrumb:!0}),a.a.createElement(Bn,{keyInformation:n,user:r,onStartButtonClick:function(){s(i)}}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&kr(n.prototype,o),i&&kr(n,i),t}(),Cr=Object(s.b)(function(e){return{startState:e.questionnaireState.startState}},function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Yn.fetchStartData(e);case 3:r=t.sent,n((a=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var a},t,this,[[0,7]])})),function(e){return t.apply(this,arguments)};var t}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return r=t.sent,t.next=6,Yn.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:a=t.sent,D.redirectToQuestionnaireEditing(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])})),function(e){return t.apply(this,arguments)};var t}(t))}}})(wr),_r=n(31),Nr=n(425),Ir=n.n(Nr),Pr=n(426),jr=n.n(Pr),Rr=n(427),Dr=n.n(Rr),xr=n(428),Ur=n.n(xr);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fr(e,t,n[t])})}return e}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t){return!t||"object"!==Lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qr(e){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qr(this,qr(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=Mr({},this.props),t=e.question,n=e.onItemClick,r=e.index;return a.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),a.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,".  ",t.title))}},{key:"renderIcon",value:function(e){var t=Mr({},e),n=t.isCurrent,r=t.hasAnswer,o=t.isApplicable;return n?a.a.createElement("img",{src:Ir.a}):o?r&&o?a.a.createElement("img",{src:Dr.a}):a.a.createElement("img",{src:jr.a}):a.a.createElement("img",{src:Ur.a})}}])&&Br(n.prototype,o),i&&Br(n,i),t}();function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,t){return!t||"object"!==Jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wr(e){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yr(this,Wr(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zr(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Kr(e,t,n[t])})}return e}({},this.props),t=e.questions,n=e.onItemClick;return a.a.createElement("div",{className:"LeftBar"},a.a.createElement("div",{className:"items"},t.map(function(e,t){return a.a.createElement(Vr,{question:e,onItemClick:n,key:e.id,index:t})})))}}])&&Gr(n.prototype,o),i&&Gr(n,i),t}();function Zr(e){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(){return($r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ea(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){return!t||"object"!==Zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ra(e){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),na(this,ra(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(Tn,$r({},this.props,{classes:["DarkButton"].concat(ea(this.props.classes))}))}}])&&ta(n.prototype,o),i&&ta(n,i),t}();oa.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var ia=oa,sa=n(4),ca=n.n(sa),ua=n(444),la=(n(681),n(111)),pa=n.n(la),fa=n(199),ma=n.n(fa),da=(n(185),n(392),n(105)),ba=(n(685),n(687),n(70)),ya=n(98),ha=n.n(ya),va=n(99),ga=n.n(va),Sa=n(61),Ea=n.n(Sa),ka=n(108),Oa=n.n(ka),Aa=n(145),Ta=n.n(Aa),wa=n(146),Ca=n.n(wa),_a=n(431),Na=n.n(_a),Ia=n(68),Pa=n.n(Ia),ja=(n(689),n(69)),Ra=n.n(ja);function Da(e){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t){return!t||"object"!==Da(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qa=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Ma(this,(e=Fa(t)).call.apply(e,[this].concat(o)))).state={showModal:!1,FormType:"Add",issueID:"0"},n.handleOpenModal=function(){n.setState({showModal:!0})},n.handleCloseModal=function(){n.setState({showModal:!1,issueID:0})},n.handleOpenAddRecommendationModal=function(){var e=1;if(n.props.taskRecommendations.length>0){var t=n.props.taskRecommendations.reduce(function(e,t){return e.id>t.id?e:t});t&&(e=t.id+1)}n.setState({showModal:!0,issueID:e,FormType:"Add"})},n.handleOpenEditRecommendationModal=function(e){n.setState({showModal:!0,issueID:e,FormType:"Edit"})},n.getFormInitialValues=function(){var e={id:n.state.issueID,title:"",description:"",recommendation:"",status:""};return"Edit"==n.state.FormType&&n.props.taskRecommendations.length>0&&0!=n.state.issueID&&(e=n.props.taskRecommendations.find(function(e){return e.id===n.state.issueID})),e},n.renderRecommendationform=function(){return a.a.createElement(_r.c,{initialValues:n.getFormInitialValues(),validate:function(e){var t={};return e.title||(t.title="Please enter the issue title."),e.status||(t.status="Please enter the status."),e.description||(t.description="Please enter the issue description."),e.recommendation||(t.recommendation="Please enter the recommendation."),t},onSubmit:function(e,t){"Add"==n.state.FormType&&n.props.handleAddTaskRecommendationButtonClick(e),"Edit"==n.state.FormType&&n.props.handleEditTaskRecommendationButtonClick(e),n.handleCloseModal()},validateOnChange:!1,validateOnBlur:!1},function(e){e.isSubmitting;var t=e.errors,r=(e.touched,e.setFieldValue,e.values),o=e.handleChange,i=e.handleSubmit;return a.a.createElement(_r.b,null,a.a.createElement("div",{className:"title-and-status-container"},a.a.createElement("div",{className:"title-field-container"},a.a.createElement("label",null,"Issue title",a.a.createElement(_r.a,{type:"text",name:"title",className:t.title&&"input-error"}),t.title&&a.a.createElement("span",{className:"error"},t.title))),a.a.createElement("div",{className:"status-field-container"},a.a.createElement("label",null,"Status",a.a.createElement("select",{name:"status",value:r.status,onChange:o,className:t.status&&"input-error",style:{display:"block"}},a.a.createElement("option",{value:"",label:"Select"}),a.a.createElement("option",{value:"open",label:"Open"}),a.a.createElement("option",{value:"closed",label:"Closed"})),t.status&&a.a.createElement("span",{className:"error"},t.status)))),a.a.createElement("div",{className:"issue-container"},a.a.createElement("label",null,"Issue description",a.a.createElement(_r.a,{name:"description"},function(e){var n=e.field;return a.a.createElement("textarea",Ua({},n,{className:t.description&&"input-error"}))}),t.description&&a.a.createElement("span",{className:"error"},t.description))),a.a.createElement("div",null,a.a.createElement("label",null,"Recommendation",a.a.createElement(_r.a,{name:"recommendation"},function(e){var n=e.field;return a.a.createElement("textarea",Ua({},n,{className:t.recommendation&&"input-error"}))}),t.recommendation&&a.a.createElement("span",{className:"error"},t.recommendation))),a.a.createElement("div",{className:"buttons"},a.a.createElement(Dn,{title:"Cancel",onClick:n.handleCloseModal}),"Add"==n.state.FormType&&a.a.createElement(ia,{type:"button",title:"Add","data-flag":"action-add",onClick:i}),"Edit"==n.state.FormType&&a.a.createElement(ia,{type:"button",title:"Save","data-flag":"action-add",onClick:i})))})},n.renderRecommendationModal=function(){return a.a.createElement("div",{className:"RecommendationModal"},a.a.createElement(Ra.a,{isOpen:n.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".TaskSubmissionContainer")}},a.a.createElement("div",{className:"modal-header"},a.a.createElement("span",{className:"header-title"},"Add"==n.state.FormType?"Add Recommendation":"Edit Recommendation"),a.a.createElement("div",{className:"close-icon-container",onClick:n.handleCloseModal},a.a.createElement("img",{src:Na.a}))),a.a.createElement("div",{className:"content"},n.renderRecommendationform())))},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xa(e,t,n[t])})}return e}({},this.props),n=t.taskRecommendations,r=t.viewAs,o=t.status;return a.a.createElement("div",{className:"recommendation-container"},("approver"===r&&"waiting_for_approval"===o||n&&n.length>0)&&a.a.createElement("h4",null,"Approver's recommendations"),n&&n.length>0&&a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"recommendation_table_header"},a.a.createElement("th",{className:"issue-title-col"},"Issue title"),a.a.createElement("th",null,"Issue description"),a.a.createElement("th",null,"Recommendation"),a.a.createElement("th",null,"Status"),"approver"===r&&"waiting_for_approval"===o&&a.a.createElement("th",{className:"edit-col"}))),a.a.createElement("tbody",null,n.map(function(t,n){return a.a.createElement("tr",{key:n+1},a.a.createElement("td",null,t.title),a.a.createElement("td",null,t.description),a.a.createElement("td",null,t.recommendation),a.a.createElement("td",null,t.status),"approver"===r&&"waiting_for_approval"===o&&a.a.createElement("td",{className:"edit-col"},a.a.createElement("img",{className:"edit-icon",src:Pa.a,onClick:function(){return e.handleOpenEditRecommendationModal(t.id)}})))})))),"approver"===r&&"waiting_for_approval"===o&&a.a.createElement("div",{className:"add-recommendation-link",onClick:function(){return e.handleOpenAddRecommendationModal()}},a.a.createElement("img",{src:Ca.a})," Add recommendation"),this.renderRecommendationModal())}}])&&La(n.prototype,o),i&&La(n,i),t}();function qa(e){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Va(e,t,n[t])})}return e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t){return!t||"object"!==qa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ya(e,t){return(Ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ka(this,Ga(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ya(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Ha({},this.props.resultForCertificationAndAccreditation);e.organisationName,e.serviceName,e.createdAt,e.securityArchitectName,e.businessOwnerName,e.productName,e.productDescription,e.accreditationLevel,e.accreditationDescription,e.accreditationType,e.accreditationPeriod,e.accreditationRenewalRecommendations,e.classificationLevel,e.riskProfileData,e.tasks,e.taskRecommendations,e.reportLogo}},{key:"render",value:function(){var e=Ha({},this.props.resultForCertificationAndAccreditation),t=e.organisationName,n=e.serviceName,r=e.createdAt,o=e.securityArchitectName,i=e.businessOwnerName,s=e.productName,c=e.productDescription,u=e.accreditationLevel,l=e.accreditationDescription,p=e.accreditationType,f=e.accreditationPeriod,m=e.accreditationRenewalRecommendations,d=e.classificationLevel,b=e.riskProfileData,y=e.tasks,h=e.taskRecommendations,v=e.reportLogo;return a.a.createElement("div",{className:"certification-and-accreditation-report-container"},a.a.createElement("div",{className:"about-report-container"},a.a.createElement("div",{className:"report-heading"},a.a.createElement("div",{className:"report-heading-left-container"},a.a.createElement("h3",null,n),a.a.createElement("p",{className:"certification-accreditation-memo-heading"},"Certification and Accreditation Memo for ",t)),a.a.createElement("div",{className:"report-heading-right-container"},this.props.isDisplayReportLogo&&a.a.createElement("img",{src:v}))),a.a.createElement("div",{className:"report-intro-container"},a.a.createElement("p",{className:"report-intro"},"Prepared at ",r," by ",o),a.a.createElement("p",{className:"report-intro"},"Delivered to ",i," as part of the ",s," delivery."))),a.a.createElement("div",{id:"certificate-container"},a.a.createElement("div",{className:"about-product-container sub-container"},a.a.createElement("h5",null,"About ",s),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:c}})),a.a.createElement("div",{className:"certificate-recommendation-container sub-container"},a.a.createElement("h5",null,"Certification Recommendation"),a.a.createElement("p",{className:"intro-container"},"It has been recommended by ",o," that this change ",s," be certified against ",u," with an accreditation level of: ",p," for a period of no longer than ",f,"."),a.a.createElement("p",null,"Re-certification after this period should be conditional on the following post go-live remediations being resolved:"),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:m}})),a.a.createElement("div",{className:"information-classification-container sub-container"},a.a.createElement("h5",null,"Information Classification"),a.a.createElement("p",{className:"intro-container"},"This memo certifies ",n," has been endorsed to store, transmit and receive data to an Information Classification up to ",d,".")),a.a.createElement("div",{className:"certificate-scope-container sub-container"},a.a.createElement("h5",null,"Certification Scope"),a.a.createElement("p",{className:"intro-container"},"This certification is a ",u," level certification for ",n,". It covers ",n," and the following dependencies only."),a.a.createElement("div",{className:"certificate-scope-description",dangerouslySetInnerHTML:{__html:l}}))),a.a.createElement("div",{className:"risk-profile-container sub-container"},a.a.createElement("div",{id:"risk-profile"},a.a.createElement("h5",{className:"pdf-pagebreak-before"},"Risk Profile"),a.a.createElement("p",{className:"intro-container"},"After completing a risk assessment process, it was determined that the residual risk ratings for this delivery are:")),this.renderRiskProfile(b)),a.a.createElement("div",{id:"recommendations-table",className:"recommendation-container sub-container"},a.a.createElement("h5",null,"Recommendations against ",s),this.renderTaskRecommendation(h)),a.a.createElement("div",{id:"task-container",className:"task-container sub-container"},a.a.createElement("h5",null,"Tasks Completed"),a.a.createElement("p",{className:"intro-container"},"The certification of ",n," for ",s," was completed after ",t," completed the following assurance activities:"),this.renderTaskTable(y)))}},{key:"renderRiskProfile",value:function(e){var t=this;if(e&&void 0!==e){var n=JSON.parse(e);return a.a.createElement("div",{id:"risk-container",className:"risk-container"},n.isDisplayMessage&&a.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map(function(e,n){return a.a.createElement("div",{key:n},a.a.createElement("div",{className:"product-aspect-container"},e[0]),t.renderRiskProfileTable(e[1]))}),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result))}}},{key:"renderRiskProfileTable",value:function(e){return e&&0!=e.length?a.a.createElement("div",{className:"risk-profile-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"risk_profile_table_header"},a.a.createElement("th",null,"Risk category"),a.a.createElement("th",null,"Current risk rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.riskName),a.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))})))):""}},{key:"renderTaskRecommendation",value:function(e){var t=this;if(e&&void 0!==e)return 0==e.length?a.a.createElement("div",{className:"intro-container"},"No recommendation available."):a.a.createElement("div",null,e.map(function(e,n){var r=e.taskName,o=e.taskApproverName,i=e.taskRecommendationData;return a.a.createElement("div",{key:n},a.a.createElement("p",{className:"intro-container"},"Recommendations from: ",a.a.createElement("b",null,r)," by ",o),t.renderRecommendationTable(i))}))}},{key:"renderRecommendationTable",value:function(e){var t=JSON.parse(e);return a.a.createElement("div",{className:"recommendation-table-container"},t&&t.length>0&&a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"recommendation_table_header"},a.a.createElement("th",{className:"issue-title-col"},"Issue title"),a.a.createElement("th",null,"Issue description"),a.a.createElement("th",null,"Recommendation"))),a.a.createElement("tbody",null,t.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.title),a.a.createElement("td",null,e.description),a.a.createElement("td",null,e.recommendation))}))))}},{key:"renderTaskTable",value:function(e){if(e&&void 0!==e)return a.a.createElement("div",{className:"task-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"task_table_header"},a.a.createElement("th",null,"Task"),a.a.createElement("th",null,"Approved by"),a.a.createElement("th",null,"Task status"))),a.a.createElement("tbody",null,e.map(function(e,t){var n=e.taskName,r=e.taskApproverName,o=e.taskStatus,i=Ta.a;"in_progress"==o&&(i=Oa.a),"waiting_for_approval"==o&&(i=Ea.a),"approved"!=o&&"complete"!=o||(i=ha.a),"denied"==o&&(i=ga.a);var s=r;return s||(s="No approval needed"),a.a.createElement("tr",{key:t},a.a.createElement("td",{className:""},n),a.a.createElement("td",null,s),a.a.createElement("td",null,a.a.createElement("img",{className:"task-status-icon",src:i}),a.a.createElement("span",{className:"task-status"}," ",function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}(o))))}))))}}])&&Ja(n.prototype,o),i&&Ja(n,i),t}();function za(e){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xa(){return(Xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$a(e,t,n[t])})}return e}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return!t||"object"!==za(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function no(e){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ao=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),to(this,no(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){"Review"==this.props.question.title&&this.props.loadResultForCertificationAndAccreditation()}},{key:"render",value:function(){var e=Za({},this.props),t=e.question,n=e.index;return a.a.createElement("div",{className:"QuestionForm"},a.a.createElement("div",{className:"heading"},n+1,". ",t.heading),a.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t),this.renderDisplayField(t))}},{key:"renderDisplayField",value:function(e){if("display"===e.type)return"Risk Profile"==e.title?this.renderRiskProfile():"Review"==e.title?this.renderReview():void 0}},{key:"renderReview",value:function(){var e=Za({},this.props),t=e.resultForCertificationAndAccreditation,n=e.handleTaskSaveDraftButtonClick,r=e.handleNextButtonClickForDisplayField;return a.a.createElement("div",null,a.a.createElement("div",{className:"review-container"},a.a.createElement(Wa,{resultForCertificationAndAccreditation:t,isDisplayReportLogo:!1})),a.a.createElement("div",{className:"buttons review-button-container"},a.a.createElement("div",{className:"buttons-left"}),a.a.createElement("div",{className:"buttons-right"},a.a.createElement(Dn,{title:"Save draft",onClick:function(){n()}}),a.a.createElement(ia,{title:"Submit",onClick:function(){r()}})),a.a.createElement("div",null)))}},{key:"renderRiskProfile",value:function(){var e=this,t=Za({},this.props),n=t.riskProfileData,r=t.handleNextButtonClickForDisplayField;return a.a.createElement("div",{className:"risk-profile-container"},n.isDisplayMessage&&a.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map(function(t,n){return a.a.createElement("div",{key:n},a.a.createElement("div",{className:"product-aspect-container"},t[0]),e.renderRiskProfileTable(t[1]))}),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result),a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:pa.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),a.a.createElement("div",{className:"button-container"},a.a.createElement(ia,{title:"Next",rightIconImage:ma.a,onClick:function(){r()}}))))}},{key:"renderRiskProfileTable",value:function(e){return a.a.createElement("div",{className:"risk-profile-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"risk_profile_table_header"},a.a.createElement("th",null,"Risk category"),a.a.createElement("th",null,"Current risk rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.riskName),a.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))}))))}},{key:"renderActions",value:function(e){var t=Za({},this.props).handleActionClick;if("action"===e.type){var n=j.a.get(e,"actions",null);if(!n)return null;var r=null,o=n.find(function(e){return e.isChose});return o&&o.message&&(r=a.a.createElement("div",{className:"action-message"},a.a.createElement("b",null,"Message:"),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.message}}))),o?a.a.createElement("div",{className:"field-container"},a.a.createElement("div",{className:"actions"},n.map(function(e){switch(e.isChose){case!0:return a.a.createElement(ia,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return a.a.createElement(Dn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r,a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:pa.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))))):a.a.createElement("div",{className:"field-container"},a.a.createElement("div",{className:"actions"},n.map(function(e,n){switch(n){case 0:return a.a.createElement(ia,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return a.a.createElement(Dn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r,a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:pa.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))))}}},{key:"renderInputsForm",value:function(e){var t=Za({},this.props),n=t.handleFormSubmit,r=t.serviceRegister,o=t.informationClassificationTaskResult;if("input"===e.type){var i=j.a.get(e,"inputs",null);if(!i)return null;var s={};return i.forEach(function(e){s[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(s[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(s[e.id]=e.defaultCheckboxValue),"information classification"==e.type&&null===e.data&&o&&(s[e.id]=o)}),a.a.createElement(_r.c,{initialValues:s,validate:function(e){var t={};return i.forEach(function(n){var r=Za({},n),a=r.id,o=r.type,i=r.required,s=r.label,c=r.minLength,u=j.a.get(e,a,null),l=s||"field";if(i&&(!u||"[]"===u))return t[a]="Please enter a value for ".concat(l),void("radio"!==o&&"checkbox"!==o&&"service register"!==o||(t[a]="Please select an option for ".concat(l)));if(c>0&&u&&u.length<c)t[a]="Please enter a value with at least ".concat(c," characters for ").concat(l);else if("email"!==o||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(u)){if("date"===o||"release date"===o)ca()(u,"YYYY-MM-DD").isValid()||(t[a]="Invalid date");"product aspects"!==o||!u||/^[0-9a-zA-Z\s\n]+$/i.test(u)||(t[a]="Please enter alpha-numeric characters only.")}else t[a]="Invalid email address"}),t},onSubmit:function(e,t){n(t,e)}},function(e){var t=e.handleChange,n=(e.isSubmitting,e.errors),o=e.touched,c=e.setFieldValue,u=e.values,l=[];return j.a.keys(n).filter(function(e){return Boolean(o[e])}).forEach(function(e){l[e]=n[e]}),a.a.createElement(_r.b,{className:"scroller"},i.map(function(e){var n=Za({},e),o=n.id,i=n.type,p=n.label,f=n.placeholder,m=n.options,d=(n.defaultRadioButtonValue,n.defaultCheckboxValue,n.maxLength),b=n.required,y=j.a.get(l,o,null),h=Boolean(y),v=[];if(h&&v.push("error"),["text","email","url"].includes(i))return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(_r.a,{type:i,name:o,className:v.join(" "),placeholder:f,maxLength:d>0?d:4096})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("radio"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",{className:h?"radio-container-error radio-container":"radio-container"},m.length&&m.map(function(e,t){var n=j.a.toString(e.value)===j.a.toString(u[o]);return a.a.createElement("div",{key:t,className:"Accreditation level"===p?"accreditation-level-option radio-option":"radio-option"},a.a.createElement("label",{className:"radio-label"},a.a.createElement(_r.a,{type:"radio",name:o,value:e.value,className:"radio",checked:n}),e.label))})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("checkbox"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",{className:h?"checkbox-container-error checkbox-container":"checkbox-container"},m.length&&m.map(function(e,t){var n=u[o]?JSON.parse(u[o]):[],r=n.includes(e.value);return a.a.createElement("div",{key:t},a.a.createElement("label",{className:"checkbox-label"},a.a.createElement("input",{type:"checkbox",name:o,className:"checkbox",checked:r,onChange:function(t){t.target.checked?n.push(e.value):n.splice(n.indexOf(e.value),1),c(o,JSON.stringify(n))}}),e.label))})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("date"===i||"release date"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(_r.a,{name:o,render:function(e){var t=null,n=e.field.value||null;return n&&n.trim().length>0&&(t=ca()(n).toDate()),a.a.createElement(ua.a,{dateFormat:"dd-MM-yyyy",className:v.join(" "),selected:t,onChange:function(e){if(e){var t=ca()(e).format("YYYY-MM-DD");c(o,t)}else c(o,null)},placeholderText:f,dropdownMode:"scroll",withPortal:!0})}})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("textarea"===i||"product aspects"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(_r.a,{name:o},function(e){var t=e.field;return a.a.createElement("textarea",Xa({},t,{className:v.join(" "),placeholder:f}))}),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y))));if("rich text editor"===i)return a.a.createElement("div",{key:o,className:"field-container"},p&&a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(da.a,{className:"implementation-evidence",initialValue:s[o],init:{selector:"textarea",height:"280",menubar:!1,plugins:"lists advlist",toolbar:"+ removeformat bold italic underline strikethrough bullist numlist",statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(e){t({target:{name:o,value:e.target.getContent()}})}}),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y))));if("service register"===i||"dropdown"===i||"information classification"===i){var g=r;return"service register"!==i&&(g=m.map(function(e){return{value:e.value,label:e.label}})),a.a.createElement("div",{key:o,className:"field-container"},p&&a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",{className:"dropdown-container"},a.a.createElement(ba.a,{name:o,options:g,defaultValue:s[o]&&g.find(function(e){return e.value===JSON.parse(s[o]).value})?JSON.parse(s[o]):"",classNamePrefix:"react-select",className:h?"react-select-error":"",maxMenuHeight:250,placeholder:"Select",onChange:function(e){t({target:{name:o,value:JSON.stringify(e)}})}})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)))}return null}),a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:pa.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),a.a.createElement("div",{className:"button-container"},a.a.createElement(ia,{title:"Next",rightIconImage:ma.a}))))})}}}])&&eo(n.prototype,o),i&&eo(n,i),t}();function oo(e){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){so(e,t,n[t])})}return e}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return!t||"object"!==oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,lo(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleFormSubmit",value:function(e,t){var n=io({},this.props),r=n.questions,a=n.saveAnsweredQuestion,o=r.find(function(e){return!0===e.isCurrent});if(o){var i=io({},o);j.a.forIn(t,function(e,t){var n=i.inputs.findIndex(function(e){return e.id===t});n>=0&&j.a.set(i,"inputs.".concat(n,".data"),e)}),i.hasAnswer=!0,i.isApplicable=!0,a(i)}}},{key:"handleActionClick",value:function(e){var t=io({},this.props),n=t.questions,r=t.saveAnsweredQuestion,a=n.find(function(e){return!0===e.isCurrent});if(a){var o=io({},a);o.actions=o.actions.map(function(t){return t.isChose=t.id===e.id,t}),o.hasAnswer=!0,o.isApplicable=!0,r(o)}}},{key:"handleNextButtonClickForDisplayField",value:function(){var e=io({},this.props),t=e.questions,n=e.saveAnsweredQuestion,r=t.find(function(e){return!0===e.isCurrent});if(r){var a=io({},r);a.hasAnswer=!0,a.isApplicable=!0,n(a)}}},{key:"render",value:function(){var e=io({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=e.serviceRegister,o=e.informationClassificationTaskResult,i=e.riskProfileData,s=e.resultForCertificationAndAccreditation,c=e.handleTaskSaveDraftButtonClick,u=(e.handleTaskSubmitButtonClick,e.loadResultForCertificationAndAccreditation),l=t.find(function(e){return!0===e.isCurrent}),p=t.findIndex(function(e){return e.id===l.id});return a.a.createElement("div",{className:"Questionnaire mx-1"},a.a.createElement("div",{className:"major"},a.a.createElement("div",{className:"title"},"Questions"),a.a.createElement("div",{className:"form-container"},a.a.createElement(Xr,{questions:t,onItemClick:n}),l&&a.a.createElement(ao,{index:p,key:l.id,question:l,serviceRegister:r,riskProfileData:i,resultForCertificationAndAccreditation:s,loadResultForCertificationAndAccreditation:u,informationClassificationTaskResult:o,handleTaskSaveDraftButtonClick:c,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this),handleNextButtonClickForDisplayField:this.handleNextButtonClickForDisplayField.bind(this)}))))}}])&&co(n.prototype,o),i&&co(n,i),t}();function mo(e){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yo(e,t,n[t])})}return e}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vo(e,t){return!t||"object"!==mo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function go(e){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Eo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vo(this,go(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=bo({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=bo({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,o=bo({},this.props.submissionState),i=o.title,s=o.siteConfig,c=o.user,u=o.submission;return c&&u&&s?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==u.status?a.a.createElement("div",{className:"QuestionnaireContainer"},a.a.createElement(Nt,{pageTitle:i,logopath:s.logoPath}),a.a.createElement("div",{className:"questionnaire-message"},a.a.createElement("h4",null,"The questionnaire is not in progress. Please check the summary screen.")),a.a.createElement(Jt,{footerCopyrightText:s.footerCopyrightText})):c.id===u.submitter.id?a.a.createElement("div",{className:"QuestionnaireContainer"},a.a.createElement(Nt,{pageTitle:"New submission",logopath:s.logoPath,showSubmissionBreadcrumb:!0}),a.a.createElement(fo,{questions:u.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),a.a.createElement(Jt,{footerCopyrightText:s.footerCopyrightText})):a.a.createElement("div",{className:"QuestionnaireContainer"},a.a.createElement(Nt,{pageTitle:"New submission",logopath:s.logoPath}),a.a.createElement("div",{className:"questionnaire-message"},a.a.createElement("h4",null,"It appears this submission has not yet been submitted. Only the submitter can edit a submission and must submit before it can be reviewed.")),a.a.createElement(Jt,{footerCopyrightText:s.footerCopyrightText})):null}}])&&ho(n.prototype,o),i&&ho(n,i),t}(),ko=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(dr(t))},dispatchSaveAnsweredQuestionAction:function(t){var n,r;e((n=t,r=mr(regeneratorRuntime.mark(function e(t,r){var a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),a=r(),o=j.a.get(a,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,Ee.getCSRFToken();case 7:return i=e.sent,s=n.id,c=Zn.transformFromFullQuestionToData(n),e.prev=10,e.next=13,Yn.updateSubmissionData({submissionID:o,questionID:s,csrfToken:i,answerData:c});case 13:t(br(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}},e,this,[[10,16]])})),function(e,t){return r.apply(this,arguments)}))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n,r){var a,o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=o.questions.findIndex(function(e){return e.isCurrent}))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((s=o.questions.findIndex(function(t){return t.id===e.id}))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:s}),t.next=15,hr(r(),[i,s]);case 15:case"end":return t.stop()}},t,this)})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Eo),Oo=n(96),Ao=n.n(Oo);function To(e){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _o(e,t){return!t||"object"!==To(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Po=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_o(this,No(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wo(e,t,n[t])})}return e}({},this.props).questions;return a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement("div",{className:"questions"},t.map(function(t,n,r){var o=e.renderData(t);return a.a.createElement("div",{className:"row",key:t.id},a.a.createElement("div",{className:"col"},a.a.createElement("b",null,n+1,". ",t.heading)),a.a.createElement("div",{className:"vertical-divider"}),a.a.createElement("div",{className:"col"},o))})))}},{key:"renderData",value:function(e){if(!e.isApplicable){return a.a.createElement("div",null,"(Not applicable)")}if(!e.hasAnswer){return a.a.createElement("div",null,"(Has no answer)")}if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=ca()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),a=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=a.join(", ")}return t};return e.inputs.length>1?a.a.createElement("div",null,e.inputs.map(function(e){var n=t(e);return a.a.createElement("div",{key:e.id},a.a.createElement("b",null,e.label),"",a.a.createElement("span",null,"-"),"",a.a.createElement("span",null,n))})):a.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=j.a.head(e.actions.filter(function(e){return e.isChose}));return a.a.createElement("div",null,n&&a.a.createElement("div",null,n.label))}}}])&&Co(n.prototype,o),i&&Co(n,i),t}();function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xo(e,t){return!t||"object"!==jo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lo(e,t){return(Lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xo(this,Uo(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lo(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ro(e,t,n[t])})}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,o=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,s=e.handleEditAnswerButtonClick;if(!t)return null;var c=a.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),u=a.a.createElement("div",{className:"buttons"},a.a.createElement(Dn,{title:"Edit",iconImage:Pa.a,classes:["button"],onClick:s}),a.a.createElement(Dn,{title:"PDF",iconImage:Ao.a,classes:["button"],onClick:i}),a.a.createElement(ia,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:Zn.existsUnansweredQuestion(t.questions),onClick:o})),l=a.a.createElement("div",{className:"buttons"},a.a.createElement(Dn,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return D.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return a.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&c,a.a.createElement(Po,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&u,"submitter"!==n&&l)}}])&&Do(n.prototype,o),i&&Do(n,i),t}(),Fo=n(112),Bo=n.n(Fo),Qo=n(201),qo=n.n(Qo);function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&Ho(t.prototype,n),r&&Ho(t,r),e}(),Jo=n(149),Ko=n.n(Jo),Go=n(113),Yo=n.n(Go);function Wo(e){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xo(e,t,n[t])})}return e}function Xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $o(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function ei(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){$o(o,r,a,i,s,"next",e)}function s(e){$o(o,r,a,i,s,"throw",e)}i(void 0)})}}function ti(e){return ni.apply(this,arguments)}function ni(){return(ni=ei(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.addEventListener("load",function(t){e(t.target.result)}),n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ri(e){return ai.apply(this,arguments)}function ai(){return(ai=ei(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,ti(r);case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var oi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"downloadCertificate",value:function(){var e=ei(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=qo.a.pdfMake.vfs,Bo.a.vfs=n,r=zo({},t),a=r.siteConfig,o={defaultStyles:{h5:{fontSize:10,marginTop:10},h3:{fontSize:12},p:{margin:[0,1,0,5]}}},e.next=6,ri(a.pdfHeaderImageLink);case 6:return i=e.sent,e.next=9,Ko()(document.getElementById("risk-container"),{scale:3}).then(function(e){return e.toDataURL("image/jpeg",1)});case 9:return s=e.sent,e.next=12,Ko()(document.getElementById("recommendations-table"),{scale:3}).then(function(e){return e.toDataURL("image/jpeg",1)});case 12:return c=e.sent,e.next=15,Ko()(document.getElementById("task-container"),{scale:3}).then(function(e){return e.toDataURL("image/jpeg",1)});case 15:return u=e.sent,l=Yo()(document.getElementsByClassName("report-heading-left-container")[0].innerHTML,o),p=Yo()(document.getElementsByClassName("report-intro-container")[0].innerHTML,o),f=Yo()(document.getElementById("certificate-container").innerHTML,o),m=Yo()(document.getElementById("risk-profile").innerHTML,o),d={pageSize:"A4",pageMargins:[50,70,50,40],header:{image:i,alignment:"center",width:500},content:[l,p,f,m,{image:s,fit:[750,750],margin:[0,0,0,20]},{image:c,fit:[750,750],margin:[0,0,0,20]},{image:u,fit:[750,750],margin:[0,0,0,20]}],pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1},defaultStyle:{fontSize:9}},b={title:"Certification & Accreditation Report.pdf"},e.prev=22,e.next=25,Bo.a.createPdf(d).download(b.title);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(22),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 30:case"end":return e.stop()}},e,this,[[22,27]])}));return function(t){return e.apply(this,arguments)}}()},{key:"generatePDF",value:function(){var e=ei(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d,b,y,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=zo({},t),r=n.questions,a=n.submitter,o=n.questionnaireTitle,i=n.siteConfig,s=n.result,c=n.riskResults,l=[],p={questionnaireTitle:{bold:!0,fontSize:(u=12)+4,color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:u,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:u+2,color:"#004071"},questionHeading:{bold:!0}},f={fontSize:u},m={title:"".concat(o," - ").concat(a.name,".pdf")},d=qo.a.pdfMake.vfs,Bo.a.vfs=d,e.next=10,ri(i.pdfHeaderImageLink);case 10:return b=e.sent,l.push({image:b,width:500,margin:[0,0,0,u]}),l.push({text:o,style:"questionnaireTitle",margin:[0,0,0,u/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*u]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"Name: ".concat(a.name),style:"questionHeading",margin:[0,0,0,u/2]}),l.push({text:"Email: ".concat(a.email),margin:[0,0,0,2*u]}),s&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"".concat(s),margin:[0,0,0,2*u]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,u]}),r.forEach(function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,u/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=ca()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),a=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=a.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach(function(e,t,r){var a=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(Vo.toString(n(e))),margin:[0,0,0,a?u:parseInt("".concat(u/3))]})}):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,u]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=j.a.head(e.actions.filter(function(e){return e.isChose}));l.push({text:r.label,margin:[0,0,0,u]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,u]});else l.push({text:"(Not applicable)",margin:[0,0,0,u]})}),"object"===Wo(c)&&c.length>0&&(y=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],c.forEach(function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),y.push([{text:e.riskName},e.weights,e.score,n])}),l.push({table:{headerRows:1,widths:[237,75,75,75],body:y},width:500,margin:[0,0,0,u]})),e.next=23,ri(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,u]}),e.prev=25,e.next=28,Bo.a.createPdf({info:m,content:l,styles:p,defaultStyle:f}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}},e,this,[[25,30]])}));return function(t){return e.apply(this,arguments)}}()},{key:"blobToDataURL",value:function(){var e=ei(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Zo(t.prototype,n),r&&Zo(t,r),e}();function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ci(e,t,n[t])})}return e}function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function li(e,t){return!t||"object"!==ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fi(e,t){return(fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),li(this,pi(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fi(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=si({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=si({},this.props).secureToken,t=si({},this.props.submissionState),n=(t.title,t.siteConfig),r=t.user,o=t.submission,i=t.isCurrentUserApprover,s=t.isCurrentUserABusinessOwnerApprover;if(!r||!n)return null;var c="others";do{if(r.id===o.submitter.id){c="submitter";break}if(i){c="approver";break}if(s&&"waiting_for_approval"==o.status){c="businessOwnerApprover";break}}while(0);return a.a.createElement("div",{className:"ReviewContainer"},a.a.createElement(Nt,{pageTitle:"Review responses",logopath:n.logoPath}),a.a.createElement(Mo,{siteTitle:n.siteTitle,viewAs:c,submission:o,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),a.a.createElement(Jt,{footerCopyrightText:n.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=si({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&oi.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=j.a.get(this.props.submissionState,"submission.submissionUUID","");e&&D.redirectToQuestionnaireEditing(e)}}])&&ui(n.prototype,o),i&&ui(n,i),t}(),di=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(dr(t))},dispatchSubmitQuestionnaire:function(){var t;e((t=mr(regeneratorRuntime.mark(function e(t,n){var r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),a=r.questionnaireState.submissionState,o=a.submission){e.next=6;break}return e.abrupt("return");case 6:if(!Zn.existsUnansweredQuestion(o.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,Ee.getCSRFToken();case 11:return i=e.sent,e.next=14,Yn.submitQuestionnaire({submissionID:o.submissionID,csrfToken:i});case 14:s=e.sent,c=s.uuid,D.redirectToQuestionnaireSummary(c),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)}))}}})(mi);function bi(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function yi(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){bi(o,r,a,i,s,"next",e)}function s(e){bi(o,r,a,i,s,"throw",e)}i(void 0)})}}function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchCurrentUser",value:function(){var e=yi(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsAccreditationAuthority\n    IsCertificationAuthority\n  }\n}',e.next=3,F.request({query:'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsAccreditationAuthority\n    IsCertificationAuthority\n  }\n}'});case 3:if(t=e.sent,n=j.a.get(t,"data.readMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=qn.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMembers",value:function(){var e=yi(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}',e.next=3,F.request({query:'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}'});case 3:if(t=e.sent,n=j.a.get(t,"data.readMember",null)){e.next=7;break}throw new Error("Authenticate error");case 7:return r=qn.parserMemberFromJSON(n),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&hi(t.prototype,n),r&&hi(t,r),e}();function gi(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Si(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){gi(o,r,a,i,s,"next",e)}function s(e){gi(o,r,a,i,s,"throw",e)}i(void 0)})}}function Ei(){return function(){var e=Si(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vi.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(){return(Oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ai(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wi(e,t){return!t||"object"!==ki(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ci(e){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _i(e,t){return(_i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ni=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wi(this,Ci(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(Tn,Oi({},this.props,{classes:["RedButton"].concat(Ai(this.props.classes))}))}}])&&Ti(n.prototype,o),i&&Ti(n,i),t}();Ni.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Ii=Ni,Pi=n(432),ji=n.n(Pi),Ri=n(433),Di=n.n(Ri),xi=n(81),Ui=n.n(xi),Li=n(434),Mi=n.n(Li);function Fi(e){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t){return!t||"object"!==Fi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hi(e){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ji=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qi(this,Hi(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bi(e,t,n[t])})}return e}({},this.props),t=e.riskResults,n=e.hideWeightsAndScore;return t&&0!==t.length?a.a.createElement("div",{className:"risk-result-container"},a.a.createElement("h4",null,"Risk Result"),a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"risk_table_header"},a.a.createElement("th",null,"Risk Name"),!n&&a.a.createElement("th",null,"Weights"),!n&&a.a.createElement("th",null,"Score"),a.a.createElement("th",null,"Rating"))),a.a.createElement("tbody",null,t.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.riskName),!n&&a.a.createElement("td",null,e.weights),!n&&a.a.createElement("td",null,e.score),a.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))}))))):null}}])&&Qi(n.prototype,o),i&&Qi(n,i),t}();n(713);function Ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter(function(e){return"security risk assessment"===e.taskType&&"complete"===e.status}).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter(function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)}).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return a.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&Ki(t.prototype,n),r&&Ki(t,r),e}();function Yi(e){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(e,t){return!t||"object"!==Yi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xi(e){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zi(e,t){return(Zi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zi(this,Xi(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zi(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",a.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&Wi(n.prototype,o),i&&Wi(n,i),t}(),es=n(435),ts=n.n(es),ns=n(784);function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function as(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){os(e,t,n[t])})}return e}function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ss(e,t){return!t||"object"!==rs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cs(e){return(cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function us(e,t){return(us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ls=function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},ps=function(e,t){if(e)return"pending"==e?"Awaiting approval":"not_required"==e?"Not required":"approved"==e&&"Certification Authority"==t?"Certification granted":"denied"==e&&"Certification Authority"==t?"Certification denied":"approved"==e&&"Accreditation Authority"==t?"Accreditation issued":"denied"==e&&"Accreditation Authority"==t?"Accreditation denied":"denied"==e?"Not approved":ls(e)},fs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ss(this,cs(t).call(this,e))).handleChangeForAccreditationPeriod=function(e){return n.setState({accreditationPeriod:e})},n.state={skipBoAndCisoApproval:!1,enableApproveButton:!0,showModal:!1,selectedCollaborators:e.submission.collaborators,accreditationPeriod:""},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&us(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){""!==this.getAcknowledgeText()&&this.setState({enableApproveButton:!1})}},{key:"getAcknowledgeText",value:function(){if(this.props.submission.isCertificationAndAccreditationTaskExists){if("businessOwnerApprover"===this.props.viewAs&&this.props.submission.businessOwnerAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.businessOwnerAcknowledgementText);if("approver"===this.props.viewAs){if(this.props.user.isCertificationAuthority&&this.props.submission.certificationAuthorityAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.certificationAuthorityAcknowledgementText);if(this.props.user.isAccreditationAuthority&&this.props.submission.accreditationAuthorityAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.accreditationAuthorityAcknowledgementText)}}return""}},{key:"replaceAcknowledgementText",value:function(e){var t=this,n=e;if(!this.props.user.isAccreditationAuthority)return a.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}});var r=this.props.submission.taskSubmissions.filter(function(e){return"certification and accreditation"===e.taskType}),o=JSON.parse(r[0].resultForCertificationAndAccreditation),i=o.accreditationPeriod+" (recommended)",s=a.a.createElement(ba.a,{options:[{value:"1 month",label:"1 month"},{value:"3 months",label:"3 months"},{value:"6 months",label:"6 months"},{value:"9 months",label:"9 months"},{value:"12 months",label:"12 months"},{value:"18 months",label:"18 months"},{value:"24 months",label:"24 months"}],defaultValue:{label:i,value:o.accreditationPeriod},className:"react-select-container",classNamePrefix:"react-select",placeholder:o.accreditationPeriod,maxMenuHeight:110,onChange:function(e){return t.handleChangeForAccreditationPeriod(e.value)}}),c=n.split(o.accreditationPeriod);return a.a.createElement("div",{className:"acknowledgement-text-for-accreditation-authority"},a.a.createElement("div",{className:"acknowledgement-text-before-dropdown",dangerouslySetInnerHTML:{__html:c[0]}}),a.a.createElement("div",{className:"acknowledgement-text-dropdown"},s),a.a.createElement("div",{className:"acknowledgement-text-after-dropdown",dangerouslySetInnerHTML:{__html:c.slice(1)}}))}},{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter(function(e){return"risk questionnaire"===e.taskType});if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach(function(e,t){"selection"===e.taskType&&(n=!0)}),n}},{key:"handleAddCollaboratorsModalButtonClick",value:function(){this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators),this.handleCloseModalForCollaborators()}},{key:"handleOpenModalForCollaborators",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModalForCollaborators",value:function(){this.setState({showModal:!1}),this.setState({selectedCollaborators:this.props.submission.collaborators})}},{key:"handleChangeForCollaborators",value:function(e){this.setState({selectedCollaborators:e})}},{key:"render",value:function(){var e=as({},this.props),t=e.submission,n=e.viewAs,r=e.user,o=e.members;return t&&o?"in_progress"===t.status&&"submitter"===n?a.a.createElement("div",{className:"Summary"},a.a.createElement("h4",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?a.a.createElement($i,null):a.a.createElement("div",{className:"Summary"},a.a.createElement("h3",null,"Submission details"),this.renderSubmissionDetails(t),this.renderCollboratorsAndComponentsInfo(t,o),this.renderTasks(t),this.renderApprovals(t),a.a.createElement(Ji,{riskResults:t.riskResults,hideWeightsAndScore:t.hideWeightsAndScore}),this.renderSkipCheckbox(t,n,r),this.renderAcknowledgements(t,n,r),this.renderButtons(t)):null}},{key:"renderCollboratorsModal",value:function(e,t){return a.a.createElement(Ra.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".Summary")}},a.a.createElement("div",{className:"collaborator-model-title"},a.a.createElement("span",null,a.a.createElement("h4",null,"Add Collaborators")),a.a.createElement(ns.a,{"aria-label":"close",component:"span",className:"collaborator-model-close icon-gray",onClick:this.handleCloseModalForCollaborators.bind(this)},a.a.createElement(ts.a,null))),a.a.createElement("div",{className:"content"},"Start typing names, to add them as collaborators for your submission."),a.a.createElement("div",{className:"content"},a.a.createElement(ba.a,{options:t,defaultValue:e.collaborators,isMulti:!0,maxMenuHeight:200,onChange:this.handleChangeForCollaborators.bind(this)})),a.a.createElement("div",null,a.a.createElement(ia,{title:"Add",onClick:this.handleAddCollaboratorsModalButtonClick.bind(this)})))}},{key:"renderSubmissionDetails",value:function(e){var t=e.submitter,n=ls(e.status),r=Ea.a;"Submitted"==n&&Zn.existsIncompleteTaskSubmission(e.taskSubmissions)?(n="Tasks to complete",r=Di.a):"Submitted"!=n||Zn.existsIncompleteTaskSubmission(e.taskSubmissions)||(n="Ready to submit",r=ji.a),"In progress"==n&&(r=Oa.a),"Approved"==n&&(r=ha.a),"Denied"==n&&(r=ga.a);var o=e.productName;return""==o&&(o="Product Name: Please add a product name"),a.a.createElement("div",{className:"submission-details-container"},a.a.createElement("div",{className:"submission-detail-left-container"},a.a.createElement("div",null,a.a.createElement("span",{className:"product-name"},o)),a.a.createElement("span",null,e.questionnaireTitle),a.a.createElement("div",{className:"submitter-name-created-date-row"},a.a.createElement("span",{className:"submission-details-label"},"Submission created: "),a.a.createElement("span",{className:"submission-details-data"},ca()(e.created).format("DD/MM/YYYY"))),a.a.createElement("div",null,a.a.createElement("span",{className:"submission-details-label"},"Go live date: "),a.a.createElement("span",{className:"submission-details-data"},e.releaseDate?ca()(e.releaseDate).format("DD/MM/YYYY"):""))),a.a.createElement("div",{className:"submission-detail-right-container"},a.a.createElement("div",null,a.a.createElement("span",{className:"submission-status"},a.a.createElement("img",{src:r}),n)),a.a.createElement("div",{className:"submitter-name-created-date-row"},a.a.createElement("span",{className:"submission-details-label"},"Submitted by: "),a.a.createElement("span",{className:"submission-details-data"},t.name)),a.a.createElement("div",null,a.a.createElement("span",{className:"submission-details-label"},"Email: "),a.a.createElement("span",{className:"submission-details-data"},t.email))))}},{key:"renderCollboratorsInfo",value:function(e,t){return a.a.createElement("div",{className:"collaborators-container"},a.a.createElement("h4",null,"Collaborators"),a.a.createElement("div",{className:"collaborator-message"},"You can add people to help complete your submission. Please contact the",a.a.createElement("a",{href:"mailto:"+this.props.securityTeamEmail},"security team"),"for more information."),e.collaborators.length>0&&a.a.createElement("div",null,e.collaborators.map(function(e,t){var n=e.label;return a.a.createElement("div",{className:"collaborator-name",key:t},n)})),"submitter"===this.props.viewAs&&a.a.createElement("div",null,a.a.createElement("button",{className:"btn add-collaborators-btn",onClick:this.handleOpenModalForCollaborators.bind(this)},a.a.createElement("img",{src:Ca.a})," Add collaborators")),this.renderCollboratorsModal(e,t))}},{key:"renderComponentsInfo",value:function(e){var t=e.productAspects;return a.a.createElement("div",{className:t.length>0?"components-container":"hide-components-container"},a.a.createElement("h4",null,"Components"),a.a.createElement("div",null,"Please specify if there are multiple components impacted for this submission. This will help group your tasks per component."),a.a.createElement("div",null,t.map(function(e,t){return a.a.createElement("div",{className:"component-name",key:t},e)})))}},{key:"renderCollboratorsAndComponentsInfo",value:function(e,t){return a.a.createElement("div",{className:"collaborators-components-container"},this.renderCollboratorsInfo(e,t),this.renderComponentsInfo(e))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions,r=Gi.isSRATaskFinalised(e.taskSubmissions);if(0===n.length)return null;var o=this.unfinishedTaskSubmissionMessage()?a.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return a.a.createElement("div",{className:"tasks-container"},a.a.createElement("h4",null,"Tasks"),a.a.createElement("div",{className:"task-instruction-message"},"Please complete the tasks below. Note the tasks marked with a red asterisk (",a.a.createElement("span",{className:"multiple-tasks-created"},"*"),") may create new tasks, depending on your answers."),o,r?Gi.getSraIsFinalisedAlert():null,a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:"task-thead"},a.a.createElement("tr",{key:"task-table-header"},a.a.createElement("th",null,"Task"),a.a.createElement("th",{className:"completion-time-col"},"Time to complete"),a.a.createElement("th",null,"Approved by"),a.a.createElement("th",null,"Time to review"),a.a.createElement("th",null,"Task status"),a.a.createElement("th",null))),a.a.createElement("tbody",null,n.map(function(e){var n=e.uuid,r=e.taskName,i=e.taskType,s=e.status,c=e.approver,u=e.isTaskApprovalRequired,l=e.timeToComplete,p=e.timeToReview,f=e.canTaskCreateNewTasks,m=Ta.a;"start"==s&&(s="To do"),"in_progress"==s&&(m=Oa.a),"waiting_for_approval"==s&&(m=Ea.a),"approved"!=s&&"complete"!=s||(m=ha.a),"denied"==s&&(m=ga.a);var d=as({},t.props).token,b=D.redirectToTaskSubmission(n,d,"urlString");"selection"===i&&(b=D.redirectToComponentSelectionSubmission(n,d,"urlString")),"security risk assessment"===i&&(b=D.redirectToSecurityRiskAssessment(n,d,"urlString")),"control validation audit"===i&&(b=D.redirectToControlValidationAudit(n,d,"urlString"));var y=a.a.createElement(ne.a,{to:b},a.a.createElement("img",{src:Ui.a})),h="";return h=u?c.name:"No approval needed",a.a.createElement("tr",{key:n},a.a.createElement("td",{className:"task-table-title-data"},r,f?a.a.createElement("span",{className:"multiple-tasks-created"}," *"):null),a.a.createElement("td",null,l),a.a.createElement("td",null,h),a.a.createElement("td",null,p),a.a.createElement("td",null,a.a.createElement("img",{src:m}),a.a.createElement("span",{className:"task-status"},ls(s))),a.a.createElement("td",null,o&&"security risk assessment"===i?null:y))})))))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,o=e.certificationAuthorityApprover,i=e.accreditationAuthorityApprover,s=ps(t.securityArchitect),c="Unassigned";n.firstName&&(c=n.firstName+" "+n.surname);var u=ps(t.chiefInformationSecurityOfficer),l="Unassigned";r.firstName&&(l=r.firstName+" "+r.surname);var p=ps(t.businessOwner),f=[{role:"Security Architect",name:c,status:s},{role:"Chief Information Security Officer",name:l,status:u},{role:"Business Owner",name:e.businessOwnerApproverName?e.businessOwnerApproverName:"Unassigned",status:p}];if(this.props.submission.isCertificationAndAccreditationTaskExists){var m=ps(t.certificationAuthority,"Certification Authority"),d="Unassigned";o.firstName&&(d=o.firstName+" "+o.surname);var b=ps(t.accreditationAuthority,"Accreditation Authority"),y="Unassigned";i.firstName&&(y=i.firstName+" "+i.surname),f.push({role:"Certification Authority",name:d,status:m},{role:"Accreditation Authority",name:y,status:b})}return a.a.createElement("div",{className:"submission-approval-container"},a.a.createElement("h4",null,"Submission approvals"),a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:"submission-approval-thead"},a.a.createElement("tr",{key:"approval_table_header"},a.a.createElement("th",null,"Role"),a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Approval status"))),a.a.createElement("tbody",null,f.map(function(e,t){var n=e.status,r=Ea.a;return"Approved"!=n&&"Certification granted"!=n&&"Accreditation issued"!=n||(r=ha.a),"Not approved"!=n&&"Certification denied"!=n&&"Accreditation denied"!=n&&"Not required"!=n||(r=ga.a),a.a.createElement("tr",{key:t+1},a.a.createElement("td",{className:"table-title-data"},e.role),a.a.createElement("td",{className:"Unassigned"==e.name?"unassigned-approver":""},e.name),a.a.createElement("td",null,a.a.createElement("img",{src:r}),a.a.createElement("span",{className:"approval-status"}," ",n," ")))})))))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?a.a.createElement("div",{className:"sub-container"},a.a.createElement("h4",null,"Skip Business Owner and CISO approval"),a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}})," This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}},{key:"renderAcknowledgements",value:function(e,t,n){var r=this;if(!e.isCertificationAndAccreditationTaskExists)return null;var o=this.getAcknowledgeText();return""!==o?a.a.createElement("div",{className:"acknowledgement-container"},a.a.createElement("h4",null,"Acknowledgements"),a.a.createElement("div",{className:"sub-container"},a.a.createElement("div",{className:"form-check"},a.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:this.state.enableApproveButton,onChange:function(e){r.setState({enableApproveButton:e.target.checked})}}),a.a.createElement("label",{className:"form-check-label"},o)))):null}},{key:"renderButtons",value:function(e){var t=this,n=as({},this.props),r=n.user,o=n.viewAs,i=(n.showNotApproveButton,n.token),s=n.handleSubmitButtonClick,c=n.handlePDFDownloadButtonClick,u=n.handleSendBackForChangesButtonClick,l=n.handleApproveButtonClick,p=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,m=n.handleEditButtonClick,d=n.handleGrantCertificationButtonClick,b=n.handleDenyCertificationButtonClick,y=n.handleIssueAccreditationButtonClick,h=n.handleDenyAccreditationButtonClick,v=a.a.createElement(Dn,{title:"PDF",iconImage:Ao.a,classes:["button"],onClick:c}),g=r?a.a.createElement(Dn,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return D.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===o){var S=a.a.createElement(Dn,{title:"Edit",iconImage:Pa.a,classes:["button"],onClick:m}),E=a.a.createElement(ia,{title:"Submit for approval",iconImage:Mi.a,classes:["button"],disabled:Zn.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:s});return"submitted"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},S,v),a.a.createElement("div",{className:"buttons-right"},E)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,S,v),a.a.createElement("div",null)):a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,v),a.a.createElement("div",null))}if("approver"===o||"businessOwnerApprover"===o){var k=a.a.createElement(Dn,{title:"Assign to Me",classes:["button"],onClick:p}),O=(a.a.createElement(Dn,{title:"Send back for changes",classes:["button"],onClick:function(){return u()}}),"Approve");r.isSA&&(O="Endorsed"),r.isCISO&&(O="Recommend Approval"),"businessOwnerApprover"===o&&(O="Accept risks and approve");var A=a.a.createElement(ia,{title:O,classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return l(t.state.skipBoAndCisoApproval)}}),T="Not approved";r.isSA&&(T="Not endorsed"),r.isCISO&&(T="Recommend Rejection");var w=a.a.createElement(Ii,{title:T,classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}}),C=a.a.createElement(ia,{title:"Grant Certification",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return d()}}),_=a.a.createElement(Ii,{title:"Deny Certification",classes:["button"],onClick:function(){return b()}}),N=a.a.createElement(ia,{title:"Issue Accreditation",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return y(t.state.accreditationPeriod)}}),I=a.a.createElement(Ii,{title:"Deny Accreditation",classes:["button"],onClick:function(){return h()}});return"submitted"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,g,v),a.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},k),a.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),w,A)):!r.isCertificationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_certification"!==e.status?!r.isAccreditationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_accreditation"!==e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),w,A)):a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),I,N)):a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),_,C))}return a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,g,v),a.a.createElement("div",null))}}])&&is(n.prototype,o),i&&is(n,i),t}();fs.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleSendBackForChangesButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},handleCollaboratorAddButtonClick:function(){},handleGrantCertificationButtonClick:function(){},handleDenyCertificationButtonClick:function(){},handleIssueAccreditationButtonClick:function(){},handleDenyAccreditationButtonClick:function(){},viewAs:"others",showNotApproveButton:!1,token:"",user:null,members:null,securityTeamEmail:""};var ms=fs;function ds(e){return(ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ys(e,t,n[t])})}return e}function ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vs(e,t){return!t||"object"!==ds(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gs(e){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ss(e,t){return(Ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Es=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=vs(this,gs(t).call(this))).state={showModal:!1},e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ss(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=bs({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken),this.props.dispatchLoadMembersAction()}},{key:"render",value:function(){var e=bs({},this.props),t=e.secureToken,n=e.loadingState,r=e.members,o=bs({},this.props.submissionState),i=(o.location,o.title,o.user),s=o.submission,c=o.isCurrentUserApprover,u=o.isCurrentUserABusinessOwnerApprover,l=o.siteConfig;if(!(i&&s&&l&&r))return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var p="others",f=!1;!i.isSA||i.isCISO||u||(f=!0);do{if(i.id===s.submitter.id){p="submitter";break}if(u&&"waiting_for_approval"==s.status){p="businessOwnerApprover";break}if(c){p="approver";break}}while(0);var m=!1,d=!1,b=!1;return s.collaborators.some(function(e){return e.value===parseInt(i.id)})&&(m=!0),("submitter"==p||m)&&(d=!0),d||(i.isSA||i.isCISO||s.isBusinessOwner||i.isAccreditationAuthority||i.isCertificationAuthority)&&(b=!0),a.a.createElement("div",{className:"SummaryContainer"},a.a.createElement(Nt,{pageTitle:s.productName,logopath:l.logoPath,productName:s.productName,showSubmissionBreadcrumb:d,showApprovalBreadcrumb:b}),a.a.createElement(ms,{submission:s,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),handleCollaboratorAddButtonClick:this.handleCollaboratorAddButtonClick.bind(this),handleGrantCertificationButtonClick:this.handleGrantCertificationButtonClick.bind(this),handleDenyCertificationButtonClick:this.handleDenyCertificationButtonClick.bind(this),handleIssueAccreditationButtonClick:this.handleIssueAccreditationButtonClick.bind(this),handleDenyAccreditationButtonClick:this.handleDenyAccreditationButtonClick.bind(this),viewAs:p,user:i,token:t,members:r,showNotApproveButton:f,securityTeamEmail:l.securityTeamEmail}),a.a.createElement(Jt,{footerCopyrightText:l.footerCopyrightText}),a.a.createElement(Ra.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},a.a.createElement("h3",null,"Are you sure you want to edit this submission?"),a.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),a.a.createElement("div",null,a.a.createElement(ia,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),a.a.createElement(Dn,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=bs({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),oi.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=bs({},this.props).secureToken,n=bs({},this.props.submissionState),r=n.user,a=n.submission,o=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&a&&(i&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerApproveSubmissionAction(a.submissionID,t):o&&this.props.dispatchApproveSubmissionAction(a.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=bs({},this.props).secureToken,n=bs({},this.props.submissionState),r=n.user,a=n.submission,o=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&a&&(i&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerDenySubmissionAction(a.submissionID,t):o&&this.props.dispatchDenySubmissionAction(a.submissionID,e))}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=bs({},this.props.submissionState),t=e.user,n=e.submission,r=e.isCurrentUserApprover;t&&n&&r&&this.props.dispatchSendBackForChangesSubmissionAction(n.submissionID)}},{key:"handleAssignToMeButtonClick",value:function(){var e=bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleCollaboratorAddButtonClick",value:function(e){var t=bs({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchAddCollaboratorAction(r.submissionID,e)}},{key:"handleGrantCertificationButtonClick",value:function(){var e=bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchGrantCertificationAction(n.submissionID)}},{key:"handleDenyCertificationButtonClick",value:function(){var e=bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyCertificationAction(n.submissionID)}},{key:"handleIssueAccreditationButtonClick",value:function(e){var t=bs({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchIssueAccreditationAction(r.submissionID,e)}},{key:"handleDenyAccreditationButtonClick",value:function(){var e=bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyAccreditationAction(n.submissionID)}}])&&hs(n.prototype,o),i&&hs(n,i),t}(),ks=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState,members:e.memberState}},function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(dr(t,n))},dispatchLoadMembersAction:function(){var t;e((t=Si(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vi.fetchMembers();case 3:n=e.sent,r={type:l.USER.LOAD_MEMBER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(e){return t.apply(this,arguments)}))},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return n=mr(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,Yn.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:o,secureToken:t});case 6:i=n.sent,s=i.uuid,r(dr(s,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return n=mr(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,Yn.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:o,secureToken:t});case 6:i=n.sent,s=i.uuid,r(dr(s,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,Yn.submitQuestionnaireForApproval({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,n(dr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,Yn.editQuestionnaireSubmission({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,D.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return n=mr(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,Yn.approveQuestionnaireSubmission({submissionID:e,csrfToken:o,skipBoAndCisoApproval:t});case 6:i=n.sent,s=i.uuid,r(dr(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return n=mr(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,Yn.denyQuestionnaireSubmission({submissionID:e,csrfToken:o,skipBoAndCisoApproval:t});case 6:i=n.sent,s=i.uuid,r(dr(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSendBackForChangesSubmissionAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,Yn.updateQuestionnaireStatusToSendBackForChanges({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,n(dr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAssignToMeAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,Yn.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,n(dr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddCollaboratorAction:function(t,n){e(function(e,t){return n=mr(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee.getCSRFToken();case 2:return o=n.sent,n.prev=3,n.next=6,Yn.addCollaborator(e,t,o);case 6:i=n.sent,s=i.uuid,r(dr(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[3,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchGrantCertificationAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,Yn.grantCertification(e,a);case 6:o=t.sent,i=o.uuid,n(dr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyCertificationAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,Yn.denyCertification(e,a);case 6:o=t.sent,i=o.uuid,n(dr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchIssueAccreditationAction:function(t,n){e(function(e,t){return n=mr(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee.getCSRFToken();case 2:return o=n.sent,n.prev=3,n.next=6,Yn.issueAccreditation(e,o,t);case 6:i=n.sent,s=i.uuid,r(dr(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[3,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenyAccreditationAction:function(t){e(function(e){return t=mr(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,Yn.denyAccreditation(e,a);case 6:o=t.sent,i=o.uuid,n(dr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Es),Os=n(436),As=n.n(Os);function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ws(e,t,n[t])})}return e}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function _s(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Cs(o,r,a,i,s,"next",e)}function s(e){Cs(o,r,a,i,s,"throw",e)}i(void 0)})}}function Ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Is=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"loadAvailableComponents",value:function(){var e=_s(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map(function(e){return nr.parseFromJSONObject(e)}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createJiraTickets",value:function(){var e=_s(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ts({},t),r=n.jiraKey,a=n.componentIDList,o=n.csrfToken,i=a.map(function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')}),s="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,F.request({query:s,csrfToken:o});case 5:if(c=e.sent,u=O()(c,"data",null)){e.next=9;break}throw B;case 9:return l=As()(a.map(function(e){var t="createJiraTicket".concat(e),n=O()(u,t,null);return n?{id:T()(O()(n,"ID","")),jiraKey:T()(O()(n,"JiraKey","")),link:T()(O()(n,"TicketLink",""))}:null})),e.abrupt("return",l);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Ns(t.prototype,n),r&&Ns(t,r),e}();function Ps(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function js(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ps(o,r,a,i,s,"next",e)}function s(e){Ps(o,r,a,i,s,"throw",e)}i(void 0)})}}function Rs(){return function(){var e=js(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Is.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function Ds(e,t){return function(){var n=js(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(a);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function xs(e,t){return function(){var n=js(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(a);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function Us(e){return function(){var t=js(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function Ls(e){return function(){var t=js(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function Ms(e){var t=e.selectedComponents.map(function(e){return e.isSaved=!0,e});return function(){var e=js(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function Fs(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Bs(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Qs(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Bs(o,r,a,i,s,"next",e)}function s(e){Bs(o,r,a,i,s,"throw",e)}i(void 0)})}}function qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Hs(e,t,n[t])})}return e}function Hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vs(e){var t=qs({},e),n=t.uuid,r=t.secureToken,a=t.type;return function(){var e=Qs(regeneratorRuntime.mark(function e(t){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lr.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return o=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:o},e.next=7,t(i);case 7:if("componentSelection"!==a){e.next=10;break}return e.next=10,t(Ms(o));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),$.displayError(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}function Js(e){var t=qs({},e),n=t.answeredQuestion,r=t.secureToken,a=t.bypassNetwork;return function(){var e=Qs(regeneratorRuntime.mark(function e(t,o){var i,s,c,u,p,f,m,d,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return o().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return s={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(s);case 6:if(a){e.next=24;break}return e.prev=7,e.t0=lr,e.t1=i().uuid,e.t2=[n.id],e.t3=[Zn.transformFromFullQuestionToData(n)],e.next=14,Ee.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),$.displayError(e.t7);case 24:if(c=Zn.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),u=c.currentIndex,p=c.nonApplicableIndexes,f=c.targetIndex,m=c.complete,c.terminate,d=c.result,!(p.length>0)){e.next=29;break}return b={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:p},e.next=29,t(b);case 29:if(!(f>u)){e.next=33;break}return y={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:u,targetIndex:f}},e.next=33,t(y);case 33:if(a){e.next=42;break}return e.prev=34,e.next=37,zs(i(),j.a.uniq([u].concat(Fs(p),[f])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),$.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(Gs({bypassNetwork:a,secureToken:r,result:d}));case 45:case"end":return e.stop()}},e,this,[[7,21],[34,39]])}));return function(t,n){return e.apply(this,arguments)}}()}function Ks(e){return function(){var t=Qs(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=a.componentSelectionState.selectedComponents.map(function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:o.id}}),t.prev=7,t.t0=lr,t.t1=e,t.t2=i,t.t3=o.uuid,t.next=14,Ee.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(Gs());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:$.displayError(t.t6);case 29:case"end":return t.stop()}},t,this,[[7,24]])}));return function(e,n){return t.apply(this,arguments)}}()}function Gs(){var e=qs({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.result,a=e.taskSubmissionUUID,o=e.questionnaireUUID;return function(){var e=Qs(regeneratorRuntime.mark(function e(i,s){var c,u,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(){return s().taskSubmissionState.taskSubmission},n){e.next=20;break}return e.prev=2,e.next=5,Ee.getCSRFToken();case 5:return u=e.sent,e.next=8,lr.completeTaskSubmission({uuid:void 0===a?c().uuid:a,result:r||"",secureToken:t,csrfToken:u});case 8:return p=e.sent,f=p.uuid,e.next=12,i(Vs({uuid:f,secureToken:t}));case 12:void 0!==o&&D.redirectToQuestionnaireSummary(o,t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),$.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,i({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:r});case 22:case"end":return e.stop()}},e,this,[[2,15]])}));return function(t,n){return e.apply(this,arguments)}}()}function Ys(e){var t=qs({},e),n=t.targetQuestion,r=t.secureToken,a=t.bypassNetwork;return function(){var e=Qs(regeneratorRuntime.mark(function e(t,o){var i,s,c,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(s=i.questions,!((c=s.findIndex(function(e){return e.isCurrent}))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((u=s.findIndex(function(e){return e.id===n.id}))<0)){e.next=12;break}return e.abrupt("return");case 12:return p={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:c,targetIndex:u}},e.next=15,t(p);case 15:if(a){e.next=18;break}return e.next=18,zs(i,j.a.uniq([c,u]),r);case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}function Ws(){var e=qs({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.type;return function(){var e=Qs(regeneratorRuntime.mark(function e(a,o){var i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=28;break}return e.prev=4,e.t0=lr,e.t1=i.uuid,e.next=9,Ee.getCSRFToken();case 9:return e.t2=e.sent,e.t3=t,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return s=e.sent,c=s.uuid,e.next=18,a(Vs({uuid:c,secureToken:t}));case 18:if("componentSelection"!==r){e.next=21;break}return e.next=21,a(Ms(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),$.displayError(e.t5);case 26:e.next=29;break;case 28:a({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}},e,this,[[4,23]])}));return function(t,n){return e.apply(this,arguments)}}()}function zs(e,t,n){return Xs.apply(this,arguments)}function Xs(){return(Xs=Qs(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=lr,e.t1=t.uuid,e.t2=n.map(function(e){return t.questions[e].id}),e.t3=n.map(function(e){return Zn.transformFromFullQuestionToData(t.questions[e])}),e.next=7,Ee.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),$.displayError(e.t7.message);case 17:case"end":return e.stop()}},e,this,[[0,14]])}))).apply(this,arguments)}function Zs(e,t){return function(){var n=Qs(regeneratorRuntime.mark(function n(r,a){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return n.prev=5,n.next=8,lr.fetchTaskSubmissionList(o.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:n.t0});case 16:$.displayError(n.t0);case 17:case"end":return n.stop()}},n,this,[[5,12]])}));return function(e,t){return n.apply(this,arguments)}}()}var $s=n(202),ec=n.n($s);function tc(e){return(tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rc(e,t,n[t])})}return e}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oc(e,t){return!t||"object"!==tc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sc(e,t){return(sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oc(this,ic(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sc(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=nc({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,o=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,s=t.handleDenyButtonClick,c=t.handleSendBackForChangesButtonClick,u=t.handleAddTaskRecommendationButtonClick,l=t.handleEditTaskRecommendationButtonClick,p=t.loadResultForCertificationAndAccreditation,f=t.editAnswers,m=t.showBackLink,d=t.showEditButton,b=t.canUpdateAnswers,y=t.viewAs,h=(t.secureToken,a.a.createElement(Qa,{taskRecommendations:n.taskRecommendations,viewAs:y,status:n.status,handleAddTaskRecommendationButtonClick:u,handleEditTaskRecommendationButtonClick:l})),v=m?a.a.createElement("div",{className:"back-link",onClick:function(){return e.sendBackToQestionnaire()}},a.a.createElement("img",{src:ec.a}),"Back"):null,g=m?a.a.createElement("div",{className:"back-link",onClick:function(){return D.redirectToApprovals()}},a.a.createElement("img",{src:ec.a}),"Back"):null,S="risk questionnaire"===n.taskType&&Gi.isSRATaskFinalised(n.siblingSubmissions),E=d&&!S&&"certification and accreditation"!==n.taskType?a.a.createElement(Dn,{title:"Edit",onClick:f,iconImage:Pa.a}):null,k=["complete","waiting_for_approval","approved","denied"],O=k.indexOf(n.status)>-1?a.a.createElement(Dn,{title:"PDF",iconImage:Ao.a,onClick:function(){return e.downloadPdf()}}):null,A=n.result&&k.indexOf(n.status)>-1?a.a.createElement("div",{className:"result-container"},a.a.createElement("h4",null,"Result"),a.a.createElement("div",{className:"result"},n.result)):null,T=n.riskResults&&k.indexOf(n.status)>-1?a.a.createElement(Ji,{riskResults:n.riskResults,hideWeightsAndScore:n.hideWeightsAndScore}):null,w="approver"===y&&"waiting_for_approval"===n.status?a.a.createElement(ia,{title:"Approve",onClick:i,classes:["button"]}):null,C="approver"===y&&"waiting_for_approval"===n.status?a.a.createElement(Dn,{title:"Send back for changes",onClick:c,classes:["button"]}):null,_="approver"===y&&"waiting_for_approval"===n.status?a.a.createElement(Ii,{title:"Not approved",onClick:s,classes:["button"]}):null,N=a.a.createElement("div",null,A,a.a.createElement("h4",null,"Summary"),"certification and accreditation"!==n.taskType&&a.a.createElement(Po,{questions:n.questions}),!n.isDisplayPreventMessage&&"certification and accreditation"===n.taskType&&a.a.createElement("div",{className:"task-review-container"},a.a.createElement(Wa,{resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,isDisplayReportLogo:!0})),T,h);return"certification and accreditation"===n.taskType&&n.isDisplayPreventMessage?N=a.a.createElement("div",{className:"prevent-message-container alert alert-danger",dangerouslySetInnerHTML:{__html:n.preventMessage}}):b&&(N=a.a.createElement(fo,{questions:n.questions,serviceRegister:n.serviceRegister,informationClassificationTaskResult:n.informationClassificationTaskResult,riskProfileData:n.riskProfileData,resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,loadResultForCertificationAndAccreditation:p,saveAnsweredQuestion:r,onLeftBarItemClick:o,handleTaskSaveDraftButtonClick:this.handleTaskSaveDraftButtonClick.bind(this)})),a.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&a.a.createElement($i,null),"expired"!==n.status&&a.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!S)&&Gi.getSraIsFinalisedAlert(),n.isCurrentUserAnApprover?g:v,N,a.a.createElement("div",{className:"buttons ".concat("approver"!=y?"buttons-hideborder":"")},a.a.createElement("div",{className:"buttons-left"},E,O),a.a.createElement("div",{className:"buttons-right"},"approver"===y&&"waiting_for_approval"===n.status&&a.a.createElement("span",{className:"approver-action"},"Approver action: "),C,_,w))))}},{key:"downloadPdf",value:function(){var e=nc({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&("certification and accreditation"===t.taskType?oi.downloadCertificate({siteConfig:r,resultForCertificationAndAccreditation:t.resultForCertificationAndAccreditation}):oi.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults}))}},{key:"handleTaskSaveDraftButtonClick",value:function(){this.sendBackToQestionnaire()}},{key:"sendBackToQestionnaire",value:function(){D.redirectToQuestionnaireSummary(this.props.taskSubmission.questionnaireSubmissionUUID,this.props.secureToken)}}])&&ac(n.prototype,o),i&&ac(n,i),t}();function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pc(e,t,n[t])})}return e}function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t){return!t||"object"!==uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bc(e,t){return(bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mc(this,dc(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=lc({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=lc({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,o=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,s=e.dispatchEditAnswersAction,c=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.dispatchSendBackForChangesTaskSubmissionAction,e.dispatchAddTaskRecommendationAction,e.dispatchEditTaskRecommendationAction,e.secureToken);if(!n||!r||!t)return null;var u="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){u="submitter";break}if(r.isCurrentUserAnApprover){u="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),p=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l||r.isTaskCollborator),f=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||(l||r.isTaskCollborator)&&!r.lockWhenComplete),m=!1,d=!1;return(l||r.isTaskCollborator)&&(m=!0),m||(r.isCurrentUserAnApprover||n.isSA||n.isCISO||r.isBusinessOwner||n.isAccreditationAuthority||n.isCertificationAuthority)&&(d=!0),a.a.createElement("div",{className:"TaskSubmissionContainer"},a.a.createElement(Nt,{pageTitle:r.taskName,logopath:t.logoPath,productName:r.questionnaireSubmissionProductName,isTaskApprover:r.isCurrentUserAnApprover,questionnaireSubmissionUUID:r.questionnaireSubmissionUUID,showApprovalBreadcrumb:d,showSubmissionBreadcrumb:m}),a.a.createElement(cc,{taskSubmission:r,saveAnsweredQuestion:o,moveToPreviousQuestion:i,editAnswers:s,showEditButton:f,canUpdateAnswers:p,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleAddTaskRecommendationButtonClick:this.handleAddTaskRecommendationButtonClick.bind(this),handleEditTaskRecommendationButtonClick:this.handleEditTaskRecommendationButtonClick.bind(this),loadResultForCertificationAndAccreditation:this.loadResultForCertificationAndAccreditation.bind(this),showBackLink:!!r.questionnaireSubmissionUUID,viewAs:u,siteConfig:t,secureToken:c}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=lc({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=lc({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchSendBackForChangesTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=lc({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}},{key:"handleAddTaskRecommendationButtonClick",value:function(e){var t=lc({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,a=t.uuid,o=t.taskRecommendations;(n||a||r||o)&&this.props.dispatchAddTaskRecommendationAction(a,e,o)}},{key:"handleEditTaskRecommendationButtonClick",value:function(e){var t=lc({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,a=t.uuid,o=t.taskRecommendations;(n||a||r||o)&&this.props.dispatchEditTaskRecommendationAction(a,e,o)}},{key:"loadResultForCertificationAndAccreditation",value:function(){var e=lc({},this.props),t=e.uuid;(0,e.dispatchLoadResultForCertificationAndAccreditation)(t,e.secureToken)}}])&&fc(n.prototype,o),i&&fc(n,i),t}(),hc=Object(s.b)(function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(t,n){e(Ei()),e(sn()),e(Vs({uuid:t,secureToken:n}))},dispatchLoadResultForCertificationAndAccreditation:function(t,n){e(function(e){var t,n=qs({},e),r=n.uuid,a=n.secureToken;return t=Qs(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lr.fetchResultForCertificationAndAccreditation({uuid:r,secureToken:a});case 3:return n=e.sent,o={type:l.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION,payload:n},e.next=7,t(o);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return t.apply(this,arguments)}}({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Js({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(Ys({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(Ws())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return t=Qs(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,lr.approveTaskSubmission({uuid:e,csrfToken:a});case 6:return t.sent.status,t.next=10,n(Vs({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return t=Qs(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,lr.denyTaskSubmission({uuid:e,csrfToken:a});case 6:return t.sent.status,t.next=10,n(Vs({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchSendBackForChangesTaskSubmissionAction:function(t){e(function(e){return t=Qs(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,lr.editTaskSubmission({uuid:e,csrfToken:a,secureToken:""});case 6:return t.sent.status,t.next=10,n(Vs({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=Qs(regeneratorRuntime.mark(function r(a,o){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n.push(t),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,lr.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,a(Vs({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))},dispatchEditTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=Qs(regeneratorRuntime.mark(function r(a,o){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=n.map(function(e){return e.id===t.id?qs({},n,t):e}),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,lr.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,a(Vs({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))}}})(yc);function vc(e){return(vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sc(e,t){return!t||"object"!==vc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kc(e,t){return(kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ac(e,t,n[t])})}return e}function Ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sc(this,Ec(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kc(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Oc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Oc({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,o=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,s=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var c="in_progress"===r.status||"start"===r.status,u="complete"===r.status;return a.a.createElement("div",{className:"TaskSubmissionContainer"},a.a.createElement(Nt,{pageTitle:r.taskName,logopath:t.logoPath}),a.a.createElement(cc,{taskSubmission:r,saveAnsweredQuestion:o,moveToPreviousQuestion:i,editAnswers:s,showEditButton:u,canUpdateAnswers:c,showBackButton:!1,siteConfig:t,currentUser:n}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}}])&&gc(n.prototype,o),i&&gc(n,i),t}(),wc=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(){var n=Oc({},t).taskId;e(Ei()),e(sn()),e(function(e){var t,n=qs({},e).taskId;return t=Qs(regeneratorRuntime.mark(function e(t,r){var a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lr.fetchStandaloneTask({taskId:n});case 3:return a=e.sent,o={id:"",uuid:"",taskName:a.name,taskType:"questionnaire",status:"in_progress",result:"",questions:a.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:o},e.next=8,t(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$.displayError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e,n){return t.apply(this,arguments)}}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Js({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(Ys({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(Ws({bypassNetwork:!0}))}}})(Tc),Cc=n(437),_c=n.n(Cc);function Nc(e){return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pc(e,t,n[t])})}return e}function Pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rc(e,t){return!t||"object"!==Nc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xc(e,t){return(xc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Uc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Rc(this,Dc(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xc(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=Ic({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return a.a.createElement("div",{className:"LeftBarItem"},a.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(Ic({},this.props).iconType){case"editing":return a.a.createElement("img",{src:_c.a,alt:""});case"success":return a.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return a.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return a.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&jc(n.prototype,o),i&&jc(n,i),t}();function Lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter(function(t){return t.id===e}).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter(function(n){return n.id===e&&n.productAspect===t}).length>0:n.filter(function(t){return t.id===e}).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter(function(n){return n.id===e&&n.productAspect===t&&n.isSaved}).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter(function(t){return t.productAspect===e}).length>0}}],(n=null)&&Lc(t.prototype,n),r&&Lc(t,r),e}();function Fc(e){return(Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qc(e,t,n[t])})}return e}function Qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hc(e,t){return!t||"object"!==Fc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jc(e,t){return(Jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Hc(this,Vc(t).call(this,e))).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jc(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=Bc({},this.props),n=t.title,r=t.availableComponents,o=t.selectedComponents,i=t.removeComponent,s=t.addComponent,c=t.productAspects,u=t.componentTarget,l=Bc({},this.state),p=l.filter,f=l.selectedProductAspect;return a.a.createElement("div",{className:"LeftBar"},c&&c.length>0&&a.a.createElement("div",{className:"product-aspect"},a.a.createElement("label",null,a.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),a.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=T()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:f},c.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)})))),a.a.createElement("div",{className:"title"},n),a.a.createElement("div",{className:"search"},a.a.createElement("i",{className:"fas fa-search"}),a.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=T()(t.target.value).trim();e.setState({filter:n})}})),a.a.createElement("div",{className:"items"},r.filter(function(e){return!p||e.name.toUpperCase().includes(p.toUpperCase())}).map(function(e){var t=Mc.isSelectedComponentExist(e.id,f,o),n=Mc.isComponentSaved(e.id,f,o,u)&&"JIRA Cloud"==u;return a.a.createElement(Uc,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,f):s(e.id,f)}})})))}}])&&qc(n.prototype,o),i&&qc(n,i),t}(),Gc=n(109);function Yc(e){return(Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zc(e,t,n[t])})}return e}function zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zc(e,t){return!t||"object"!==Yc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $c(e){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t){return(eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Zc(this,$c(t).call(this,e))).state={isExpanded:!1,isImplementationEvidenceExpaned:!n.props.isCVATaskEditable},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eu(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"componentDidUpdate",value:function(e){e.isCVATaskEditable!==this.props.isCVATaskEditable&&this.setState({isImplementationEvidenceExpaned:!this.props.isCVATaskEditable})}},{key:"render",value:function(){var e=this,t=Wc({},this.props),n=(t.id,t.name),r=t.description,o=t.implementationGuidance,i=t.implementationEvidence,s=t.className,c=t.showImplementationEvidence,u=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,p=Wc({},this.state),f=p.isExpanded,m=p.isImplementationEvidenceExpaned;return a.a.createElement("div",{className:"ControlInfo "+s},n&&a.a.createElement("h5",null,n),r&&a.a.createElement("div",{className:"control-description"},a.a.createElement("span",null,a.a.createElement("b",null,"Description: ")),a.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),o&&a.a.createElement("div",{className:"implementation-Guidance"},a.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!f})}},a.a.createElement("span",null,a.a.createElement("b",null,"Implementation Guidance "),a.a.createElement(Gc.Icon,{name:"".concat(f?"caret-up":"caret-down")}))),f&&a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}})),c&&a.a.createElement("div",{className:"implementation-Guidance"},a.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},a.a.createElement("span",null,a.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),a.a.createElement(Gc.Icon,{name:"".concat(m?"caret-up":"caret-down")}))),m&&a.a.createElement("div",null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?a.a.createElement("div",null,a.a.createElement(da.a,{className:"implementation-evidence",initialValue:u,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):a.a.createElement("div",{className:"implementation-evidence"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:u.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&Xc(n.prototype,r),o&&Xc(n,o),t}();function nu(e){return(nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ou(e,t){return!t||"object"!==nu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iu(e){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function su(e,t){return(su=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ou(this,iu(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&su(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ru(e,t,n[t])})}return e}({},this.props),t=e.id,n=e.name,r=e.description,o=e.removeComponent,i=e.childControls,s=e.isDisable;return a.a.createElement("div",{className:"ComponentInfo",key:t+n},a.a.createElement("h3",null,!s&&a.a.createElement("button",{onClick:function(e){e.preventDefault(),o()}},a.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),a.a.createElement("span",null," ",n))),a.a.createElement("p",null,r),i&&i.length>0&&a.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map(function(e,t){return a.a.createElement(tu,{key:t,id:e.id,name:e.name,description:e.description,implementationGuidance:e.implementationGuidance,className:"control-cs"})}))}}])&&au(n.prototype,r),o&&au(n,o),t}();function uu(e){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pu(e,t,n[t])})}return e}function pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mu(e,t){return!t||"object"!==uu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function du(e){return(du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bu(e,t){return(bu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=mu(this,du(t).call(this,e))).state={jiraKey:""},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bu(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=lu({},this.props),n=t.availableComponents,r=t.selectedComponents,o=t.createJIRATickets,i=t.removeComponent,s=t.addComponent,c=t.finishWithSelection,u=t.saveControls,l=t.extraButtons,p=t.componentTarget,f=t.productAspects,m=t.isStandaloneTask,d=lu({},this.state).jiraKey,b=f&&f.length>0&&r.length>0;return a.a.createElement("div",{className:"ComponentSelection"},a.a.createElement("div",{className:"main-wrapper"},a.a.createElement(Kc,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:s,productAspects:f,componentTarget:p}),a.a.createElement("div",{className:"main-content"},a.a.createElement("div",{className:"heading"},"Selected Components"),a.a.createElement("div",{className:"selected-components"},b>0&&f.map(function(e,t){return a.a.createElement("div",{key:t},Mc.doescomponentExistForProductAspect(e,r)&&a.a.createElement("h4",{key:t},e),r.map(function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==p;if(t.productAspect===e)return a.a.createElement(cu,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})}))}),(void 0===f||""===f||0===f.length)&&r.map(function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==p;return a.a.createElement(cu,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})})))),a.a.createElement("div",{className:"buttons-wrapper"},a.a.createElement("div",{className:"extra-buttons"},l),a.a.createElement("div",null,r.length>0&&"JIRA Cloud"===p&&a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=T()(t.target.value).trim();e.setState({jiraKey:n})}}),a.a.createElement(ia,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){o(d)}})),"Local"===p&&!m&&a.a.createElement(Dn,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){u()}}),a.a.createElement(Dn,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){c()}}))))}}])&&fu(n.prototype,o),i&&fu(n,i),t}();function hu(e){return(hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Su(e,t){return!t||"object"!==hu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eu(e){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ku(e,t){return(ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ou=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Su(this,Eu(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ku(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vu(e,t,n[t])})}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,o=e.componentTarget,i=e.productAspects,s=i&&i.length>0&&t.length>0;return a.a.createElement("div",{className:"ComponentSelectionReview"},a.a.createElement("div",{className:"section"},a.a.createElement("h4",null,"Selected Components"),s>0&&i.map(function(e,n){return a.a.createElement("ul",{key:n},Mc.doescomponentExistForProductAspect(e,t)&&a.a.createElement("h5",{key:n},e),t.map(function(t,n){if(t.productAspect===e)return a.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)}))}),a.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map(function(e){return a.a.createElement("li",{key:e.id},e.name)}))),"JIRA Cloud"===o&&a.a.createElement("div",{className:"section"},a.a.createElement("h4",null,"Created Jira Tickets"),a.a.createElement("ul",null,n.map(function(e){return a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:e.link,target:"_blank"},e.link))}))),a.a.createElement("div",{className:"buttons"},r))}}])&&gu(n.prototype,r),o&&gu(n,o),t}();function Au(e){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wu(e,t,n[t])})}return e}function wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _u(e,t){return!t||"object"!==Au(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iu(e,t){return(Iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_u(this,Nu(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iu(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Tu({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Tu({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,o=e.selectedComponents,i=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,c=e.dispatchCreateJIRATicketsAction,u=e.viewMode,l=e.jiraTickets,p=e.componentTarget;if(!n||!t)return null;var f=null;switch(u){case"edit":f=a.a.createElement(yu,{availableComponents:r,selectedComponents:o,componentTarget:p,isStandaloneTask:!0,createJIRATickets:function(e){c(e)},removeComponent:function(e){s(e)},addComponent:function(e){i(e)},finishWithSelection:function(){D.redirectToHome()}});break;case"review":f=a.a.createElement(Ou,{selectedComponents:o,jiraTickets:l},a.a.createElement("div",{className:"buttons"},a.a.createElement(ia,{title:"BACK TO HOME",onClick:function(){D.redirectToHome()}})))}return a.a.createElement("div",{className:"ComponentSelectionContainer"},a.a.createElement(Nt,{pageTitle:"Component Selection",logopath:t.logoPath}),f,a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Cu(n.prototype,o),i&&Cu(n,i),t}(),ju=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}},function(e,t){return{dispatchLoadDataAction:function(){e(Ei()),e(sn()),e(Rs())},dispatchAddComponentAction:function(t){e(Ds(t))},dispatchRemoveComponentAction:function(t){e(xs(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return t=js(regeneratorRuntime.mark(function t(n,r){var a,o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(a=r(),o=a.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,Ee.getCSRFToken();case 9:return i=t.sent,t.next=12,Is.createJiraTickets({jiraKey:e,componentIDList:er()(o.map(function(e){return e.id})),csrfToken:i});case 12:return s=t.sent,t.next=15,n(Ls(s));case 15:return t.next=17,n(Us("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),$.displayError(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Pu),Ru=n(438),Du=n.n(Ru);function xu(e){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lu(e,t){return!t||"object"!==xu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mu(e){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fu(e,t){return(Fu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lu(this,Mu(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fu(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&Uu(n.prototype,o),i&&Uu(n,i),t}();function Qu(e){return(Qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hu(e,t){return!t||"object"!==Qu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vu(e){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ju(e,t){return(Ju=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gu(e,t,n[t])})}return e}function Gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Hu(this,Vu(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ju(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Ku({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Ku({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,o=e.taskSubmission,i=e.availableComponents,s=e.selectedComponents,c=e.dispatchAddComponentAction,u=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,p=e.dispatchSaveLocalControlsAction,f=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!o||!t)return null;var d=parseInt(r.id)===parseInt(o.submitter.id),b=d||r.isSA||o.isTaskCollborator,y=Gi.isSRATaskFinalised(o.siblingSubmissions),h=("complete"===o.status||"waiting_for_approval"===o.status||"denied"===o.status)&&"submitted"===o.questionnaireSubmissionStatus&&b&&!o.lockWhenComplete,v=a.a.createElement(ia,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(o.questionnaireSubmissionUUID,n)}}),g=h&&!y?a.a.createElement(Dn,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:Du.a}):null,S=!1,E=!1;(d||o.isTaskCollborator)&&(S=!0),S||(o.isCurrentUserAnApprover||r.isSA||r.isCISO||o.isBusinessOwner||r.isAccreditationAuthority||r.isCertificationAuthority)&&(E=!0);var k=null;switch(o.status){case"start":case"in_progress":if(b){k=a.a.createElement(yu,{availableComponents:i,selectedComponents:s,componentTarget:o.componentTarget,productAspects:o.productAspects,extraButtons:v,createJIRATickets:function(e){l(e)},saveControls:function(){p()},removeComponent:function(e,t){u(e,t)},addComponent:function(e,t){c(e,t)},finishWithSelection:function(){f()}});break}k=a.a.createElement("div",{className:"ComponentSelectionReview"},a.a.createElement("div",{className:"section"},a.a.createElement("h4",null,"Selected Components"),a.a.createElement("br",null),a.a.createElement(Bu,null)),a.a.createElement("div",{className:"buttons"},v));break;case"complete":k=a.a.createElement("div",null,a.a.createElement("div",{className:"ComponentSelectionReview"},!!y&&Gi.getSraIsFinalisedAlert()),a.a.createElement(Ou,{selectedComponents:o.selectedComponents,jiraTickets:o.jiraTickets,componentTarget:o.componentTarget,productAspects:o.productAspects,buttons:[a.a.createElement("div",{key:"component-selection-review-button-container"},g,v)]}));break;case"expired":k=a.a.createElement($i,null)}return a.a.createElement("div",{className:"ComponentSelectionContainer"},a.a.createElement(Nt,{pageTitle:"Component Selection",logopath:t.logoPath,productName:o.questionnaireSubmissionProductName,questionnaireSubmissionUUID:o.questionnaireSubmissionUUID,isTaskApprover:o.isCurrentUserAnApprover,showSubmissionBreadcrumb:S,showApprovalBreadcrumb:E}),k,a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}}])&&qu(n.prototype,o),i&&qu(n,i),t}(),Wu=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}},function(e,t){return{dispatchLoadDataAction:function(){var n=Ku({},t),r=n.uuid,a=n.secureToken;e(sn()),e(Ei()),e(Rs()),e(Vs({uuid:r,secureToken:a,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(Ds(t,n))},dispatchRemoveComponentAction:function(t,n){e(xs(t,n))},dispatchCreateJIRATicketsAction:function(t){e(Ks(t))},dispatchSaveLocalControlsAction:function(){e(Ks(""))},dispatchFinishAction:function(){e(Gs())},dispatchEditAnswersAction:function(){e(Ws({type:"componentSelection"}))}}})(Yu);function zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,a,o){if("awaiting_security_architect_review"===e)return"Awaiting security review";if("waiting_for_security_architect_approval"===e)return"Awaiting security approval";if("waiting_for_approval"===e){if("pending"===a&&"pending"===o)return"Awaiting approval";if("pending"!==a&&"pending"===o)return"Awaiting business owner approval"}return"approved"===e&&"pending"===a&&"approved"===o?"Approved - Chief Information Security Officer Approval Pending":"awaiting_certification_and_accreditation"==e?"Awaiting certification and accreditation":"awaiting_accreditation"==e?"Awaiting accreditation":"awaiting_certification"==e?"Awaiting certification":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}}],(n=null)&&zu(t.prototype,n),r&&zu(t,r),e}();function Zu(e){return(Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){el(e,t,n[t])})}return e}function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nl(e,t){return!t||"object"!==Zu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rl(e){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function al(e,t){return(al=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ol(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var il=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nl(this,rl(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&al(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,$u({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=$u({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,o=e.loadingState;return t&&n&&r?o["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement(Nt,{pageTitle:"Your submissions",logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return j.a.isEmpty(n)?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-bordered table-hover"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",{className:"text-center"},"Date Created"),a.a.createElement("th",{className:"text-center"},"Pillar"),a.a.createElement("th",{className:"text-center"},"Product Name"),a.a.createElement("th",{className:"text-center"},"Status"),a.a.createElement("th",{className:"text-center"},"Actions"))),a.a.createElement("tbody",null,n.map(function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,ca()(e.created).format("DD MMM YYYY")),a.a.createElement("td",null,e.questionnaireName),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,Xu.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),a.a.createElement("td",null,a.a.createElement("a",{href:n},"View")))})))))}(n,t),a.a.createElement(Jt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&tl(n.prototype,o),i&&tl(n,i),t}(),sl=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ei());case 2:return t.next=4,e(function(){var e=mr(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Yn.fetchQuestionnaireSubmissionList(r.id,"my_submission_list",0,0);case 8:a=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:a}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(sn());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(e){ol(o,r,a,i,s,"next",e)}function s(e){ol(o,r,a,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(il),cl=n(203),ul=n.n(cl),ll=n(439),pl=n.n(ll),fl=n(440),ml=n.n(fl),dl=n(441),bl=n.n(dl);function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vl(e,t){return!t||"object"!==yl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gl(e){return(gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sl(e,t){return(Sl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var El=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=vl(this,(e=gl(t)).call.apply(e,[this].concat(a)))).handleFirstPageClick=function(){n.props.paginationActions.firstPage({limit:10,offset:0,index:1,pageNumber:1})},n.handleNextPageClick=function(e){n.props.paginationActions.nextPage({limit:n.props.limit,offset:(n.props.page+1-1)*n.props.limit,index:e+1,pageNumber:n.props.page+1})},n.handlePreviousPageClick=function(){n.props.paginationActions.prevPage({limit:n.props.limit,offset:(n.props.page-1-1)*n.props.limit,index:Math.abs(n.props.limit-n.props.index),pageNumber:n.props.page-1})},n.handleLastPageClick=function(e){n.props.paginationActions.lastPage({limit:n.props.limit,offset:(Math.ceil(e/n.props.limit)-1)*n.props.limit,index:(Math.ceil(e/n.props.limit)-1)*n.props.limit,pageNumber:Math.ceil(e/n.props.limit)})},n.handleChangeForSelectedRows=function(e){n.props.paginationActions.selectedRow({limit:e,offset:n.props.offset,index:n.props.index,pageNumber:n.props.page})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sl(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.limit,r=t.offset;e.limit===n&&e.offset===r||this.props.dispatchList(n,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.paginationInfo,r=n.totalCount,o=n.hasNextPage,i=n.hasPreviousPage,s=t.listLength,c=[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:40,label:"40"},{value:50,label:"50"}],u=this.props.offset+s,l=this.props.index;return i||(l=1),a.a.createElement("div",{className:"pagination-container"},a.a.createElement("span",{className:"rows-per-page"},"Rows per page"),a.a.createElement("div",{className:"rows-per-page-select"},a.a.createElement(ba.a,{value:{label:this.props.limit},options:c,defaultValue:c[0],classNamePrefix:"react-select",placeholder:c[0],isSearchable:!1,onChange:function(t){return e.handleChangeForSelectedRows(t.value)}})),a.a.createElement("div",{className:"pagination-navigation-count"},l+"-"+u+" of "+r),a.a.createElement("div",{className:"pagination-buttons"},a.a.createElement("img",{className:i?"":"disable-pagination",src:pl.a,onClick:i?function(){return e.handleFirstPageClick()}:""}),a.a.createElement("img",{className:i?"":"disable-pagination",src:bl.a,onClick:i?function(){return e.handlePreviousPageClick()}:""}),a.a.createElement("img",{className:o?"":"disable-pagination",src:Ui.a,onClick:o?function(){return e.handleNextPageClick(u)}:""}),a.a.createElement("img",{className:o?"":"disable-pagination",src:ml.a,onClick:o?function(){return e.handleLastPageClick(r)}:""})))}}])&&hl(n.prototype,o),i&&hl(n,i),t}();n(397);function kl(e){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Al(e,t){return!t||"object"!==kl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tl(e){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wl(e,t){return(wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Al(this,Tl(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wl(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.paginationState.pagination,n=e.paginationActions;return a.a.createElement(El,{paginationInfo:this.props.paginationInfo,listLength:this.props.listLength,dispatchList:this.props.dispatchList,limit:t.limit,offset:t.offset,page:t.pageNumber,index:t.index,paginationActions:n})}}])&&Ol(n.prototype,o),i&&Ol(n,i),t}(),_l=Object(s.b)(function(e){return{paginationState:e.paginationState}},function(e,t){return{paginationActions:{nextPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_NEXT_PAGE,payload:e}}(t))},prevPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_PREV_PAGE,payload:e}}(t))},firstPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_FIRST_PAGE,payload:e}}(t))},lastPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_LAST_PAGE,payload:e}}(t))},selectedRow:function(t){return e(function(e){return{type:l.PAGINATION.SET_SELECTED_ROWS,payload:e}}(t))}}}})(Cl);function Nl(e){return(Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pl(e,t,n[t])})}return e}function Pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(e,t){return!t||"object"!==Nl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dl(e){return(Dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xl(e,t){return(xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ul(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var Ll=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Rl(this,Dl(t).call(this,e))).state={currentApprovalList:"QuestionnaireApproval"},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xl(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Il({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=Il({},this.props),n=t.currentUser,r=t.siteConfig,o=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,s=t.loadingState,c=t.dispatchloadAwaitingApprovalList,u=t.dispatchloadAwaitingApprovalTaskList;return n&&o&&r&&i?s["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement(Nt,{pageTitle:"Your approvals",logopath:r.logoPath}),a.a.createElement("div",{className:"container tab-container mb-0"},a.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"QuestionnaireApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalList(10,0)}},"Submission approvals"),a.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"TaskApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalTaskList(10,0)}},"Task approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&Ml(o,n,c),"TaskApproval"==this.state.currentApprovalList&&Fl(i,n,u),a.a.createElement(Jt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&jl(n.prototype,o),i&&jl(n,i),t}(),Ml=function(e,t,n){var r=e.questionnaireSubmissionList,o=e.pageInfo;return j.a.isEmpty(r)?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire.")):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-hover table-approval-list"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",null,a.a.createElement("span",{className:"date-created"},"Date created"),a.a.createElement("img",{src:ul.a})),a.a.createElement("th",{className:"submission-product-name-header"},"Product Name"),a.a.createElement("th",null,"Business Owner"),a.a.createElement("th",null,"Submitter"),a.a.createElement("th",null,"Release date"),a.a.createElement("th",{className:"security-architect-header"},"Security architect"),a.a.createElement("th",{className:"submission-status-header"},"Status"),a.a.createElement("th",null))),a.a.createElement("tbody",null,r.map(function(e){var n="#/questionnaire/summary/"+e.uuid,r=e.SecurityArchitectApprover;return"null null"==r&&(r="Unassigned"),a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,ca()(e.created).format("DD/MM/YY")),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,e.businessOwner),a.a.createElement("td",null,e.submitterName),a.a.createElement("td",null,e.releaseDate?ca()(e.releaseDate).format("DD/MM/YY"):""),a.a.createElement("td",{className:"Unassigned"==r?"unassigned-approver":""},r),a.a.createElement("td",null,a.a.createElement("img",{src:Ea.a}),Xu.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),a.a.createElement("td",null,a.a.createElement("a",{href:n},a.a.createElement("img",{src:Ui.a}))))})))),a.a.createElement(_l,{paginationInfo:o,listLength:r.length,dispatchList:n}))},Fl=function(e,t,n){var r=e.taskSubmissionList,o=e.pageInfo;return j.a.isEmpty(r)?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task.")):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-hover table-approval-list"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",null,a.a.createElement("span",{className:"date-created"},"Date created"),a.a.createElement("img",{src:ul.a})),a.a.createElement("th",{className:"task-name-header"},"Task name"),a.a.createElement("th",{className:"task-product-name-header"},"Product Name"),a.a.createElement("th",{className:"task-submitter-header"},"Submitter"),a.a.createElement("th",{className:"task-status-header-header"},"Status"),a.a.createElement("th",null))),a.a.createElement("tbody",null,r.map(function(e){var t="#/task/submission/"+e.uuid;return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,ca()(e.created).format("DD/MM/YY")),a.a.createElement("td",null,e.taskName),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,e.submitterName),a.a.createElement("td",null,a.a.createElement("img",{src:Ea.a}),"Awaiting approval"),a.a.createElement("td",null,a.a.createElement("a",{href:t},a.a.createElement("img",{src:Ui.a}))))})))),a.a.createElement(_l,{paginationInfo:o,listLength:r.length,dispatchList:n}))},Bl=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ei());case 2:return t.next=4,e(yr(10,0));case 4:return t.next=6,e(Zs(10,0));case 6:return t.next=8,e(sn());case 8:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(e){Ul(o,r,a,i,s,"next",e)}function s(e){Ul(o,r,a,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)}),dispatchloadAwaitingApprovalTaskList:function(t,n){e(Zs(t,n))},dispatchloadAwaitingApprovalList:function(t,n){e(yr(t,n))},resetPagination:function(){return e({type:l.PAGINATION.RESET_PAGINATION})}};var n,r})(Ll);function Ql(e){return(Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Hl(e,t,n[t])})}return e}function Hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jl(e,t){return!t||"object"!==Ql(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kl(e){return(Kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gl(e,t){return(Gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yl(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var Wl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jl(this,Kl(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gl(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,ql({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=ql({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,o=e.loadingState;return t&&n&&r?o["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement(Nt,{pageTitle:"My Products",logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return j.a.isEmpty(n)?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-bordered table-hover"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",{className:"text-center"},"Date Created"),a.a.createElement("th",{className:"text-center"},"Product Name"),a.a.createElement("th",{className:"text-center"},"Submitter"),a.a.createElement("th",{className:"text-center"},"Status"),a.a.createElement("th",{className:"text-center"},"Actions"))),a.a.createElement("tbody",null,n.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,ca()(e.created).format("DD MMM YYYY")),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,e.submitterName),a.a.createElement("td",null,Xu.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),a.a.createElement("td",null,a.a.createElement("a",{href:n},"View")))})))))}(n,t),a.a.createElement(Jt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Vl(n.prototype,o),i&&Vl(n,i),t}(),zl=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ei());case 2:return t.next=4,e(function(){var e=mr(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Yn.fetchQuestionnaireSubmissionList(r.id,"my_product_list",0,0);case 8:a=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:a}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(sn());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(e){Yl(o,r,a,i,s,"next",e)}function s(e){Yl(o,r,a,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(Wl);function Xl(e){return(Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ep(e,t){return!t||"object"!==Xl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tp(e){return(tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function np(e,t){return(np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ep(this,tp(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&np(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Zl(e,t,n[t])})}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?a.a.createElement("div",{className:"LikelihoodLegend"},a.a.createElement("h3",null,"Likelihood Legend"),a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-sm"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{key:"likelihood_legend_header"},a.a.createElement("th",null,"Threshold"),a.a.createElement("th",null,"Rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.operator+e.value),a.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&$l(n.prototype,o),i&&$l(n,i),t}();function ap(e){return(ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,t){return!t||"object"!==ap(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cp(e){return(cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function up(e,t){return(up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sp(this,cp(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&up(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){op(e,t,n[t])})}return e}({},this.props).impactThresholds;return e&&0!==e.length?a.a.createElement("div",{className:"ImapctLegend"},a.a.createElement("h3",null,"Impact Legend"),a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-sm"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{key:"impact_legend_header"},a.a.createElement("th",null,"Threshold"),a.a.createElement("th",null,"Rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.operator+e.value),a.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&ip(n.prototype,o),i&&ip(n,i),t}();var pp=n(204),fp=n.n(pp);function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bp(e,t){return!t||"object"!==mp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yp(e){return(yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hp(e,t){return(hp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bp(this,yp(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hp(e,t)}(t,r["Component"]),n=t,(o=[{key:"renderTableHeader",value:function(){return a.a.createElement("tr",{key:"sra_header"},a.a.createElement("th",null,"Risk"),this.props.hasProductAspects&&a.a.createElement("th",null,"Product Aspect"),a.a.createElement("th",null,"Current Controls"),a.a.createElement("th",null,"Current Likelihood"),a.a.createElement("th",null,"Current Impact"),a.a.createElement("th",null,"Current Risk Rating"),a.a.createElement("th",null,"Recommended Treatments"))}},{key:"renderTableBody",value:function(){var e=this;return this.props.hasProductAspects?this.props.calculatedSRAData.map(function(t,n){return t.productAspects.map(function(n,r){var a={riskId:t.riskId,riskName:0==r?"".concat(t.riskName," (").concat(t.baseImpactScore,")"):null,riskDescription:0==r?t.description:null,components:n.components,currentLikelihood:n.currentLikelihood,currentImpact:n.currentImpact,currentRiskRating:n.currentRiskRating};return e.renderTableRow(a,n.productAspectName)})}):this.props.calculatedSRAData.map(function(t,n){var r={riskId:t.riskId,riskName:"".concat(t.riskName," (").concat(t.baseImpactScore,")"),riskDescription:t.description,components:t.riskDetail.components,currentLikelihood:t.riskDetail.currentLikelihood,currentImpact:t.riskDetail.currentImpact,currentRiskRating:t.riskDetail.currentRiskRating};return e.renderTableRow(r)})}},{key:"renderTableRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a.a.createElement("tr",{key:t+"_"+e.riskId},a.a.createElement("td",null,a.a.createElement("span",{style:{display:"block"}},e.riskName),a.a.createElement("small",{className:"text-muted"},e.riskDescription)),this.props.hasProductAspects&&t&&a.a.createElement("td",null,t),a.a.createElement("td",null,this.renderComponents(e.components,"Implemented")),a.a.createElement("td",null,this.renderCurrentLikelihood(e.currentLikelihood)),a.a.createElement("td",null,this.renderCurrentImapct(e.currentImpact)),a.a.createElement("td",{style:e.currentRiskRating.colour?{backgroundColor:e.currentRiskRating.colour}:null},this.renderCurrentRiskRating(e.currentRiskRating)),a.a.createElement("td",null,this.renderComponents(e.components,"Recommened")))}},{key:"renderComponents",value:function(e,t){var n=this;return e&&Array.isArray(e)&&0!=e.length?e.map(function(e,r){var o="Implemented"===t?e.implementedControls:e.recommendedControls;return a.a.createElement("div",{key:r+1},a.a.createElement("strong",{key:e.id},o.length>0?e.name:null),o.length>0&&n.renderControls(o,t))}):null}},{key:"renderControls",value:function(e,t){return e.map(function(e,n){var r=!1;return"Recommened"==t&&(fp()(e.likelihoodPenalty)>0||fp()(e.impactPenalty)>0)&&(r=!0),a.a.createElement("div",{key:n+1},a.a.createElement("span",{key:e.id,className:"".concat(r?"font-weight-bold control-title":"font-weight-normal control-title")},e.name," "),a.a.createElement("small",{className:"text-muted"},"( L: ",e.likelihoodWeight,", I: ",e.impactWeight,", LP: ",e.likelihoodPenalty,", IP: ",e.impactPenalty,")"))})}},{key:"renderCurrentLikelihood",value:function(e){return a.a.createElement("div",null,a.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),a.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentImapct",value:function(e){return a.a.createElement("div",null,a.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),a.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentRiskRating",value:function(e){return a.a.createElement("div",null,e.name)}},{key:"render",value:function(){return this.props.calculatedSRAData?a.a.createElement("div",{className:"RiskMatrix"},a.a.createElement("h3",null,"Your risk assessment results"),a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:"thead-light"},this.renderTableHeader()),a.a.createElement("tbody",null,this.renderTableBody())))):null}}])&&dp(n.prototype,o),i&&dp(n,i),t}();function gp(e){return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kp(e,t){return!t||"object"!==gp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Op(e){return(Op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ap(e,t){return(Ap=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kp(this,Op(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ap(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Sp(e,t,n[t])})}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?a.a.createElement("div",{className:"RiskRatingLegend"},a.a.createElement("h3",null,"Risk Rating Matix"),a.a.createElement("div",{className:"table-responsive"},a.a.createElement("p",{className:"impact-heading"},"Impact"),a.a.createElement("table",{className:"table table-sm table-bordered"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map(function(e,t){return a.a.createElement("th",{key:t},e)}))),a.a.createElement("tbody",null,e.tableRows.map(function(e,t){return a.a.createElement("tr",{key:"row_"+t},e.map(function(e,t){return a.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)}))}))))):null}}])&&Ep(n.prototype,o),i&&Ep(n,i),t}();function wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cp(e,t,n[t])})}return e}function Cp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _p(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Np(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){_p(o,r,a,i,s,"next",e)}function s(e){_p(o,r,a,i,s,"throw",e)}i(void 0)})}}function Ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:function(){var e=Np(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=wp({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw B;case 8:return c=JSON.parse(O()(s,"SecurityRiskAssessmentData","")),u={uuid:s&&s.UUID?s.UUID:"",taskName:T()(O()(s,"TaskName","")),status:T()(O()(s,"Status","")),submitterID:T()(O()(s,"Submitter.ID","")),isTaskCollborator:"true"===O()(s,"IsTaskCollborator","false"),questionnaireSubmissionUUID:T()(O()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionProductName:T()(O()(s,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===O()(s,"QuestionnaireSubmission.IsBusinessOwner","false"),taskSubmissions:Y.parseAlltaskSubmissionforQuestionnaire(s),sraData:c},e.abrupt("return",u);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchImpactThreshold",value:function(){var e=Np(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readImpactThreshold",null)){e.next=7;break}throw B;case 7:return r=n.map(function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&Ip(t.prototype,n),r&&Ip(t,r),e}();function jp(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Rp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){jp(o,r,a,i,s,"next",e)}function s(e){jp(o,r,a,i,s,"throw",e)}i(void 0)})}}function Dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xp(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dp(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Rp(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,Pp.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return a=e.sent,o={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:a},e.next=9,t(o);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:$.displayError(e.t0);case 16:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}function Up(e){return(Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mp(e,t,n[t])})}return e}function Mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bp(e,t){return!t||"object"!==Up(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qp(e){return(Qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qp(e,t){return(qp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bp(this,Qp(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qp(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Lp({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=Lp({},this.props),n=t.siteConfig,r=t.currentUser,o=t.securityRiskAssessmentData,i=t.secureToken,s=t.impactThresholdData;if(!r||!n||!o)return null;var c=Lp({},o),u=c.uuid,l=(c.taskName,c.questionnaireSubmissionUUID),p=(c.submitterID,c.taskSubmissions),f=c.sraData,m=(c.status,Gi.isSRATaskFinalised(p)),d=a.a.createElement(Dn,{title:"BACK TO QUESTIONNAIRE SUMMARY",classes:["button ml-3"],onClick:function(){D.redirectToQuestionnaireSummary(l,i)}}),b=Gi.isSiblingTaskPending(p),y=o.submitterID===r.id||o.isTaskCollborator,h=m||b||!y?null:a.a.createElement(ia,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(u,i,l)}}),v=!1,g=!1;return(o.isSubmitter||o.isTaskCollborator)&&(v=!0),v||(r.isSA||r.isCISO||o.isBusinessOwner||r.isAccreditationAuthority||r.isCertificationAuthority)&&(g=!0),a.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},a.a.createElement(Nt,{pageTitle:o.taskName,logopath:n.logoPath,productName:o.questionnaireSubmissionProductName,questionnaireSubmissionUUID:o.questionnaireSubmissionUUID,showSubmissionBreadcrumb:v,showApprovalBreadcrumb:g}),"expired"===o.status&&a.a.createElement($i,null),"expired"!==o.status&&a.a.createElement("div",{className:"SecurityRiskAssessmentResult"},!!m&&Gi.getSraIsFinalisedAlert(),a.a.createElement(vp,{calculatedSRAData:f.calculatedSRAData,hasProductAspects:f.hasProductAspects}),a.a.createElement(rp,{likelihoodThresholds:f.likelihoodThresholds}),a.a.createElement(lp,{impactThresholds:s}),a.a.createElement(Tp,{riskRatingThresholds:f.riskRatingThresholds}),a.a.createElement("div",{className:"buttons"},d,h)),a.a.createElement(Jt,{footerCopyrightText:n.footerCopyrightText}))}}])&&Fp(n.prototype,o),i&&Fp(n,i),t}(),Vp=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}},function(e,t){return{dispatchLoadDataAction:function(t,n){var r;e(Ei()),e(sn()),e(xp({uuid:t,secureToken:n})),e((r=Rp(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pp.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return r.apply(this,arguments)}))},dispatchFinaliseAction:function(t,n,r){e(Gs({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}})(Hp);function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Kp(e,t,n[t])})}return e}function Kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gp(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Yp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Gp(o,r,a,i,s,"next",e)}function s(e){Gp(o,r,a,i,s,"throw",e)}i(void 0)})}}function Wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:function(){var e=Yp(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jp({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw B;case 8:return c=JSON.parse(O()(s,"CVATaskData","[]")),Array.isArray(c)||(c=[]),u=c.length>0?nr.parseCVAFromJSONObject(c):c,l={id:T()(O()(s,"ID","")),status:T()(O()(s,"Status","")),uuid:T()(O()(s,"UUID","")),questionnaireSubmissionUUID:T()(O()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionProductName:T()(O()(s,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===O()(s,"QuestionnaireSubmission.IsBusinessOwner","false"),taskName:T()(O()(s,"TaskName","")),selectedComponents:u,submitterID:T()(O()(s,"Submitter.ID","")),componentTarget:T()(O()(s,"CVATaskDataSource","")),isTaskCollborator:"true"===O()(s,"IsTaskCollborator","false"),productAspects:_.has(s,"ProductAspects")?JSON.parse(O()(s,"ProductAspects",[])):[],siblingSubmissions:Y.parseAlltaskSubmissionforQuestionnaire(s)},e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveControlValidationAuditData",value:function(){var e=Yp(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jp({},t),r=n.uuid,a=n.controlData,o=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,F.request({query:s,csrfToken:o});case 5:if(c=e.sent,_.get(c,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw B;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reSyncWithJira",value:function(){var e=Yp(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jp({},t),r=n.uuid,a=n.csrfToken,o='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw B;case 8:return c=JSON.parse(O()(s,"CVATaskData","[]")),Array.isArray(c)||(c=[]),u=c.length>0?nr.parseCVAFromJSONObject(c):c,e.abrupt("return",u);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Wp(t.prototype,n),r&&Wp(t,r),e}();function Xp(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Zp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Xp(o,r,a,i,s,"next",e)}function s(e){Xp(o,r,a,i,s,"throw",e)}i(void 0)})}}function $p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ef(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$p(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Zp(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,zp.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return a=e.sent,o={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:a},e.next=11,t(o);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:$.displayError(e.t0);case 18:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t){return e.apply(this,arguments)}}()}function tf(e){return(tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rf(e,t,n[t])})}return e}function rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function of(e,t){return!t||"object"!==tf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sf(e){return(sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cf(e,t){return(cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uf(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function lf(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){uf(o,r,a,i,s,"next",e)}function s(e){uf(o,r,a,i,s,"throw",e)}i(void 0)})}}var pf=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=of(this,sf(t).call(this,e))).state={isCVATaskEditable:!1,isSRATaskFinalised:!1,canEdit:!1},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cf(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=lf(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,c,u,l,p,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=nf({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,a=t.secureToken,e.next=3,r(n,a);case 3:try{o=nf({},this.props),i=o.controlValidationAuditData,s=o.currentUser,c=i.submitterID===s.id,u=c||i.isTaskCollborator,l=Gi.isSRATaskFinalised(i.siblingSubmissions),p=u&&!l,this.setState({canEdit:u,isSRATaskFinalised:l,isCVATaskEditable:p}),this.autoSaveCVATask=setInterval(lf(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,f.callAutoSaveCvaTaskApi();case 3:case"end":return e.stop()}},e,this)})),6e5)}catch(e){$.displayError(error)}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.autoSaveCVATask)}},{key:"callAutoSaveCvaTaskApi",value:function(){var e=nf({},this.props),t=e.uuid,n=e.secureToken,r=e.dispatchSaveControlValidationAuditDataAction,a=e.controlValidationAuditData,o=e.cvaSelectedComponents;e.currentUser;r(t,o,a.questionnaireSubmissionUUID,n,!0)}},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;this.props.controlValidationAuditData.componentTarget;return t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?a.a.createElement("div",null,n.map(function(t){return e.renderComponent(t)})):a.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return a.a.createElement("div",null,e.map(function(e,r){var o=t.filter(function(t){return t.productAspect===e});return 0==o.length?null:a.a.createElement("div",{className:"mt-2",key:r},a.a.createElement("h4",null,e),o.map(function(e){return n.renderComponent(e)}))}))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,o=e.jiraTicketLink?a.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return a.a.createElement("div",{key:n},a.a.createElement("h5",null,e.name,o&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&a.a.createElement("span",null," - ",o)),r&&r.length>0&&r.map(function(n){return t.renderControl(n,e)}),!r||0==r.length&&a.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,o=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return a.a.createElement("div",{className:"my-0 container row",key:t},a.a.createElement("div",{className:"col-xs-2"},o.map(function(o,i){return a.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},a.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:o.value,defaultChecked:e.selectedOption===o.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:o.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),o.label)})),a.a.createElement("div",{className:"col-10"},a.a.createElement("label",{key:e.id},a.a.createElement("strong",null,e.name)),a.a.createElement(tu,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:this.state.isCVATaskEditable,updateEvidenceTextareaData:function(t){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return a.a.createElement("div",{className:"my-0",key:t},a.a.createElement("label",{className:"ml-2",key:e.id},a.a.createElement("span",null,a.a.createElement("strong",null,e.name)," - "),a.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=nf({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,o=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,s=e.cvaSelectedComponents,c=e.dispatchReSyncWithJira;if(!n||!r||!t)return null;var u=this.state.isCVATaskEditable&&s.length>0?a.a.createElement(Dn,{title:"SUBMIT",onClick:function(){return i(r.uuid,s,r.questionnaireSubmissionUUID,o,!1)}}):null,l=a.a.createElement(ia,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,o)}}),p=this.state.isCVATaskEditable&&"JIRA Cloud"==r.componentTarget&&s.length>0?a.a.createElement(ia,{title:"RE SYNC WITH JIRA",onClick:function(){return c(r.uuid)}}):null,f=!1,m=!1;return(r.submitterID===n.id||r.isTaskCollborator)&&(f=!0),f||(n.isSA||n.isCISO||r.isBusinessOwner||n.isAccreditationAuthority||n.isCertificationAuthority)&&(m=!0),a.a.createElement("div",{className:"ControlValidationAuditContainer"},a.a.createElement(Nt,{pageTitle:r.taskName,logopath:t.logoPath,productName:r.questionnaireSubmissionProductName,questionnaireSubmissionUUID:r.questionnaireSubmissionUUID,showSubmissionBreadcrumb:f,showApprovalBreadcrumb:m}),"expired"===r.status&&a.a.createElement($i,null),"expired"!==r.status&&a.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},a.a.createElement("div",{className:"ControlValidationAuditForm"},a.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!this.state.canEdit&&a.a.createElement(Bu,null),(this.state.canEdit||"complete"==r.status)&&a.a.createElement("div",null,!!this.state.isSRATaskFinalised&&Gi.getSraIsFinalisedAlert(),this.renderCVAQuestionsForm())),a.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},a.a.createElement("div",null,u,p,l))),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}}])&&af(n.prototype,o),i&&af(n,i),t}(),ff=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:(n=lf(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(ef({uuid:n,secureToken:r})),e(Ei()),e(sn())]);case 2:case"end":return t.stop()}},t,this)})),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,a,o){e(function(e,t,n,r,a){return o=Zp(regeneratorRuntime.mark(function o(i){var s,c,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Ee.getCSRFToken();case 3:return s=o.sent,o.next=6,zp.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:s});case 6:return c=o.sent,u={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:c},o.next=10,i(u);case 10:a||D.redirectToQuestionnaireSummary(n,r),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),$.displayError(o.t0);case 16:case"end":return o.stop()}},o,this,[[0,13]])})),function(e){return o.apply(this,arguments)};var o}(t,n,r,a,o))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n,r;e((n=t,r=Zp(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}))},dispatchReSyncWithJira:function(t){e(function(e){return t=Zp(regeneratorRuntime.mark(function t(n){var r,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,Ee.getCSRFToken();case 5:return r=t.sent,t.next=8,zp.reSyncWithJira({uuid:e,csrfToken:r});case 8:return a=t.sent,o={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:a},t.next=12,n(o);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:$.displayError(t.t0);case 19:case"end":return t.stop()}},t,this,[[2,14]])})),function(e){return t.apply(this,arguments)};var t}(t))}};var n})(pf),mf=n(49);function df(e){return(df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yf(e,t){return!t||"object"!==df(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hf(e){return(hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vf(e,t){return(vf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yf(this,hf(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vf(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"loading-spinner-page-overlay"},a.a.createElement("div",{className:"loading-spinner"},a.a.createElement(Gc.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&bf(n.prototype,o),i&&bf(n,i),t}();function Sf(e){return(Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ef(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t){return!t||"object"!==Sf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Of(e){return(Of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Af(e,t){return(Af=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kf(this,Of(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Af(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",null,this.props.loading&&a.a.createElement(gf,null),a.a.createElement("main",null,a.a.createElement(c.a,null,a.a.createElement(u.a,{exact:!0,path:"/"},function(){return a.a.createElement(bn,null)}),a.a.createElement(u.a,{path:"/questionnaire/start/:id"},function(e){var t=e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Cr,{questionnaireID:t.params.id}))}),a.a.createElement(u.a,{path:"/questionnaire/submission/:hash"},function(e){var t=e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(ko,{submissionHash:t.params.hash}))}),a.a.createElement(u.a,{path:"/questionnaire/review/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(mf.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(di,{submissionHash:t.params.hash,secureToken:r}))}),a.a.createElement(u.a,{path:"/questionnaire/summary/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(mf.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(ks,{submissionHash:t.params.hash,secureToken:r}))}),a.a.createElement(u.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(mf.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(hc,{uuid:t.params.uuid,secureToken:r}))}),a.a.createElement(u.a,{path:"/tasks/standalone/:taskId"},function(e){var t=e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(wc,{taskId:t.params.taskId}))}),a.a.createElement(u.a,{path:"/component-selection/standalone/:taskId"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(mf.parse)(n.search).componentTarget);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(ju,{taskId:t.params.taskId,componentTarget:r}))}),a.a.createElement(u.a,{path:"/component-selection/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(mf.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Wu,{uuid:t.params.uuid,secureToken:r}))}),a.a.createElement(u.a,{path:"/control-validation-audit/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(mf.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(ff,{uuid:t.params.uuid,secureToken:r}))}),a.a.createElement(u.a,{path:"/security-risk-assessment/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(mf.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Vp,{uuid:t.params.uuid,secureToken:r}))}),a.a.createElement(u.a,{path:"/MySubmissions"},function(e){e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(sl,null))}),a.a.createElement(u.a,{path:"/AwaitingApprovals"},function(e){e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Bl,null))}),a.a.createElement(u.a,{path:"/MyProducts"},function(e){e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(zl,null))}))))}}])&&Ef(n.prototype,o),i&&Ef(n,i),t}(),wf=Object(dt.a)(Object(s.b)(function(e){return{loading:j.a.chain(e.loadingState).values().some(function(e){return e}).value()}},function(e,t){return{}})(Tf)),Cf=n(787),_f=n(15),Nf=(n(728),{title:"",subtitle:"",pillars:[],tasks:[]});function If(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pf(e,t,n[t])})}return e}function Pf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jf={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},Rf={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var Df=Object(_f.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jf,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rf,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex(function(e){return e.id===n.id});if(r<0)return e;var a=If({},e);return j.a.set(a,"submission.questions.".concat(r),n),a}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var o=e.submission;if(!o)return e;var i=If({},t).targetIndex,s=o.questions.findIndex(function(e){return e.isCurrent});if(i<0||i>=o.questions.length)return e;var c=If({},e);return j.a.set(c,"submission.questions.".concat(s,".isCurrent"),!1),j.a.set(c,"submission.questions.".concat(i,".isCurrent"),!0),c}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var u=e.submission;if(!u)return e;var p=If({},e),f=t.nonApplicableIndexes;return f&&f.length>0&&f.forEach(function(e){var t=u.questions[e];t.isApplicable=!1,j.a.set(p,"submission.questions.".concat(e),t)}),p}return e}}),xf=n(82),Uf=n.n(xf),Lf=n(50),Mf=n.n(Lf);function Ff(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bf(e,t,n[t])})}return e}function Bf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qf={taskSubmission:null};function qf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hf={user:null};function Vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jf={siteConfig:null};var Kf=n(442),Gf=n.n(Kf);function Yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wf(e,t,n[t])})}return e}function Wf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zf={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Xf=Mc.isComponentExist,Zf=Mc.isSelectedComponentExist;function $f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){em(e,t,n[t])})}return e}function em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tm={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rm(e,t,n[t])})}return e}function rm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var am={securityRiskAssessmentData:null,impactThresholdData:null};function om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){im(e,t,n[t])})}return e}function im(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sm={controlValidationAuditData:null,cvaSelectedComponents:[]};Mc.isSelectedComponentExist;function cm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function um(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var lm={members:null};function pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fm(e,t,n[t])})}return e}function fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mm={pagination:{limit:10,offset:0,index:1,pageNumber:1}};var dm=Object(_f.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:Df,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qf,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION){if(!n)return e;var r=Ff({},t.payload).resultForCertificationAndAccreditation,a=Uf()(e);return Mf()(a,"taskSubmission.resultForCertificationAndAccreditation",r),a}if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var o=t.payload,i=n.questions.findIndex(function(e){return e.id===o.id});if(i<0)return e;var s=Uf()(e);return Mf()(s,"taskSubmission.questions.".concat(i),o),s}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var c=Uf()(e),u=t.payload;return u&&u.length>0&&u.forEach(function(e){var t=n.questions[e];t.isApplicable=!1,Mf()(c,"taskSubmission.questions.".concat(e),t)}),c}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var p=Ff({},t.payload),f=p.currentIndex,m=p.targetIndex;if(m<0||m>=n.questions.length)return e;var d=Uf()(e);return Mf()(d,"taskSubmission.questions.".concat(f,".isCurrent"),!1),Mf()(d,"taskSubmission.questions.".concat(m,".isCurrent"),!0),d}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var b=Uf()(e);return Mf()(b,"taskSubmission.status","complete"),t.payload&&Mf()(b,"taskSubmission.result",t.payload),b}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var y=Uf()(e);return Mf()(y,"taskSubmission.status","in_progress"),Mf()(y,"taskSubmission.result",null),y}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qf(e,t,n[t])})}return e}({},e,{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vf(e,t,n[t])})}return e}({},e,{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zf,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS)return Yf({},e,{availableComponents:t.payload});if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var n=t,r=n.payload.id,a=n.payload.productAspect;if(!Zf(r,a,e.selectedComponents)&&Xf(r,e.availableComponents)){var o=e.availableComponents.filter(function(e){return e.id===r}),i=Object.assign({},o[0]);return i.productAspect=a,Yf({},e,{selectedComponents:Gf()(e.selectedComponents,i)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var s=t,c=s.payload.id,u=s.payload.productAspect;if(Zf(c,u,e.selectedComponents)&&Xf(c,e.availableComponents))return Yf({},e,{selectedComponents:e.selectedComponents.filter(function(e){return e.id!==c||e.productAspect!==u})})}return t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS?Yf({},e,{jiraTickets:t.payload}):t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE?Yf({},e,{viewMode:t.payload}):t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS?Yf({},e,{selectedComponents:t.payload}):e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tm,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?$f({},e,{awaitingApprovalList:t.payload}):t.type===l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?$f({},e,{awaitingApprovalTaskList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?$f({},e,{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?$f({},e,{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:am,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?nm({},e,{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?nm({},e,{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sm,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),om({},e,{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var a=t.payload.selectedOption,o=t.payload.productAspect,i=t.payload.controlID,s=t.payload.componentID,c=t.payload.implementationEvidenceUserInput,u=Object(P.cloneDeep)(e.cvaSelectedComponents),p=[];if((p=""!==o?u.filter(function(e){return e.id==s&&e.productAspect==o}):u.filter(function(e){return e.id==s})).length>0){var f=p[0].controls.filter(function(e){return e.id==i});if(f.length>0)return f[0].selectedOption=a,f[0].implementationEvidenceUserInput=c,om({},e,{cvaSelectedComponents:u})}}return t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS?om({},e,{cvaSelectedComponents:t.payload}):t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA?om({},e,{controlValidationAuditData:t.payload,cvaSelectedComponents:[]}):e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).type,n=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(t);if(!n)return e;var r=um(n,3);r[0];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){cm(e,t,n[t])})}return e}({},e,cm({},r[1],"REQUEST"===r[2]))},memberState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.LOAD_MEMBER:return t.payload;default:return e}},paginationState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.PAGINATION.FETCH_NEXT_PAGE:case l.PAGINATION.FETCH_PREV_PAGE:case l.PAGINATION.FETCH_FIRST_PAGE:case l.PAGINATION.FETCH_LAST_PAGE:case l.PAGINATION.SET_SELECTED_ROWS:return pm({},e,{pagination:t.payload});case l.PAGINATION.RESET_PAGINATION:return pm({},e,{pagination:mm.pagination});default:return e}}}),bm=n(443),ym=[p.a];var hm=Object(_f.createStore)(dm,Object(bm.composeWithDevTools)(_f.applyMiddleware.apply(void 0,ym)));function vm(e){return(vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sm(e,t){return!t||"object"!==vm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Em(e){return(Em=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function km(e,t){return(km=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Am(e,t,n[t])})}return e}function Am(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sm(this,Em(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&km(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Om({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Om({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,o=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?a.a.createElement("div",{className:"TaskSubmissionContainer"},a.a.createElement(Nt,{pageTitle:n.taskName,showLogoutButton:!1,logopath:t.logoPath,productName:n.questionnaireSubmissionProductName}),a.a.createElement(cc,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:o,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&gm(n.prototype,o),i&&gm(n,i),t}(),wm=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(){var n=Om({},t),r=n.uuid,a=n.secureToken;e(Vs({uuid:r,secureToken:a})),e(sn())},dispatchSaveAnsweredQuestionAction:function(n){var r=Om({},t).secureToken;e(Js({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=Om({},t).secureToken;e(Ys({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=Om({},t).secureToken;e(Ws({secureToken:n}))}}})(Tm);function Cm(e){return(Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nm(e,t){return!t||"object"!==Cm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Im(e){return(Im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pm(e,t){return(Pm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nm(this,Im(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pm(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("main",null,a.a.createElement(c.a,null,a.a.createElement(u.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(mf.parse)(n.search);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(wm,{uuid:t.params.uuid,secureToken:r.token||""}))}))))}}])&&_m(n.prototype,o),i&&_m(n,i),t}(),Rm=n(786);window.addEventListener("load",function(){Ra.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(a.a.createElement(Rm.a,null,a.a.createElement(Cf.a,null,a.a.createElement(s.a,{store:hm},a.a.createElement(wf,null)))),e);var t=document.getElementById("vendor-app");t&&i.a.render(a.a.createElement(Rm.a,null,a.a.createElement(Cf.a,null,a.a.createElement(s.a,{store:hm},a.a.createElement(jm,null)))),t)})},81:function(e,t,n){e.exports=n.p+"../img/0440ba3e3faedab93471760cf52fdf4b.svg"},96:function(e,t,n){e.exports=n.p+"../img/dab319c4a5240b45e9eacf3657dabef9.svg"},98:function(e,t,n){e.exports=n.p+"../img/49c23560990f01bdb9dbb0aca57ebc16.svg"},99:function(e,t,n){e.exports=n.p+"../img/00e771ee64f774bb995c8301a0276310.svg"}});
//# sourceMappingURL=main.bundle.js.map