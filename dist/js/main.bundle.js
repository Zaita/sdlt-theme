!function(e){function t(t){for(var r,o,a=t[0],i=t[1],c=t[2],s=0,u=[];s<a.length;s++)o=a[s],Object.prototype.hasOwnProperty.call(I,o)&&I[o]&&u.push(I[o][0]),I[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(L&&L(t);u.length;)u.shift()();return N.push.apply(N,c||[]),n()}function n(){for(var e,t=0;t<N.length;t++){for(var n=N[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==I[a]&&(r=!1)}r&&(N.splice(t--,1),e=R(R.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!S[e])return;for(var n in S[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--v&&0===g&&A()}(e,t),r&&r(e,t)};var o,a=!0,i="07169746523e2b97a783",c={},s=[],u=[];function l(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(y={})[t]=e[t],m("ready");break;case"ready":C(t);break;case"prepare":case"check":case"dispose":case"apply":(h=h||[]).push(t)}},check:k,apply:j,status:function(e){if(!e)return f;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var t=p.indexOf(e);t>=0&&p.splice(t,1)},data:c[t]};return o=void 0,n}var p=[],f="idle";function m(e){f=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var d,y,b,h,v=0,g=0,O={},S={},E={};function w(e){return+e+""===e?+e:e}function k(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return a=e,m("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=R.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m(P()?"ready":"idle"),null;S={},O={},E=e.c,b=e.h,m("prepare");var t=new Promise((function(e,t){d={resolve:e,reject:t}}));for(var n in y={},I)T(n);return"prepare"===f&&0===g&&0===v&&A(),t}));var t}function T(e){var t;E[e]?(S[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=R.p+"hot/hot-update.js",document.head.appendChild(t)):O[e]=!0}function A(){m("ready");var e=d;if(d=null,e)if(a)Promise.resolve().then((function(){return j(a)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(w(n));e.resolve(t)}}function j(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function t(n){var r,a,u,l,p;function f(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),a=o.id,i=o.chain;if((l=_[a])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var c=0;c<l.parents.length;c++){var s=l.parents[c],u=_[s];if(u){if(u.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([s]),moduleId:a,parentId:s};-1===t.indexOf(s)&&(u.hot._acceptedDependencies[a]?(n[s]||(n[s]=[]),d(n[s],[a])):(delete n[s],t.push(s),r.push({chain:i.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}P();var v={},g=[],O={},S=function(){console.warn("[HMR] unexpected require("+T.moduleId+") to disposed module")};for(var k in y)if(Object.prototype.hasOwnProperty.call(y,k)){var T;p=w(k),T=y[k]?f(p):{type:"disposed",moduleId:k};var A=!1,j=!1,C=!1,N="";switch(T.chain&&(N="\nUpdate propagation: "+T.chain.join(" -> ")),T.type){case"self-declined":n.onDeclined&&n.onDeclined(T),n.ignoreDeclined||(A=new Error("Aborted because of self decline: "+T.moduleId+N));break;case"declined":n.onDeclined&&n.onDeclined(T),n.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+T.moduleId+" in "+T.parentId+N));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(T),n.ignoreUnaccepted||(A=new Error("Aborted because "+p+" is not accepted"+N));break;case"accepted":n.onAccepted&&n.onAccepted(T),j=!0;break;case"disposed":n.onDisposed&&n.onDisposed(T),C=!0;break;default:throw new Error("Unexception type "+T.type)}if(A)return m("abort"),Promise.reject(A);if(j)for(p in O[p]=y[p],d(g,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,p)&&(v[p]||(v[p]=[]),d(v[p],T.outdatedDependencies[p]));C&&(d(g,[T.moduleId]),O[p]=S)}var D,x=[];for(a=0;a<g.length;a++)p=g[a],_[p]&&_[p].hot._selfAccepted&&O[p]!==S&&!_[p].hot._selfInvalidated&&x.push({module:p,parents:_[p].parents.slice(),errorHandler:_[p].hot._selfAccepted});m("dispose"),Object.keys(E).forEach((function(e){!1===E[e]&&function(e){delete I[e]}(e)}));var U,L,B=g.slice();for(;B.length>0;)if(p=B.pop(),l=_[p]){var M={},F=l.hot._disposeHandlers;for(u=0;u<F.length;u++)(r=F[u])(M);for(c[p]=M,l.hot.active=!1,delete _[p],delete v[p],u=0;u<l.children.length;u++){var Q=_[l.children[u]];Q&&((D=Q.parents.indexOf(p))>=0&&Q.parents.splice(D,1))}}for(p in v)if(Object.prototype.hasOwnProperty.call(v,p)&&(l=_[p]))for(L=v[p],u=0;u<L.length;u++)U=L[u],(D=l.children.indexOf(U))>=0&&l.children.splice(D,1);m("apply"),void 0!==b&&(i=b,b=void 0);for(p in y=void 0,O)Object.prototype.hasOwnProperty.call(O,p)&&(e[p]=O[p]);var q=null;for(p in v)if(Object.prototype.hasOwnProperty.call(v,p)&&(l=_[p])){L=v[p];var H=[];for(a=0;a<L.length;a++)if(U=L[a],r=l.hot._acceptedDependencies[U]){if(-1!==H.indexOf(r))continue;H.push(r)}for(a=0;a<H.length;a++){r=H[a];try{r(L)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:p,dependencyId:L[a],error:e}),n.ignoreErrored||q||(q=e)}}}for(a=0;a<x.length;a++){var V=x[a];p=V.module,s=V.parents,o=p;try{R(p)}catch(e){if("function"==typeof V.errorHandler)try{V.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:t,originalError:e}),n.ignoreErrored||q||(q=t),q||(q=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:p,error:e}),n.ignoreErrored||q||(q=e)}}if(q)return m("fail"),Promise.reject(q);if(h)return t(n).then((function(e){return g.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return m("idle"),new Promise((function(e){e(g)}))}(t=t||{})}function P(){if(h)return y||(y={}),h.forEach(C),h=void 0,!0}function C(t){Object.prototype.hasOwnProperty.call(y,t)||(y[t]=e[t])}var _={},I={2:0},N=[];function R(t){if(_[t])return _[t].exports;var n=_[t]={i:t,l:!1,exports:{},hot:l(t),parents:(u=s,s=[],u),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=_[e];if(!t)return R;var n=function(n){return t.hot.active?(_[n]?-1===_[n].parents.indexOf(e)&&_[n].parents.push(e):(s=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),R(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return R[e]},set:function(t){R[e]=t}}};for(var a in R)Object.prototype.hasOwnProperty.call(R,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===f&&m("prepare"),g++,R.e(e).then(t,(function(e){throw t(),e}));function t(){g--,"prepare"===f&&(O[e]||T(e),0===g&&0===v&&A())}},n.t=function(e,t){return 1&t&&(e=n(e)),R.t(e,-2&t)},n}(t)),n.l=!0,n.exports}R.m=e,R.c=_,R.d=function(e,t,n){R.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},R.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},R.t=function(e,t){if(1&t&&(e=R(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(R.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)R.d(n,r,function(t){return e[t]}.bind(null,r));return n},R.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return R.d(t,"a",t),t},R.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},R.p="/resources/themes/sdlt/dist/img/",R.h=function(){return i};var D=window.webpackJsonp=window.webpackJsonp||[],x=D.push.bind(D);D.push=t,D=D.slice();for(var U=0;U<D.length;U++)t(D[U]);var L=x;N.push([635,0]),n()}({1064:function(e,t){},109:function(e,t,n){e.exports=n.p+"../img/0440ba3e3faedab93471760cf52fdf4b.svg"},1107:function(e,t,n){"use strict";n.r(t);n(636),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(657),n(658),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(672),n(213),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(684),n(685),n(686),n(688),n(689),n(690),n(356),n(691),n(692),n(694),n(695),n(696),n(697),n(698),n(699),n(700),n(701),n(703),n(704),n(705),n(706),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(717),n(718),n(719),n(720),n(721),n(722),n(724),n(726),n(727),n(728),n(729),n(730),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(740),n(741),n(742),n(743),n(744),n(745),n(746),n(747),n(748),n(749),n(751),n(752),n(764),n(765),n(766),n(767),n(768),n(770),n(771),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(289),n(784),n(785),n(786),n(787),n(788),n(790),n(791),n(792),n(793),n(794),n(382),n(795),n(796),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806),n(807),n(809),n(811),n(812),n(813),n(814),n(815),n(816),n(817),n(818),n(819),n(820),n(821),n(822),n(823),n(824),n(826),n(827),n(828),n(829),n(830),n(831),n(832),n(833),n(834),n(835),n(836),n(837),n(838),n(841),n(842),n(843),n(844),n(845),n(846),n(847),n(848),n(849),n(851),n(852),n(853),n(854),n(855),n(856),n(857),n(858),n(859),n(860),n(861),n(862),n(863),n(865),n(867),n(868),n(869),n(871),n(872),n(875),n(876),n(877),n(880),n(881),n(882),n(885),n(886),n(887);var r=n(0),o=n.n(r),a=n(17),i=n.n(a),c=n(21),s=n(41),u={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE",ADD_COLLABORATOR:"QUESTIONNAIRE/ADD_COLLABORATOR"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION:"TASK/LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE",ADD_TASK_RECOMMENDATION:"TASK/ADD_RECOMMENDATION"},PAGINATION:{FETCH_NEXT_PAGE:"PAGINATION/FETCH_NEXT_PAGE",FETCH_PREV_PAGE:"PAGINATION/FETCH_PREV_PAGE",FETCH_FIRST_PAGE:"PAGINATION/FETCH_FIRST_PAGE",FETCH_LAST_PAGE:"PAGINATION/FETCH_LAST_PAGE",SET_SELECTED_ROWS:"PAGINATION/SET_SELECTED_ROWS",RESET_PAGINATION:"PAGINATION/RESET"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD",UPDATE_CVA_CONTROL_STATUS:"SRA/UPDATE_CVA_CONTROL_STATUS"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER",LOAD_MEMBER:"USER/LOAD_MEMBER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},l=n(328),p=n.n(l),f=n(580),m=n.n(f),d=n(581),y=n.n(d),b=n(582),h=n.n(b),v=n(583),g=n.n(v),O=n(3),S=n.n(O),E=n(8),w=n.n(E),k=n(584),T=n.n(k),A=n(239),j=n.n(A),P=n(1),C=n.n(P);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="/task/submission/".concat(e);if(t&&r?o="/task/submission/".concat(e,"?token=").concat(t,"&component=").concat(r):t?o="/task/submission/".concat(e,"?token=").concat(t):r&&(o="/task/submission/".concat(e,"?component=").concat(r)),"urlString"==n)return o;window.location.href="/#/".concat(o)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="/security-risk-assessment/submission/".concat(e);if(t&&r?o="/security-risk-assessment/submission/".concat(e,"?token=").concat(t,"&component=").concat(r):t?o="/security-risk-assessment/submission/".concat(e,"?token=").concat(t):r&&(o="/security-risk-assessment/submission/".concat(e,"?component=").concat(r)),"urlString"==n)return o;window.location.href="/#/".concat(o)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="/control-validation-audit/submission/".concat(e);if(t&&r?o="/control-validation-audit/submission/".concat(e,"?token=").concat(t,"&component=").concat(r):t?o="/control-validation-audit/submission/".concat(e,"?token=").concat(t):r&&(o="/control-validation-audit/submission/".concat(e,"?component=").concat(r)),"urlString"==n)return o;window.location.href="/#/".concat(o)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}},{key:"redirectToApprovals",value:function(){window.location.href="#/AwaitingApprovals"}},{key:"redirectToSubmissions",value:function(){window.location.href="#/MySubmissions"}}],(n=null)&&I(t.prototype,n),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"request",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),c={query:T()(r),variables:o},e.next=6,j.a.request({url:"/graphql",method:"post",data:c,headers:i});case 6:if(s=e.sent,u=s.data,!(l=C.a.get(u,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){U(a,n,r,i,c,"next",e)}function c(e){U(a,n,r,i,c,"throw",e)}i(void 0)}))},function(e){return a.apply(this,arguments)})}],n&&L(t.prototype,n),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),M=new Error("There is an error when fetching data..."),F=new Error("There is an error when parsing data...");function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw F;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&C.a.keys(t).forEach((function(e){n[C.a.toString(e)]=t[e]})),n}(r),i=function(e){var t="";return C.a.keys(e).forEach((function(n){var r=e[n];!t&&Boolean(C.a.get(r,"isCurrent",!1))&&(t=n)})),t}(a);return o.map((function(e,t){var n=C.a.toString(C.a.get(e,"ID","")),r=Boolean(C.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(C.a.get(a,"".concat(n,".isApplicable"),!0)),c=!1;c=i?i===n:0===t;var s=null,u=null,l=r?C.a.get(a,"".concat(n,".inputs"),[]):[],p=r?C.a.get(a,"".concat(n,".actions"),[]):[],f=C.a.get(e,"AnswerInputFields",[]),m=C.a.get(e,"AnswerActionFields",[]);f&&Array.isArray(f)&&f.length>0&&(s=f.map((function(e){var t=C.a.toString(C.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox"),["text","email","textarea","rich text editor","service register","information classification","dropdown","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=C.a.toString(C.a.get(e,"ID","")),r={id:n,label:C.a.toString(C.a.get(e,"Label","")),type:t,required:Boolean(C.a.toInteger(C.a.get(e,"Required",!1))),minLength:Number.parseInt(C.a.toString(C.a.get(e,"MinLength",0))),maxLength:Number.parseInt(C.a.toString(C.a.get(e,"MaxLength",0))),placeholder:C.a.toString(C.a.get(e,"PlaceHolder","")),options:C.a.has(e,"MultiChoiceAnswer")?JSON.parse(C.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:C.a.has(e,"MultiChoiceSingleAnswerDefault")?C.a.toString(C.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:C.a.has(e,"MultiChoiceMultipleAnswerDefault")?C.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=C.a.head(l.filter((function(e){return e.id===n})));if(o){var a=C.a.toString(C.a.get(o,"data",null));a&&(r.data=a)}}return r}))),m&&Array.isArray(m)&&m.length>0&&(u=m.map((function(e){var t=C.a.toString(C.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=C.a.toString(C.a.get(e,"ID","")),r={id:n,label:C.a.toString(C.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=C.a.toString(C.a.get(e,"Message",""))),"goto"===t&&(r.goto=C.a.toString(C.a.get(e,"GotoID",""))),"finish"===t&&(r.result=C.a.toString(C.a.get(e,"Result","")));var o=C.a.toString(C.a.get(e,"TaskID",""));if(r.taskID=o,p&&Array.isArray(p)&&p.length>0){var a=C.a.head(p.filter((function(e){return e.id===n})));if(a){var i=Boolean(C.a.get(a,"isChose",!1));r.isChose=i}}return r})));var d={id:n,title:C.a.toString(C.a.get(e,"Title","")),heading:C.a.toString(C.a.get(e,"QuestionHeading","")),description:C.a.toString(C.a.get(e,"Description","")),type:C.a.toString(C.a.get(e,"AnswerFieldType","")).toLowerCase(),isCurrent:c,hasAnswer:r,isApplicable:o};if(C.a.isEmpty(C.a.get(d,"heading"))){var y=C.a.toString(C.a.get(e,"Question",""));C.a.set(d,"heading",y)}return s&&(d.inputs=s),u&&(d.actions=u),d}))}}],(n=null)&&H(t.prototype,n),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),J=n(108),K=n.n(J);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=w()(S()(e,"ID","")),n=w()(S()(e,"Name","")),r=w()(S()(e,"ComponentTarget","")),o=w()(S()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=w()(S()(e,"QuestionsDataJSON",""));return i&&(a=V.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?K()(t).map((function(e){return{name:w()(S()(e,"Name")),value:w()(S()(e,"Value")),operator:w()(S()(e,"Operator")),colour:w()(S()(e,"Colour"))}})):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=S()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===S()(e,"Submission.TaskType","")?[]:t?t.map((function(e){return{uuid:w()(S()(e,"UUID")),taskType:w()(S()(e,"TaskType")),status:w()(S()(e,"Status"))}})):[]}},{key:"parseServiceRegister",value:function(e){return e.map((function(e){return{value:w()(S()(e,"ID")),label:w()(S()(e,"ServiceName"))}}))}}],(n=null)&&Y(t.prototype,n),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function W(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchHomeData",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,B.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=S()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw M;case 7:return r=n[0],o=w()(S()(r,"Title","")),a=w()(S()(r,"Subtitle","")),i=S()(r,"Pillars",[]),c=this.parsePillars(i),s=S()(r,"Tasks",[]),u=this.parseTasks(s),e.abrupt("return",{title:o,subtitle:a,pillars:c,tasks:u});case 15:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){W(a,n,r,i,c,"next",e)}function c(e){W(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map((function(e){var t=p.a;switch(e.Type){case"proof_of_concept":t=p.a;break;case"software_as_service":t=m.a;break;case"product_project_or_solution":t=y.a;break;case"feature_or_bug_fix":t=h.a;break;case"risk_questionnaire":t=g.a}return{title:w()(S()(e,"Label","")),disabled:Boolean(S()(e,"Disabled",!0)),questionnaireID:w()(S()(e,"Questionnaire.0.ID","")),icon:t}})):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach((function(e){var n=G.parseFromJSONObject(e);t.push(n)})),t}}],n&&z(t.prototype,n),r&&z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&X(t.prototype,n),r&&X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ee(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function te(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.fetchHomeData();case 3:n=e.sent,r={type:u.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ee(a,r,o,i,c,"next",e)}function c(e){ee(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}var ne=n(48);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(i,e);var t,n,r,a=ue(i);function i(){return ie(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(oe(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(ne.c,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&ce(t.prototype,n),r&&ce(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(i,e);var t,n,r,a=ge(i);function i(){return be(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=["TaskButton"].concat(de(this.props.classes));return o.a.createElement(ne.c,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&he(t.prototype,n),r&&he(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),we=n(586),ke=n.n(we);function Te(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"getCSRFToken",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=C.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){Te(a,n,r,i,c,"next",e)}function c(e){Te(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&Ae(t.prototype,n),r&&Ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le(e);if(t){var o=Le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(s,e);var t,n,r,a,i,c=xe(s);function s(){return Ne(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:ke.a}),"Log out"))}},{key:"logout",value:(a=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ce(o,n,r,i,c,"next",e)}function c(e){Ce(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&Re(t.prototype,n),r&&Re(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);Be.defaultProps={classes:[]};var Me=Be,Fe=n(587),Qe=n.n(Fe);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(e,t){if(t&&("object"===qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(s,e);var t,n,r,a,i,c=We(s);function s(){return Ke(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),n=t.classes,r=t.showApprovalBreadcrumb,a=!1;return("#/AwaitingApprovals"==window.location.hash||r)&&(a=!0),o.a.createElement("button",{className:"HeaderButton ".concat(n.join(" ")).concat(a?"active":""),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:Qe.a}),"Approvals"))}},{key:"awaitingApprovals",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){He(o,n,r,i,c,"next",e)}function c(e){He(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&Ye(t.prototype,n),r&&Ye(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);Xe.defaultProps={classes:[]};var Ze=Xe,et=n(588),tt=n.n(et);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pt(e);if(t){var o=pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&st(e,t)}(s,e);var t,n,r,a,i,c=ut(s);function s(){return it(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),n=t.classes,r=t.showSubmissionBreadcrumb,a=!1;return("#/MySubmissions"==window.location.hash||r)&&(a=!0),o.a.createElement("button",{className:"HeaderButton ".concat(n.join(" ")).concat(a?"active":""),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:tt.a}),"Submissions"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){rt(o,n,r,i,c,"next",e)}function c(e){rt(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&ct(t.prototype,n),r&&ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);ft.defaultProps={classes:[]};var mt=ft,dt=n(589),yt=n.n(dt);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tt(e);if(t){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}(s,e);var t,n,r,a,i,c=wt(s);function s(){return Ot(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes,n=!1;return"#/"==window.location.hash&&(n=!0),o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")).concat(n?"active":""),onClick:function(){e.homepage()}},o.a.createElement("div",null,o.a.createElement("img",{src:yt.a,className:"home-icon"}),"Home"))}},{key:"homepage",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="/";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){ht(o,n,r,i,c,"next",e)}function c(e){ht(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&St(t.prototype,n),r&&St(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);At.defaultProps={classes:[]};var jt=At,Pt=n(1155),Ct=n(1175),_t=n(330),It=n.n(_t);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bt(e);if(t){var o=Bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(e,t){if(t&&("object"===Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xt(e,t)}(i,e);var t,n,r,a=Ut(i);function i(){var e;Rt(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).getApprovalsBreadcrumb=function(e){return e?o.a.createElement(Pt.a,{onClick:function(){return N.redirectToApprovals()}},"My approvals"):o.a.createElement(Pt.a,{onClick:function(){return N.redirectToSubmissions()}},"My submissions")},e.getProductNameBreadcrumb=function(t,n){if(!n)return o.a.createElement(Pt.a,{onClick:function(){return e.sendBackToQuestionnaireSummaryPage()}},t||"Product")},e}return t=i,(n=[{key:"sendBackToQuestionnaireSummaryPage",value:function(){N.redirectToQuestionnaireSummary(this.props.questionnaireSubmissionUUID)}},{key:"render",value:function(){var e=this.props,t=e.match.path,n=e.productName,r=e.showApprovalBreadcrumb,a=e.isTaskApprover;return o.a.createElement(Ct.a,{separator:o.a.createElement(It.a,{fontSize:"inherit"}),"aria-label":"breadcrumb"},o.a.createElement(Pt.a,{onClick:function(){return N.redirectToHome()}},"Home"),"/questionnaire/summary/:hash"==t||"/task/submission/:uuid"==t||"/security-risk-assessment/submission/:uuid"==t||"/control-validation-audit/submission/:uuid"==t||"/component-selection/submission/:uuid"==t?this.getApprovalsBreadcrumb(r):null,"/task/submission/:uuid"==t||"/security-risk-assessment/submission/:uuid"==t||"/control-validation-audit/submission/:uuid"==t||"/component-selection/submission/:uuid"==t?this.getProductNameBreadcrumb(n,a):null,o.a.createElement(Ct.a,{separator:o.a.createElement(It.a,{fontSize:"inherit"}),"aria-label":"breadcrumb"}))}}])&&Dt(t.prototype,n),r&&Dt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Ft=Object(s.f)(Mt);function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wt(e);if(t){var o=Wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){if(t&&("object"===Qt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kt(e,t)}(i,e);var t,n,r,a=Yt(i);function i(){return Vt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.pageTitle,n=e.logopath,r=e.showLogoutButton,a=e.productName,i=e.isTaskApprover,c=e.questionnaireSubmissionUUID,s=e.showApprovalBreadcrumb,u=e.showSubmissionBreadcrumb,l=e.subHeaderImagePath,p=e.component,f=!1;return"#/"==window.location.hash&&(f=!0),o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"main-header"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:n,className:"logo"})),o.a.createElement("div",{className:"header-buttons"},o.a.createElement(jt,null),o.a.createElement(mt,{showSubmissionBreadcrumb:u}),o.a.createElement(Ze,{showApprovalBreadcrumb:s}),r&&o.a.createElement(Me,null))),f?o.a.createElement("div",{className:"homepage-subheader",style:{backgroundImage:'url("'.concat(l,'")')}}):o.a.createElement("div",{className:"breadcrumbs-subheader"},o.a.createElement(Ft,{productName:a,questionnaireSubmissionUUID:c,showApprovalBreadcrumb:s,isTaskApprover:i}),o.a.createElement("h1",null,""!==p?"".concat(t," (").concat(p,")"):t)))}}])&&Jt(t.prototype,n),r&&Jt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);zt.defaultProps={pageTitle:"",logopath:"",showLogoutButton:!0,productName:"",isTaskApprover:!1,showApprovalBreadcrumb:!1,showSubmissionBreadcrumb:!1,subHeaderImagePath:"",component:""};var $t=zt;function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sn(e);if(t){var o=sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cn(this,n)}}function cn(e,t){if(t&&("object"===Xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&on(e,t)}(i,e);var t,n,r,a=an(i);function i(){return nn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=en({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks,i=en({},this.props.siteConfig),c=i.logoPath,s=i.homePageSubHeaderImagePath;return o.a.createElement("div",{className:"Home"},o.a.createElement($t,{logopath:c,subHeaderImagePath:s}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:c,className:"homepage-layout-logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map((function(e,t){return o.a.createElement(fe,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})})))),o.a.createElement("div",{className:"tasks"},a.map((function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(Ee,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})})))))}}])&&rn(t.prototype,n),r&&rn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn(e);if(t){var o=vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hn(this,n)}}function hn(e,t){if(t&&("object"===ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yn(e,t)}(i,e);var t,n,r,a=bn(i);function i(){return mn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).footerCopyrightText;return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,e))}}])&&dn(t.prototype,n),r&&dn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);gn.defaultProps={footerCopyrightText:""};var On=gn,Sn=n(316),En=n.n(Sn),wn=n(593),kn=n.n(wn),Tn=n(594),An=n.n(Tn),jn=n(595),Pn=n.n(jn),Cn=n(596),_n=n.n(Cn);function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:w()(S()(t,"Title")||"NZTA SDLT"),footerCopyrightText:w()(S()(t,"FooterCopyrightText","")||n),logoPath:w()(S()(t,"LogoPath","")||kn.a),homePageBackgroundImagePath:w()(S()(t,"HomePageBackgroundImagePath","")||En.a),pdfHeaderImageLink:w()(S()(t,"PdfHeaderImageLink","")||An.a),pdfFooterImageLink:w()(S()(t,"PdfFooterImageLink","")||Pn.a),securityTeamEmail:w()(S()(t,"SecurityTeamEmail")||""),homePageSubHeaderImagePath:w()(S()(t,"HomePageSubHeaderImagePath","")||_n.a)}}}],(n=null)&&In(t.prototype,n),r&&In(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rn(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSiteConfig",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,B.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    HomePageSubHeaderImagePath\n  }\n}"});case 3:return t=e.sent,n=C.a.get(t,"data.readSiteConfig.0",null),r=Nn.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){Rn(a,n,r,i,c,"next",e)}function c(e){Rn(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&Dn(t.prototype,n),r&&Dn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Un(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ln(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xn.fetchSiteConfig();case 3:n=e.sent,r={type:u.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Un(a,r,o,i,c,"next",e)}function c(e){Un(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn(e);if(t){var o=Kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jn(this,n)}}function Jn(e,t){if(t&&("object"===Bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hn(e,t)}(i,e);var t,n,r,a=Vn(i);function i(){return Qn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){Fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},o.a.createElement(un,{homeState:n,siteConfig:t}),o.a.createElement(On,{footerCopyrightText:t.footerCopyrightText})):null}}])&&qn(t.prototype,n),r&&qn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Gn=Object(c.b)((function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadHomeDataAction:function(){e(te()),e(Ln())}}}))(Yn),Wn=n(317),zn=n.n(Wn);function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ar(e);if(t){var o=ar(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return or(this,n)}}function or(e,t){if(t&&("object"===$n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nr(e,t)}(i,e);var t,n,r,a=rr(i);function i(){return er(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,c=e.rightIconImage,s=null,u=null;return i&&(s=o.a.createElement("img",{src:i})),c&&(u=o.a.createElement("img",{className:"img-right",src:c})),o.a.createElement("button",{className:zn()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},s,t,u)}}])&&tr(t.prototype,n),r&&tr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);ir.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var cr=ir;function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(){return(ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lr(e){return function(e){if(Array.isArray(e))return pr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hr(e);if(t){var o=hr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return br(this,n)}}function br(e,t){if(t&&("object"===sr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hr(e){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dr(e,t)}(i,e);var t,n,r,a=yr(i);function i(){return fr(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(cr,ur({},this.props,{classes:["LightButton"].concat(lr(this.props.classes))}))}}])&&mr(t.prototype,n),r&&mr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);vr.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var gr=vr;function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ar(e);if(t){var o=Ar(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tr(this,n)}}function Tr(e,t){if(t&&("object"===Or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(i,e);var t,n,r,a=kr(i);function i(){return Sr(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(gr,{title:"START",onClick:r})))))}}])&&Er(t.prototype,n),r&&Er(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=S()(t,"FirstName")?w()(S()(t,"FirstName",""))+" "+w()(S()(t,"Surname","")):"";return{id:w()(S()(t,"ID")),name:n,email:S()(t,"Email"),isSA:"true"===w()(S()(t,"IsSA")),isCISO:"true"===w()(S()(t,"IsCISO")),isCertificationAuthority:"true"===w()(S()(t,"IsCertificationAuthority")),isAccreditationAuthority:"true"===w()(S()(t,"IsAccreditationAuthority"))}}},{key:"parserMemberFromJSON",value:function(e){return K()(e).map((function(e){var t=S()(e,"FirstName")?w()(S()(e,"FirstName",""))+" "+w()(S()(e,"Surname","")):"";return{value:S()(e,"ID"),label:t}}))}},{key:"parserCollaboratorsFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return K()(t).map((function(e){var t=S()(e,"Name")?w()(S()(e,"Name","")):"";return{value:S()(e,"ID"),label:t}}))}}],(n=null)&&Pr(t.prototype,n),r&&Pr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(n),!0).forEach((function(t){Nr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Dr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Rr(a,r,o,i,c,"next",e)}function c(e){Rr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ur=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,s,u,l,p,f,m,d,y,b,h,v,g,O,S,E,w;return t=e,n=null,r=[{key:"createInProgressSubmission",value:(w=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,B.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw M;case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),function(e){return w.apply(this,arguments)})},{key:"fetchStartData",value:(E=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readMember(Type: "Current")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: '.concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,B.request({query:n});case 3:if(r=e.sent,o=C.a.get(r,"data.readMember.0",null),a=C.a.get(r,"data.readQuestionnaire",null),i=C.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw M;case 9:return e.abrupt("return",{title:C.a.get(a,"Name",""),siteConfig:Nn.parseSiteConfigFromJSON(i),subtitle:C.a.get(i,"Title",""),questionnaireID:C.a.get(a,"ID",""),keyInformation:C.a.get(a,"KeyInformation",""),user:Cr.parseUserFromJSON(o)});case 10:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)})},{key:"fetchSubmissionData",value:(S=Dr(regeneratorRuntime.mark((function e(t,n,r){var o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o='\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsCertificationAuthority\n    IsAccreditationAuthority\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    BusinessOwnerAcknowledgementText\n    CertificationAuthorityAcknowledgementText\n    AccreditationAuthorityAcknowledgementText\n    IsCertificationAndAccreditationTaskExists\n    ProductAspects\n    User {\n      ID\n    }\n    SubmitterName\n    SubmitterEmail\n    QuestionnaireStatus\n    BusinessOwnerApproverName\n    RiskResultData\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      IsTaskApprovalRequired\n      TimeToComplete\n      TimeToReview\n      CanTaskCreateNewTasks\n      CreateOnceInstancePerComponent\n      AnswerData\n      ResultForCertificationAndAccreditation\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    AccreditationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprovalStatus\n    AccreditationAuthorityApprovalStatus\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n    Created\n    ReleaseDate\n    IsBusinessOwner\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    SecurityTeamEmail\n  }\n}'),e.next=3,B.request({query:o});case 3:if(a=e.sent,i=C.a.get(a,"data.readMember.0",{}),c=C.a.get(a,"data.readQuestionnaireSubmission.0",{}),s=C.a.get(a,"data.readSiteConfig.0",null),i&&c&&s){e.next=9;break}throw M;case 9:return u={title:C.a.toString(C.a.get(c,"Questionnaire.Name","")),siteConfig:Nn.parseSiteConfigFromJSON(s),user:Cr.parseUserFromJSON(i),isCurrentUserApprover:"true"===C.a.get(c,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===C.a.get(c,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(C.a.get(c,"ApprovalOverrideBySecurityArchitect",!1)),questionnaireID:C.a.toString(C.a.get(c,"Questionnaire.ID","")),questionnaireTitle:C.a.toString(C.a.get(c,"Questionnaire.Name","")),submissionID:C.a.toString(C.a.get(c,"ID","")),submissionUUID:C.a.toString(C.a.get(c,"UUID","")),submissionToken:C.a.toString(C.a.get(c,"ApprovalLinkToken","")),productName:C.a.toString(C.a.get(c,"ProductName","")),submitter:{id:C.a.toString(C.a.get(c,"User.ID")),name:C.a.toString(C.a.get(c,"SubmitterName","")),email:C.a.toString(C.a.get(c,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:C.a.toString(C.a.get(c,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:C.a.toString(C.a.get(c,"CisoApprovalStatus","")),businessOwner:C.a.toString(C.a.get(c,"BusinessOwnerApprovalStatus","")),securityArchitect:C.a.toString(C.a.get(c,"SecurityArchitectApprovalStatus","")),certificationAuthority:C.a.toString(C.a.get(c,"CertificationAuthorityApprovalStatus","")),accreditationAuthority:C.a.toString(C.a.get(c,"AccreditationAuthorityApprovalStatus",""))},securityArchitectApprover:{firstName:C.a.toString(C.a.get(c,"SecurityArchitectApprover.FirstName","")),surname:C.a.toString(C.a.get(c,"SecurityArchitectApprover.Surname",""))},cisoApprover:{firstName:C.a.toString(C.a.get(c,"CisoApprover.FirstName","")),surname:C.a.toString(C.a.get(c,"CisoApprover.Surname",""))},certificationAuthorityApprover:{firstName:C.a.toString(C.a.get(c,"CertificationAuthorityApprover.FirstName","")),surname:C.a.toString(C.a.get(c,"CertificationAuthorityApprover.Surname",""))},accreditationAuthorityApprover:{firstName:C.a.toString(C.a.get(c,"AccreditationAuthorityApprover.FirstName","")),surname:C.a.toString(C.a.get(c,"AccreditationAuthorityApprover.Surname",""))},questions:V.parseQuestionsFromJSON({schemaJSON:C.a.toString(C.a.get(c,"QuestionnaireData","")),answersJSON:C.a.toString(C.a.get(c,"AnswerData",""))}),businessOwnerApproverName:C.a.toString(C.a.get(c,"BusinessOwnerApproverName","")),businessOwnerAcknowledgementText:C.a.toString(C.a.get(c,"BusinessOwnerAcknowledgementText","")),certificationAuthorityAcknowledgementText:C.a.toString(C.a.get(c,"CertificationAuthorityAcknowledgementText","")),accreditationAuthorityAcknowledgementText:C.a.toString(C.a.get(c,"AccreditationAuthorityAcknowledgementText","")),isCertificationAndAccreditationTaskExists:"true"===C.a.get(c,"IsCertificationAndAccreditationTaskExists","false"),taskSubmissions:C.a.toArray(C.a.get(c,"TaskSubmissions",[])).map((function(e){return{uuid:C.a.toString(C.a.get(e,"UUID","")),taskName:C.a.toString(C.a.get(e,"TaskName","")),taskType:C.a.toString(C.a.get(e,"TaskType","")),status:C.a.toString(C.a.get(e,"Status","")),approver:Cr.parseUserFromJSON(C.a.get(e,"TaskApprover")),isTaskApprovalRequired:"true"===C.a.get(e,"IsTaskApprovalRequired","false"),timeToComplete:C.a.toString(C.a.get(e,"TimeToComplete","")),timeToReview:C.a.toString(C.a.get(e,"TimeToReview","")),answerData:C.a.toString(C.a.get(e,"AnswerData","")),canTaskCreateNewTasks:"true"===C.a.get(e,"CanTaskCreateNewTasks","false"),createOnceInstancePerComponent:Boolean(C.a.get(e,"CreateOnceInstancePerComponent",!1)),resultForCertificationAndAccreditation:C.a.get(e,"ResultForCertificationAndAccreditation","[]")}})),collaborators:Cr.parserCollaboratorsFromJSON(C.a.get(c,"CollaboratorList",[])),riskResults:C.a.has(c,"RiskResultData")?JSON.parse(C.a.get(c,"RiskResultData","[]")):"[]",created:C.a.toString(C.a.get(c,"Created","")),releaseDate:C.a.toString(C.a.get(c,"ReleaseDate","")),productAspects:C.a.has(c,"ProductAspects")?JSON.parse(C.a.get(c,"ProductAspects","[]")):"[]",isBusinessOwner:"true"===C.a.get(c,"IsBusinessOwner","false")}},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),function(e,t,n){return S.apply(this,arguments)})},{key:"updateSubmissionData",value:(O=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,c=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(c,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,B.request({query:s,csrfToken:i});case 5:if(u=e.sent,C.a.get(u,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw M;case 9:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)})},{key:"batchUpdateSubmissionData",value:(g=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ir({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw M;case 3:for(c=[],s=0;s<o.length;s++)u=o[s],l=a[s],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),f="\nupdateQuestion".concat(u,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(u,'", AnswerData: "').concat(p,'") {\n  ID\n  AnswerData\n}'),c.push(f);return m="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,B.request({query:m,csrfToken:i});case 8:if(d=e.sent,C.a.get(d,"data",null)){e.next=12;break}throw M;case 12:case"end":return e.stop()}}),e)}))),function(e){return g.apply(this,arguments)})},{key:"submitQuestionnaire",value:(v=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,B.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})},{key:"submitQuestionnaireForApproval",value:(h=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,B.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:(b=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,B.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)})},{key:"approveQuestionnaireSubmission",value:(y=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,B.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),u=C.a.toString(C.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),s&&u){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"denyQuestionnaireSubmission",value:(d=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,B.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),u=C.a.toString(C.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),s&&u){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"editQuestionnaireSubmission",value:(m=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,B.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"updateQuestionnaireStatusToSendBackForChanges",value:(f=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSendBackForChanges(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,B.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"fetchQuestionnaireSubmissionList",value:(p=Dr(regeneratorRuntime.mark((function e(t,n,r,o){var a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='query {\n      paginatedReadQuestionnaireSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(o,") {\n        edges {\n          node {\n            ID\n            UUID\n            QuestionnaireStatus\n            QuestionnaireName\n            Created\n            ProductName\n            ReleaseDate\n            BusinessOwnerApproverName\n            SubmitterName\n            SecurityArchitectApprover {\n              FirstName\n              Surname\n              ID\n            }\n            CisoApprovalStatus\n            BusinessOwnerApprovalStatus\n          }\n        }\n        pageInfo {\n          hasNextPage,\n          hasPreviousPage,\n          totalCount\n        }\n      }\n    }"),e.next=3,B.request({query:a});case 3:if(i=e.sent,c=C.a.get(i,"data.paginatedReadQuestionnaireSubmissions.edges",[]),s=C.a.get(i,"data.paginatedReadQuestionnaireSubmissions.pageInfo",[]),Array.isArray(c)){e.next=8;break}throw"error";case 8:return u={totalCount:C.a.get(s,"totalCount",0),hasNextPage:Boolean(C.a.get(s,"hasNextPage",!1)),hasPreviousPage:Boolean(C.a.get(s,"hasPreviousPage",!1))},l=c.map((function(e){var t={};return t.id=C.a.get(e,"node.ID",""),t.uuid=C.a.get(e,"node.UUID",""),t.status=C.a.get(e,"node.QuestionnaireStatus",""),t.productName=C.a.get(e,"node.ProductName",""),t.questionnaireName=C.a.get(e,"node.QuestionnaireName",""),t.created=C.a.get(e,"node.Created",""),t.releaseDate=C.a.get(e,"node.ReleaseDate",""),t.businessOwner=C.a.get(e,"node.BusinessOwnerApproverName",""),t.submitterName=C.a.get(e,"node.SubmitterName",""),t.SecurityArchitectApprover=C.a.toString(C.a.get(e,"node.SecurityArchitectApprover.FirstName","")+" "+C.a.get(e,"node.SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=C.a.get(e,"node.SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=C.a.get(e,"node.CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=C.a.get(e,"node.BusinessOwnerApprovalStatus",""),t[""],t})),e.abrupt("return",{questionnaireSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return p.apply(this,arguments)})},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:(l=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,B.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),u=C.a.toString(C.a.get(c,"data.updateQuestionnaireStatusToApproved.UUID",null)),s&&u){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:(u=Dr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,B.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),u=C.a.toString(C.a.get(c,"data.updateQuestionnaireStatusToDenied.UUID",null)),s&&u){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"addCollaborator",value:(s=Dr(regeneratorRuntime.mark((function e(t,n,r){var o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],n&&n.length>0&&(o=n.map((function(e){return C.a.get(e,"value","")}))),a=window.btoa(JSON.stringify(o)),i='mutation {\n     addCollaborator(ID: "'.concat(t,'", SelectedCollaborator: "').concat(a,'") {\n       UUID\n     }\n    }'),e.next=6,B.request({query:i,csrfToken:r});case 6:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.addCollaborator.UUID",null))){e.next=10;break}throw M;case 10:return e.abrupt("return",{uuid:s});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n){return s.apply(this,arguments)})},{key:"grantCertification",value:(c=Dr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     grantCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,B.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=C.a.toString(C.a.get(o,"data.grantCertification.UUID",null))){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"denyCertification",value:(i=Dr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,B.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=C.a.toString(C.a.get(o,"data.denyCertification.UUID",null))){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"issueAccreditation",value:(a=Dr(regeneratorRuntime.mark((function e(t,n,r){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o='mutation {\n      issueAccreditation(ID: "'.concat(t,'", AccreditationPeriod: "').concat(r,'") {\n       UUID\n     }\n    }'),e.next=3,B.request({query:o,csrfToken:n});case 3:if(a=e.sent,i=C.a.toString(C.a.get(a,"data.issueAccreditation.UUID",null))){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:i});case 8:case"end":return e.stop()}}),e)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"denyAccreditation",value:(o=Dr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,B.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=C.a.toString(C.a.get(o,"data.denyAccreditation.UUID",null))){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&xr(t.prototype,n),r&&xr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map((function(e){var t=e.data;return t&&C.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}}))),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map((function(e){return{id:e.id,isChose:e.isChose}}))),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach((function(e){var n=Br({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)})),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach((function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)})),t}},{key:"getDataUpdateIntent",value:function(e){var t=Br({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex((function(e){return e.id===n.id})),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type||"display"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var c=n.actions.find((function(e){return e.isChose}));if(!c)throw new Error("This question does not have any chosen action!");if("finish"===c.type){for(var s=i.currentIndex+1;s<r.length;s++)i.nonApplicableIndexes.push(s);i.result=c.result||"",i.complete=!0}if("message"===c.type&&(i.terminate=!0),"continue"!==c.type||a||(i.targetIndex=i.currentIndex+1),"goto"===c.type){var u=c.goto;if(i.targetIndex=r.findIndex((function(e){return e.id===u})),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&!i.terminate&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&Fr(t.prototype,n),r&&Fr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),qr=n(318),Hr=n.n(qr);function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return K()(t).map((function(t){var n=e.parseFromJSONObject(S()(t,"SecurityComponent"));return n.productAspect=w()(S()(t,"ProductAspect","")),n}))}},{key:"parseFromJSONObject",value:function(e){return{id:w()(S()(e,"ID","")),name:w()(S()(e,"Name","")),description:w()(S()(e,"Description")),controls:(S()(e,"Controls")||[]).map((function(e){return{id:w()(S()(e,"ID","")),name:w()(S()(e,"Name","")),description:w()(S()(e,"Description","")),implementationGuidance:w()(S()(e,"ImplementationGuidance",""))}}))}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map((function(e){return{id:w()(S()(e,"id","")),name:w()(S()(e,"name","")),productAspect:w()(S()(e,"productAspect","")),controls:(S()(e,"controls")||[]).map((function(e){return{id:w()(S()(e,"id","")),name:w()(S()(e,"name","")),selectedOption:w()(S()(e,"selectedOption","")),evalutionRating:w()(S()(e,"evalutionRating","")),description:w()(S()(e,"description","")),implementationGuidance:w()(S()(e,"implementationGuidance","")),implementationEvidence:w()(S()(e,"implementationEvidence","")),implementationEvidenceUserInput:w()(S()(e,"implementationEvidenceUserInput","")),riskCategories:(S()(e,"riskCategories")||[]).map((function(e){return{id:w()(S()(e,"id","")),name:w()(S()(e,"name",""))}})),isKeyControl:Boolean(S()(e,"isKeyControl",!1))}})),jiraTicketLink:w()(S()(e,"jiraTicketLink",""))}}))}}],(n=null)&&Vr(t.prototype,n),r&&Vr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return K()(t).map((function(t){return e.parseFromJSONObject(t)}))}},{key:"parseFromJSONObject",value:function(e){return{id:w()(S()(e,"ID")),jiraKey:w()(S()(e,"JiraKey")),link:w()(S()(e,"TicketLink"))}}}],(n=null)&&Kr(t.prototype,n),r&&Kr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(n),!0).forEach((function(t){zr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Xr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){$r(a,r,o,i,c,"next",e)}function c(e){$r(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,s,u,l,p,f,m,d;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:(d=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d,y,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},t),r=n.uuid,o=n.secureToken,a=n.component,i='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    RiskProfileData\n    ResultForCertificationAndAccreditation\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    CreateOnceInstancePerComponent\n    RiskResultData\n    IsDisplayPreventMessage\n    PreventMessage\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    InformationClassificationTaskResult\n    ControlSetSelectionTaskHelpText\n  }\n  readServiceInventory {\n    ID\n    ServiceName\n  }\n}'),e.next=4,B.request({query:i});case 4:if(c=e.sent,s=S()(c,"data.readTaskSubmission.0",null),u=S()(c,"data.readServiceInventory",null),s){e.next=9;break}throw M;case 9:return l=w()(S()(s,"AnswerData","")),p=w()(S()(s,"Status","")),f=p,a&&l&&(m=JSON.parse(l)).length>0&&(d=m.find((function(e){return e.productAspect===a})))&&(l=JSON.stringify(d.result),f=d.status),y=_.has(s,"RiskResultData")?JSON.parse(S()(s,"RiskResultData","[]")):"[]",a&&y&&y.length>0&&(b=y.find((function(e){return e.productAspect===a})))&&(y=b.riskResult),h={id:w()(S()(s,"ID","")),uuid:w()(S()(s,"UUID","")),taskName:w()(S()(s,"TaskName","")),taskType:w()(S()(s,"TaskType","")),taskStatusForComponent:f,status:p,result:w()(S()(s,"Result","")),informationClassificationTaskResult:w()(S()(s,"InformationClassificationTaskResult","")),submitter:Cr.parseUserFromJSON(S()(s,"Submitter")),lockWhenComplete:Boolean(S()(s,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:w()(S()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:w()(S()(s,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:w()(S()(s,"QuestionnaireSubmission.QuestionnaireStatus","")),questionnaireSubmissionProductName:w()(S()(s,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===S()(s,"QuestionnaireSubmission.IsBusinessOwner","false"),questions:V.parseQuestionsFromJSON({schemaJSON:w()(S()(s,"QuestionnaireData","")),answersJSON:l}),selectedComponents:Jr.parseFromJSONOArray(S()(s,"SelectedComponents",[])),jiraTickets:Yr.parseFromJSONArray(S()(s,"JiraTickets",[])),isCurrentUserAnApprover:"true"===S()(s,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===S()(s,"IsTaskApprovalRequired",!1),riskResults:y,taskRecommendations:_.has(s,"TaskRecommendationData")?JSON.parse(_.defaultTo(S()(s,"TaskRecommendationData","[]"),"[]")):"[]",productAspects:_.has(s,"ProductAspects")?JSON.parse(S()(s,"ProductAspects",[])):[],componentTarget:w()(S()(s,"ComponentTarget","")),isTaskCollborator:"true"===_.get(s,"IsTaskCollborator","false"),isDisplayPreventMessage:"true"===_.get(s,"IsDisplayPreventMessage","false"),createOnceInstancePerComponent:Boolean(S()(s,"CreateOnceInstancePerComponent",!1)),preventMessage:w()(S()(s,"PreventMessage","")),siblingSubmissions:G.parseAlltaskSubmissionforQuestionnaire(s),serviceRegister:G.parseServiceRegister(u),riskProfileData:_.has(s,"RiskProfileData")?JSON.parse(S()(s,"RiskProfileData",[])):[],resultForCertificationAndAccreditation:_.has(s,"ResultForCertificationAndAccreditation")?JSON.parse(S()(s,"ResultForCertificationAndAccreditation",[])):[],controlSetSelectionTaskHelpText:w()(S()(s,"ControlSetSelectionTaskHelpText",""))},e.abrupt("return",h);case 17:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"fetchResultForCertificationAndAccreditation",value:(m=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    ResultForCertificationAndAccreditation\n  }\n}'),e.next=4,B.request({query:a});case 4:if(i=e.sent,c=S()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw M;case 8:return s={id:w()(S()(c,"ID","")),uuid:w()(S()(c,"UUID","")),resultForCertificationAndAccreditation:_.has(c,"ResultForCertificationAndAccreditation")?JSON.parse(S()(c,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"batchUpdateTaskSubmissionData",value:(f=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Wr({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,c=n.secureToken,s=n.component,o.length===a.length){e.next=3;break}throw M;case 3:for(u=[],l=0;l<o.length;l++)p=o[l],f=a[l],m=window.btoa(unescape(encodeURIComponent(JSON.stringify(f)))),d="\nupdateQuestion".concat(p,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(p,'",\n  AnswerData: "').concat(m,'",\n  SecureToken: "').concat(c||"",'",\n  Component: "').concat(s||"",'",\n) {\n  UUID\n  Status\n\n}'),u.push(d);return y="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,B.request({query:y,csrfToken:i});case 8:if(b=e.sent,S()(b,"data",null)){e.next=12;break}throw M;case 12:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"completeTaskSubmission",value:(p=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,c=n.component,s='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'", Component: "').concat(c||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,B.request({query:s,csrfToken:a});case 4:if(u=e.sent,S()(u,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"editTaskSubmission",value:(l=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i=n.component,c='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'", Component: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,B.request({query:c,csrfToken:o});case 4:if(s=e.sent,S()(s,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"fetchStandaloneTask",value:(u=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,B.request({query:o});case 4:if(a=e.sent,i=S()(a,"data.readTask",null)){e.next=8;break}throw M;case 8:return c=G.parseFromJSONObject(i),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"updateTaskSubmissionWithSelectedComponents",value:(s=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,c='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,B.request({query:c,csrfToken:o});case 4:if(s=e.sent,S()(s,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"approveTaskSubmission",value:(c=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,B.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=w()(S()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw M;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"denyTaskSubmission",value:(i=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,B.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=w()(S()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw M;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"updateTaskRecommendation",value:(a=Xr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wr({},t),r=n.uuid,o=n.csrfToken,a=n.taskRecommendations,i='\n  mutation {\n    updateTaskRecommendation(\n      UUID: "'.concat(r,'",\n      TaskRecommendationData: "').concat(window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),'"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }'),e.next=4,B.request({query:i,csrfToken:o});case 4:if(c=e.sent,(s=_.has(c,"TaskRecommendationData")?JSON.parse(S()(submissionJSONObject,"TaskRecommendationData","[]")):"[]")&&r){e.next=8;break}throw M;case 8:return e.abrupt("return",{taskRecommendationData:s});case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchTaskSubmissionList",value:(o=Xr(regeneratorRuntime.mark((function e(t,n,r,o){var a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='query {\n      paginatedReadTaskSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(o,") {\n        edges {\n          node {\n            ID\n            UUID\n            Created\n            TaskName\n            QuestionnaireSubmission {\n              ProductName\n            }\n            Submitter {\n              FirstName\n              Surname\n            }\n            Status\n          }\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          totalCount\n        }\n      }\n    }"),e.next=3,B.request({query:a});case 3:if(i=e.sent,c=S()(i,"data.paginatedReadTaskSubmissions.edges",[]),s=S()(i,"data.paginatedReadTaskSubmissions.pageInfo",[]),Array.isArray(c)){e.next=8;break}throw"error";case 8:return u={totalCount:S()(s,"totalCount",0),hasNextPage:Boolean(S()(s,"hasNextPage",!1)),hasPreviousPage:Boolean(S()(s,"hasPreviousPage",!1))},l=c.map((function(e){var t={};return t.id=S()(e,"node.ID",""),t.uuid=S()(e,"node.UUID",""),t.created=S()(e,"node.Created",""),t.taskName=S()(e,"node.TaskName",""),t.productName=S()(e,"node.QuestionnaireSubmission.ProductName",""),t.submitterName=w()(S()(e,"node.Submitter.FirstName",""))+" "+w()(S()(e,"node.Submitter.Surname","")),t.status=S()(e,"node.Status",""),t})),e.abrupt("return",{taskSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return o.apply(this,arguments)})}],n&&Zr(t.prototype,n),r&&Zr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function to(e){return function(e){if(Array.isArray(e))return no(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return no(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return no(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ro(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function oo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ro(a,r,o,i,c,"next",e)}function c(e){ro(a,r,o,i,c,"throw",e)}i(void 0)}))}}function ao(e,t){return void 0===t&&(t=""),function(){var n=oo(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,Ur.fetchSubmissionData(e,t);case 5:o=n.sent,r((a=o,{type:u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:a})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var a}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}function io(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n,r){var o,a,i,c,s,l,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=Qr.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),c=i.currentIndex,s=i.targetIndex,l=i.nonApplicableIndexes,p=i.complete,l.length>0&&n({type:u.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:l}),s>c&&n({type:u.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:s}),t.next=9,so(r(),C.a.uniq([c].concat(to(l),[s])));case 9:p&&N.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function co(e,t){return function(){var n=oo(regeneratorRuntime.mark((function n(r,o){var a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:u.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return n.prev=5,n.next=8,Ur.fetchQuestionnaireSubmissionList(a.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:u.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:u.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:n.t0});case 16:ErrorUtil.displayError(n.t0);case 17:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t){return n.apply(this,arguments)}}()}function so(e,t){return uo.apply(this,arguments)}function uo(){return(uo=oo(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,je.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,Ur.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map((function(e){return r.questions[e].id})),answerDataList:n.map((function(e){return Qr.transformFromFullQuestionToData(r.questions[e])})),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){mo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ho(e,t){return(ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oo(e);if(t){var o=Oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return go(this,n)}}function go(e,t){if(t&&("object"===lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Oo(e){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var So=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ho(e,t)}(i,e);var t,n,r,a=vo(i);function i(){return yo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=fo({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=fo({},this.props.startState),t=(e.title,e.siteConfig),n=e.keyInformation,r=e.user,a=fo({},this.props),i=a.questionnaireID,c=a.dispatchCreateInProgressSubmissionAction;return r?o.a.createElement("div",{className:"StartContainer"},o.a.createElement($t,{pageTitle:"New submission",logopath:t.logoPath,showSubmissionBreadcrumb:!0}),o.a.createElement(jr,{keyInformation:n,user:r,onStartButtonClick:function(){c(i)}}),o.a.createElement(On,{footerCopyrightText:t.footerCopyrightText})):null}}])&&bo(t.prototype,n),r&&bo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Eo=Object(c.b)((function(e){return{startState:e.questionnaireState.startState}}),(function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ur.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return r=t.sent,t.next=6,Ur.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,N.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(So),wo=n(60),ko=n(247),To=n.n(ko),Ao=n(248),jo=n.n(Ao),Po=n(249),Co=n.n(Po),_o=n(250),Io=n.n(_o);function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bo(e,t){return(Bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qo(e);if(t){var o=Qo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fo(this,n)}}function Fo(e,t){if(t&&("object"===No(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bo(e,t)}(i,e);var t,n,r,a=Mo(i);function i(){return Uo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Do({},this.props),t=e.question,n=e.onItemClick,r=e.index,a=e.component;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t,a)}},r+1,".  ",t.title))}},{key:"renderIcon",value:function(e){var t=Do({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:To.a}):a?r&&a?o.a.createElement("img",{src:Co.a}):o.a.createElement("img",{src:jo.a}):o.a.createElement("img",{src:Io.a})}}])&&Lo(t.prototype,n),r&&Lo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Ho(e){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Go(e,t){return(Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$o(e);if(t){var o=$o(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zo(this,n)}}function zo(e,t){if(t&&("object"===Ho(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Go(e,t)}(i,e);var t,n,r,a=Wo(i);function i(){return Ko(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){Jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.questions,n=e.onItemClick,r=e.component;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"items"},t.map((function(e,t){return o.a.createElement(qo,{question:e,onItemClick:n,key:e.id,index:t,component:r})}))))}}])&&Yo(t.prototype,n),r&&Yo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Zo(e){return(Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(){return(ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ta(e){return function(e){if(Array.isArray(e))return na(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return na(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sa(e);if(t){var o=sa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ca(this,n)}}function ca(e,t){if(t&&("object"===Zo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aa(e,t)}(i,e);var t,n,r,a=ia(i);function i(){return ra(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(cr,ea({},this.props,{classes:["DarkButton"].concat(ta(this.props.classes))}))}}])&&oa(t.prototype,n),r&&oa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);ua.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var la=ua,pa=n(4),fa=n.n(pa),ma=n(599),da=n.n(ma),ya=(n(981),n(200)),ba=n.n(ya),ha=n(137),va=n.n(ha),ga=(n(306),n(559),n(196)),Oa=(n(987),n(989),n(123)),Sa=n(167),Ea=n.n(Sa),wa=n(168),ka=n.n(wa),Ta=n(112),Aa=n.n(Ta),ja=n(198),Pa=n.n(ja),Ca=n(251),_a=n.n(Ca),Ia=n(252),Na=n.n(Ia),Ra=n(158),Da=n.n(Ra),xa=n(121),Ua=n.n(xa),La=(n(991),n(80)),Ba=n.n(La);function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ha(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ja(e,t){return(Ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ga(e);if(t){var o=Ga(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ya(this,n)}}function Ya(e,t){if(t&&("object"===Ma(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ja(e,t)}(i,e);var t,n,r,a=Ka(i);function i(){var e;Ha(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={showModal:!1,FormType:"Add",issueID:"0"},e.handleOpenModal=function(){e.setState({showModal:!0})},e.handleCloseModal=function(){e.setState({showModal:!1,issueID:0})},e.handleOpenAddRecommendationModal=function(){var t=1;if(e.props.taskRecommendations.length>0){var n=e.props.taskRecommendations.reduce((function(e,t){return e.id>t.id?e:t}));n&&(t=n.id+1)}e.setState({showModal:!0,issueID:t,FormType:"Add"})},e.handleOpenEditRecommendationModal=function(t){e.setState({showModal:!0,issueID:t,FormType:"Edit"})},e.getFormInitialValues=function(){var t={id:e.state.issueID,title:"",description:"",recommendation:"",status:""};return"Edit"==e.state.FormType&&e.props.taskRecommendations.length>0&&0!=e.state.issueID&&(t=e.props.taskRecommendations.find((function(t){return t.id===e.state.issueID}))),t},e.renderRecommendationform=function(){return o.a.createElement(wo.c,{initialValues:e.getFormInitialValues(),validate:function(e){var t={};return e.title||(t.title="Please enter the issue title."),e.status||(t.status="Please enter the status."),e.description||(t.description="Please enter the issue description."),e.recommendation||(t.recommendation="Please enter the recommendation."),t},onSubmit:function(t,n){"Add"==e.state.FormType&&e.props.handleAddTaskRecommendationButtonClick(t),"Edit"==e.state.FormType&&e.props.handleEditTaskRecommendationButtonClick(t),e.handleCloseModal()},validateOnChange:!1,validateOnBlur:!1},(function(t){t.isSubmitting;var n=t.errors,r=(t.touched,t.setFieldValue,t.values),a=t.handleChange,i=t.handleSubmit;return o.a.createElement(wo.b,null,o.a.createElement("div",{className:"title-and-status-container"},o.a.createElement("div",{className:"title-field-container"},o.a.createElement("label",null,"Issue title",o.a.createElement(wo.a,{type:"text",name:"title",className:n.title&&"input-error"}),n.title&&o.a.createElement("span",{className:"error"},n.title))),o.a.createElement("div",{className:"status-field-container"},o.a.createElement("label",null,"Status",o.a.createElement("select",{name:"status",value:r.status,onChange:a,className:n.status&&"input-error",style:{display:"block"}},o.a.createElement("option",{value:"",label:"Select"}),o.a.createElement("option",{value:"open",label:"Open"}),o.a.createElement("option",{value:"closed",label:"Closed"})),n.status&&o.a.createElement("span",{className:"error"},n.status)))),o.a.createElement("div",{className:"issue-container"},o.a.createElement("label",null,"Issue description",o.a.createElement(wo.a,{name:"description"},(function(e){var t=e.field;return o.a.createElement("textarea",qa({},t,{className:n.description&&"input-error"}))})),n.description&&o.a.createElement("span",{className:"error"},n.description))),o.a.createElement("div",null,o.a.createElement("label",null,"Recommendation",o.a.createElement(wo.a,{name:"recommendation"},(function(e){var t=e.field;return o.a.createElement("textarea",qa({},t,{className:n.recommendation&&"input-error"}))})),n.recommendation&&o.a.createElement("span",{className:"error"},n.recommendation))),o.a.createElement("div",{className:"buttons"},o.a.createElement(gr,{title:"Cancel",onClick:e.handleCloseModal}),"Add"==e.state.FormType&&o.a.createElement(la,{type:"button",title:"Add","data-flag":"action-add",onClick:i}),"Edit"==e.state.FormType&&o.a.createElement(la,{type:"button",title:"Save","data-flag":"action-add",onClick:i})))}))},e.renderRecommendationModal=function(){return o.a.createElement("div",{className:"RecommendationModal"},o.a.createElement(Ba.a,{isOpen:e.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".TaskSubmissionContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},"Add"==e.state.FormType?"Add Recommendation":"Edit Recommendation"),o.a.createElement("div",{className:"close-icon-container",onClick:e.handleCloseModal},o.a.createElement("img",{src:Da.a}))),o.a.createElement("div",{className:"content"},e.renderRecommendationform())))},e}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){Qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),n=t.taskRecommendations,r=t.viewAs,a=t.status;return o.a.createElement("div",{className:"recommendation-container"},("approver"===r&&"waiting_for_approval"===a||n&&n.length>0)&&o.a.createElement("h4",null,"Approver's recommendations"),n&&n.length>0&&o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"recommendation_table_header"},o.a.createElement("th",{className:"issue-title-col"},"Issue title"),o.a.createElement("th",null,"Issue description"),o.a.createElement("th",null,"Recommendation"),o.a.createElement("th",null,"Status"),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("th",{className:"edit-col"}))),o.a.createElement("tbody",null,n.map((function(t,n){return o.a.createElement("tr",{key:n+1},o.a.createElement("td",null,t.title),o.a.createElement("td",null,t.description),o.a.createElement("td",null,t.recommendation),o.a.createElement("td",null,t.status),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("td",{className:"edit-col"},o.a.createElement("img",{className:"edit-icon",src:Ua.a,onClick:function(){return e.handleOpenEditRecommendationModal(t.id)}})))}))))),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("div",{className:"add-recommendation-link",onClick:function(){return e.handleOpenAddRecommendationModal()}},o.a.createElement("img",{src:Na.a})," Add recommendation"),this.renderRecommendationModal())}}])&&Va(t.prototype,n),r&&Va(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function za(e){return(za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(n),!0).forEach((function(t){Za(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e,t){return(ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ai(e);if(t){var o=ai(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oi(this,n)}}function oi(e,t){if(t&&("object"===za(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ii=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ni(e,t)}(i,e);var t,n,r,a=ri(i);function i(){return ei(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Xa({},this.props.resultForCertificationAndAccreditation);e.organisationName,e.serviceName,e.createdAt,e.securityArchitectName,e.businessOwnerName,e.productName,e.productDescription,e.accreditationLevel,e.accreditationDescription,e.accreditationType,e.accreditationPeriod,e.accreditationRenewalRecommendations,e.classificationLevel,e.riskProfileData,e.tasks,e.taskRecommendations,e.reportLogo}},{key:"render",value:function(){var e=Xa({},this.props.resultForCertificationAndAccreditation),t=e.organisationName,n=e.serviceName,r=e.createdAt,a=e.securityArchitectName,i=e.businessOwnerName,c=e.productName,s=e.productDescription,u=e.accreditationLevel,l=e.accreditationDescription,p=e.accreditationType,f=e.accreditationPeriod,m=e.accreditationRenewalRecommendations,d=e.classificationLevel,y=e.riskProfileData,b=e.tasks,h=e.taskRecommendations,v=e.reportLogo;return o.a.createElement("div",{className:"certification-and-accreditation-report-container"},o.a.createElement("div",{className:"about-report-container"},o.a.createElement("div",{className:"report-heading"},o.a.createElement("div",{className:"report-heading-left-container"},o.a.createElement("h3",null,n),o.a.createElement("p",{className:"certification-accreditation-memo-heading"},"Certification and Accreditation Memo for ",t)),o.a.createElement("div",{className:"report-heading-right-container"},this.props.isDisplayReportLogo&&o.a.createElement("img",{src:v}))),o.a.createElement("div",{className:"report-intro-container"},o.a.createElement("p",{className:"report-intro"},"Prepared at ",r," by ",a),o.a.createElement("p",{className:"report-intro"},"Delivered to ",i," as part of the ",c," delivery."))),o.a.createElement("div",{id:"certificate-container"},o.a.createElement("div",{className:"about-product-container sub-container"},o.a.createElement("h5",null,"About ",c),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}})),o.a.createElement("div",{className:"certificate-recommendation-container sub-container"},o.a.createElement("h5",null,"Certification Recommendation"),o.a.createElement("p",{className:"intro-container"},"It has been recommended by ",a," that this change ",c," be certified against ",u," with an accreditation level of: ",p," for a period of no longer than ",f,"."),o.a.createElement("p",null,"Re-certification after this period should be conditional on the following post go-live remediations being resolved:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:m}})),o.a.createElement("div",{className:"information-classification-container sub-container"},o.a.createElement("h5",null,"Information Classification"),o.a.createElement("p",{className:"intro-container"},"This memo certifies ",n," has been endorsed to store, transmit and receive data to an Information Classification up to ",d,".")),o.a.createElement("div",{className:"certificate-scope-container sub-container"},o.a.createElement("h5",null,"Certification Scope"),o.a.createElement("p",{className:"intro-container"},"This certification is a ",u," level certification for ",n,". It covers ",n," and the following dependencies only."),o.a.createElement("div",{className:"certificate-scope-description",dangerouslySetInnerHTML:{__html:l}}))),o.a.createElement("div",{className:"risk-profile-container sub-container"},o.a.createElement("div",{id:"risk-profile"},o.a.createElement("h5",{className:"pdf-pagebreak-before"},"Risk Profile"),o.a.createElement("p",{className:"intro-container"},"After completing a risk assessment process, it was determined that the residual risk ratings for this delivery are:")),this.renderRiskProfile(y)),o.a.createElement("div",{id:"recommendations-table",className:"recommendation-container sub-container"},o.a.createElement("h5",null,"Recommendations against ",c),this.renderTaskRecommendation(h)),o.a.createElement("div",{id:"task-container",className:"task-container sub-container"},o.a.createElement("h5",null,"Tasks Completed"),o.a.createElement("p",{className:"intro-container"},"The certification of ",n," for ",c," was completed after ",t," completed the following assurance activities:"),this.renderTaskTable(b)))}},{key:"renderRiskProfile",value:function(e){var t=this;if(e&&void 0!==e){var n=JSON.parse(e);return o.a.createElement("div",{id:"risk-container",className:"risk-container"},n.isDisplayMessage&&o.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map((function(e,n){return o.a.createElement("div",{key:n},o.a.createElement("div",{className:"product-aspect-container"},e[0]),t.renderRiskProfileTable(e[1]))})),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result))}}},{key:"renderRiskProfileTable",value:function(e){return e&&0!=e.length?o.a.createElement("div",{className:"risk-profile-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_profile_table_header"},o.a.createElement("th",null,"Risk category"),o.a.createElement("th",null,"Current risk rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))}))))):""}},{key:"renderTaskRecommendation",value:function(e){var t=this;if(e&&void 0!==e)return 0==e.length?o.a.createElement("div",{className:"intro-container"},"No recommendation available."):o.a.createElement("div",null,e.map((function(e,n){var r=e.taskName,a=e.taskApproverName,i=e.taskRecommendationData;return o.a.createElement("div",{key:n},o.a.createElement("p",{className:"intro-container"},"Recommendations from: ",o.a.createElement("b",null,r)," by ",a),t.renderRecommendationTable(i))})))}},{key:"renderRecommendationTable",value:function(e){var t=JSON.parse(e);return o.a.createElement("div",{className:"recommendation-table-container"},t&&t.length>0&&o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"recommendation_table_header"},o.a.createElement("th",{className:"issue-title-col"},"Issue title"),o.a.createElement("th",null,"Issue description"),o.a.createElement("th",null,"Recommendation"))),o.a.createElement("tbody",null,t.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.title),o.a.createElement("td",null,e.description),o.a.createElement("td",null,e.recommendation))})))))}},{key:"renderTaskTable",value:function(e){if(e&&void 0!==e)return o.a.createElement("div",{className:"task-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"task_table_header"},o.a.createElement("th",null,"Task"),o.a.createElement("th",null,"Approved by"),o.a.createElement("th",null,"Task status"))),o.a.createElement("tbody",null,e.map((function(e,t){var n=e.taskName,r=e.taskApproverName,a=e.taskStatus,i=_a.a;"in_progress"==a&&(i=Pa.a),"waiting_for_approval"==a&&(i=Aa.a),"approved"!=a&&"complete"!=a||(i=Ea.a),"denied"==a&&(i=ka.a);var c=r;return c||(c="No approval needed"),o.a.createElement("tr",{key:t},o.a.createElement("td",{className:""},n),o.a.createElement("td",null,c),o.a.createElement("td",null,o.a.createElement("img",{className:"task-status-icon",src:i}),o.a.createElement("span",{className:"task-status"}," ",function(e){if(e)return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}(a))))})))))}}])&&ti(t.prototype,n),r&&ti(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(){return(si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){pi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function di(e,t){return(di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hi(e);if(t){var o=hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bi(this,n)}}function bi(e,t){if(t&&("object"===ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hi(e){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&di(e,t)}(i,e);var t,n,r,a=yi(i);function i(){return fi(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){"Review"==this.props.question.title&&this.props.loadResultForCertificationAndAccreditation()}},{key:"render",value:function(){var e=li({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t),this.renderDisplayField(t))}},{key:"renderDisplayField",value:function(e){if("display"===e.type)return"Risk Profile"==e.title?this.renderRiskProfile():"Review"==e.title?this.renderReview():void 0}},{key:"renderReview",value:function(){var e=li({},this.props),t=e.resultForCertificationAndAccreditation,n=e.handleTaskSaveDraftButtonClick,r=e.handleNextButtonClickForDisplayField;return o.a.createElement("div",null,o.a.createElement("div",{className:"review-container"},o.a.createElement(ii,{resultForCertificationAndAccreditation:t,isDisplayReportLogo:!1})),o.a.createElement("div",{className:"buttons review-button-container"},o.a.createElement("div",{className:"buttons-left"}),o.a.createElement("div",{className:"buttons-right"},o.a.createElement(gr,{title:"Save draft",onClick:function(){n()}}),o.a.createElement(la,{title:"Submit",onClick:function(){r()}})),o.a.createElement("div",null)))}},{key:"renderRiskProfile",value:function(){var e=this,t=li({},this.props),n=t.riskProfileData,r=t.handleNextButtonClickForDisplayField;return o.a.createElement("div",{className:"risk-profile-container"},n.isDisplayMessage&&o.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map((function(t,n){return o.a.createElement("div",{key:n},o.a.createElement("div",{className:"product-aspect-container"},t[0]),e.renderRiskProfileTable(t[1]))})),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:ba.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),o.a.createElement("div",{className:"button-container"},o.a.createElement(la,{title:"Next",rightIconImage:va.a,onClick:function(){r()}}))))}},{key:"renderRiskProfileTable",value:function(e){return o.a.createElement("div",{className:"risk-profile-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_profile_table_header"},o.a.createElement("th",null,"Risk category"),o.a.createElement("th",null,"Current risk rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))})))))}},{key:"renderActions",value:function(e){var t=li({},this.props).handleActionClick;if("action"===e.type){var n=C.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find((function(e){return e.isChose}));return a&&a.message&&(r=o.a.createElement("div",{className:"action-message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),a?o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map((function(e){switch(e.isChose){case!0:return o.a.createElement(la,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(gr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:ba.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))))):o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map((function(e,n){switch(n){case 0:return o.a.createElement(la,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(gr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:ba.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))))}}},{key:"renderInputsForm",value:function(e){var t=li({},this.props),n=t.handleFormSubmit,r=t.serviceRegister,a=t.informationClassificationTaskResult;if("input"===e.type){var i=C.a.get(e,"inputs",null);if(!i)return null;var c={};return i.forEach((function(e){c[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(c[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(c[e.id]=e.defaultCheckboxValue),"information classification"==e.type&&null===e.data&&a&&(c[e.id]=a)})),o.a.createElement(wo.c,{initialValues:c,validate:function(e){var t={};return i.forEach((function(n){var r=li({},n),o=r.id,a=r.type,i=r.required,c=r.label,s=r.minLength,u=C.a.get(e,o,null),l=c||"field";if(i&&(!u||"[]"===u))return t[o]="Please enter a value for ".concat(l),void("radio"!==a&&"checkbox"!==a&&"service register"!==a||(t[o]="Please select an option for ".concat(l)));s>0&&u&&u.length<s?t[o]="Please enter a value with at least ".concat(s," characters for ").concat(l):"email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(u)?("date"!==a&&"release date"!==a||fa()(u,"YYYY-MM-DD").isValid()||(t[o]="Invalid date"),"product aspects"!==a||!u||/^[0-9a-zA-Z\s\n]+$/i.test(u)||(t[o]="Please enter alpha-numeric characters only.")):t[o]="Invalid email address"})),t},onSubmit:function(e,t){n(t,e)}},(function(e){var t=e.handleChange,n=(e.isSubmitting,e.errors),a=e.touched,s=e.setFieldValue,u=e.values,l=[];return C.a.keys(n).filter((function(e){return Boolean(a[e])})).forEach((function(e){l[e]=n[e]})),o.a.createElement(wo.b,{className:"scroller"},i.map((function(e){var n=li({},e),a=n.id,i=n.type,p=n.label,f=n.placeholder,m=n.options,d=(n.defaultRadioButtonValue,n.defaultCheckboxValue,n.maxLength),y=n.required,b=C.a.get(l,a,null),h=Boolean(b),v=[];if(h&&v.push("error"),["text","email","url"].includes(i))return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(wo.a,{type:i,name:a,className:v.join(" "),placeholder:f,maxLength:d>0?d:4096})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("radio"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",{className:h?"radio-container-error radio-container":"radio-container"},m.length&&m.map((function(e,t){var n=C.a.toString(e.value)===C.a.toString(u[a]);return o.a.createElement("div",{key:t,className:"Accreditation level"===p?"accreditation-level-option radio-option":"radio-option"},o.a.createElement("label",{className:"radio-label"},o.a.createElement(wo.a,{type:"radio",name:a,value:e.value,className:"radio",checked:n}),e.label))}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("checkbox"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",{className:h?"checkbox-container-error checkbox-container":"checkbox-container"},m.length&&m.map((function(e,t){var n=u[a]?JSON.parse(u[a]):[],r=n.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("label",{className:"checkbox-label"},o.a.createElement("input",{type:"checkbox",name:a,className:"checkbox",checked:r,onChange:function(t){t.target.checked?n.push(e.value):n.splice(n.indexOf(e.value),1),s(a,JSON.stringify(n))}}),e.label))}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("date"===i||"release date"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(wo.a,{name:a},(function(e){var t=null,n=e.field.value||null;return n&&n.trim().length>0&&(t=fa()(n).toDate()),o.a.createElement(da.a,{dateFormat:"dd-MM-yyyy",className:v.join(" "),selected:t,onChange:function(e){if(e){var t=fa()(e).format("YYYY-MM-DD");s(a,t)}else s(a,null)},placeholderText:f,dropdownMode:"scroll",withPortal:!0})}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("textarea"===i||"product aspects"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(wo.a,{name:a},(function(e){var t=e.field;return o.a.createElement("textarea",si({},t,{className:v.join(" "),placeholder:f}))})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b))));if("rich text editor"===i)return o.a.createElement("div",{key:a,className:"field-container"},p&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(ga.a,{className:"implementation-evidence",initialValue:c[a],init:{selector:"textarea",height:"280",menubar:!1,plugins:"lists advlist",toolbar:"+ removeformat bold italic underline strikethrough bullist numlist",statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(e){t({target:{name:a,value:e.target.getContent()}})}}),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b))));if("service register"===i||"dropdown"===i||"information classification"===i){var g=r;return"service register"!==i&&(g=m.map((function(e){return{value:e.value,label:e.label}}))),o.a.createElement("div",{key:a,className:"field-container"},p&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",{className:"dropdown-container"},o.a.createElement(Oa.a,{name:a,options:g,defaultValue:c[a]&&g.find((function(e){return e.value===JSON.parse(c[a]).value}))?JSON.parse(c[a]):"",classNamePrefix:"react-select",className:h?"react-select-error":"",maxMenuHeight:250,placeholder:"Select",onChange:function(e){t({target:{name:a,value:JSON.stringify(e)}})}})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)))}return null})),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:ba.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),o.a.createElement("div",{className:"button-container"},o.a.createElement(la,{title:"Next",rightIconImage:va.a}))))}))}}}])&&mi(t.prototype,n),r&&mi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function gi(e){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){Ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ti(e,t){return(Ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pi(e);if(t){var o=Pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ji(this,n)}}function ji(e,t){if(t&&("object"===gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pi(e){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ti(e,t)}(i,e);var t,n,r,a=Ai(i);function i(){return wi(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"handleFormSubmit",value:function(e,t){var n=Si({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=n.component,i=r.find((function(e){return!0===e.isCurrent}));if(i){var c=Si({},i);C.a.forIn(t,(function(e,t){var n=c.inputs.findIndex((function(e){return e.id===t}));n>=0&&C.a.set(c,"inputs.".concat(n,".data"),e)})),c.hasAnswer=!0,c.isApplicable=!0,o(c,a)}}},{key:"handleActionClick",value:function(e){var t=Si({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=t.component,a=n.find((function(e){return!0===e.isCurrent}));if(a){var i=Si({},a);i.actions=i.actions.map((function(t){return t.isChose=t.id===e.id,t})),i.hasAnswer=!0,i.isApplicable=!0,r(i,o)}}},{key:"handleNextButtonClickForDisplayField",value:function(){var e=Si({},this.props),t=e.questions,n=e.saveAnsweredQuestion,r=t.find((function(e){return!0===e.isCurrent}));if(r){var o=Si({},r);o.hasAnswer=!0,o.isApplicable=!0,n(o)}}},{key:"render",value:function(){var e=Si({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=e.serviceRegister,a=e.informationClassificationTaskResult,i=e.riskProfileData,c=e.resultForCertificationAndAccreditation,s=e.handleTaskSaveDraftButtonClick,u=(e.handleTaskSubmitButtonClick,e.loadResultForCertificationAndAccreditation),l=e.component,p=t.find((function(e){return!0===e.isCurrent})),f=t.findIndex((function(e){return e.id===p.id}));return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement("div",{className:"title"},"Questions"),o.a.createElement("div",{className:"form-container"},o.a.createElement(Xo,{questions:t,onItemClick:n,component:l}),p&&o.a.createElement(vi,{index:f,key:p.id,question:p,serviceRegister:r,riskProfileData:i,resultForCertificationAndAccreditation:c,loadResultForCertificationAndAccreditation:u,informationClassificationTaskResult:a,handleTaskSaveDraftButtonClick:s,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this),handleNextButtonClickForDisplayField:this.handleNextButtonClickForDisplayField.bind(this)}))))}}])&&ki(t.prototype,n),r&&ki(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function _i(e){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Li(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mi(e);if(t){var o=Mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bi(this,n)}}function Bi(e,t){if(t&&("object"===_i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ui(e,t)}(i,e);var t,n,r,a=Li(i);function i(){return Di(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Ni({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Ni({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,a=Ni({},this.props.submissionState),i=a.title,c=a.siteConfig,s=a.user,u=a.submission;return s&&u&&c?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==u.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement($t,{pageTitle:i,logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"The questionnaire is not in progress. Please check the summary screen.")),o.a.createElement(On,{footerCopyrightText:c.footerCopyrightText})):s.id===u.submitter.id?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement($t,{pageTitle:"New submission",logopath:c.logoPath,showSubmissionBreadcrumb:!0}),o.a.createElement(Ci,{questions:u.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement(On,{footerCopyrightText:c.footerCopyrightText})):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement($t,{pageTitle:"New submission",logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"It appears this submission has not yet been submitted. Only the submitter can edit a submission and must submit before it can be reviewed.")),o.a.createElement(On,{footerCopyrightText:c.footerCopyrightText})):null}}])&&xi(t.prototype,n),r&&xi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Qi=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(ao(t))},dispatchSaveAnsweredQuestionAction:function(t){var n;e((n=t,function(){var e=oo(regeneratorRuntime.mark((function e(t,r){var o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:u.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=C.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,je.getCSRFToken();case 7:return i=e.sent,c=n.id,s=Qr.transformFromFullQuestionToData(n),e.prev=10,e.next=13,Ur.updateSubmissionData({submissionID:a,questionID:c,csrfToken:i,answerData:s});case 13:t(io(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex((function(e){return e.isCurrent})))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((c=a.questions.findIndex((function(t){return t.id===e.id})))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:u.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=15,so(r(),[i,c]);case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Fi),qi=n(163),Hi=n.n(qi);function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xi(e);if(t){var o=Xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $i(this,n)}}function $i(e,t){if(t&&("object"===Vi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xi(e){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wi(e,t)}(i,e);var t,n,r,a=zi(i);function i(){return Yi(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){Ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map((function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))}))))}},{key:"renderData",value:function(e){if(!e.isApplicable)return o.a.createElement("div",null,"(Not applicable)");if(!e.hasAnswer)return o.a.createElement("div",null,"(Has no answer)");if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=fa()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map((function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label),"",o.a.createElement("span",null,"-"),"",o.a.createElement("span",null,n))}))):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=C.a.head(e.actions.filter((function(e){return e.isChose})));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&Gi(t.prototype,n),r&&Gi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ac(e,t){return(ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ic(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sc(e);if(t){var o=sc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cc(this,n)}}function cc(e,t){if(t&&("object"===ec(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ac(e,t)}(i,e);var t,n,r,a=ic(i);function i(){return rc(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach((function(t){nc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,c=e.handleEditAnswerButtonClick;if(!t)return null;var s=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),u=o.a.createElement("div",{className:"buttons"},o.a.createElement(gr,{title:"Edit",iconImage:Ua.a,classes:["button"],onClick:c}),o.a.createElement(gr,{title:"PDF",iconImage:Hi.a,classes:["button"],onClick:i}),o.a.createElement(la,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:Qr.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(gr,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return N.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&s,o.a.createElement(Zi,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&u,"submitter"!==n&&l)}}])&&oc(t.prototype,n),r&&oc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),lc=n(201),pc=n.n(lc),fc=n(334),mc=n.n(fc);function dc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&dc(t.prototype,n),r&&dc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),bc=n(262),hc=n.n(bc),vc=n(202),gc=n.n(vc);function Oc(e){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(n),!0).forEach((function(t){wc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ac(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Tc(a,r,o,i,c,"next",e)}function c(e){Tc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function jc(e){return Pc.apply(this,arguments)}function Pc(){return(Pc=Ac(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.addEventListener("load",(function(t){e(t.target.result)})),n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cc(e){return _c.apply(this,arguments)}function _c(){return(_c=Ac(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,jc(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ic=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i;return t=e,n=null,r=[{key:"downloadCertificate",value:(i=Ac(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mc.a.pdfMake.vfs,pc.a.vfs=n,r=Ec({},t),o=r.siteConfig,a={defaultStyles:{h5:{fontSize:10,marginTop:10},h3:{fontSize:12},p:{margin:[0,1,0,5]}}},e.next=6,Cc(o.pdfHeaderImageLink);case 6:return i=e.sent,e.next=9,hc()(document.getElementById("risk-container"),{scale:3}).then((function(e){return e.toDataURL("image/jpeg",1)}));case 9:return c=e.sent,e.next=12,hc()(document.getElementById("recommendations-table"),{scale:3}).then((function(e){return e.toDataURL("image/jpeg",1)}));case 12:return s=e.sent,e.next=15,hc()(document.getElementById("task-container"),{scale:3}).then((function(e){return e.toDataURL("image/jpeg",1)}));case 15:return u=e.sent,l=gc()(document.getElementsByClassName("report-heading-left-container")[0].innerHTML,a),p=gc()(document.getElementsByClassName("report-intro-container")[0].innerHTML,a),f=gc()(document.getElementById("certificate-container").innerHTML,a),m=gc()(document.getElementById("risk-profile").innerHTML,a),d={pageSize:"A4",pageMargins:[50,70,50,40],header:{image:i,alignment:"center",width:500},content:[l,p,f,m,{image:c,fit:[750,750],margin:[0,0,0,20]},{image:s,fit:[750,750],margin:[0,0,0,20]},{image:u,fit:[750,750],margin:[0,0,0,20]}],pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1},defaultStyle:{fontSize:9}},y={title:"Certification & Accreditation Report.pdf"},e.prev=22,e.next=25,pc.a.createPdf(d).download(y.title);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(22),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 30:case"end":return e.stop()}}),e,null,[[22,27]])}))),function(e){return i.apply(this,arguments)})},{key:"generatePDF",value:(a=Ac(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d,y,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ec({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteConfig,c=n.result,s=n.riskResults,l=[],p={questionnaireTitle:{bold:!0,fontSize:4+(u=12),color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:u,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:u+2,color:"#004071"},questionHeading:{bold:!0}},f={fontSize:u},m={title:"".concat(a," - ").concat(o.name,".pdf")},d=mc.a.pdfMake.vfs,pc.a.vfs=d,e.next=10,Cc(i.pdfHeaderImageLink);case 10:return y=e.sent,l.push({image:y,width:500,margin:[0,0,0,u]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,u/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*u]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,u/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*u]}),c&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"".concat(c),margin:[0,0,0,2*u]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,u]}),r.forEach((function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,u/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=fa()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach((function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(yc.toString(n(e))),margin:[0,0,0,o?u:parseInt("".concat(u/3))]})})):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,u]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=C.a.head(e.actions.filter((function(e){return e.isChose})));l.push({text:r.label,margin:[0,0,0,u]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,u]});else l.push({text:"(Not applicable)",margin:[0,0,0,u]})})),"object"===Oc(s)&&s.length>0&&(b=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],s.forEach((function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),b.push([{text:e.riskName},e.weights,e.score,n])})),l.push({table:{headerRows:1,widths:[237,75,75,75],body:b},width:500,margin:[0,0,0,u]})),e.next=23,Cc(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,u]}),e.prev=25,e.next=28,pc.a.createPdf({info:m,content:l,styles:p,defaultStyle:f}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}}),e,null,[[25,30]])}))),function(e){return a.apply(this,arguments)})},{key:"blobToDataURL",value:(o=Ac(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&kc(t.prototype,n),r&&kc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Nc(e){return(Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(n),!0).forEach((function(t){xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bc(e,t){return(Bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qc(e);if(t){var o=Qc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fc(this,n)}}function Fc(e,t){if(t&&("object"===Nc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qc(e){return(Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bc(e,t)}(i,e);var t,n,r,a=Mc(i);function i(){return Uc(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Dc({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Dc({},this.props).secureToken,t=Dc({},this.props.submissionState),n=(t.title,t.siteConfig),r=t.user,a=t.submission,i=t.isCurrentUserApprover,c=t.isCurrentUserABusinessOwnerApprover;if(!r||!n)return null;var s="others";do{if(r.id===a.submitter.id){s="submitter";break}if(i){s="approver";break}if(c&&"waiting_for_approval"==a.status){s="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement($t,{pageTitle:"Review responses",logopath:n.logoPath}),o.a.createElement(uc,{siteTitle:n.siteTitle,viewAs:s,submission:a,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement(On,{footerCopyrightText:n.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=Dc({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&Ic.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=C.a.get(this.props.submissionState,"submission.submissionUUID","");e&&N.redirectToQuestionnaireEditing(e)}}])&&Lc(t.prototype,n),r&&Lc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Hc=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(ao(t))},dispatchSubmitQuestionnaire:function(){e(function(){var e=oo(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!Qr.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,je.getCSRFToken();case 11:return i=e.sent,e.next=14,Ur.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:c=e.sent,s=c.uuid,N.redirectToQuestionnaireSummary(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(qc);function Vc(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Jc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Vc(a,r,o,i,c,"next",e)}function c(e){Vc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchCurrentUser",value:(a=Jc(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,B.request({query:'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsAccreditationAuthority\n    IsCertificationAuthority\n  }\n}'});case 3:if(t=e.sent,n=C.a.get(t,"data.readMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=Cr.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"fetchMembers",value:(o=Jc(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,B.request({query:'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}'});case 3:if(t=e.sent,n=C.a.get(t,"data.readMember",null)){e.next=7;break}throw new Error("Authenticate error");case 7:return r=Cr.parserMemberFromJSON(n),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&Kc(t.prototype,n),r&&Kc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Gc(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Wc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Gc(a,r,o,i,c,"next",e)}function c(e){Gc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function zc(){return function(){var e=Wc(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yc.fetchCurrentUser();case 3:n=e.sent,r={type:u.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function $c(e){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xc(){return(Xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zc(e){return function(e){if(Array.isArray(e))return es(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return es(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rs(e,t){return(rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function os(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=is(e);if(t){var o=is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return as(this,n)}}function as(e,t){if(t&&("object"===$c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function is(e){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rs(e,t)}(i,e);var t,n,r,a=os(i);function i(){return ts(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(cr,Xc({},this.props,{classes:["RedButton"].concat(Zc(this.props.classes))}))}}])&&ns(t.prototype,n),r&&ns(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);cs.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var ss=cs,us=n(602),ls=n.n(us),ps=n(603),fs=n.n(ps),ms=n(109),ds=n.n(ms),ys=n(604),bs=n.n(ys);function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Es(e,t){return(Es=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ws(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ts(e);if(t){var o=Ts(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ks(this,n)}}function ks(e,t){if(t&&("object"===hs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ts(e){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var As=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Es(e,t)}(i,e);var t,n,r,a=ws(i);function i(){return Os(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){gs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).riskResults;return e&&0!==e.length?o.a.createElement("div",{className:"risk-result-container"},o.a.createElement("h4",null,"Initial Risk Rating"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk"),o.a.createElement("th",null,"Initial Rating"),o.a.createElement("th",null,"Description"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:"#"+e.colour,width:"10%",color:"#000000"}},e.rating),o.a.createElement("td",{style:{width:"59%"}},e.description))})))))):null}}])&&Ss(t.prototype,n),r&&Ss(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);n(1064);function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ps=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter((function(e){return"security risk assessment"===e.taskType&&"complete"===e.status})).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter((function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)})).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return o.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&js(t.prototype,n),r&&js(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Cs(e){return(Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ns(e,t){return(Ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xs(e);if(t){var o=xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ds(this,n)}}function Ds(e,t){if(t&&("object"===Cs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xs(e){return(xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Us=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ns(e,t)}(i,e);var t,n,r,a=Rs(i);function i(){return _s(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",o.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&Is(t.prototype,n),r&&Is(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Ls=n(605),Bs=n.n(Ls),Ms=n(1159);function Fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qs=function(e){e.approvedBy,e.prettifyStatus,e.getRedirectUrlForTask;var t=e.unfinshedRQTaskMessage,n=e.taskTableData,a=e.uuid,i=e.component,c=e.tasks,s=(e.token,Fs(Object(r.useState)(!1),2)),u=s[0],l=s[1];return o.a.createElement(o.a.Fragment,{key:"".concat(i,"_").concat(a)},o.a.createElement("tr",{className:"tr-accordion",onClick:function(){l(!u)}},o.a.createElement("td",{colSpan:6},o.a.createElement("div",{className:"task-table-title-data"},o.a.createElement("img",{alt:"chevron",className:u?"td-chevron rotate":"td-chevron",src:ds.a}),i))),c.map((function(e){return n(e,t,u?"tr-expanded":"tr-hidden",i)})))};function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Js(e,t){return(Js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ks(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gs(e);if(t){var o=Gs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ys(this,n)}}function Ys(e,t){if(t&&("object"===Hs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gs(e){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){$s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xs=function(e){if(e)return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},Zs=function(e,t){if(e)return"pending"==e?"Awaiting approval":"not_required"==e?"Not required":"approved"==e&&"Certification Authority"==t?"Certification granted":"denied"==e&&"Certification Authority"==t?"Certification denied":"approved"==e&&"Accreditation Authority"==t?"Accreditation issued":"denied"==e&&"Accreditation Authority"==t?"Accreditation denied":"denied"==e?"Not approved":Xs(e)},eu=function(e,t,n,r){var o=N.redirectToTaskSubmission(e,t,"urlString",r);return"selection"===n&&(o=N.redirectToComponentSelectionSubmission(e,t,"urlString",r)),"security risk assessment"===n&&(o=N.redirectToSecurityRiskAssessment(e,t,"urlString",r)),"control validation audit"===n&&(o=N.redirectToControlValidationAudit(e,t,"urlString",r)),o},tu=function(e){var t=_a.a;return"in_progress"==e&&(t=Pa.a),"waiting_for_approval"==e&&(t=Aa.a),"approved"!=e&&"complete"!=e||(t=Ea.a),"denied"==e&&(t=ka.a),t},nu=function(e,t,n,r){var a=zs({},e),i=a.uuid,c=a.token,s=a.taskName,u=a.taskType,l=a.status,p=a.approver,f=a.isTaskApprovalRequired,m=a.timeToComplete,d=a.timeToReview,y=a.canTaskCreateNewTasks,b=o.a.createElement(ne.c,{to:eu(i,c,u,r)},o.a.createElement("img",{src:ds.a}));return o.a.createElement("tr",{key:i,className:r?n:""},o.a.createElement(o.a.Fragment,null,o.a.createElement("td",{className:r?"tr-taskName":"task-table-title-data"},s,y?o.a.createElement("span",{className:"multiple-tasks-created"}," *"):null),o.a.createElement("td",null,m),o.a.createElement("td",null,f?p.name:"No approval needed"),o.a.createElement("td",null,d),o.a.createElement("td",null,o.a.createElement("img",{src:tu(l)}),o.a.createElement("span",{className:"task-status"},Xs("start"==l?"To do":l))),o.a.createElement("td",null,t&&"security risk assessment"===u?null:b)))},ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Js(e,t)}(i,e);var t,n,r,a=Ks(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).handleChangeForAccreditationPeriod=function(e){return t.setState({accreditationPeriod:e})},t.state={skipBoAndCisoApproval:!1,enableApproveButton:!0,showModal:!1,selectedCollaborators:e.submission.collaborators,accreditationPeriod:""},t}return t=i,(n=[{key:"componentDidMount",value:function(){""!==this.getAcknowledgeText()&&this.setState({enableApproveButton:!1})}},{key:"getAcknowledgeText",value:function(){if(this.props.submission.isCertificationAndAccreditationTaskExists){if("businessOwnerApprover"===this.props.viewAs&&this.props.submission.businessOwnerAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.businessOwnerAcknowledgementText);if("approver"===this.props.viewAs){if(this.props.user.isCertificationAuthority&&this.props.submission.certificationAuthorityAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.certificationAuthorityAcknowledgementText);if(this.props.user.isAccreditationAuthority&&this.props.submission.accreditationAuthorityAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.accreditationAuthorityAcknowledgementText)}}return""}},{key:"replaceAcknowledgementText",value:function(e){var t=this,n=e;if(!this.props.user.isAccreditationAuthority)return o.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}});var r=this.props.submission.taskSubmissions.filter((function(e){return"certification and accreditation"===e.taskType})),a=JSON.parse(r[0].resultForCertificationAndAccreditation),i=a.accreditationPeriod+" (recommended)",c=o.a.createElement(Oa.a,{options:[{value:"1 month",label:"1 month"},{value:"3 months",label:"3 months"},{value:"6 months",label:"6 months"},{value:"9 months",label:"9 months"},{value:"12 months",label:"12 months"},{value:"18 months",label:"18 months"},{value:"24 months",label:"24 months"}],defaultValue:{label:i,value:a.accreditationPeriod},className:"react-select-container",classNamePrefix:"react-select",placeholder:a.accreditationPeriod,maxMenuHeight:110,onChange:function(e){return t.handleChangeForAccreditationPeriod(e.value)}}),s=n.split(a.accreditationPeriod);return o.a.createElement("div",{className:"acknowledgement-text-for-accreditation-authority"},o.a.createElement("div",{className:"acknowledgement-text-before-dropdown",dangerouslySetInnerHTML:{__html:s[0]}}),o.a.createElement("div",{className:"acknowledgement-text-dropdown"},c),o.a.createElement("div",{className:"acknowledgement-text-after-dropdown",dangerouslySetInnerHTML:{__html:s.slice(1)}}))}},{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter((function(e){return"risk questionnaire"===e.taskType}));if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach((function(e,t){"selection"===e.taskType&&(n=!0)})),n}},{key:"handleAddCollaboratorsModalButtonClick",value:function(){this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators),this.handleCloseModalForCollaborators()}},{key:"handleOpenModalForCollaborators",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModalForCollaborators",value:function(){this.setState({showModal:!1}),this.setState({selectedCollaborators:this.props.submission.collaborators})}},{key:"handleChangeForCollaborators",value:function(e){this.setState({selectedCollaborators:e})}},{key:"render",value:function(){var e=zs({},this.props),t=e.submission,n=e.viewAs,r=e.user,a=e.members;return t&&a?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h4",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?o.a.createElement(Us,null):o.a.createElement("div",{className:"Summary"},o.a.createElement("h3",null,"Submission details"),this.renderSubmissionDetails(t),this.renderCollboratorsAndComponentsInfo(t,a),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(As,{riskResults:t.riskResults}),this.renderSkipCheckbox(t,n,r),this.renderAcknowledgements(t,n,r),this.renderButtons(t)):null}},{key:"renderCollboratorsModal",value:function(e,t){return o.a.createElement(Ba.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".Summary")}},o.a.createElement("div",{className:"collaborator-model-title"},o.a.createElement("span",null,o.a.createElement("h4",null,"Add Collaborators")),o.a.createElement(Ms.a,{"aria-label":"close",component:"span",className:"collaborator-model-close icon-gray",onClick:this.handleCloseModalForCollaborators.bind(this)},o.a.createElement(Bs.a,null))),o.a.createElement("div",{className:"content"},"Start typing names, to add them as collaborators for your submission."),o.a.createElement("div",{className:"content"},o.a.createElement(Oa.a,{options:t,defaultValue:e.collaborators,isMulti:!0,maxMenuHeight:200,onChange:this.handleChangeForCollaborators.bind(this)})),o.a.createElement("div",null,o.a.createElement(la,{title:"Add",onClick:this.handleAddCollaboratorsModalButtonClick.bind(this)})))}},{key:"renderSubmissionDetails",value:function(e){var t=e.submitter,n=Xs(e.status),r=Aa.a;"Submitted"==n&&Qr.existsIncompleteTaskSubmission(e.taskSubmissions)?(n="Tasks to complete",r=fs.a):"Submitted"!=n||Qr.existsIncompleteTaskSubmission(e.taskSubmissions)||(n="Ready to submit",r=ls.a),"In progress"==n&&(r=Pa.a),"Approved"==n&&(r=Ea.a),"Denied"==n&&(r=ka.a);var a=e.productName;return""==a&&(a="Product Name: Please add a product name"),o.a.createElement("div",{className:"submission-details-container"},o.a.createElement("div",{className:"submission-detail-left-container"},o.a.createElement("div",null,o.a.createElement("span",{className:"product-name"},a)),o.a.createElement("span",null,e.questionnaireTitle),o.a.createElement("div",{className:"submitter-name-created-date-row"},o.a.createElement("span",{className:"submission-details-label"},"Submission created: "),o.a.createElement("span",{className:"submission-details-data"},fa()(e.created).format("DD/MM/YYYY"))),o.a.createElement("div",null,o.a.createElement("span",{className:"submission-details-label"},"Go live date: "),o.a.createElement("span",{className:"submission-details-data"},e.releaseDate?fa()(e.releaseDate).format("DD/MM/YYYY"):""))),o.a.createElement("div",{className:"submission-detail-right-container"},o.a.createElement("div",null,o.a.createElement("span",{className:"submission-status"},o.a.createElement("img",{src:r}),n)),o.a.createElement("div",{className:"submitter-name-created-date-row"},o.a.createElement("span",{className:"submission-details-label"},"Submitted by: "),o.a.createElement("span",{className:"submission-details-data"},t.name)),o.a.createElement("div",null,o.a.createElement("span",{className:"submission-details-label"},"Email: "),o.a.createElement("span",{className:"submission-details-data"},t.email))))}},{key:"renderCollboratorsInfo",value:function(e,t){return o.a.createElement("div",{className:"collaborators-container"},o.a.createElement("h4",null,"Collaborators"),o.a.createElement("div",{className:"collaborator-message"},"You can add people to help complete your submission. Please contact the",o.a.createElement("a",{href:"mailto:"+this.props.securityTeamEmail},"security team"),"for more information."),e.collaborators.length>0&&o.a.createElement("div",null,e.collaborators.map((function(e,t){var n=e.label;return o.a.createElement("div",{className:"collaborator-name",key:t},n)}))),"submitter"===this.props.viewAs&&o.a.createElement("div",null,o.a.createElement("button",{className:"btn add-collaborators-btn",onClick:this.handleOpenModalForCollaborators.bind(this)},o.a.createElement("img",{src:Na.a})," Add collaborators")),this.renderCollboratorsModal(e,t))}},{key:"renderComponentsInfo",value:function(e){var t=e.productAspects;return o.a.createElement("div",{className:t.length>0?"components-container":"hide-components-container"},o.a.createElement("h4",null,"Components"),o.a.createElement("div",null,"Please specify if there are multiple components impacted for this submission. This will help group your tasks per component."),o.a.createElement("div",null,t.map((function(e,t){return o.a.createElement("div",{className:"component-name",key:t},e)}))))}},{key:"renderCollboratorsAndComponentsInfo",value:function(e,t){return o.a.createElement("div",{className:"collaborators-components-container"},this.renderCollboratorsInfo(e,t),this.renderComponentsInfo(e))}},{key:"addProductAspectsToTaskSubmissions",value:function(e,t){return t.map((function(t){if(t.createOnceInstancePerComponent){var n=Object.assign({},t);return n.productAspect=e,n}})).filter((function(e){return void 0!==e}))}},{key:"renderTasks",value:function(e){var t=e.taskSubmissions,n=e.productAspects,r=zs({},this.props).token,a=Ps.isSRATaskFinalised(e.taskSubmissions);if(0===t.length)return null;var i=[],c=[],s=[],u=t;n&&n.length>0&&(t.map((function(e){!0===e.createOnceInstancePerComponent?i.push(e):c.push(e)})),i.length>0&&(n.map((function(e){var t=i.map((function(t){if(t.createOnceInstancePerComponent&&t.answerData){var n=JSON.parse(t.answerData).filter((function(t){return t.productAspect===e})),r=Object.assign({},t);return r.status=n[0]?n[0].status:"start",r}return t}));s.push({component:e,tasks:t})})),u=c.concat(s)));var l=this.unfinishedTaskSubmissionMessage()?o.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return o.a.createElement("div",{className:"tasks-container"},o.a.createElement("h4",null,"Tasks"),o.a.createElement("div",{className:"task-instruction-message"},"Please complete the tasks below. Note the tasks marked with a red asterisk (",o.a.createElement("span",{className:"multiple-tasks-created"},"*"),") may create new tasks, depending on your answers."),l,a?Ps.getSraIsFinalisedAlert():null,o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"task-thead"},o.a.createElement("tr",{className:"task-table-header"},o.a.createElement("th",null,"Task"),o.a.createElement("th",{className:"completion-time-col"},"Time to complete"),o.a.createElement("th",null,"Approved by"),o.a.createElement("th",null,"Time to review"),o.a.createElement("th",null,"Task status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,u.map((function(e){return e.component&&e.tasks.length>0?o.a.createElement(qs,{key:"accordion_".concat(e.component,"_").concat(e.uuid),tasks:e.tasks,component:e.component,prettifyStatus:Xs,getRedirectUrlForTask:eu,token:r,taskTableData:nu,unfinshedRQTaskMessage:l}):nu(e,l)}))))))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=e.certificationAuthorityApprover,i=e.accreditationAuthorityApprover,c=Zs(t.securityArchitect),s="Unassigned";n.firstName&&(s=n.firstName+" "+n.surname);var u=Zs(t.chiefInformationSecurityOfficer),l="Unassigned";r.firstName&&(l=r.firstName+" "+r.surname);var p=Zs(t.businessOwner),f=[{role:"Security Architect",name:s,status:c},{role:"Chief Information Security Officer",name:l,status:u},{role:"Business Owner",name:e.businessOwnerApproverName?e.businessOwnerApproverName:"Unassigned",status:p}];if(this.props.submission.isCertificationAndAccreditationTaskExists){var m=Zs(t.certificationAuthority,"Certification Authority"),d="Unassigned";a.firstName&&(d=a.firstName+" "+a.surname);var y=Zs(t.accreditationAuthority,"Accreditation Authority"),b="Unassigned";i.firstName&&(b=i.firstName+" "+i.surname),f.push({role:"Certification Authority",name:d,status:m},{role:"Accreditation Authority",name:b,status:y})}return o.a.createElement("div",{className:"submission-approval-container"},o.a.createElement("h4",null,"Submission approvals"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"submission-approval-thead"},o.a.createElement("tr",{key:"approval_table_header"},o.a.createElement("th",null,"Role"),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Approval status"))),o.a.createElement("tbody",null,f.map((function(e,t){var n=e.status,r=Aa.a;return"Approved"!=n&&"Certification granted"!=n&&"Accreditation issued"!=n||(r=Ea.a),"Not approved"!=n&&"Certification denied"!=n&&"Accreditation denied"!=n&&"Not required"!=n||(r=ka.a),o.a.createElement("tr",{key:t+1},o.a.createElement("td",{className:"table-title-data"},e.role),o.a.createElement("td",{className:"Unassigned"==e.name?"unassigned-approver":""},e.name),o.a.createElement("td",null,o.a.createElement("img",{src:r}),o.a.createElement("span",{className:"approval-status"}," ",n," ")))}))))))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"sub-container"},o.a.createElement("h4",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}})," This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}},{key:"renderAcknowledgements",value:function(e,t,n){var r=this;if(!e.isCertificationAndAccreditationTaskExists)return null;var a=this.getAcknowledgeText();return""!==a?o.a.createElement("div",{className:"acknowledgement-container"},o.a.createElement("h4",null,"Acknowledgements"),o.a.createElement("div",{className:"sub-container"},o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:this.state.enableApproveButton,onChange:function(e){r.setState({enableApproveButton:e.target.checked})}}),o.a.createElement("label",{className:"form-check-label"},a)))):null}},{key:"renderButtons",value:function(e){var t=this,n=zs({},this.props),r=n.user,a=n.viewAs,i=(n.showNotApproveButton,n.token),c=n.handleSubmitButtonClick,s=n.handlePDFDownloadButtonClick,u=(n.handleSendBackForChangesButtonClick,n.handleApproveButtonClick),l=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),p=n.handleDenyButtonClick,f=n.handleEditButtonClick,m=n.handleGrantCertificationButtonClick,d=n.handleDenyCertificationButtonClick,y=n.handleIssueAccreditationButtonClick,b=n.handleDenyAccreditationButtonClick,h=o.a.createElement(gr,{title:"PDF",iconImage:Hi.a,classes:["button"],onClick:s}),v=r?o.a.createElement(gr,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return N.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===a){var g=o.a.createElement(gr,{title:"Edit",iconImage:Ua.a,classes:["button"],onClick:f}),O=o.a.createElement(la,{title:"Submit for approval",iconImage:bs.a,classes:["button"],disabled:Qr.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:c});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},g,h),o.a.createElement("div",{className:"buttons-right"},O)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,g,h),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,h),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var S=o.a.createElement(gr,{title:"Assign to Me",classes:["button"],onClick:l}),E="Approve";r.isSA&&(E="Endorsed"),r.isCISO&&(E="Recommend Approval"),"businessOwnerApprover"===a&&(E="Accept risks and approve");var w=o.a.createElement(la,{title:E,classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return u(t.state.skipBoAndCisoApproval)}}),k="Not approved";r.isSA&&(k="Not endorsed"),r.isCISO&&(k="Recommend Rejection");var T=o.a.createElement(ss,{title:k,classes:["button"],onClick:function(){return p(t.state.skipBoAndCisoApproval)}}),A=o.a.createElement(la,{title:"Grant Certification",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return m()}}),j=o.a.createElement(ss,{title:"Deny Certification",classes:["button"],onClick:function(){return d()}}),P=o.a.createElement(la,{title:"Issue Accreditation",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return y(t.state.accreditationPeriod)}}),C=o.a.createElement(ss,{title:"Deny Accreditation",classes:["button"],onClick:function(){return b()}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,v,h),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},S),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),T,w)):!r.isCertificationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_certification"!==e.status?!r.isAccreditationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_accreditation"!==e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),T,w)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),C,P)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),j,A))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,v,h),o.a.createElement("div",null))}}])&&Vs(t.prototype,n),r&&Vs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);ru.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleSendBackForChangesButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},handleCollaboratorAddButtonClick:function(){},handleGrantCertificationButtonClick:function(){},handleDenyCertificationButtonClick:function(){},handleIssueAccreditationButtonClick:function(){},handleDenyAccreditationButtonClick:function(){},viewAs:"others",showNotApproveButton:!1,token:"",user:null,members:null,securityTeamEmail:""};var ou=ru;function au(e){return(au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(n),!0).forEach((function(t){su(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lu(e,t){return(lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mu(e);if(t){var o=mu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fu(this,n)}}function fu(e,t){if(t&&("object"===au(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mu(e){return(mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var du=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lu(e,t)}(i,e);var t,n,r,a=pu(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this)).state={showModal:!1},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=cu({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken),this.props.dispatchLoadMembersAction()}},{key:"render",value:function(){var e=cu({},this.props),t=e.secureToken,n=e.loadingState,r=e.members,a=cu({},this.props.submissionState),i=(a.location,a.title,a.user),c=a.submission,s=a.isCurrentUserApprover,u=a.isCurrentUserABusinessOwnerApprover,l=a.siteConfig;if(!(i&&c&&l&&r))return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var p="others",f=!1;!i.isSA||i.isCISO||u||(f=!0);do{if(i.id===c.submitter.id){p="submitter";break}if(u&&"waiting_for_approval"==c.status){p="businessOwnerApprover";break}if(s){p="approver";break}}while(0);var m=!1,d=!1,y=!1;return c.collaborators.some((function(e){return e.value===parseInt(i.id)}))&&(m=!0),("submitter"==p||m)&&(d=!0),d||(i.isSA||i.isCISO||c.isBusinessOwner||i.isAccreditationAuthority||i.isCertificationAuthority)&&(y=!0),o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement($t,{pageTitle:c.productName?c.productName:"Product",logopath:l.logoPath,productName:c.productName,showSubmissionBreadcrumb:d,showApprovalBreadcrumb:y}),o.a.createElement(ou,{submission:c,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),handleCollaboratorAddButtonClick:this.handleCollaboratorAddButtonClick.bind(this),handleGrantCertificationButtonClick:this.handleGrantCertificationButtonClick.bind(this),handleDenyCertificationButtonClick:this.handleDenyCertificationButtonClick.bind(this),handleIssueAccreditationButtonClick:this.handleIssueAccreditationButtonClick.bind(this),handleDenyAccreditationButtonClick:this.handleDenyAccreditationButtonClick.bind(this),viewAs:p,user:i,token:t,members:r,showNotApproveButton:f,securityTeamEmail:l.securityTeamEmail}),o.a.createElement(On,{footerCopyrightText:l.footerCopyrightText}),o.a.createElement(Ba.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(la,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(gr,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=cu({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),Ic.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=cu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=cu({},this.props),n=t.secureToken,r=cu({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerApproveSubmissionAction(a.submissionID,n):i&&this.props.dispatchApproveSubmissionAction(a.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=cu({},this.props),n=t.secureToken,r=cu({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerDenySubmissionAction(a.submissionID,n):i&&this.props.dispatchDenySubmissionAction(a.submissionID,e))}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=cu({},this.props.submissionState),t=e.user,n=e.submission,r=e.isCurrentUserApprover;t&&n&&r&&this.props.dispatchSendBackForChangesSubmissionAction(n.submissionID)}},{key:"handleAssignToMeButtonClick",value:function(){var e=cu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=cu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleCollaboratorAddButtonClick",value:function(e){var t=cu({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchAddCollaboratorAction(r.submissionID,e)}},{key:"handleGrantCertificationButtonClick",value:function(){var e=cu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchGrantCertificationAction(n.submissionID)}},{key:"handleDenyCertificationButtonClick",value:function(){var e=cu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyCertificationAction(n.submissionID)}},{key:"handleIssueAccreditationButtonClick",value:function(e){var t=cu({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchIssueAccreditationAction(r.submissionID,e)}},{key:"handleDenyAccreditationButtonClick",value:function(){var e=cu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyAccreditationAction(n.submissionID)}}])&&uu(t.prototype,n),r&&uu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),yu=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState,members:e.memberState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(ao(t,n))},dispatchLoadMembersAction:function(){e(function(){var e=Wc(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yc.fetchMembers();case 3:n=e.sent,r={type:u.USER.LOAD_MEMBER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Z.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=oo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je.getCSRFToken();case 3:return a=n.sent,n.next=6,Ur.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(ao(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=oo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je.getCSRFToken();case 3:return a=n.sent,n.next=6,Ur.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(ao(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,Ur.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(ao(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,Ur.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,N.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=oo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je.getCSRFToken();case 3:return a=n.sent,n.next=6,Ur.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(ao(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=oo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je.getCSRFToken();case 3:return a=n.sent,n.next=6,Ur.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(ao(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSendBackForChangesSubmissionAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,Ur.updateQuestionnaireStatusToSendBackForChanges({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(ao(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAssignToMeAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,Ur.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(ao(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAddCollaboratorAction:function(t,n){e(function(e,t){return function(){var n=oo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je.getCSRFToken();case 2:return a=n.sent,n.prev=3,n.next=6,Ur.addCollaborator(e,t,a);case 6:i=n.sent,c=i.uuid,r(ao(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchGrantCertificationAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Ur.grantCertification(e,o);case 6:a=t.sent,i=a.uuid,n(ao(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyCertificationAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Ur.denyCertification(e,o);case 6:a=t.sent,i=a.uuid,n(ao(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchIssueAccreditationAction:function(t,n){e(function(e,t){return function(){var n=oo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je.getCSRFToken();case 2:return a=n.sent,n.prev=3,n.next=6,Ur.issueAccreditation(e,a,t);case 6:i=n.sent,c=i.uuid,r(ao(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchDenyAccreditationAction:function(t){e(function(e){return function(){var t=oo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Ur.denyAccreditation(e,o);case 6:a=t.sent,i=a.uuid,n(ao(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(du),bu=n(606),hu=n.n(bu);function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){Ou(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ou(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Su(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Eu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Su(a,r,o,i,c,"next",e)}function c(e){Su(a,r,o,i,c,"throw",e)}i(void 0)}))}}function wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ku=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"loadAvailableComponents",value:(a=Eu(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,B.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=S()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map((function(e){return Jr.parseFromJSONObject(e)})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"createJiraTickets",value:(o=Eu(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gu({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map((function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')})),c="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,B.request({query:c,csrfToken:a});case 5:if(s=e.sent,u=S()(s,"data",null)){e.next=9;break}throw M;case 9:return l=hu()(o.map((function(e){var t="createJiraTicket".concat(e),n=S()(u,t,null);return n?{id:w()(S()(n,"ID","")),jiraKey:w()(S()(n,"JiraKey","")),link:w()(S()(n,"TicketLink",""))}:null}))),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&wu(t.prototype,n),r&&wu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Tu(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Au(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Tu(a,r,o,i,c,"next",e)}function c(e){Tu(a,r,o,i,c,"throw",e)}i(void 0)}))}}function ju(){return function(){var e=Au(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ku.loadAvailableComponents();case 2:return n=e.sent,r={type:u.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Pu(e,t){return function(){var n=Au(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:u.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Cu(e,t){return function(){var n=Au(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:u.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function _u(e){return function(){var t=Au(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:u.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Iu(e){return function(){var t=Au(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:u.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Nu(e){var t=e.selectedComponents.map((function(e){return e.isSaved=!0,e}));return function(){var e=Au(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:u.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Ru(e){return function(e){if(Array.isArray(e))return Du(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Du(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Du(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xu(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Uu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){xu(a,r,o,i,c,"next",e)}function c(e){xu(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lu(Object(n),!0).forEach((function(t){Mu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fu(e){var t=Bu({},e),n=t.uuid,r=t.secureToken,o=t.type,a=t.component;return function(){var e=Uu(regeneratorRuntime.mark((function e(t){var i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eo.fetchTaskSubmission({uuid:n,secureToken:r,component:a});case 3:return i=e.sent,c={type:u.TASK.LOAD_TASK_SUBMISSION,payload:i},e.next=7,t(c);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(Nu(i));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Z.displayError(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}function Qu(e){var t=Bu({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork,a=t.component;return function(){var e=Uu(regeneratorRuntime.mark((function e(t,i){var c,s,l,p,f,m,d,y,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=function(){return i().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return s={type:u.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(s);case 6:if(o){e.next=25;break}return e.prev=7,e.t0=eo,e.t1=c().uuid,e.t2=[n.id],e.t3=[Qr.transformFromFullQuestionToData(n)],e.next=14,je.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6=a,e.t7={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5,component:e.t6},e.next=20,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t7);case 20:e.next=25;break;case 22:e.prev=22,e.t8=e.catch(7),Z.displayError(e.t8);case 25:if(l=Qr.getDataUpdateIntent({answeredQuestion:n,questions:c().questions}),p=l.currentIndex,f=l.nonApplicableIndexes,m=l.targetIndex,d=l.complete,l.terminate,y=l.result,!(f.length>0)){e.next=30;break}return b={type:u.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=30,t(b);case 30:if(!(m>p)){e.next=34;break}return h={type:u.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:p,targetIndex:m}},e.next=34,t(h);case 34:if(o){e.next=43;break}return e.prev=35,e.next=38,Ku(c(),C.a.uniq([p].concat(Ru(f),[m])),r,a);case 38:e.next=43;break;case 40:e.prev=40,e.t9=e.catch(35),Z.displayError(e.t9);case 43:if(!d){e.next=46;break}return e.next=46,t(Hu({bypassNetwork:o,secureToken:r,result:y,component:a}));case 46:case"end":return e.stop()}}),e,null,[[7,22],[35,40]])})));return function(t,n){return e.apply(this,arguments)}}()}function qu(e){return function(){var t=Uu(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:u.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=o.componentSelectionState.selectedComponents.map((function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}})),t.prev=7,t.t0=eo,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=14,je.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n({type:u.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 20:t.next=27;break;case 22:return t.prev=22,t.t6=t.catch(7),t.next=26,n({type:u.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 26:Z.displayError(t.t6);case 27:case"end":return t.stop()}}),t,null,[[7,22]])})));return function(e,n){return t.apply(this,arguments)}}()}function Hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Bu({},e),n=t.secureToken,r=t.bypassNetwork,o=t.result,a=t.taskSubmissionUUID,i=t.questionnaireUUID,c=t.component;return function(){var e=Uu(regeneratorRuntime.mark((function e(t,s){var l,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(){return s().taskSubmissionState.taskSubmission},r){e.next=23;break}return e.prev=2,e.next=5,je.getCSRFToken();case 5:return p=e.sent,e.next=8,eo.completeTaskSubmission({uuid:void 0===a?l().uuid:a,result:o||"",secureToken:n,csrfToken:p,component:c});case 8:if(f=e.sent,m=f.uuid,void 0===i){e.next=14;break}N.redirectToQuestionnaireSummary(i,n),e.next=16;break;case 14:return e.next=16,t(Fu({uuid:m,secureToken:n,component:c}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),Z.displayError(e.t0);case 21:e.next=25;break;case 23:return e.next=25,t({type:u.TASK.COMPLETE_TASK_SUBMISSION,payload:o});case 25:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t,n){return e.apply(this,arguments)}}()}function Vu(e){var t=Bu({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork,a=t.component;return function(){var e=Uu(regeneratorRuntime.mark((function e(t,i){var c,s,l,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=i().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(s=c.questions,!((l=s.findIndex((function(e){return e.isCurrent})))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((p=s.findIndex((function(e){return e.id===n.id})))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:u.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:l,targetIndex:p}},e.next=15,t(f);case 15:if(o){e.next=18;break}return e.next=18,Ku(c,C.a.uniq([l,p]),r,a);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Bu({},e),n=t.secureToken,r=t.bypassNetwork,o=t.type,a=t.component;return function(){var e=Uu(regeneratorRuntime.mark((function e(t,i){var c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=i().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=29;break}return e.prev=4,e.t0=eo,e.t1=c.uuid,e.next=9,je.getCSRFToken();case 9:return e.t2=e.sent,e.t3=n,e.t4=a,e.t5={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3,component:e.t4},e.next=15,e.t0.editTaskSubmission.call(e.t0,e.t5);case 15:return s=e.sent,l=s.uuid,e.next=19,t(Fu({uuid:l,secureToken:n,component:a}));case 19:if("componentSelection"!==o){e.next=22;break}return e.next=22,t(Nu(c));case 22:e.next=27;break;case 24:e.prev=24,e.t6=e.catch(4),Z.displayError(e.t6);case 27:e.next=30;break;case 29:t({type:u.TASK.EDIT_TASK_SUBMISSION});case 30:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(t,n){return e.apply(this,arguments)}}()}function Ku(e,t,n,r){return Yu.apply(this,arguments)}function Yu(){return(Yu=Uu(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=eo,e.t1=t.uuid,e.t2=n.map((function(e){return t.questions[e].id})),e.t3=n.map((function(e){return Qr.transformFromFullQuestionToData(t.questions[e])})),e.next=7,je.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6=o,e.t7={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5,component:e.t6},e.next=13,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t7);case 13:e.next=18;break;case 15:e.prev=15,e.t8=e.catch(0),Z.displayError(e.t8.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function Gu(e,t){return function(){var n=Uu(regeneratorRuntime.mark((function n(r,o){var a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:u.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return n.prev=5,n.next=8,eo.fetchTaskSubmissionList(a.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:u.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:u.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:n.t0});case 16:Z.displayError(n.t0);case 17:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t){return n.apply(this,arguments)}}()}var Wu=n(122),zu=n.n(Wu);function $u(e){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xu(Object(n),!0).forEach((function(t){el(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rl(e,t){return(rl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ol(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=il(e);if(t){var o=il(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return al(this,n)}}function al(e,t){if(t&&("object"===$u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function il(e){return(il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rl(e,t)}(i,e);var t,n,r,a=ol(i);function i(){return tl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=Zu({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,c=t.handleDenyButtonClick,s=t.handleSendBackForChangesButtonClick,u=t.handleAddTaskRecommendationButtonClick,l=t.handleEditTaskRecommendationButtonClick,p=t.loadResultForCertificationAndAccreditation,f=t.editAnswers,m=t.showBackLink,d=t.showEditButton,y=t.canUpdateAnswers,b=t.viewAs,h=(t.secureToken,t.component),v=o.a.createElement(Wa,{taskRecommendations:n.taskRecommendations,viewAs:b,status:n.status,handleAddTaskRecommendationButtonClick:u,handleEditTaskRecommendationButtonClick:l}),g=m?o.a.createElement("div",{className:"back-link",onClick:function(){return e.sendBackToQestionnaire()}},o.a.createElement("img",{src:zu.a}),"Back"):null,O=m?o.a.createElement("div",{className:"back-link",onClick:function(){return N.redirectToApprovals()}},o.a.createElement("img",{src:zu.a}),"Back"):null,S="risk questionnaire"===n.taskType&&Ps.isSRATaskFinalised(n.siblingSubmissions),E=d&&!S&&"certification and accreditation"!==n.taskType?o.a.createElement(gr,{title:"Edit",onClick:function(){f(h)},iconImage:Ua.a}):null,w=["complete","waiting_for_approval","approved","denied"],k=w.includes(n.status)||w.includes(n.taskStatusForComponent)?o.a.createElement(gr,{title:"PDF",iconImage:Hi.a,onClick:function(){return e.downloadPdf()}}):null,T=n.result&&w.indexOf(n.status)>-1?o.a.createElement("div",{className:"result-container"},o.a.createElement("h4",null,"Result"),o.a.createElement("div",{className:"result"},n.result)):null,A=n.riskResults&&w.indexOf(n.taskStatusForComponent)>-1?o.a.createElement(As,{riskResults:n.riskResults}):null,j="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(la,{title:"Approve",onClick:i,classes:["button"]}):null,P="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(gr,{title:"Send back for changes",onClick:s,classes:["button"]}):null,C="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(ss,{title:"Not approved",onClick:c,classes:["button"]}):null,_=o.a.createElement("div",null,T,o.a.createElement("h4",null,"Summary"),"certification and accreditation"!==n.taskType&&o.a.createElement(Zi,{questions:n.questions,component:h}),!n.isDisplayPreventMessage&&"certification and accreditation"===n.taskType&&o.a.createElement("div",{className:"task-review-container"},o.a.createElement(ii,{resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,isDisplayReportLogo:!0})),A,v);return"certification and accreditation"===n.taskType&&n.isDisplayPreventMessage?_=o.a.createElement("div",{className:"prevent-message-container alert alert-danger",dangerouslySetInnerHTML:{__html:n.preventMessage}}):y&&(_=o.a.createElement(Ci,{questions:n.questions,serviceRegister:n.serviceRegister,informationClassificationTaskResult:n.informationClassificationTaskResult,riskProfileData:n.riskProfileData,resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,loadResultForCertificationAndAccreditation:p,saveAnsweredQuestion:r,onLeftBarItemClick:a,handleTaskSaveDraftButtonClick:this.handleTaskSaveDraftButtonClick.bind(this),component:h})),o.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&o.a.createElement(Us,null),"expired"!==n.status&&o.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!S)&&Ps.getSraIsFinalisedAlert(),n.isCurrentUserAnApprover?O:g,_,o.a.createElement("div",{className:"buttons ".concat("approver"!=b?"buttons-hideborder":"")},o.a.createElement("div",{className:"buttons-left"},E,k),o.a.createElement("div",{className:"buttons-right"},"approver"===b&&"waiting_for_approval"===n.status&&o.a.createElement("span",{className:"approver-action"},"Approver action: "),P,C,j))))}},{key:"downloadPdf",value:function(){var e=Zu({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&("certification and accreditation"===t.taskType?Ic.downloadCertificate({siteConfig:r,resultForCertificationAndAccreditation:t.resultForCertificationAndAccreditation}):Ic.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults}))}},{key:"handleTaskSaveDraftButtonClick",value:function(){this.sendBackToQestionnaire()}},{key:"sendBackToQestionnaire",value:function(){N.redirectToQuestionnaireSummary(this.props.taskSubmission.questionnaireSubmissionUUID,this.props.secureToken)}}])&&nl(t.prototype,n),r&&nl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function sl(e){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dl(e,t){return(dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hl(e);if(t){var o=hl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bl(this,n)}}function bl(e,t){if(t&&("object"===sl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hl(e){return(hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dl(e,t)}(i,e);var t,n,r,a=yl(i);function i(){return fl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=ll({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken,e.component)}},{key:"render",value:function(){var e=ll({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction,s=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.dispatchSendBackForChangesTaskSubmissionAction,e.dispatchAddTaskRecommendationAction,e.dispatchEditTaskRecommendationAction,e.secureToken),u=e.component;if(!n||!r||!t)return null;var l="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){l="submitter";break}if(r.isCurrentUserAnApprover){l="approver";break}}while(0);var p=parseInt(n.id)===parseInt(r.submitter.id),f=["in_progress","start"],m=f.includes(r.status)&&f.includes(r.taskStatusForComponent)&&(n.isSA||p||r.isTaskCollborator),d=["complete","waiting_for_approval","denied"],y=(d.includes(r.status)||d.includes(r.taskStatusForComponent))&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||(p||r.isTaskCollborator)&&!r.lockWhenComplete),b=!1,h=!1;return(p||r.isTaskCollborator)&&(b=!0),!b&&(r.isCurrentUserAnApprover||n.isSA||n.isCISO||r.isBusinessOwner||n.isAccreditationAuthority||n.isCertificationAuthority)&&(h=!0),o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement($t,{pageTitle:r.taskName,logopath:t.logoPath,productName:r.questionnaireSubmissionProductName,isTaskApprover:r.isCurrentUserAnApprover,questionnaireSubmissionUUID:r.questionnaireSubmissionUUID,showApprovalBreadcrumb:h,showSubmissionBreadcrumb:b,component:u}),o.a.createElement(cl,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:y,canUpdateAnswers:m,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleAddTaskRecommendationButtonClick:this.handleAddTaskRecommendationButtonClick.bind(this),handleEditTaskRecommendationButtonClick:this.handleEditTaskRecommendationButtonClick.bind(this),loadResultForCertificationAndAccreditation:this.loadResultForCertificationAndAccreditation.bind(this),showBackLink:!!r.questionnaireSubmissionUUID,viewAs:l,siteConfig:t,secureToken:s,component:u}),o.a.createElement(On,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=ll({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=ll({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchSendBackForChangesTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=ll({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}},{key:"handleAddTaskRecommendationButtonClick",value:function(e){var t=ll({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchAddTaskRecommendationAction(o,e,a)}},{key:"handleEditTaskRecommendationButtonClick",value:function(e){var t=ll({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchEditTaskRecommendationAction(o,e,a)}},{key:"loadResultForCertificationAndAccreditation",value:function(){var e=ll({},this.props),t=e.uuid;(0,e.dispatchLoadResultForCertificationAndAccreditation)(t,e.secureToken)}}])&&ml(t.prototype,n),r&&ml(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),gl=Object(c.b)((function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(t,n,r){e(zc()),e(Ln()),e(Fu({uuid:t,secureToken:n,component:r}))},dispatchLoadResultForCertificationAndAccreditation:function(t,n){e(function(e){var t=Bu({},e),n=t.uuid,r=t.secureToken;return function(){var e=Uu(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eo.fetchResultForCertificationAndAccreditation({uuid:n,secureToken:r});case 3:return o=e.sent,a={type:u.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION,payload:o},e.next=7,t(a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Z.displayError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t,n){e(Qu({answeredQuestion:t,component:n}))},dispatchMoveToPreviousQuestionAction:function(t,n){e(Vu({targetQuestion:t,component:n}))},dispatchEditAnswersAction:function(t){e(Ju({component:t}))},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return function(){var t=Uu(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,eo.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Fu({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Z.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return function(){var t=Uu(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,eo.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Fu({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Z.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchSendBackForChangesTaskSubmissionAction:function(t){e(function(e){return function(){var t=Uu(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,eo.editTaskSubmission({uuid:e,csrfToken:o,secureToken:""});case 6:return a=t.sent,a.status,t.next=10,n(Fu({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Z.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAddTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return function(){var r=Uu(regeneratorRuntime.mark((function r(o,a){var i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n.push(t),r.next=4,je.getCSRFToken();case 4:return i=r.sent,r.next=7,eo.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return c=r.sent,c.taskRecommendationData,r.next=11,o(Fu({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),Z.displayError(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,n,r))},dispatchEditTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return function(){var r=Uu(regeneratorRuntime.mark((function r(o,a){var i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=n.map((function(e){return e.id===t.id?Bu(Bu({},n),t):e})),r.next=4,je.getCSRFToken();case 4:return i=r.sent,r.next=7,eo.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return c=r.sent,c.taskRecommendationData,r.next=11,o(Fu({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),Z.displayError(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,n,r))}}}))(vl);function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function El(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e,t){return(wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Al(e);if(t){var o=Al(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tl(this,n)}}function Tl(e,t){if(t&&("object"===Ol(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Al(e){return(Al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(n),!0).forEach((function(t){Cl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wl(e,t)}(i,e);var t,n,r,a=kl(i);function i(){return Sl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Pl({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Pl({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var s="in_progress"===r.status||"start"===r.status,u="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement($t,{pageTitle:r.taskName,logopath:t.logoPath}),o.a.createElement(cl,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:u,canUpdateAnswers:s,showBackButton:!1,siteConfig:t,currentUser:n}),o.a.createElement(On,{footerCopyrightText:t.footerCopyrightText}))}}])&&El(t.prototype,n),r&&El(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Il=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=Pl({},t).taskId;e(zc()),e(Ln()),e(function(e){var t=Bu({},e).taskId;return function(){var e=Uu(regeneratorRuntime.mark((function e(n,r){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eo.fetchStandaloneTask({taskId:t});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:u.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,n(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Z.displayError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Qu({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(Vu({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(Ju({bypassNetwork:!0}))}}}))(_l);function Nl(e){return(Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ul(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t){return(Bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ml(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ql(e);if(t){var o=Ql(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fl(this,n)}}function Fl(e,t){if(t&&("object"===Nl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ql(e){return(Ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bl(e,t)}(i,e);var t,n,r,a=Ml(i);function i(){return Ul(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Dl({},this.props),t=e.title,n=e.disabled,r=e.onItemClick,a=e.index;return o.a.createElement("div",{className:"LeftBarItem"},o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),a+1,".  ",t))}},{key:"renderIcon",value:function(){switch(Dl({},this.props).iconType){case"editing":return o.a.createElement("img",{src:To.a});case"success":return o.a.createElement("img",{src:Co.a});case"pending":return o.a.createElement("img",{src:jo.a});case"not-applicable":return o.a.createElement("img",{src:Io.a});default:return null}}}])&&Ll(t.prototype,n),r&&Ll(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter((function(t){return t.id===e})).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter((function(n){return n.id===e&&n.productAspect===t})).length>0:n.filter((function(t){return t.id===e})).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter((function(n){return n.id===e&&n.productAspect===t&&n.isSaved})).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter((function(t){return t.productAspect===e})).length>0}}],(n=null)&&Hl(t.prototype,n),r&&Hl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Jl(e){return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zl(e,t){return(zl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zl(e);if(t){var o=Zl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xl(this,n)}}function Xl(e,t){if(t&&("object"===Jl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zl(e){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ep=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zl(e,t)}(i,e);var t,n,r,a=$l(i);function i(){return Gl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){Yl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.selectedComponents,n=e.productAspects,r=e.selectedProductAspect,a=e.updateSelectedProductAspect;return o.a.createElement("div",{className:"LeftBar",key:r},n&&n.length>0&&o.a.createElement("div",{className:"items"},n.map((function(e,n){var i=Vl.doescomponentExistForProductAspect(e,t)?"success":"pending";return o.a.createElement(ql,{key:n,title:e+" control set",iconType:r===e?"editing":i,onItemClick:function(){a(e)},index:n})})),o.a.createElement(ql,{key:n.length,title:"Summary",iconType:"pending",onItemClick:function(){},index:n.length})),(void 0===n||""===n||0===n.length)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ql,{key:0,title:"Current Solution control set",iconType:"editing",onItemClick:function(){},index:0}),o.a.createElement(ql,{key:1,title:"Summary",iconType:"pending",onItemClick:function(){},index:1})))}}])&&Wl(t.prototype,n),r&&Wl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),tp=n(199),np=n.n(tp);function rp(e){return(rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?op(Object(n),!0).forEach((function(t){ip(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,t){return(sp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function up(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pp(e);if(t){var o=pp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lp(this,n)}}function lp(e,t){if(t&&("object"===rp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pp(e){return(pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sp(e,t)}(i,e);var t,n,r,a=up(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isExpanded:!1,isImplementationEvidenceExpaned:!t.props.isCVATaskEditable},t}return t=i,(n=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"componentDidUpdate",value:function(e){e.isCVATaskEditable!==this.props.isCVATaskEditable&&this.setState({isImplementationEvidenceExpaned:!this.props.isCVATaskEditable})}},{key:"render",value:function(){var e=this,t=ap({},this.props),n=(t.id,t.name),r=t.description,a=t.implementationGuidance,i=t.implementationEvidence,c=t.className,s=t.showImplementationEvidence,u=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,p=ap({},this.state),f=p.isExpanded,m=p.isImplementationEvidenceExpaned;return o.a.createElement("div",{className:"ControlInfo "+c},n&&o.a.createElement("h5",null,n),r&&o.a.createElement("div",{className:"control-description"},o.a.createElement("span",null,o.a.createElement("b",null,"Description: ")),o.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),a&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!f})}},o.a.createElement("span",null,o.a.createElement("b",null,"Implementation Guidance "),o.a.createElement(np.a,{name:"".concat(f?"caret-up":"caret-down")}))),f&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),s&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},o.a.createElement("span",null,o.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),o.a.createElement(np.a,{name:"".concat(m?"caret-up":"caret-down")}))),m&&o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?o.a.createElement("div",null,o.a.createElement(ga.a,{className:"implementation-evidence",initialValue:u,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):o.a.createElement("div",{className:"implementation-evidence"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:u.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&cp(t.prototype,n),r&&cp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t){return(vp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sp(e);if(t){var o=Sp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Op(this,n)}}function Op(e,t){if(t&&("object"===mp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sp(e){return(Sp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}o.a.Component;function Ep(e){return(Ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wp(Object(n),!0).forEach((function(t){Tp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jp(e,t){return(jp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_p(e);if(t){var o=_p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cp(this,n)}}function Cp(e,t){if(t&&("object"===Ep(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _p(e){return(_p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ip=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jp(e,t)}(i,e);var t,n,r,a=Pp(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).updateSelectedProductAspect=function(e){t.setState({selectedProductAspect:e})},t.state={jiraKey:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=kp({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,c=t.addComponent,s=t.saveControls,u=t.componentTarget,l=t.productAspects,p=(t.isStandaloneTask,t.controlSetSelectionTaskHelpText),f=t.updateIsLastComponentSelectionCompleted,m=t.backLink,d=kp({},this.state),y=d.jiraKey,b=d.selectedProductAspect,h=function(e){e.target.checked?(r.map((function(e){return i(e.id,b)})),c(e.target.value,b)):i(e.target.value,b)};return o.a.createElement("div",{className:"ComponentSelection"},m,o.a.createElement("div",{className:"title"},"Components"),o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(ep,{key:this.state.selectedProductAspect,selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:c,productAspects:l,selectedProductAspect:this.state.selectedProductAspect,componentTarget:u,updateSelectedProductAspect:this.updateSelectedProductAspect}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},b?l.indexOf(b)+1+". Select control set for the "+b+" component":"1. Select control set for the Current Solution"),o.a.createElement("p",{className:"help-text"},p),o.a.createElement("div",{className:"selected-components"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null),o.a.createElement("th",null,"Control set"),o.a.createElement("th",null,"Description"))),o.a.createElement("tbody",null,n.map((function(e,t){var n=r.filter((function(t){return t.id===e.id&&t.productAspect===b})).length>0;return o.a.createElement("tr",{key:t},o.a.createElement("td",null,o.a.createElement("input",{name:"aspect",value:e.id,type:"radio",checked:n,onChange:h})),o.a.createElement("td",{className:"td-component-name"},e.name),o.a.createElement("td",{className:"td-component-description"},e.description))}))))),o.a.createElement("div",{className:"save-components-container"},o.a.createElement("p",{className:"save-message"},b?"Note: Your selection will be saved when you continue to the next component.":"Note: Your selection will be saved when you continue."),o.a.createElement("div",{className:"buttons-wrapper"},r.length>0&&"JIRA Cloud"===u&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=w()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(la,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(y)}})),b&&l.indexOf(b)<l.length-1&&o.a.createElement(la,{title:"Next",rightIconImage:va.a,onClick:function(){e.setState({selectedProductAspect:l[l.indexOf(b)+1]}),s(),f(!1)}}),b&&l.indexOf(b)===l.length-1&&o.a.createElement(la,{title:"Next",rightIconImage:va.a,onClick:function(){s(),f(!0)}}),(void 0===l||""===l||0===l.length)&&o.a.createElement(la,{title:"Submit",rightIconImage:va.a,onClick:function(){s(),f(!0)}}))))))}}])&&Ap(t.prototype,n),r&&Ap(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Np(e){return(Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Up(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lp(e,t){return(Lp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fp(e);if(t){var o=Fp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mp(this,n)}}function Mp(e,t){if(t&&("object"===Np(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fp(e){return(Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lp(e,t)}(i,e);var t,n,r,a=Bp(i);function i(){return xp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(n),!0).forEach((function(t){Dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.componentTarget,a=e.isSRATaskFinalised,i=e.productAspects,c=e.doneButton,s=e.backLink,u=i&&i.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},!!a&&Ps.getSraIsFinalisedAlert(),s,o.a.createElement("h4",null,"Summary"),o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"components"},u&&i.map((function(e,n){var r=Vl.doescomponentExistForProductAspect(e,t);return o.a.createElement("div",{className:"row",key:n},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". Select control set for the ",e," component")),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},!r&&o.a.createElement("span",{className:"default-answer"},"Current Solution"),t.map((function(t,n){if(t.productAspect===e)return o.a.createElement("ul",{className:"control-list",key:n},o.a.createElement("li",{key:t.id+"_".concat(e)+"_".concat(t.name)},o.a.createElement("b",null,t.name)),o.a.createElement("li",{key:t.id+"_".concat(e)+"_".concat(t.description)},t.description))}))))}))),(void 0===i||""===i||0===i.length)&&o.a.createElement("div",{className:"components"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,"1. Select control set for the Current Solution")),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},0===t.length&&o.a.createElement("span",{className:"default-answer"},"Current Solution"),t.map((function(e,t){return o.a.createElement("ul",{className:"control-list",key:t},o.a.createElement("li",{key:e.id+"_".concat(e.name)},o.a.createElement("b",null,e.name)),o.a.createElement("li",{key:e.id+"".concat(e.description)},e.description))})))))),"JIRA Cloud"===r&&o.a.createElement("div",{className:"components"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,"Created Jira Tickets")),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},o.a.createElement("ul",null,n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))})))))),c&&o.a.createElement("div",{className:"buttons"},c))}}])&&Up(t.prototype,n),r&&Up(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);function qp(e){return(qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hp(Object(n),!0).forEach((function(t){Jp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gp(e,t){return(Gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$p(e);if(t){var o=$p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zp(this,n)}}function zp(e,t){if(t&&("object"===qp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $p(e){return($p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gp(e,t)}(i,e);var t,n,r,a=Wp(i);function i(){return Kp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Vp({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Vp({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,c=e.dispatchRemoveComponentAction,s=e.dispatchCreateJIRATicketsAction,u=e.viewMode,l=e.jiraTickets,p=e.componentTarget;if(!n||!t)return null;var f=null;switch(u){case"edit":f=o.a.createElement(Ip,{availableComponents:r,selectedComponents:a,componentTarget:p,isStandaloneTask:!0,createJIRATickets:function(e){s(e)},removeComponent:function(e){c(e)},addComponent:function(e){i(e)},finishWithSelection:function(){N.redirectToHome()}});break;case"review":f=o.a.createElement(Qp,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(la,{title:"BACK TO HOME",onClick:function(){N.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement($t,{pageTitle:"Component Selection",logopath:t.logoPath}),f,o.a.createElement(On,{footerCopyrightText:t.footerCopyrightText}))}}])&&Yp(t.prototype,n),r&&Yp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Zp=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}}),(function(e,t){return{dispatchLoadDataAction:function(){e(zc()),e(Ln()),e(ju())},dispatchAddComponentAction:function(t){e(Pu(t))},dispatchRemoveComponentAction:function(t){e(Cu(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return function(){var t=Au(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,je.getCSRFToken();case 9:return i=t.sent,t.next=12,ku.createJiraTickets({jiraKey:e,componentIDList:Hr()(a.map((function(e){return e.id}))),csrfToken:i});case 12:return c=t.sent,t.next=15,n(Iu(c));case 15:return t.next=17,n(_u("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),Z.displayError(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Xp),ef=n(607),tf=n.n(ef);function nf(e){return(nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function af(e,t){return(af=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=uf(e);if(t){var o=uf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sf(this,n)}}function sf(e,t){if(t&&("object"===nf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uf(e){return(uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&af(e,t)}(i,e);var t,n,r,a=cf(i);function i(){return rf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&of(t.prototype,n),r&&of(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function pf(e){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mf(e,t){return(mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function df(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bf(e);if(t){var o=bf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yf(this,n)}}function yf(e,t){if(t&&("object"===pf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bf(e){return(bf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hf(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vf(Object(n),!0).forEach((function(t){Of(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mf(e,t)}(i,e);var t,n,r,a=df(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).updateIsLastComponentSelectionCompleted=function(e){t.setState({isLastComponentSelectionCompleted:e})},t.state={isLastComponentSelectionCompleted:!1,enableDoneButton:!1},t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,gf({},this.props).dispatchLoadDataAction)()}},{key:"componentDidUpdate",value:function(e){e.selectedComponents!==this.props.selectedComponents&&this.updateEnableDoneButton()}},{key:"updateEnableDoneButton",value:function(){this.props.selectedComponents.length>0?this.setState({enableDoneButton:!0}):this.setState({enableDoneButton:!1})}},{key:"sendBackToQestionnaire",value:function(){N.redirectToQuestionnaireSummary(this.props.taskSubmission.questionnaireSubmissionUUID,this.props.secureToken)}},{key:"render",value:function(){var e=this,t=gf({},this.props),n=t.siteConfig,r=(t.siteTitle,t.secureToken,t.currentUser),a=t.taskSubmission,i=t.availableComponents,c=t.selectedComponents,s=t.dispatchAddComponentAction,u=t.dispatchRemoveComponentAction,l=t.dispatchCreateJIRATicketsAction,p=t.dispatchSaveLocalControlsAction,f=t.dispatchFinishAction;t.dispatchEditAnswersAction;if(!r||!a||!n)return null;var m=parseInt(r.id)===parseInt(a.submitter.id),d=m||r.isSA||a.isTaskCollborator,y=Ps.isSRATaskFinalised(a.siblingSubmissions),b=("complete"===a.status||"waiting_for_approval"===a.status||"denied"===a.status)&&"submitted"===a.questionnaireSubmissionStatus&&d&&!a.lockWhenComplete,h=o.a.createElement("div",{className:"back-link",onClick:function(){return e.sendBackToQestionnaire()}},o.a.createElement("img",{src:zu.a}),"Back"),v=(b&&!y&&tf.a,o.a.createElement(la,{title:"Done",onClick:function(){return f(a.questionnaireSubmissionUUID,e.props.secureToken)},disabled:!this.state.enableDoneButton})),g=!1,O=!1;(m||a.isTaskCollborator)&&(g=!0),g||(a.isCurrentUserAnApprover||r.isSA||r.isCISO||a.isBusinessOwner||r.isAccreditationAuthority||r.isCertificationAuthority)&&(O=!0);var S=null;switch(a.status){case"start":case"in_progress":if(d){S=o.a.createElement(Ip,{key:a.productAspects,availableComponents:i,selectedComponents:c,componentTarget:a.componentTarget,productAspects:a.productAspects,questionnaireSubmissionUUID:a.questionnaireSubmissionUUID,controlSetSelectionTaskHelpText:a.controlSetSelectionTaskHelpText,updateIsLastComponentSelectionCompleted:this.updateIsLastComponentSelectionCompleted,backLink:h,createJIRATickets:function(e){l(e)},saveControls:function(){p()},removeComponent:function(e,t){u(e,t)},addComponent:function(e,t){s(e,t)}});break}S=o.a.createElement("div",{className:"ComponentSelectionReview"},h,o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("br",null),o.a.createElement(lf,null)));break;case"complete":S=o.a.createElement(Qp,{isSRATaskFinalised:y,selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,backLink:h});break;case"expired":S=o.a.createElement(Us,null)}return this.state.isLastComponentSelectionCompleted&&(S=o.a.createElement(Qp,{key:this.state.enableDoneButton,selectedComponents:c,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,backLink:h,doneButton:v})),o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement($t,{pageTitle:a.taskName,logopath:n.logoPath,productName:a.questionnaireSubmissionProductName,questionnaireSubmissionUUID:a.questionnaireSubmissionUUID,isTaskApprover:a.isCurrentUserAnApprover,showSubmissionBreadcrumb:g,showApprovalBreadcrumb:O}),S,o.a.createElement(On,{footerCopyrightText:n.footerCopyrightText}))}}])&&ff(t.prototype,n),r&&ff(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Ef=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=gf({},t),r=n.uuid,o=n.secureToken;e(Ln()),e(zc()),e(ju()),e(Fu({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(Pu(t,n))},dispatchRemoveComponentAction:function(t,n){e(Cu(t,n))},dispatchCreateJIRATicketsAction:function(t){e(qu(t))},dispatchSaveLocalControlsAction:function(){e(qu(""))},dispatchFinishAction:function(t,n){return(r=regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e(Hu());case 2:N.redirectToQuestionnaireSummary(t,n);case 3:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){hf(a,n,o,i,c,"next",e)}function c(e){hf(a,n,o,i,c,"throw",e)}i(void 0)}))})();var r},dispatchEditAnswersAction:function(){e(Ju({type:"componentSelection"}))}}}))(Sf);function wf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kf=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,o,a){if("awaiting_security_architect_review"===e)return"Awaiting security review";if("waiting_for_security_architect_approval"===e)return"Awaiting security approval";if("waiting_for_approval"===e){if("pending"===o&&"pending"===a)return"Awaiting approval";if("pending"!==o&&"pending"===a)return"Awaiting business owner approval"}return"approved"===e&&"pending"===o&&"approved"===a?"Approved - Chief Information Security Officer Approval Pending":"awaiting_certification_and_accreditation"==e?"Awaiting certification and accreditation":"awaiting_accreditation"==e?"Awaiting accreditation":"awaiting_certification"==e?"Awaiting certification":e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}}],(n=null)&&wf(t.prototype,n),r&&wf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Af(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Af(Object(n),!0).forEach((function(t){Pf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Af(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(e,t){return(If=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Df(e);if(t){var o=Df(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rf(this,n)}}function Rf(e,t){if(t&&("object"===Tf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Df(e){return(Df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xf(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var Uf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&If(e,t)}(i,e);var t,n,r,a=Nf(i);function i(){return Cf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,jf({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=jf({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement($t,{pageTitle:"My submissions",logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return C.a.isEmpty(n)?o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,n.map((function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,fa()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,kf.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))))}(n,t),o.a.createElement(On,{footerCopyrightText:r.footerCopyrightText})):null}}])&&_f(t.prototype,n),r&&_f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Lf=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(zc());case 2:return t.next=4,e(function(){var e=oo(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:u.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Ur.fetchQuestionnaireSubmissionList(r.id,"my_submission_list",0,0);case 8:o=e.sent,t({type:u.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:u.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(Ln());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){xf(a,r,o,i,c,"next",e)}function c(e){xf(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(Uf),Bf=n(335),Mf=n.n(Bf),Ff=n(608),Qf=n.n(Ff),qf=n(609),Hf=n.n(qf),Vf=n(610),Jf=n.n(Vf);function Kf(e){return(Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wf(e,t){return(Wf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xf(e);if(t){var o=Xf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $f(this,n)}}function $f(e,t){if(t&&("object"===Kf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xf(e){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wf(e,t)}(i,e);var t,n,r,a=zf(i);function i(){var e;Yf(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).handleFirstPageClick=function(){e.props.paginationActions.firstPage({limit:10,offset:0,index:1,pageNumber:1})},e.handleNextPageClick=function(t){e.props.paginationActions.nextPage({limit:e.props.limit,offset:(e.props.page+1-1)*e.props.limit,index:t+1,pageNumber:e.props.page+1})},e.handlePreviousPageClick=function(){e.props.paginationActions.prevPage({limit:e.props.limit,offset:(e.props.page-1-1)*e.props.limit,index:Math.abs(e.props.limit-e.props.index),pageNumber:e.props.page-1})},e.handleLastPageClick=function(t){e.props.paginationActions.lastPage({limit:e.props.limit,offset:(Math.ceil(t/e.props.limit)-1)*e.props.limit,index:(Math.ceil(t/e.props.limit)-1)*e.props.limit,pageNumber:Math.ceil(t/e.props.limit)})},e.handleChangeForSelectedRows=function(t){e.props.paginationActions.selectedRow({limit:t,offset:e.props.offset,index:e.props.index,pageNumber:e.props.page})},e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.limit,r=t.offset;e.limit===n&&e.offset===r||this.props.dispatchList(n,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.paginationInfo,r=n.totalCount,a=n.hasNextPage,i=n.hasPreviousPage,c=t.listLength,s=[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:40,label:"40"},{value:50,label:"50"}],u=this.props.offset+c,l=this.props.index;return i||(l=1),o.a.createElement("div",{className:"pagination-container"},o.a.createElement("span",{className:"rows-per-page"},"Rows per page"),o.a.createElement("div",{className:"rows-per-page-select"},o.a.createElement(Oa.a,{value:{label:this.props.limit},options:s,defaultValue:s[0],classNamePrefix:"react-select",placeholder:s[0],isSearchable:!1,onChange:function(t){return e.handleChangeForSelectedRows(t.value)}})),o.a.createElement("div",{className:"pagination-navigation-count"},l+"-"+u+" of "+r),o.a.createElement("div",{className:"pagination-buttons"},o.a.createElement("img",{className:i?"":"disable-pagination",src:Qf.a,onClick:i?function(){return e.handleFirstPageClick()}:""}),o.a.createElement("img",{className:i?"":"disable-pagination",src:Jf.a,onClick:i?function(){return e.handlePreviousPageClick()}:""}),o.a.createElement("img",{className:a?"":"disable-pagination",src:ds.a,onClick:a?function(){return e.handleNextPageClick(u)}:""}),o.a.createElement("img",{className:a?"":"disable-pagination",src:Hf.a,onClick:a?function(){return e.handleLastPageClick(r)}:""})))}}])&&Gf(t.prototype,n),r&&Gf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);n(573);function em(e){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rm(e,t){return(rm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function om(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=im(e);if(t){var o=im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&("object"===em(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function im(e){return(im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rm(e,t)}(i,e);var t,n,r,a=om(i);function i(){return tm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.paginationState.pagination,n=e.paginationActions;return o.a.createElement(Zf,{paginationInfo:this.props.paginationInfo,listLength:this.props.listLength,dispatchList:this.props.dispatchList,limit:t.limit,offset:t.offset,page:t.pageNumber,index:t.index,paginationActions:n})}}])&&nm(t.prototype,n),r&&nm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),sm=Object(c.b)((function(e){return{paginationState:e.paginationState}}),(function(e,t){return{paginationActions:{nextPage:function(t){return e(function(e){return{type:u.PAGINATION.FETCH_NEXT_PAGE,payload:e}}(t))},prevPage:function(t){return e(function(e){return{type:u.PAGINATION.FETCH_PREV_PAGE,payload:e}}(t))},firstPage:function(t){return e(function(e){return{type:u.PAGINATION.FETCH_FIRST_PAGE,payload:e}}(t))},lastPage:function(t){return e(function(e){return{type:u.PAGINATION.FETCH_LAST_PAGE,payload:e}}(t))},selectedRow:function(t){return e(function(e){return{type:u.PAGINATION.SET_SELECTED_ROWS,payload:e}}(t))}}}}))(cm);function um(e){return(um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lm(Object(n),!0).forEach((function(t){fm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dm(e,t){return(dm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ym(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hm(e);if(t){var o=hm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bm(this,n)}}function bm(e,t){if(t&&("object"===um(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hm(e){return(hm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vm(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var gm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dm(e,t)}(i,e);var t,n,r,a=ym(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={currentApprovalList:"QuestionnaireApproval"},t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,pm({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=pm({},this.props),n=t.currentUser,r=t.siteConfig,a=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,c=t.loadingState,s=t.dispatchloadAwaitingApprovalList,u=t.dispatchloadAwaitingApprovalTaskList;return n&&a&&r&&i?c["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement($t,{pageTitle:"My approvals",logopath:r.logoPath}),o.a.createElement("div",{className:"container tab-container mb-0 px-0"},o.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"QuestionnaireApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalList(10,0)}},"Submission approvals"),o.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"TaskApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalTaskList(10,0)}},"Task approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&Om(a,n,s),"TaskApproval"==this.state.currentApprovalList&&Sm(i,n,u),o.a.createElement(On,{footerCopyrightText:r.footerCopyrightText})):null}}])&&mm(t.prototype,n),r&&mm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Om=function(e,t,n){var r=e.questionnaireSubmissionList,a=e.pageInfo;return C.a.isEmpty(r)?o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire.")):o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-hover table-approval-list"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",null,o.a.createElement("span",{className:"date-created"},"Date created"),o.a.createElement("img",{src:Mf.a})),o.a.createElement("th",{className:"submission-product-name-header"},"Product Name"),o.a.createElement("th",null,"Business Owner"),o.a.createElement("th",null,"Submitter"),o.a.createElement("th",null,"Release date"),o.a.createElement("th",{className:"security-architect-header"},"Security architect"),o.a.createElement("th",{className:"submission-status-header"},"Status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,r.map((function(e){var n="#/questionnaire/summary/"+e.uuid,r=e.SecurityArchitectApprover;return"null null"==r&&(r="Unassigned"),o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,fa()(e.created).format("DD/MM/YY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,e.releaseDate?fa()(e.releaseDate).format("DD/MM/YY"):""),o.a.createElement("td",{className:"Unassigned"==r?"unassigned-approver":""},r),o.a.createElement("td",null,o.a.createElement("img",{src:Aa.a}),kf.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},o.a.createElement("img",{src:ds.a}))))}))))),o.a.createElement(sm,{paginationInfo:a,listLength:r.length,dispatchList:n}))},Sm=function(e,t,n){var r=e.taskSubmissionList,a=e.pageInfo;return C.a.isEmpty(r)?o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task.")):o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-hover table-approval-list"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",null,o.a.createElement("span",{className:"date-created"},"Date created"),o.a.createElement("img",{src:Mf.a})),o.a.createElement("th",{className:"task-name-header"},"Task name"),o.a.createElement("th",{className:"task-product-name-header"},"Product Name"),o.a.createElement("th",{className:"task-submitter-header"},"Submitter"),o.a.createElement("th",{className:"task-status-header-header"},"Status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,r.map((function(e){var t="#/task/submission/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,fa()(e.created).format("DD/MM/YY")),o.a.createElement("td",null,e.taskName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,o.a.createElement("img",{src:Aa.a}),"Awaiting approval"),o.a.createElement("td",null,o.a.createElement("a",{href:t},o.a.createElement("img",{src:ds.a}))))}))))),o.a.createElement(sm,{paginationInfo:a,listLength:r.length,dispatchList:n}))},Em=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(zc());case 2:return t.next=4,e(co(10,0));case 4:return t.next=6,e(Gu(10,0));case 6:return t.next=8,e(Ln());case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){vm(a,r,o,i,c,"next",e)}function c(e){vm(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t},dispatchloadAwaitingApprovalTaskList:function(t,n){e(Gu(t,n))},dispatchloadAwaitingApprovalList:function(t,n){e(co(t,n))},resetPagination:function(){return e({type:u.PAGINATION.RESET_PAGINATION})}}}))(gm);function wm(e){return(wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?km(Object(n),!0).forEach((function(t){Am(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Am(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cm(e,t){return(Cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nm(e);if(t){var o=Nm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Im(this,n)}}function Im(e,t){if(t&&("object"===wm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nm(e){return(Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rm(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var Dm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cm(e,t)}(i,e);var t,n,r,a=_m(i);function i(){return jm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Tm({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Tm({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement($t,{pageTitle:"My Products",logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return C.a.isEmpty(n)?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,n.map((function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,fa()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,kf.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))))}(n,t),o.a.createElement(On,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Pm(t.prototype,n),r&&Pm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),xm=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(zc());case 2:return t.next=4,e(function(){var e=oo(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:u.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Ur.fetchQuestionnaireSubmissionList(r.id,"my_product_list",0,0);case 8:o=e.sent,t({type:u.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:u.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(Ln());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){Rm(a,r,o,i,c,"next",e)}function c(e){Rm(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(Dm);function Um(e){return(Um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qm(e,t){return(Qm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vm(e);if(t){var o=Vm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hm(this,n)}}function Hm(e,t){if(t&&("object"===Um(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vm(e){return(Vm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qm(e,t)}(i,e);var t,n,r,a=qm(i);function i(){return Mm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach((function(t){Bm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Legend"),o.a.createElement("div",{className:"table-responsive score-modal-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,">="===e.operator?">/="+e.value:e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&Fm(t.prototype,n),r&&Fm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Km(e){return(Km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $m(e,t){return($m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ed(e);if(t){var o=ed(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zm(this,n)}}function Zm(e,t){if(t&&("object"===Km(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ed(e){return(ed=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var td=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$m(e,t)}(i,e);var t,n,r,a=Xm(i);function i(){return Wm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ym(Object(n),!0).forEach((function(t){Gm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ym(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).impactThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"ImapctLegend"},o.a.createElement("h3",{className:"impact-score-legend"},"Legend"),o.a.createElement("div",{className:"table-responsive score-modal-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"impact_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,">="===e.operator?">/="+e.value:"<="===e.operator?"</="+e.value:e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&zm(t.prototype,n),r&&zm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),nd=n(326),rd=n.n(nd);function od(e){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ud(e,t){return(ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ld(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fd(e);if(t){var o=fd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pd(this,n)}}function pd(e,t){if(t&&("object"===od(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fd(e){return(fd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var md=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ud(e,t)}(i,e);var t,n,r,a=ld(i);function i(){return cd(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ad(Object(n),!0).forEach((function(t){id(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ad(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"RiskRatingLegend"},o.a.createElement("span",{className:"impact-heading"},"Impact"),o.a.createElement("div",{className:"table-responsive help-modal-table-container"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",null,e.tableRows.map((function(e,t){return o.a.createElement("tr",{key:"row_"+t},e.map((function(e,t){return o.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)})))})))))):null}}])&&sd(t.prototype,n),r&&sd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function dd(e){return(dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hd(e,t){return(hd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Od(e);if(t){var o=Od(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gd(this,n)}}function gd(e,t){if(t&&("object"===dd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Od(e){return(Od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hd(e,t)}(i,e);var t,n,r,a=vd(i);function i(){var e;yd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={showModal:!1},e.handleOpenModal=function(){e.setState({showModal:!0})},e.handleCloseModal=function(){e.setState({showModal:!1})},e}return t=i,(n=[{key:"renderCurrentRiskRatingContent",value:function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"modal-help-text",dangerouslySetInnerHTML:{__html:this.props.helpText}}),o.a.createElement(md,{riskRatingThresholds:this.props.riskRatingThresholds}))}},{key:"renderLikelihoodScoreContent",value:function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"modal-help-text",dangerouslySetInnerHTML:{__html:this.props.helpText}}),o.a.createElement(Jm,{likelihoodThresholds:this.props.likelihoodScoreThresholds}))}},{key:"renderImpactScoreContent",value:function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"modal-help-text",dangerouslySetInnerHTML:{__html:this.props.helpText}}),o.a.createElement(td,{impactThresholds:this.props.impactScoreThresholds}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"HelpModalContainer"},o.a.createElement("img",{src:rd.a,onClick:function(){return e.handleOpenModal()}}),o.a.createElement(Ba.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".SecurityRiskAssessmentContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},o.a.createElement("h1",null,this.props.title)),o.a.createElement("div",{className:"close-icon-container",onClick:this.handleCloseModal},o.a.createElement("img",{src:Da.a}))),"Current Risk Rating"===this.props.title&&this.renderCurrentRiskRatingContent(),"Likelihood score"===this.props.title&&this.renderLikelihoodScoreContent(),"Impact score"===this.props.title&&this.renderImpactScoreContent()))}}])&&bd(t.prototype,n),r&&bd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Ed(e){return(Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(n),!0).forEach((function(t){Td(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Td(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ad(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pd(e,t){return(Pd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Id(e);if(t){var o=Id(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _d(this,n)}}function _d(e,t){if(t&&("object"===Ed(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Id(e){return(Id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pd(e,t)}(i,e);var t,n,r,a=Cd(i);function i(){return Ad(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"renderTableHeader",value:function(){var e=kd({},this.props),t=(e.sraData,e.impactScoreThresholds),n=e.impactScoreHelpText,r=e.riskRatingHelpText,a=e.likelihoodScoreHelpText,i=e.likelihoodRatingThresholds,c=e.riskRatingThresholds;return o.a.createElement("tr",{key:"risk_assessment_header"},o.a.createElement("th",null,"Risk category"),o.a.createElement("th",null,"Current risk rating ",o.a.createElement(Sd,{title:"Current Risk Rating",helpText:r,riskRatingThresholds:c})),o.a.createElement("th",{className:"td-padding-left"},"Likelihood score ",o.a.createElement(Sd,{title:"Likelihood score",helpText:a,likelihoodScoreThresholds:i})),o.a.createElement("th",null,"Impact score ",o.a.createElement(Sd,{title:"Impact score",helpText:n,impactScoreThresholds:t})))}},{key:"renderTableBody",value:function(){return kd({},this.props).sraData.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:e.riskDetail.currentRiskRating.colour}},e.riskDetail.currentRiskRating.name),o.a.createElement("td",{className:"td-padding-left"},o.a.createElement("span",{className:"ellipse",style:{backgroundColor:e.riskDetail.currentLikelihood.colour}}),o.a.createElement("span",{className:"threshold-name"},e.riskDetail.currentLikelihood.name),o.a.createElement("span",null,o.a.createElement("b",null,e.riskDetail.currentLikelihood.score)," / ",e.riskDetail.MaxLikelihoodPenalty),e.differenceBetweenLikelihoodScore&&o.a.createElement("span",{className:e.differenceBetweenLikelihoodScore>0?"score-difference positive-red":"score-difference negative-green"},e.differenceBetweenLikelihoodScore>0?"+ ".concat(e.differenceBetweenLikelihoodScore):"- ".concat(-1*e.differenceBetweenLikelihoodScore))),o.a.createElement("td",null,o.a.createElement("span",{className:"ellipse",style:{backgroundColor:e.riskDetail.currentImpact.colour}}),o.a.createElement("span",{className:"threshold-name"},e.riskDetail.currentImpact.name),o.a.createElement("span",null,o.a.createElement("b",null,e.riskDetail.currentImpact.score)," / ",e.riskDetail.MaxImpactPenalty),e.differenceBetweenImapctScore&&o.a.createElement("span",{className:e.differenceBetweenImapctScore>0?"score-difference positive-red":"score-difference negative-green"},e.differenceBetweenImapctScore>0?"+ ".concat(e.differenceBetweenImapctScore):"- ".concat(-1*e.differenceBetweenImapctScore))))}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},this.renderTableHeader()),o.a.createElement("tbody",null,this.renderTableBody())))}}])&&jd(t.prototype,n),r&&jd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rd(Object(n),!0).forEach((function(t){xd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ud(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ld(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ud(a,r,o,i,c,"next",e)}function c(e){Ud(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Md=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:(i=Ld(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dd({},t),r=n.uuid,o=n.secureToken,a=n.component,i='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'", Component: "').concat(a||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    SraTaskHelpText\n    SraTaskRecommendedControlHelpText\n    SraTaskRiskRatingHelpText\n    SraTaskLikelihoodScoreHelpText\n    SraTaskImpactScoreHelpText\n    SraTaskNotApplicableInformationText\n    SraTaskNotImplementedInformationText\n    SraTaskPlannedInformationText\n    SraTaskImplementedInformationText\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n    SelectedControls\n    LikelihoodRatingsThresholds\n    RiskRatingThresholdsMatix\n  }\n}'),e.next=4,B.request({query:i});case 4:if(c=e.sent,s=S()(c,"data.readTaskSubmission.0",null)){e.next=8;break}throw M;case 8:return u=JSON.parse(S()(s,"SelectedControls","[]")),Array.isArray(u)||(u=[]),l=JSON.parse(S()(s,"SecurityRiskAssessmentData","")),p=u.length>0?Jr.parseCVAFromJSONObject(u):u,f={uuid:s&&s.UUID?s.UUID:"",taskName:w()(S()(s,"TaskName","")),status:w()(S()(s,"Status","")),sraTaskHelpText:w()(S()(s,"SraTaskHelpText","")),sraTaskRecommendedControlHelpText:w()(S()(s,"SraTaskRecommendedControlHelpText","")),sraTaskRiskRatingHelpText:w()(S()(s,"SraTaskRiskRatingHelpText","")),sraTaskLikelihoodScoreHelpText:w()(S()(s,"SraTaskLikelihoodScoreHelpText","")),sraTaskImpactScoreHelpText:w()(S()(s,"SraTaskImpactScoreHelpText","")),sraTaskNotApplicableInformationText:w()(S()(s,"SraTaskNotApplicableInformationText","")),sraTaskNotImplementedInformationText:w()(S()(s,"SraTaskNotImplementedInformationText","")),sraTaskPlannedInformationText:w()(S()(s,"SraTaskPlannedInformationText","")),sraTaskImplementedInformationText:w()(S()(s,"SraTaskImplementedInformationText","")),submitterID:w()(S()(s,"Submitter.ID","")),isTaskCollborator:"true"===S()(s,"IsTaskCollborator","false"),questionnaireSubmissionUUID:w()(S()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionProductName:w()(S()(s,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===S()(s,"QuestionnaireSubmission.IsBusinessOwner","false"),taskSubmissions:G.parseAlltaskSubmissionforQuestionnaire(s),sraData:l,selectedControls:p,likelihoodRatingThresholds:JSON.parse(S()(s,"LikelihoodRatingsThresholds","")),riskRatingThresholds:JSON.parse(S()(s,"RiskRatingThresholdsMatix",""))},e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"fetchImpactThreshold",value:(a=Ld(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,B.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=S()(t,"data.readImpactThreshold",null)){e.next=7;break}throw M;case 7:return r=n.map((function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"updateCVAControlStatus",value:(o=Ld(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,s,u,l,p,f,m,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dd({},t),o=r.componentID,a=r.controlID,i=r.productAspect,c=r.selectedOption,s=r.uuid,u='\n    mutation {\n      updateControlValidationAuditControlStatus(UUID: "'.concat(s,'", ComponentID: "').concat(o,'", ControlID: "').concat(a,'", ProductAspect: "').concat(i,'", SelectedOption: "').concat(c,'") {\n        UUID\n        SelectedControls\n        SecurityRiskAssessmentData\n      }\n    }'),e.next=4,B.request({query:u,csrfToken:n});case 4:if(l=e.sent,p=S()(l,"data.updateControlValidationAuditControlStatus",null)){e.next=8;break}throw M;case 8:return f=JSON.parse(S()(p,"SelectedControls","[]")),Array.isArray(f)||(f=[]),m=f.length>0?Jr.parseCVAFromJSONObject(f):f,d=JSON.parse(S()(p,"SecurityRiskAssessmentData","")),y={sraData:d,selectedControls:m},e.abrupt("return",y);case 14:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&Bd(t.prototype,n),r&&Bd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fd(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Qd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Fd(a,r,o,i,c,"next",e)}function c(e){Fd(a,r,o,i,c,"throw",e)}i(void 0)}))}}function qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vd(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qd(Object(n),!0).forEach((function(t){Hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken,o=t.component;return function(){var e=Qd(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:u.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,Md.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r,component:o});case 5:return a=e.sent,i={type:u.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:a},e.next=9,t(i);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:u.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:Z.displayError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}var Jd=n(164),Kd={columns:{"column-1":{id:"column-1",title:"Not applicable",controlIds:[]},"column-2":{id:"column-2",title:"Not implemented",controlIds:[]},"column-3":{id:"column-3",title:"Planned",controlIds:[]},"column-4":{id:"column-4",title:"Implemented",controlIds:[]}},columnOrder:["column-1","column-2","column-3","column-4"]},Yd={"Not applicable":"Not Applicable","Not implemented":"Intended",Planned:"Planned",Implemented:"Realised"},Gd=n(1160),Wd=n(257),zd=n.n(Wd),$d=n(616),Xd=n.n($d),Zd=n(611),ey=n.n(Zd),ty=n(615),ny=n.n(ty),ry=n(614),oy=n.n(ry),ay=n(613),iy=n.n(ay),cy=n(612),sy=n.n(cy);function uy(){return(uy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function py(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return my(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return my(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function my(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dy(e){var t=fy(Object(r.useState)(!1),2),n=t[0],a=t[1],i=(sy.a,iy.a,oy.a,ny.a,function(){a(!n)}),c=e.control,s=c.name,u=c.riskCategories,l=(c.id,c.isKeyControl),p=c.evidenceAdded;c.evidenceRating;return o.a.createElement(Jd.b,{draggableId:e.control.id,index:e.index},(function(e,t){var r,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach((function(t){py(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundColor:t.isDragging?"lightgrey":"white"},e.draggableProps.style);return o.a.createElement(Gd.a,uy({className:"material-card"},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,style:a}),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"card-header"},l?o.a.createElement("p",{className:"card-title card-key-control"},o.a.createElement("img",{src:ey.a,alt:"star icon"}),s):o.a.createElement("p",{className:"card-title"},s),o.a.createElement("div",{className:"card-chevron"},o.a.createElement(Ms.a,{"aria-label":"show more"},o.a.createElement(zd.a,null)))),o.a.createElement("div",{className:n?"card-footer flex-column":"card-footer",onClick:i},(r=u,!n&&r.length?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"card-risk-category"},r[0].name),r.length>1?o.a.createElement("p",{className:"card-weight"},"+",r.length-1):""):r.map((function(e,t){return o.a.createElement("p",{className:"card-risk-category",key:t},e.name)}))),function(e){if(e)return o.a.createElement("div",null,o.a.createElement(Xd.a,null),o.a.createElement("p",null,"Evidence Added"))}(p))))}))}var yy=n(1161),by=n(620),hy=n.n(by),vy=n(619),gy=n.n(vy),Oy=n(1177),Sy=n(1165),Ey=n(1164);function wy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ky(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ky(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ky(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ty(){return(Ty=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ay=Object(yy.a)((function(){return{arrow:{color:"#2371A6"},tooltip:{backgroundColor:"#2371A6",width:"210px",padding:"8px 10px",fontSize:"10px",lineHeight:"14px",fontWeight:400,borderRadius:"2px",marginLeft:"1px",marginTop:"5px"}}}));function jy(e){var t=Ay();return o.a.createElement(Oy.a,Ty({classes:t},e))}var Py=function(e){var t=e.columnInformation,n=wy(Object(r.useState)(!1),2),a=n[0],i=n[1],c=function(){i(!0)};return o.a.createElement(Ey.a,{onClickAway:function(){i(!1)}},o.a.createElement("div",null,o.a.createElement(jy,{PopperProps:{disablePortal:!0},open:a,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:t,placement:"bottom",TransitionComponent:Sy.a,TransitionProps:{timeout:0},arrow:!0},a?o.a.createElement(gy.a,{className:"column-info",onClick:c}):o.a.createElement(hy.a,{className:"column-info",onClick:c}))))},Cy=n(621),_y=n.n(Cy);function Iy(e){return(Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ny(){return(Ny=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ry(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xy(e,t,n){return t&&Dy(e.prototype,t),n&&Dy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ly(e,t)}function Ly(e,t){return(Ly=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function By(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fy(e);if(t){var o=Fy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return My(this,n)}}function My(e,t){if(t&&("object"===Iy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Fy(e){return(Fy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qy=function(e){Uy(n,e);var t=By(n);function n(){return Ry(this,n),t.apply(this,arguments)}return xy(n,[{key:"shouldComponentUpdate",value:function(e){return e.controls!==this.props.controls}},{key:"render",value:function(){return this.props.controls.map((function(e,t){return o.a.createElement(dy,{key:e.id,control:e,index:t})}))}}]),n}(o.a.Component),qy=function(e){Uy(n,e);var t=By(n);function n(){var e;Ry(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={controlArrayIsValid:!1},e}return xy(n,[{key:"componentDidUpdate",value:function(e){this.props.controls!==e.controls&&this.setState({controlArrayIsValid:!0})}},{key:"render",value:function(){var e,t=this;return 0===this.props.controls.length&&(e=o.a.createElement("div",{className:"empty-column-text"},o.a.createElement(_y.a,{className:"directional-drag-arrow"}),o.a.createElement("p",null,"Click and drag a control to move it into '",this.props.column.title,"'."))),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"column-header"},o.a.createElement("h5",{className:"column-title"},this.props.column.title),o.a.createElement(Py,{columnInformation:this.props.informationText})),o.a.createElement("div",{className:e?"dotted-border column-card-list":"column-card-list"},o.a.createElement(Jd.c,{droppableId:this.props.column.id},(function(n,r){return o.a.createElement("div",Ny({ref:n.innerRef,style:{backgroundColor:r.isDraggingOver?"grey":"#efefef"}},n.droppableProps),e,t.state.controlArrayIsValid?o.a.createElement(Qy,{controls:t.props.controls,columnTitle:t.props.column.title}):null,n.placeholder)}))))}}]),n}(r.Component),Hy=n(1166),Vy=n(1173);function Jy(e){return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gy(e,t){return(Gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$y(e);if(t){var o=$y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zy(this,n)}}function zy(e,t){if(t&&("object"===Jy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $y(e){return($y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gy(e,t)}(i,e);var t,n,r,a=Wy(i);function i(){return Ky(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.isFilteringDisabled,n=e.handleChange;return o.a.createElement(Hy.a,{className:"board-filter-label filter-checkbox",control:o.a.createElement(Vy.a,{defaultChecked:!0,color:"primary",onClick:n,disabled:t}),label:this.props.label})}}])&&Yy(t.prototype,n),r&&Yy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Zy=n(1167),eb=n(1174);function tb(e){return(tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ob(e,t){return(ob=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ab(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cb(e);if(t){var o=cb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ib(this,n)}}function ib(e,t){if(t&&("object"===tb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cb(e){return(cb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ob(e,t)}(i,e);var t,n,r,a=ab(i);function i(){return nb(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.isFilteringDisabled,n=e.handleChange;return o.a.createElement("div",{className:"board-search"},o.a.createElement(Zy.a,{className:"board-filter-label"},this.props.label),o.a.createElement(eb.a,{size:"small",InputProps:{style:{fontSize:"small"},disabled:t},className:"board-search-input",variant:"outlined",color:"primary",focused:!0,onChange:n}))}}])&&rb(t.prototype,n),r&&rb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),ub=n(1171),lb=n(1179);function pb(e){return(pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function db(e,t){return(db=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hb(e);if(t){var o=hb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bb(this,n)}}function bb(e,t){if(t&&("object"===pb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hb(e){return(hb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&db(e,t)}(i,e);var t,n,r,a=yb(i);function i(){return fb(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.filterParameters,r=e.addClass,a=e.isFilteringDisabled,i=e.handleChange;return o.a.createElement("div",{className:"board-select"},o.a.createElement(Zy.a,{className:"board-filter-label"},t),o.a.createElement(ub.a,{SelectDisplayProps:{style:{paddingTop:9,paddingBottom:9,fontSize:"small",backgroundColor:"white"}},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,disablePortal:!0},IconComponent:zd.a,className:"sort-by"===r?"board-select-input sort-by":"board-select-input",variant:"outlined",defaultValue:n[0].title,onChange:i,disabled:a},n.map((function(e){return o.a.createElement(lb.a,{style:{fontSize:"small"},key:e.id,value:e.title},e.title)}))))}}])&&mb(t.prototype,n),r&&mb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),gb=[{id:1,title:"All"},{id:2,title:"Information disclosure"},{id:3,title:"Information modification"},{id:4,title:"Information loss"},{id:5,title:"Sustained service unavailability"},{id:6,title:"Degraded service performance"},{id:7,title:"Human damage or loss of life"}],Ob=[{id:1,title:"None"},{id:2,title:"Alphabetical (A-Z)"},{id:3,title:"Alphabetical (Z-A)"},{id:4,title:"Key controls first"},{id:5,title:"Effectiveness"},{id:6,title:"Evidence added"},{id:7,title:"Number of risk categories"}];function Sb(e){return(Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kb(e,t){return(kb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jb(e);if(t){var o=jb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ab(this,n)}}function Ab(e,t){if(t&&("object"===Sb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jb(e){return(jb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kb(e,t)}(i,e);var t,n,r,a=Tb(i);function i(){return Eb(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.updateSearchKeywords,n=e.isFilteringDisabled,r=e.toggleNotApplicable,a=e.updateSelectedRiskCategory;return o.a.createElement("div",{className:"board-filters"},o.a.createElement(sb,{label:"Key words",handleChange:t,isFilteringDisabled:n}),o.a.createElement(vb,{label:"Risk category",filterParameters:gb,isFilteringDisabled:n,handleChange:a}),o.a.createElement(vb,{label:"Sort by",filterParameters:Ob,addClass:"sort-by",isFilteringDisabled:n}),o.a.createElement(Xy,{label:"Show not applicable",handleChange:r,isFilteringDisabled:n}))}}])&&wb(t.prototype,n),r&&wb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Cb=n(1172),_b=n(1170),Ib=n(1178),Nb=n(623),Rb=n.n(Nb),Db=n(622),xb=n.n(Db);function Ub(e){return(Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Lb=["id"];function Bb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mb(Object(n),!0).forEach((function(t){Qb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vb(e,t){return(Vb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yb(e);if(t){var o=Yb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(e,t){if(t&&("object"===Ub(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yb(e){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vb(e,t)}(i,e);var t,n,r,a=Jb(i);function i(){var e;qb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={controls:[],columns:Kd.columns,columnOrder:Kd.columnOrder,showNotApplicable:!0,message:null,isFilteringDisabled:!1,searchKeywords:"",selectedRiskCategory:"All"},e.toggleNotApplicable=function(t){e.setState({showNotApplicable:t.target.checked})},e.updateSearchKeywords=function(t){e.setState({searchKeywords:t.target.value.trim()},(function(){return e.handleSearch()}))},e.updateSelectedRiskCategory=function(t){e.setState({selectedRiskCategory:t.target.value},(function(){return e.handleSearch()}))},e.filterSelectedRiskCategory=function(t){var n=e.state.selectedRiskCategory;return"All"==n?t:Object.fromEntries(Object.entries(t).filter((function(e){return e[1].riskCategories.some((function(e){return e.name.toLowerCase()===n.toLowerCase()}))})))},e.filterSearchKeywords=function(t){var n=e.state.searchKeywords;return Object.fromEntries(Object.entries(t).filter((function(e){return e[1].name.toLowerCase().includes(n.toLowerCase())})))},e.handleSearch=function(){var t=Fb({},e.state.controls),n=e.filterSearchKeywords(t);n=e.filterSelectedRiskCategory(n),0==Object.keys(n).length?e.setState({columns:Kd.columns}):e.updateControlsInColumns(n)},e.onDragStart=function(){e.setState({isFilteringDisabled:!0})},e.onDragEnd=function(t){var n,r=t.destination,o=t.source,a=t.draggableId;if(r)if(r.droppableId!==o.droppableId||r.index!==o.index){var i=e.state.columns[o.droppableId],c=e.state.columns[r.droppableId];if(e.state.message={open:!0,severity:"success",icon:"",title:"Changes applied.",text:"Your likelihood and impact scores have been updated.",anchorOrigin:{vertical:"top",horizontal:"center"}},i===c){var s=Array.from(i.controlIds);s.splice(o.index,1),s.splice(r.index,0,a);var u=Fb(Fb({},i),{},{controlIds:s}),l=Fb(Fb({},e.state),{},{columns:Fb(Fb({},e.state.columns),{},Qb({},u.id,u))});return e.setState(l),void e.setState({isFilteringDisabled:!1})}var p=Array.from(i.controlIds);p.splice(o.index,1);var f=Fb(Fb({},i),{},{controlIds:p}),m=Array.from(c.controlIds);m.splice(r.index,0,a);var d=Fb(Fb({},c),{},{controlIds:m}),y=Fb(Fb({},e.state),{},{columns:Fb(Fb({},e.state.columns),{},(n={},Qb(n,f.id,f),Qb(n,d.id,d),n))});e.setState(y);var b=e.props,h=b.cvaTaskSubmissionUUID,v=b.productAspect,g=a.match(/{\d*}/g);e.props.dispatchUpdateCVAControlStatus({selectedOption:Yd[c.title],controlID:g[1].match(/\d+/g).pop(),componentID:g[0].match(/\d+/g).pop(),productAspect:v,uuid:h}),e.setState({isFilteringDisabled:!1})}else e.setState({isFilteringDisabled:!1})},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.getControlsDataset(),t=this.addControlsToColumns(e);this.setState({controls:e}),this.setState({columns:t})}},{key:"componentDidUpdate",value:function(e){if(this.props.selectedControls!==e.selectedControls){var t=this.getControlsDataset();if(this.setState({controls:t}),!this.state.message){var n=this.addControlsToColumns(t);this.setState({columns:n})}}}},{key:"getControlsDataset",value:function(){if(this.props.selectedControls.length){var e=[];return this.props.selectedControls.map((function(t){var n=t.name;t.controls.map((function(r){var o=r.id,a=Bb(r,Lb),i=(n+"-{"+t.id+"}_"+a.name+"-{"+o+"}").replace(/ /g,"_");e=Fb(Fb({},e),{},Qb({},i,Fb({id:i},a)))}))})),e}}},{key:"addControlsToColumns",value:function(e){var t=Object(P.cloneDeep)(Kd.columns);return e?(this.state.columnOrder.map((function(n){var r=t[n],o=r.controlIds;Object.entries(e).map((function(e){e[1].selectedOption===Yd[r.title]&&o.push(e[0])}))})),t):t}},{key:"updateControlsInColumns",value:function(e){var t=Fb({},this.state.controls),n=this.addControlsToColumns(t);this.state.columnOrder.map((function(t){var r=n[t],o=r.controlIds,a=[];Object.entries(e).map((function(e){o.includes(e[0])&&a.push(e[0]),r.controlIds=a}))})),this.setState({columns:n})}},{key:"render",value:function(){var e,t=this,n={"Not applicable":this.props.notApplicableInformationText,"Not implemented":this.props.notImplementedInformationText,Planned:this.props.plannedInformationText,Implemented:this.props.implementedInformationText};return this.state.columns===Kd.columns&&(e=o.a.createElement("div",{className:"no-search-results-container"},o.a.createElement("div",{className:"column-header-container"},this.state.columnOrder.map((function(e){var r=t.state.columns[e];return o.a.createElement("div",{className:"column-header",key:r.id,style:{display:t.state.showNotApplicable||"Not applicable"!=r.title?"":"none"}},o.a.createElement("h5",{className:"column-title"},r.title),o.a.createElement(Py,{columnInformation:n[r.title]}))}))),o.a.createElement("div",{className:"no-search-results-message-container"},o.a.createElement("img",{src:xb.a,alt:"search icon"}),o.a.createElement("h4",null,"No results found"),o.a.createElement("span",{className:"no-search-results-message"},"There are no controls that match your search. Try adjusting your search and filter criteria.")))),o.a.createElement(o.a.Fragment,null,o.a.createElement(Pb,{toggleNotApplicable:this.toggleNotApplicable,updateSearchKeywords:this.updateSearchKeywords,updateSelectedRiskCategory:this.updateSelectedRiskCategory,isFilteringDisabled:this.state.isFilteringDisabled}),this.state.message?o.a.createElement(Ib.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.message.open,autoHideDuration:5e3,onClose:function(){return t.setState({message:null})}},o.a.createElement(Cb.a,{style:{width:"40vw"},icon:o.a.createElement(Rb.a,{style:{color:"#579a36"}})},o.a.createElement(_b.a,null,this.state.message.title),this.state.message.text)):null,o.a.createElement(Jd.a,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},o.a.createElement("div",{className:"control-board-container"},e||"",this.state.columnOrder.map((function(r){var a,i=t.state.columns[r];a=!((t.state.showNotApplicable||"Not applicable"!=i.title)&&!e);var c=i.controlIds.map((function(e){return Fb({},t.state.controls[e])}));return o.a.createElement("div",{className:"column-container ".concat(t.state.showNotApplicable?"narrow":"wide"),key:i.id,style:{display:a?"none":""}},o.a.createElement(qy,{column:i,controls:c,informationText:n[i.title]}))})))))}}])&&Hb(t.prototype,n),r&&Hb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Wb(e){return(Wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zb(Object(n),!0).forEach((function(t){Xb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function th(e,t){return(th=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oh(e);if(t){var o=oh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rh(this,n)}}function rh(e,t){if(t&&("object"===Wb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oh(e){return(oh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ah=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&th(e,t)}(i,e);var t,n,r,a=nh(i);function i(){var e;Zb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={showModal:!1},e.handleOpenSubmitModal=function(){e.setState({showModal:!0})},e.handleCloseSubmitModal=function(){e.setState({showModal:!1})},e.handleSubmit=function(){var t=$b({},e.props),n=t.uuid,r=t.dispatchSaveAction,o=t.secureToken,a=t.component;r(n,o,t.securityRiskAssessmentData.questionnaireSubmissionUUID,a),e.setState({showModal:!1})},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=$b({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken,e.component)}},{key:"renderSubmitModal",value:function(e,t){var n=this,r=e,a=0;if(t.length){var i=t.filter((function(e){return e.productAspect===n.props.component}));i.length&&(a=i[0].controls.filter((function(e){return"Intended"===e.selectedOption})).length)}return o.a.createElement(Ba.a,{portalClassName:"submit-modal",isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".SecurityRiskAssessmentContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},o.a.createElement("h1",null,"Confirm submission")),o.a.createElement("div",{className:"close-icon-container",onClick:this.handleCloseSubmitModal},o.a.createElement("img",{src:Da.a}))),o.a.createElement("div",{className:"content"},o.a.createElement("p",null,"You are about to submit the security risk assessment for",r||"Product","."),a>=1&&o.a.createElement("p",null,"You still have ",a,"",1==a?"control":"controls","that ",1==a?"has":"have","not been implemented. You will not be able to make any changes once you submit."),o.a.createElement("p",{className:"confirmation-message"},"Are you sure you wish to continue?")),o.a.createElement("div",{className:"button-container"},o.a.createElement(gr,{title:"No, don't submit",classes:["mr-3 confirm-submission-button"],onClick:this.handleCloseSubmitModal}),o.a.createElement(la,{title:"Yes, continue to submit",classes:["confirm-submission-button"],onClick:this.handleSubmit})))}},{key:"render",value:function(){var e=this,t=$b({},this.props),n=t.siteConfig,r=t.currentUser,a=t.securityRiskAssessmentData,i=t.secureToken,c=t.impactThresholdData,s=t.component,u=t.dispatchUpdateCVAControlStatus;if(!r||!n||!a)return null;var l=$b({},a),p=(l.uuid,l.taskName,l.questionnaireSubmissionUUID),f=(l.submitterID,l.taskSubmissions),m=l.sraData,d=(l.status,l.sraTaskHelpText),y=l.sraTaskRecommendedControlHelpText,b=l.sraTaskRiskRatingHelpText,h=l.sraTaskLikelihoodScoreHelpText,v=l.sraTaskImpactScoreHelpText,g=l.sraTaskNotApplicableInformationText,O=l.sraTaskNotImplementedInformationText,S=l.sraTaskPlannedInformationText,E=l.sraTaskImplementedInformationText,w=l.selectedControls,k=l.questionnaireSubmissionProductName,T=l.likelihoodRatingThresholds,A=l.riskRatingThresholds,j=f.filter((function(e){return"control validation audit"===e.taskType}))[0].uuid,P=(Ps.isSRATaskFinalised(f),Ps.isSiblingTaskPending(f),a.submitterID===r.id),C=(P||a.isTaskCollborator,o.a.createElement("div",{className:"back-link",onClick:function(){N.redirectToQuestionnaireSummary(p,i)}},o.a.createElement("img",{src:zu.a}),"Back")),_=!1,I=!1;return(P||a.isTaskCollborator)&&(_=!0),_||(r.isSA||r.isCISO||a.isBusinessOwner||r.isAccreditationAuthority||r.isCertificationAuthority)&&(I=!0),o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement($t,{pageTitle:a.taskName,logopath:n.logoPath,productName:a.questionnaireSubmissionProductName,questionnaireSubmissionUUID:a.questionnaireSubmissionUUID,showSubmissionBreadcrumb:_,showApprovalBreadcrumb:I,component:s}),"expired"===a.status&&o.a.createElement(Us,null),"expired"!==a.status&&o.a.createElement("div",{className:"SecurityRiskAssessment"},C,o.a.createElement("h4",null,"Your risk assessment results"),o.a.createElement("div",{className:"help-text"},d),o.a.createElement("div",{className:"help-text"},o.a.createElement(Nd,{riskRatingHelpText:b,likelihoodScoreHelpText:h,likelihoodRatingThresholds:T,riskRatingThresholds:A,sraData:m,impactScoreHelpText:v,impactScoreThresholds:c})),o.a.createElement("h4",null,"Recommended Controls"),o.a.createElement("div",{className:"help-text"},y),o.a.createElement("div",{className:"security-risk-assessment-control-board"},o.a.createElement(Gb,{productAspect:this.props.component,notApplicableInformationText:g,notImplementedInformationText:O,plannedInformationText:S,implementedInformationText:E,selectedControls:w,key:w.length>0?"".concat(w[0].id," ").concat(w[0].name," ").concat(w[0].productAspect):"",dispatchUpdateCVAControlStatus:function(e){u(e)},cvaTaskSubmissionUUID:j})),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"container-right"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,"Note: Changes are automatically saved")),o.a.createElement("div",{className:"button-container"},o.a.createElement(gr,{classes:["button"],title:"Save and exit",onClick:function(){N.redirectToQuestionnaireSummary(p,i)}}),o.a.createElement(la,{classes:["button button-submit"],title:"Submit",onClick:function(){return e.handleOpenSubmitModal()}})))),this.renderSubmitModal(k,w)),o.a.createElement(On,{footerCopyrightText:n.footerCopyrightText}))}}])&&eh(t.prototype,n),r&&eh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),ih=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}}),(function(e,t){return{dispatchLoadDataAction:function(t,n,r){e(zc()),e(Ln()),e(Vd({uuid:t,secureToken:n,component:r})),e(function(){var e=Qd(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Md.fetchImpactThreshold();case 3:return n=e.sent,r={type:u.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Z.displayError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},dispatchSaveAction:function(t,n,r,o){e(Hu({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r,component:o}))},dispatchUpdateCVAControlStatus:function(t){var n;e((n=t,function(){var e=Qd(regeneratorRuntime.mark((function e(t){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.getCSRFToken();case 3:return r=e.sent,e.next=6,Md.updateCVAControlStatus(n,r);case 6:return o=e.sent,a={type:u.SRA.UPDATE_CVA_CONTROL_STATUS,payload:o},e.next=10,t(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Z.displayError(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()))}}}))(ah);function ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ch(Object(n),!0).forEach((function(t){uh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ch(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lh(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ph(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){lh(a,r,o,i,c,"next",e)}function c(e){lh(a,r,o,i,c,"throw",e)}i(void 0)}))}}function fh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mh=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:(i=ph(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sh({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,B.request({query:a});case 4:if(i=e.sent,c=S()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw M;case 8:return s=JSON.parse(S()(c,"CVATaskData","[]")),Array.isArray(s)||(s=[]),u=s.length>0?Jr.parseCVAFromJSONObject(s):s,l={id:w()(S()(c,"ID","")),status:w()(S()(c,"Status","")),uuid:w()(S()(c,"UUID","")),questionnaireSubmissionUUID:w()(S()(c,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionProductName:w()(S()(c,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===S()(c,"QuestionnaireSubmission.IsBusinessOwner","false"),taskName:w()(S()(c,"TaskName","")),selectedComponents:u,submitterID:w()(S()(c,"Submitter.ID","")),componentTarget:w()(S()(c,"CVATaskDataSource","")),isTaskCollborator:"true"===S()(c,"IsTaskCollborator","false"),productAspects:_.has(c,"ProductAspects")?JSON.parse(S()(c,"ProductAspects",[])):[],siblingSubmissions:G.parseAlltaskSubmissionforQuestionnaire(c)},e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"saveControlValidationAuditData",value:(a=ph(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sh({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,B.request({query:c,csrfToken:a});case 5:if(s=e.sent,_.get(s,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw M;case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"reSyncWithJira",value:(o=ph(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sh({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,B.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw M;case 8:return s=JSON.parse(S()(c,"CVATaskData","[]")),Array.isArray(s)||(s=[]),u=s.length>0?Jr.parseCVAFromJSONObject(s):s,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&fh(t.prototype,n),r&&fh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function dh(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function yh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){dh(a,r,o,i,c,"next",e)}function c(e){dh(a,r,o,i,c,"throw",e)}i(void 0)}))}}function bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vh(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(n),!0).forEach((function(t){hh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=yh(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:u.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:u.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,mh.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return o=e.sent,a={type:u.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:o},e.next=11,t(a);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:u.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:Z.displayError(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}function gh(e){return(gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oh(Object(n),!0).forEach((function(t){Eh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kh(e,t){return(kh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Th(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jh(e);if(t){var o=jh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ah(this,n)}}function Ah(e,t){if(t&&("object"===gh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jh(e){return(jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ph(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ch(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ph(a,r,o,i,c,"next",e)}function c(e){Ph(a,r,o,i,c,"throw",e)}i(void 0)}))}}var _h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kh(e,t)}(c,e);var t,n,r,a,i=Th(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={isCVATaskEditable:!1},t}return t=c,(n=[{key:"componentDidMount",value:(a=Ch(regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,s,u,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Sh({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:try{a=Sh({},this.props),i=a.controlValidationAuditData,c=a.currentUser,s=i.submitterID===c.id,u=s||i.isTaskCollborator,this.setState({isCVATaskEditable:u}),this.autoSaveCVATask=setInterval(Ch(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=3;break}return e.next=3,l.callAutoSaveCvaTaskApi();case 3:case"end":return e.stop()}}),e)}))),6e5)}catch(e){Z.displayError(e)}case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearInterval(this.autoSaveCVATask)}},{key:"callAutoSaveCvaTaskApi",value:function(){var e=Sh({},this.props),t=e.uuid,n=e.secureToken,r=e.dispatchSaveControlValidationAuditDataAction,o=e.controlValidationAuditData,a=e.cvaSelectedComponents;e.currentUser,r(t,a,o.questionnaireSubmissionUUID,n,!0)}},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;return this.props.controlValidationAuditData.componentTarget,t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?o.a.createElement("div",null,n.map((function(t){return e.renderComponent(t)}))):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return o.a.createElement("div",null,e.map((function(e,r){var a=t.filter((function(t){return t.productAspect===e}));return 0==a.length?null:o.a.createElement("div",{className:"mt-2",key:r},o.a.createElement("h4",null,e),a.map((function(e){return n.renderComponent(e)})))})))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,a=e.jiraTicketLink?o.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return o.a.createElement("div",{key:n},o.a.createElement("h5",null,e.name,a&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&o.a.createElement("span",null," - ",a)),r&&r.length>0&&r.map((function(n){return t.renderControl(n,e)})),!r||0==r.length&&o.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,a=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"},{value:"Planned",label:"PLANNED"}],i=[{value:"Not Validated",label:"Not Validated"},{value:"Not Effective",label:"Not Effective"},{value:"Partially Effective",label:"Partially Effective"},{value:"Effective",label:"Effective"}];return o.a.createElement("div",{className:"my-0 container row",key:t},o.a.createElement("div",{className:"col-xs-6"},o.a.createElement("div",null,a.map((function(a,i){return o.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:a.value,defaultChecked:e.selectedOption===a.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:a.value,evalutionRating:e.evalutionRating,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),a.label)}))),o.a.createElement("div",null,i.map((function(a,i){return o.a.createElement("label",{key:"evalution_rating_optionlabel_".concat(t,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"evalution_rating_radiobutton_".concat(t,"_").concat(i),name:"evalution_rating_".concat(t),value:a.value,defaultChecked:e.evalutionRating===a.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,evalutionRating:a.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),a.label)})))),o.a.createElement("div",{className:"col-7"},o.a.createElement("label",{key:e.id},o.a.createElement("strong",null,e.name)),o.a.createElement(fp,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:this.state.isCVATaskEditable,updateEvidenceTextareaData:function(t){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,evalutionRating:e.evalutionRating,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return o.a.createElement("div",{className:"my-0",key:t},o.a.createElement("label",{className:"ml-2",key:e.id},o.a.createElement("span",null,o.a.createElement("strong",null,e.name)," - "),o.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=Sh({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,c=e.cvaSelectedComponents,s=e.dispatchReSyncWithJira,u=e.component;if(!n||!r||!t)return null;var l=this.state.isCVATaskEditable&&c.length>0?o.a.createElement(gr,{title:"SUBMIT",onClick:function(){return i(r.uuid,c,r.questionnaireSubmissionUUID,a,!1)}}):null,p=o.a.createElement(la,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){N.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}),f=this.state.isCVATaskEditable&&"JIRA Cloud"==r.componentTarget&&c.length>0?o.a.createElement(la,{title:"RE SYNC WITH JIRA",onClick:function(){return s(r.uuid)}}):null,m=!1,d=!1;return(r.submitterID===n.id||r.isTaskCollborator)&&(m=!0),m||(n.isSA||n.isCISO||r.isBusinessOwner||n.isAccreditationAuthority||n.isCertificationAuthority)&&(d=!0),o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement($t,{pageTitle:r.taskName,logopath:t.logoPath,productName:r.questionnaireSubmissionProductName,questionnaireSubmissionUUID:r.questionnaireSubmissionUUID,showSubmissionBreadcrumb:m,showApprovalBreadcrumb:d,component:u}),"expired"===r.status&&o.a.createElement(Us,null),"expired"!==r.status&&o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"ControlValidationAuditForm"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!this.state.isCVATaskEditable&&o.a.createElement(lf,null),(this.state.isCVATaskEditable||"complete"==r.status)&&o.a.createElement("div",null,this.renderCVAQuestionsForm())),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},o.a.createElement("div",null,l,f,p))),o.a.createElement(On,{footerCopyrightText:t.footerCopyrightText}))}}])&&wh(t.prototype,n),r&&wh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component),Ih=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:(n=Ch(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(vh({uuid:n,secureToken:r})),e(zc()),e(Ln())]);case 2:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o,a){e(function(e,t,n,r,o){return function(){var a=yh(regeneratorRuntime.mark((function a(i){var c,s,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,je.getCSRFToken();case 3:return c=a.sent,a.next=6,mh.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:c});case 6:return s=a.sent,l={type:u.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:s},a.next=10,i(l);case 10:o||N.redirectToQuestionnaireSummary(n,r),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),Z.displayError(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}(t,n,r,o,a))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n;e((n=t,function(){var e=yh(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:u.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},dispatchReSyncWithJira:function(t){e(function(e){return function(){var t=yh(regeneratorRuntime.mark((function t(n){var r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:u.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,je.getCSRFToken();case 5:return r=t.sent,t.next=8,mh.reSyncWithJira({uuid:e,csrfToken:r});case 8:return o=t.sent,a={type:u.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:o},t.next=12,n(a);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:u.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:Z.displayError(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}};var n}))(_h),Nh=n(99);function Rh(e){return(Rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uh(e,t){return(Uh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mh(e);if(t){var o=Mh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bh(this,n)}}function Bh(e,t){if(t&&("object"===Rh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mh(e){return(Mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uh(e,t)}(i,e);var t,n,r,a=Lh(i);function i(){return Dh(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"loading-spinner-page-overlay"},o.a.createElement("div",{className:"loading-spinner"},o.a.createElement(np.a,{spin:!0,name:"spinner"})," Loading...")))}}])&&xh(t.prototype,n),r&&xh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Qh(e){return(Qh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vh(e,t){return(Vh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yh(e);if(t){var o=Yh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kh(this,n)}}function Kh(e,t){if(t&&("object"===Qh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yh(e){return(Yh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vh(e,t)}(i,e);var t,n,r,a=Jh(i);function i(){return qh(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.loading&&o.a.createElement(Fh,null),o.a.createElement("main",null,o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/"},(function(){return o.a.createElement(Gn,null)})),o.a.createElement(s.a,{path:"/questionnaire/start/:id"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Eo,{questionnaireID:t.params.id}))})),o.a.createElement(s.a,{path:"/questionnaire/submission/:hash"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Qi,{submissionHash:t.params.hash}))})),o.a.createElement(s.a,{path:"/questionnaire/review/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Nh.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Hc,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/questionnaire/summary/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Nh.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(yu,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="",a="";if(n.search){var i=Object(Nh.parse)(n.search);r=i.token,a=i.component}return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(gl,{uuid:t.params.uuid,secureToken:r,component:a}))})),o.a.createElement(s.a,{path:"/tasks/standalone/:taskId"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Il,{taskId:t.params.taskId}))})),o.a.createElement(s.a,{path:"/component-selection/standalone/:taskId"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Nh.parse)(n.search).componentTarget),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Zp,{taskId:t.params.taskId,componentTarget:r}))})),o.a.createElement(s.a,{path:"/component-selection/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Nh.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ef,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/control-validation-audit/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="",a="";if(n.search){var i=Object(Nh.parse)(n.search);r=i.token,a=i.component}return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ih,{uuid:t.params.uuid,secureToken:r,component:a}))})),o.a.createElement(s.a,{path:"/security-risk-assessment/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="",a="";if(n.search){var i=Object(Nh.parse)(n.search);r=i.token,a=i.component}return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ih,{uuid:t.params.uuid,secureToken:r,component:a}))})),o.a.createElement(s.a,{path:"/MySubmissions"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Lf,null))})),o.a.createElement(s.a,{path:"/AwaitingApprovals"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Em,null))})),o.a.createElement(s.a,{path:"/MyProducts"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(xm,null))})))))}}])&&Hh(t.prototype,n),r&&Hh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Wh=Object(s.f)(Object(c.b)((function(e){return{loading:C.a.chain(e.loadingState).values().some((function(e){return e})).value()}}),(function(e,t){return{}}))(Gh)),zh=n(36),$h=n(94),Xh=(n(1071),{title:"",subtitle:"",pillars:[],tasks:[]});function Zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zh(Object(n),!0).forEach((function(t){tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nv={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},rv={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var ov=Object(zh.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nv,t=arguments.length>1?arguments[1]:void 0;return t.type===u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rv,t=arguments.length>1?arguments[1]:void 0;if(t.type===u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===u.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex((function(e){return e.id===n.id}));if(r<0)return e;var o=ev({},e);return C.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===u.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=ev({},t),c=i.targetIndex,s=a.questions.findIndex((function(e){return e.isCurrent}));if(c<0||c>=a.questions.length)return e;var l=ev({},e);return C.a.set(l,"submission.questions.".concat(s,".isCurrent"),!1),C.a.set(l,"submission.questions.".concat(c,".isCurrent"),!0),l}if(t.type===u.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var p=e.submission;if(!p)return e;var f=ev({},e),m=t.nonApplicableIndexes;return m&&m.length>0&&m.forEach((function(e){var t=p.questions[e];t.isApplicable=!1,C.a.set(f,"submission.questions.".concat(e),t)})),f}return e}}),av=n(139),iv=n.n(av),cv=n(100),sv=n.n(cv);function uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uv(Object(n),!0).forEach((function(t){pv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fv={taskSubmission:null};function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(n),!0).forEach((function(t){yv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bv={user:null};function hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hv(Object(n),!0).forEach((function(t){gv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ov={siteConfig:null};var Sv=n(624),Ev=n.n(Sv);function wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wv(Object(n),!0).forEach((function(t){Tv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Av={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},jv=Vl.isComponentExist,Pv=Vl.isSelectedComponentExist;function Cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cv(Object(n),!0).forEach((function(t){Iv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nv={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function Rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rv(Object(n),!0).forEach((function(t){xv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uv={securityRiskAssessmentData:null,impactThresholdData:null};function Lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lv(Object(n),!0).forEach((function(t){Mv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fv={controlValidationAuditData:null,cvaSelectedComponents:[]};Vl.isSelectedComponentExist;function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qv(Object(n),!0).forEach((function(t){Hv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kv={members:null};function Yv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yv(Object(n),!0).forEach((function(t){Wv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zv={pagination:{limit:10,offset:0,index:1,pageNumber:1}};var $v=Object(zh.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xh,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:ov,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fv,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===u.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===u.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION){if(!n)return e;var r=lv({},t.payload),o=r.resultForCertificationAndAccreditation,a=iv()(e);return sv()(a,"taskSubmission.resultForCertificationAndAccreditation",o),a}if(t.type===u.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var i=t.payload,c=n.questions.findIndex((function(e){return e.id===i.id}));if(c<0)return e;var s=iv()(e);return sv()(s,"taskSubmission.questions.".concat(c),i),s}if(t.type===u.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var l=iv()(e),p=t.payload;return p&&p.length>0&&p.forEach((function(e){var t=n.questions[e];t.isApplicable=!1,sv()(l,"taskSubmission.questions.".concat(e),t)})),l}if(t.type===u.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var f=lv({},t.payload),m=f.currentIndex,d=f.targetIndex;if(d<0||d>=n.questions.length)return e;var y=iv()(e);return sv()(y,"taskSubmission.questions.".concat(m,".isCurrent"),!1),sv()(y,"taskSubmission.questions.".concat(d,".isCurrent"),!0),y}if(t.type===u.TASK.COMPLETE_TASK_SUBMISSION){var b=iv()(e);return sv()(b,"taskSubmission.status","complete"),t.payload&&sv()(b,"taskSubmission.result",t.payload),b}if(t.type===u.TASK.EDIT_TASK_SUBMISSION){var h=iv()(e);return sv()(h,"taskSubmission.status","in_progress"),sv()(h,"taskSubmission.result",null),h}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.USER.SET_CURRENT_USER:return dv(dv({},e),{},{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ov,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SITE_CONFIG.LOAD_SITE_CONFIG:return vv(vv({},e),{},{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Av,t=arguments.length>1?arguments[1]:void 0;if(t.type===u.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS){var n=t;return kv(kv({},e),{},{availableComponents:n.payload})}if(t.type===u.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var r=t,o=r.payload.id,a=r.payload.productAspect;if(!Pv(o,a,e.selectedComponents)&&jv(o,e.availableComponents)){var i=e.availableComponents.filter((function(e){return e.id===o})),c=Object.assign({},i[0]);return c.productAspect=a,kv(kv({},e),{},{selectedComponents:Ev()(e.selectedComponents,c)})}}if(t.type===u.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var s=t,l=s.payload.id,p=s.payload.productAspect;if(Pv(l,p,e.selectedComponents)&&jv(l,e.availableComponents))return kv(kv({},e),{},{selectedComponents:e.selectedComponents.filter((function(e){return e.id!==l||e.productAspect!==p}))})}if(t.type===u.COMPONENT_SELECTION.SET_JIRA_TICKETS){var f=t;return kv(kv({},e),{},{jiraTickets:f.payload})}if(t.type===u.COMPONENT_SELECTION.SET_VIEW_MODE){var m=t;return kv(kv({},e),{},{viewMode:m.payload})}if(t.type===u.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS){var d=t;return kv(kv({},e),{},{selectedComponents:d.payload})}return e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nv,t=arguments.length>1?arguments[1]:void 0;return t.type===u.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?_v(_v({},e),{},{awaitingApprovalList:t.payload}):t.type===u.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?_v(_v({},e),{},{awaitingApprovalTaskList:t.payload}):t.type===u.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?_v(_v({},e),{},{mySubmissionList:t.payload}):t.type===u.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?_v(_v({},e),{},{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uv,t=arguments.length>1?arguments[1]:void 0;if(t.type===u.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS)return Dv(Dv({},e),{},{securityRiskAssessmentData:t.payload});if(t.type===u.SRA.LOAD_IMPACT_THRESHOLD)return Dv(Dv({},e),{},{impactThresholdData:t.payload});if(t.type===u.SRA.UPDATE_CVA_CONTROL_STATUS){var n=t.payload.selectedControls,r=t.payload.sraData,o=e.securityRiskAssessmentData.sraData,a=Object(P.cloneDeep)(e.securityRiskAssessmentData);return r.map((function(e,t){var n=o.filter((function(t){return t.riskId===e.riskId})).pop(),a=0,i=0;n&&(a=e.riskDetail.currentLikelihood.score-n.riskDetail.currentLikelihood.score,i=e.riskDetail.currentImpact.score-n.riskDetail.currentImpact.score),e.differenceBetweenLikelihoodScore=parseFloat(a.toFixed(2)),e.differenceBetweenImapctScore=parseFloat(i.toFixed(2)),r[t]=e})),a.selectedControls=n,a.sraData=r,Dv(Dv({},e),{},{securityRiskAssessmentData:a})}return e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv,t=arguments.length>1?arguments[1]:void 0;if(t.type===u.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),Bv(Bv({},e),{},{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===u.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.evalutionRating,i=t.payload.productAspect,c=t.payload.controlID,s=t.payload.componentID,l=t.payload.implementationEvidenceUserInput,p=Object(P.cloneDeep)(e.cvaSelectedComponents),f=[];if((f=""!==i?p.filter((function(e){return e.id==s&&e.productAspect==i})):p.filter((function(e){return e.id==s}))).length>0){var m=f[0].controls.filter((function(e){return e.id==c}));if(m.length>0)return m[0].selectedOption=o,m[0].evalutionRating=a,m[0].implementationEvidenceUserInput=l,Bv(Bv({},e),{},{cvaSelectedComponents:p})}}if(t.type===u.CVA.RE_SYNC_WITH_JIRA_SUCCESS){var d=t.payload;return Bv(Bv({},e),{},{cvaSelectedComponents:d})}if(t.type===u.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA){var y=t.payload;return Bv(Bv({},e),{},{controlValidationAuditData:y,cvaSelectedComponents:[]})}return e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(n);if(!r)return e;var o=Vv(r,3),a=(o[0],o[1]),i=o[2];return qv(qv({},e),{},Hv({},a,"REQUEST"===i))},memberState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.USER.LOAD_MEMBER:return t.payload;default:return e}},paginationState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.PAGINATION.FETCH_NEXT_PAGE:case u.PAGINATION.FETCH_PREV_PAGE:case u.PAGINATION.FETCH_FIRST_PAGE:case u.PAGINATION.FETCH_LAST_PAGE:case u.PAGINATION.SET_SELECTED_ROWS:return Gv(Gv({},e),{},{pagination:t.payload});case u.PAGINATION.RESET_PAGINATION:return Gv(Gv({},e),{},{pagination:zv.pagination});default:return e}}}),Xv=n(625),Zv=[$h.a];var eg=Object(zh.createStore)($v,Object(Xv.composeWithDevTools)(zh.applyMiddleware.apply(void 0,Zv)));function tg(e){return(tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ng(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function og(e,t){return(og=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ag(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cg(e);if(t){var o=cg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ig(this,n)}}function ig(e,t){if(t&&("object"===tg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cg(e){return(cg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sg(Object(n),!0).forEach((function(t){lg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&og(e,t)}(i,e);var t,n,r,a=ag(i);function i(){return ng(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,ug({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=ug({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement($t,{pageTitle:n.taskName,showLogoutButton:!1,logopath:t.logoPath,productName:n.questionnaireSubmissionProductName}),o.a.createElement(cl,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),o.a.createElement(On,{footerCopyrightText:t.footerCopyrightText})):null}}])&&rg(t.prototype,n),r&&rg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),fg=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=ug({},t),r=n.uuid,o=n.secureToken;e(Fu({uuid:r,secureToken:o})),e(Ln())},dispatchSaveAnsweredQuestionAction:function(n){var r=ug({},t).secureToken;e(Qu({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=ug({},t).secureToken;e(Vu({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=ug({},t).secureToken;e(Ju({secureToken:n}))}}}))(pg);function mg(e){return(mg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bg(e,t){return(bg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gg(e);if(t){var o=gg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vg(this,n)}}function vg(e,t){if(t&&("object"===mg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gg(e){return(gg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Og=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bg(e,t)}(i,e);var t,n,r,a=hg(i);function i(){return dg(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r=Object(Nh.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(fg,{uuid:t.params.uuid,secureToken:r.token||""}))})))))}}])&&yg(t.prototype,n),r&&yg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);window.addEventListener("load",(function(){Ba.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(ne.a,null,o.a.createElement(ne.b,null,o.a.createElement(c.a,{store:eg},o.a.createElement(Wh,null)))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(ne.a,null,o.a.createElement(ne.b,null,o.a.createElement(c.a,{store:eg},o.a.createElement(Og,null)))),t)}))},112:function(e,t,n){e.exports=n.p+"../img/7f858504e1409f70135d863bcb581914.svg"},121:function(e,t,n){e.exports=n.p+"../img/e5ade74409af1721ad1dfcadb7f04aee.svg"},122:function(e,t,n){e.exports=n.p+"../img/9f61063964aa72748e2ad460ce525fdf.svg"},137:function(e,t,n){e.exports=n.p+"../img/de677722d74728fea0aa7cb12a510519.svg"},158:function(e,t,n){e.exports=n.p+"../img/253fcb80900dd1752b22f7607d2c75bb.svg"},163:function(e,t,n){e.exports=n.p+"../img/dab319c4a5240b45e9eacf3657dabef9.svg"},167:function(e,t,n){e.exports=n.p+"../img/49c23560990f01bdb9dbb0aca57ebc16.svg"},168:function(e,t,n){e.exports=n.p+"../img/00e771ee64f774bb995c8301a0276310.svg"},198:function(e,t,n){e.exports=n.p+"../img/9480e88b542db6f375b12f4016ad3cf1.svg"},200:function(e,t,n){e.exports=n.p+"../img/e5dfac45674afc1ceaa06543fe8459f8.svg"},247:function(e,t,n){e.exports=n.p+"../img/9198e472a6c8367f8732e615d77f5cba.svg"},248:function(e,t,n){e.exports=n.p+"../img/0c865019e25308a0cb171f68cadd01bc.svg"},249:function(e,t,n){e.exports=n.p+"../img/c67b16dbdf2cbda4870d66a28b326761.svg"},250:function(e,t,n){e.exports=n.p+"../img/b12b0e8b32fffee92478e00d635ffd41.svg"},251:function(e,t,n){e.exports=n.p+"../img/99de1aaa8b5b87899363a95004d73fd3.svg"},252:function(e,t,n){e.exports=n.p+"../img/8c940e4f505b38895423737310f1fb6c.svg"},316:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},326:function(e,t,n){e.exports=n.p+"../img/e3ed73cb5c5234ef0280a6979f26b661.svg"},328:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},335:function(e,t,n){e.exports=n.p+"../img/80b11e3269520032c200106f4eb3a353.svg"},573:function(e,t){},580:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},581:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},582:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},583:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},586:function(e,t,n){e.exports=n.p+"../img/36c9b6221f568e708200d032ead0f301.svg"},587:function(e,t,n){e.exports=n.p+"../img/6386407ae0c864b8da00d694e23cb0ad.svg"},588:function(e,t,n){e.exports=n.p+"../img/8dc2848aaafdb21cb9daf60de7dc36a2.svg"},589:function(e,t,n){e.exports=n.p+"../img/5246666d8d0629f054357d2460acddcd.svg"},593:function(e,t,n){e.exports=n.p+"../img/2ab29f65ba5b5e9a5fa1053458f43971.svg"},594:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},595:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},596:function(e,t,n){e.exports=n.p+"../img/3df87d9d6079d0db730fc93830fedbdd.jpg"},602:function(e,t,n){e.exports=n.p+"../img/1f41b999d8c492059354357358576c11.svg"},603:function(e,t,n){e.exports=n.p+"../img/5026d4f7013eb6750fe473b8b1f857fc.svg"},604:function(e,t,n){e.exports=n.p+"../img/b4059ba2a80c6df051a8c5e3a0db180b.svg"},607:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},608:function(e,t,n){e.exports=n.p+"../img/1a64300e65fb7c88203c303f0c9a1a54.svg"},609:function(e,t,n){e.exports=n.p+"../img/b49e6ec0cb091b6e52f39a9c84e6fcc6.svg"},610:function(e,t,n){e.exports=n.p+"../img/39defb22ab1da0d7785089dbadf296ff.svg"},611:function(e,t,n){e.exports=n.p+"../img/ebb1e0ce7e896778ca7a9ecf7b20d614.svg"},622:function(e,t,n){e.exports=n.p+"../img/3dec89a0f08063cee2e15b1ddc5d2552.svg"},635:function(e,t,n){n(343),e.exports=n(1107)},980:function(e,t,n){var r={"./af":422,"./af.js":422,"./ar":423,"./ar-dz":424,"./ar-dz.js":424,"./ar-kw":425,"./ar-kw.js":425,"./ar-ly":426,"./ar-ly.js":426,"./ar-ma":427,"./ar-ma.js":427,"./ar-sa":428,"./ar-sa.js":428,"./ar-tn":429,"./ar-tn.js":429,"./ar.js":423,"./az":430,"./az.js":430,"./be":431,"./be.js":431,"./bg":432,"./bg.js":432,"./bm":433,"./bm.js":433,"./bn":434,"./bn-bd":435,"./bn-bd.js":435,"./bn.js":434,"./bo":436,"./bo.js":436,"./br":437,"./br.js":437,"./bs":438,"./bs.js":438,"./ca":439,"./ca.js":439,"./cs":440,"./cs.js":440,"./cv":441,"./cv.js":441,"./cy":442,"./cy.js":442,"./da":443,"./da.js":443,"./de":444,"./de-at":445,"./de-at.js":445,"./de-ch":446,"./de-ch.js":446,"./de.js":444,"./dv":447,"./dv.js":447,"./el":448,"./el.js":448,"./en-SG":449,"./en-SG.js":449,"./en-au":450,"./en-au.js":450,"./en-ca":451,"./en-ca.js":451,"./en-gb":452,"./en-gb.js":452,"./en-ie":453,"./en-ie.js":453,"./en-il":454,"./en-il.js":454,"./en-in":455,"./en-in.js":455,"./en-nz":456,"./en-nz.js":456,"./en-sg":457,"./en-sg.js":457,"./eo":458,"./eo.js":458,"./es":459,"./es-do":460,"./es-do.js":460,"./es-mx":461,"./es-mx.js":461,"./es-us":462,"./es-us.js":462,"./es.js":459,"./et":463,"./et.js":463,"./eu":464,"./eu.js":464,"./fa":465,"./fa.js":465,"./fi":466,"./fi.js":466,"./fil":467,"./fil.js":467,"./fo":468,"./fo.js":468,"./fr":469,"./fr-ca":470,"./fr-ca.js":470,"./fr-ch":471,"./fr-ch.js":471,"./fr.js":469,"./fy":472,"./fy.js":472,"./ga":473,"./ga.js":473,"./gd":474,"./gd.js":474,"./gl":475,"./gl.js":475,"./gom-deva":476,"./gom-deva.js":476,"./gom-latn":477,"./gom-latn.js":477,"./gu":478,"./gu.js":478,"./he":479,"./he.js":479,"./hi":480,"./hi.js":480,"./hr":481,"./hr.js":481,"./hu":482,"./hu.js":482,"./hy-am":483,"./hy-am.js":483,"./id":484,"./id.js":484,"./is":485,"./is.js":485,"./it":486,"./it-ch":487,"./it-ch.js":487,"./it.js":486,"./ja":488,"./ja.js":488,"./jv":489,"./jv.js":489,"./ka":490,"./ka.js":490,"./kk":491,"./kk.js":491,"./km":492,"./km.js":492,"./kn":493,"./kn.js":493,"./ko":494,"./ko.js":494,"./ku":495,"./ku.js":495,"./ky":496,"./ky.js":496,"./lb":497,"./lb.js":497,"./lo":498,"./lo.js":498,"./lt":499,"./lt.js":499,"./lv":500,"./lv.js":500,"./me":501,"./me.js":501,"./mi":502,"./mi.js":502,"./mk":503,"./mk.js":503,"./ml":504,"./ml.js":504,"./mn":505,"./mn.js":505,"./mr":506,"./mr.js":506,"./ms":507,"./ms-my":508,"./ms-my.js":508,"./ms.js":507,"./mt":509,"./mt.js":509,"./my":510,"./my.js":510,"./nb":511,"./nb.js":511,"./ne":512,"./ne.js":512,"./nl":513,"./nl-be":514,"./nl-be.js":514,"./nl.js":513,"./nn":515,"./nn.js":515,"./oc-lnc":516,"./oc-lnc.js":516,"./pa-in":517,"./pa-in.js":517,"./pl":518,"./pl.js":518,"./pt":519,"./pt-br":520,"./pt-br.js":520,"./pt.js":519,"./ro":521,"./ro.js":521,"./ru":522,"./ru.js":522,"./sd":523,"./sd.js":523,"./se":524,"./se.js":524,"./si":525,"./si.js":525,"./sk":526,"./sk.js":526,"./sl":527,"./sl.js":527,"./sq":528,"./sq.js":528,"./sr":529,"./sr-cyrl":530,"./sr-cyrl.js":530,"./sr.js":529,"./ss":531,"./ss.js":531,"./sv":532,"./sv.js":532,"./sw":533,"./sw.js":533,"./ta":534,"./ta.js":534,"./te":535,"./te.js":535,"./tet":536,"./tet.js":536,"./tg":537,"./tg.js":537,"./th":538,"./th.js":538,"./tk":539,"./tk.js":539,"./tl-ph":540,"./tl-ph.js":540,"./tlh":541,"./tlh.js":541,"./tr":542,"./tr.js":542,"./tzl":543,"./tzl.js":543,"./tzm":544,"./tzm-latn":545,"./tzm-latn.js":545,"./tzm.js":544,"./ug-cn":546,"./ug-cn.js":546,"./uk":547,"./uk.js":547,"./ur":548,"./ur.js":548,"./uz":549,"./uz-latn":550,"./uz-latn.js":550,"./uz.js":549,"./vi":551,"./vi.js":551,"./x-pseudo":552,"./x-pseudo.js":552,"./yo":553,"./yo.js":553,"./zh-cn":554,"./zh-cn.js":554,"./zh-hk":555,"./zh-hk.js":555,"./zh-mo":556,"./zh-mo.js":556,"./zh-tw":557,"./zh-tw.js":557};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=980},991:function(e,t){}});
//# sourceMappingURL=main.bundle.js.map