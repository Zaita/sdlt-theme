!function(e){function t(t){for(var r,a,o=t[0],i=t[1],s=t[2],c=0,u=[];c<o.length;c++)a=o[c],I[a]&&u.push(I[a][0]),I[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(x&&x(t);u.length;)u.shift()();return N.push.apply(N,s||[]),n()}function n(){for(var e,t=0;t<N.length;t++){for(var n=N[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==I[o]&&(r=!1)}r&&(N.splice(t--,1),e=P(P.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!k[e]||!E[e])return;for(var n in E[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--v&&0===g&&w()}(e,t),r&&r(e,t)};var a,o=!0,i="3c3614bf35a8ac060ce3",s=1e4,c={},u=[],l=[];function p(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:a!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:A,apply:C,status:function(e){if(!e)return m;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[e]};return a=void 0,t}var f=[],m="idle";function d(e){m=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var b,y,h,v=0,g=0,S={},E={},k={};function O(e){return+e+""===e?+e:e}function A(e){if("idle"!==m)throw new Error("check() is only allowed in idle status");return o=e,d("check"),(t=s,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=P.p+"hot/hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return d("idle"),null;E={},S={},k=e.c,h=e.h,d("prepare");var t=new Promise(function(e,t){b={resolve:e,reject:t}});for(var n in y={},I)T(n);return"prepare"===m&&0===g&&0===v&&w(),t});var t}function T(e){var t;k[e]?(E[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=P.p+"hot/hot-update.js",document.head.appendChild(t)):S[e]=!0}function w(){d("ready");var e=b;if(b=null,e)if(o)Promise.resolve().then(function(){return C(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(O(n));e.resolve(t)}}function C(t){if("ready"!==m)throw new Error("apply() is only allowed in ready status");var n,r,a,o,s;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var a=r.pop(),i=a.id,s=a.chain;if((o=_[i])&&!o.hot._selfAccepted){if(o.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(o.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var c=0;c<o.parents.length;c++){var u=o.parents[c],l=_[u];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(l.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),p(n[u],[i])):(delete n[u],t.push(u),r.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},b=[],v={},g=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var S in y)if(Object.prototype.hasOwnProperty.call(y,S)){var E;s=O(S);var A=!1,T=!1,w=!1,C="";switch((E=y[S]?l(s):{type:"disposed",moduleId:S}).chain&&(C="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(A=new Error("Aborted because of self decline: "+E.moduleId+C));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+C));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(A=new Error("Aborted because "+s+" is not accepted"+C));break;case"accepted":t.onAccepted&&t.onAccepted(E),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),w=!0;break;default:throw new Error("Unexception type "+E.type)}if(A)return d("abort"),Promise.reject(A);if(T)for(s in v[s]=y[s],p(b,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,s)&&(f[s]||(f[s]=[]),p(f[s],E.outdatedDependencies[s]));w&&(p(b,[E.moduleId]),v[s]=g)}var N,j=[];for(r=0;r<b.length;r++)s=b[r],_[s]&&_[s].hot._selfAccepted&&j.push({module:s,errorHandler:_[s].hot._selfAccepted});d("dispose"),Object.keys(k).forEach(function(e){!1===k[e]&&function(e){delete I[e]}(e)});for(var R,D,x=b.slice();x.length>0;)if(s=x.pop(),o=_[s]){var U={},L=o.hot._disposeHandlers;for(a=0;a<L.length;a++)(n=L[a])(U);for(c[s]=U,o.hot.active=!1,delete _[s],delete f[s],a=0;a<o.children.length;a++){var M=_[o.children[a]];M&&((N=M.parents.indexOf(s))>=0&&M.parents.splice(N,1))}}for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(o=_[s]))for(D=f[s],a=0;a<D.length;a++)R=D[a],(N=o.children.indexOf(R))>=0&&o.children.splice(N,1);for(s in d("apply"),i=h,v)Object.prototype.hasOwnProperty.call(v,s)&&(e[s]=v[s]);var F=null;for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(o=_[s])){D=f[s];var B=[];for(r=0;r<D.length;r++)if(R=D[r],n=o.hot._acceptedDependencies[R]){if(-1!==B.indexOf(n))continue;B.push(n)}for(r=0;r<B.length;r++){n=B[r];try{n(D)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:D[r],error:e}),t.ignoreErrored||F||(F=e)}}}for(r=0;r<j.length;r++){var Q=j[r];s=Q.module,u=[s];try{P(s)}catch(e){if("function"==typeof Q.errorHandler)try{Q.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:n,originalError:e}),t.ignoreErrored||F||(F=n),F||(F=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||F||(F=e)}}return F?(d("fail"),Promise.reject(F)):(d("idle"),new Promise(function(e){e(b)}))}var _={},I={2:0},N=[];function P(t){if(_[t])return _[t].exports;var n=_[t]={i:t,l:!1,exports:{},hot:p(t),parents:(l=u,u=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=_[e];if(!t)return P;var n=function(n){return t.hot.active?(_[n]?-1===_[n].parents.indexOf(e)&&_[n].parents.push(e):(u=[e],a=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),P(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return P[e]},set:function(t){P[e]=t}}};for(var o in P)Object.prototype.hasOwnProperty.call(P,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,r(o));return n.e=function(e){return"ready"===m&&d("prepare"),g++,P.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===m&&(S[e]||T(e),0===g&&0===v&&w())}},n.t=function(e,t){return 1&t&&(e=n(e)),P.t(e,-2&t)},n}(t)),n.l=!0,n.exports}P.m=e,P.c=_,P.d=function(e,t,n){P.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},P.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},P.t=function(e,t){if(1&t&&(e=P(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(P.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)P.d(n,r,function(t){return e[t]}.bind(null,r));return n},P.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return P.d(t,"a",t),t},P.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},P.p="/resources/themes/sdlt/dist/img/",P.h=function(){return i};var j=window.webpackJsonp=window.webpackJsonp||[],R=j.push.bind(j);j.push=t,j=j.slice();for(var D=0;D<j.length;D++)t(j[D]);var x=R;N.push([495,0]),n()}({117:function(e,t,n){e.exports=n.p+"../img/dab319c4a5240b45e9eacf3657dabef9.svg"},123:function(e,t,n){e.exports=n.p+"../img/49c23560990f01bdb9dbb0aca57ebc16.svg"},124:function(e,t,n){e.exports=n.p+"../img/00e771ee64f774bb995c8301a0276310.svg"},133:function(e,t,n){e.exports=n.p+"../img/9480e88b542db6f375b12f4016ad3cf1.svg"},135:function(e,t,n){e.exports=n.p+"../img/e5dfac45674afc1ceaa06543fe8459f8.svg"},168:function(e,t,n){e.exports=n.p+"../img/99de1aaa8b5b87899363a95004d73fd3.svg"},169:function(e,t,n){e.exports=n.p+"../img/8c940e4f505b38895423737310f1fb6c.svg"},170:function(e,t,n){e.exports=n.p+"../img/253fcb80900dd1752b22f7607d2c75bb.svg"},219:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},222:function(e,t,n){e.exports=n.p+"../img/e3ed73cb5c5234ef0280a6979f26b661.svg"},225:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},229:function(e,t,n){e.exports=n.p+"../img/de677722d74728fea0aa7cb12a510519.svg"},232:function(e,t,n){e.exports=n.p+"../img/80b11e3269520032c200106f4eb3a353.svg"},426:function(e,t){},434:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},435:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},436:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},437:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},439:function(e,t,n){e.exports=n.p+"../img/36c9b6221f568e708200d032ead0f301.svg"},440:function(e,t,n){e.exports=n.p+"../img/6386407ae0c864b8da00d694e23cb0ad.svg"},441:function(e,t,n){e.exports=n.p+"../img/8dc2848aaafdb21cb9daf60de7dc36a2.svg"},442:function(e,t,n){e.exports=n.p+"../img/5246666d8d0629f054357d2460acddcd.svg"},449:function(e,t,n){e.exports=n.p+"../img/2ab29f65ba5b5e9a5fa1053458f43971.svg"},450:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},451:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},452:function(e,t,n){e.exports=n.p+"../img/3df87d9d6079d0db730fc93830fedbdd.jpg"},456:function(e,t,n){e.exports=n.p+"../img/9198e472a6c8367f8732e615d77f5cba.svg"},457:function(e,t,n){e.exports=n.p+"../img/0c865019e25308a0cb171f68cadd01bc.svg"},458:function(e,t,n){e.exports=n.p+"../img/c67b16dbdf2cbda4870d66a28b326761.svg"},459:function(e,t,n){e.exports=n.p+"../img/b12b0e8b32fffee92478e00d635ffd41.svg"},462:function(e,t,n){e.exports=n.p+"../img/1f41b999d8c492059354357358576c11.svg"},463:function(e,t,n){e.exports=n.p+"../img/5026d4f7013eb6750fe473b8b1f857fc.svg"},464:function(e,t,n){e.exports=n.p+"../img/b4059ba2a80c6df051a8c5e3a0db180b.svg"},467:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},468:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},469:function(e,t,n){e.exports=n.p+"../img/1a64300e65fb7c88203c303f0c9a1a54.svg"},470:function(e,t,n){e.exports=n.p+"../img/b49e6ec0cb091b6e52f39a9c84e6fcc6.svg"},471:function(e,t,n){e.exports=n.p+"../img/39defb22ab1da0d7785089dbadf296ff.svg"},495:function(e,t,n){n(238),e.exports=n(808)},722:function(e,t,n){var r={"./af":291,"./af.js":291,"./ar":292,"./ar-dz":293,"./ar-dz.js":293,"./ar-kw":294,"./ar-kw.js":294,"./ar-ly":295,"./ar-ly.js":295,"./ar-ma":296,"./ar-ma.js":296,"./ar-sa":297,"./ar-sa.js":297,"./ar-tn":298,"./ar-tn.js":298,"./ar.js":292,"./az":299,"./az.js":299,"./be":300,"./be.js":300,"./bg":301,"./bg.js":301,"./bm":302,"./bm.js":302,"./bn":303,"./bn.js":303,"./bo":304,"./bo.js":304,"./br":305,"./br.js":305,"./bs":306,"./bs.js":306,"./ca":307,"./ca.js":307,"./cs":308,"./cs.js":308,"./cv":309,"./cv.js":309,"./cy":310,"./cy.js":310,"./da":311,"./da.js":311,"./de":312,"./de-at":313,"./de-at.js":313,"./de-ch":314,"./de-ch.js":314,"./de.js":312,"./dv":315,"./dv.js":315,"./el":316,"./el.js":316,"./en-SG":317,"./en-SG.js":317,"./en-au":318,"./en-au.js":318,"./en-ca":319,"./en-ca.js":319,"./en-gb":320,"./en-gb.js":320,"./en-ie":321,"./en-ie.js":321,"./en-il":322,"./en-il.js":322,"./en-nz":323,"./en-nz.js":323,"./eo":324,"./eo.js":324,"./es":325,"./es-do":326,"./es-do.js":326,"./es-us":327,"./es-us.js":327,"./es.js":325,"./et":328,"./et.js":328,"./eu":329,"./eu.js":329,"./fa":330,"./fa.js":330,"./fi":331,"./fi.js":331,"./fo":332,"./fo.js":332,"./fr":333,"./fr-ca":334,"./fr-ca.js":334,"./fr-ch":335,"./fr-ch.js":335,"./fr.js":333,"./fy":336,"./fy.js":336,"./ga":337,"./ga.js":337,"./gd":338,"./gd.js":338,"./gl":339,"./gl.js":339,"./gom-latn":340,"./gom-latn.js":340,"./gu":341,"./gu.js":341,"./he":342,"./he.js":342,"./hi":343,"./hi.js":343,"./hr":344,"./hr.js":344,"./hu":345,"./hu.js":345,"./hy-am":346,"./hy-am.js":346,"./id":347,"./id.js":347,"./is":348,"./is.js":348,"./it":349,"./it-ch":350,"./it-ch.js":350,"./it.js":349,"./ja":351,"./ja.js":351,"./jv":352,"./jv.js":352,"./ka":353,"./ka.js":353,"./kk":354,"./kk.js":354,"./km":355,"./km.js":355,"./kn":356,"./kn.js":356,"./ko":357,"./ko.js":357,"./ku":358,"./ku.js":358,"./ky":359,"./ky.js":359,"./lb":360,"./lb.js":360,"./lo":361,"./lo.js":361,"./lt":362,"./lt.js":362,"./lv":363,"./lv.js":363,"./me":364,"./me.js":364,"./mi":365,"./mi.js":365,"./mk":366,"./mk.js":366,"./ml":367,"./ml.js":367,"./mn":368,"./mn.js":368,"./mr":369,"./mr.js":369,"./ms":370,"./ms-my":371,"./ms-my.js":371,"./ms.js":370,"./mt":372,"./mt.js":372,"./my":373,"./my.js":373,"./nb":374,"./nb.js":374,"./ne":375,"./ne.js":375,"./nl":376,"./nl-be":377,"./nl-be.js":377,"./nl.js":376,"./nn":378,"./nn.js":378,"./pa-in":379,"./pa-in.js":379,"./pl":380,"./pl.js":380,"./pt":381,"./pt-br":382,"./pt-br.js":382,"./pt.js":381,"./ro":383,"./ro.js":383,"./ru":384,"./ru.js":384,"./sd":385,"./sd.js":385,"./se":386,"./se.js":386,"./si":387,"./si.js":387,"./sk":388,"./sk.js":388,"./sl":389,"./sl.js":389,"./sq":390,"./sq.js":390,"./sr":391,"./sr-cyrl":392,"./sr-cyrl.js":392,"./sr.js":391,"./ss":393,"./ss.js":393,"./sv":394,"./sv.js":394,"./sw":395,"./sw.js":395,"./ta":396,"./ta.js":396,"./te":397,"./te.js":397,"./tet":398,"./tet.js":398,"./tg":399,"./tg.js":399,"./th":400,"./th.js":400,"./tl-ph":401,"./tl-ph.js":401,"./tlh":402,"./tlh.js":402,"./tr":403,"./tr.js":403,"./tzl":404,"./tzl.js":404,"./tzm":405,"./tzm-latn":406,"./tzm-latn.js":406,"./tzm.js":405,"./ug-cn":407,"./ug-cn.js":407,"./uk":408,"./uk.js":408,"./ur":409,"./ur.js":409,"./uz":410,"./uz-latn":411,"./uz-latn.js":411,"./uz.js":410,"./vi":412,"./vi.js":412,"./x-pseudo":413,"./x-pseudo.js":413,"./yo":414,"./yo.js":414,"./zh-cn":415,"./zh-cn.js":415,"./zh-hk":416,"./zh-hk.js":416,"./zh-tw":417,"./zh-tw.js":417};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=722},73:function(e,t,n){e.exports=n.p+"../img/0440ba3e3faedab93471760cf52fdf4b.svg"},732:function(e,t){},756:function(e,t){},76:function(e,t,n){e.exports=n.p+"../img/7f858504e1409f70135d863bcb581914.svg"},808:function(e,t,n){"use strict";n.r(t);n(496),n(498),n(499),n(502),n(503),n(504),n(184),n(507),n(508),n(510),n(511),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(544),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(569),n(570),n(571),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(257),n(585),n(587),n(588),n(589),n(590),n(591),n(592),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633);var r=n(0),a=n.n(r),o=n(11),i=n.n(o),s=n(13),c=n(863),u=n(854),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE",ADD_COLLABORATOR:"QUESTIONNAIRE/ADD_COLLABORATOR"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION:"TASK/LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE",ADD_TASK_RECOMMENDATION:"TASK/ADD_RECOMMENDATION"},PAGINATION:{FETCH_NEXT_PAGE:"PAGINATION/FETCH_NEXT_PAGE",FETCH_PREV_PAGE:"PAGINATION/FETCH_PREV_PAGE",FETCH_FIRST_PAGE:"PAGINATION/FETCH_FIRST_PAGE",FETCH_LAST_PAGE:"PAGINATION/FETCH_LAST_PAGE",SET_SELECTED_ROWS:"PAGINATION/SET_SELECTED_ROWS",RESET_PAGINATION:"PAGINATION/RESET"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER",LOAD_MEMBER:"USER/LOAD_MEMBER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},p=n(60),f=n(225),m=n.n(f),d=n(434),b=n.n(d),y=n(435),h=n.n(y),v=n(436),g=n.n(v),S=n(437),E=n.n(S),k=n(4),O=n.n(k),A=n(6),T=n.n(A),w=n(438),C=n.n(w),I=n(161),N=n.n(I),P=n(2),j=n.n(P);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a="/task/submission/".concat(e);if(t&&r?a="/task/submission/".concat(e,"?token=").concat(t,"&component=").concat(r):t?a="/task/submission/".concat(e,"?token=").concat(t):r&&(a="/task/submission/".concat(e,"?component=").concat(r)),"urlString"==n)return a;window.location.href="/#/".concat(a)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a="/security-risk-assessment/submission/".concat(e);if(t&&r?a="/security-risk-assessment/submission/".concat(e,"?token=").concat(t,"&component=").concat(r):t?a="/security-risk-assessment/submission/".concat(e,"?token=").concat(t):r&&(a="/security-risk-assessment/submission/".concat(e,"?component=").concat(r)),"urlString"==n)return a;window.location.href="/#/".concat(a)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a="/control-validation-audit/submission/".concat(e);if(t&&r?a="/control-validation-audit/submission/".concat(e,"?token=").concat(t,"&component=").concat(r):t?a="/control-validation-audit/submission/".concat(e,"?token=").concat(t):r&&(a="/control-validation-audit/submission/".concat(e,"?component=").concat(r)),"urlString"==n)return a;window.location.href="/#/".concat(a)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}},{key:"redirectToApprovals",value:function(){window.location.href="#/AwaitingApprovals"}},{key:"redirectToSubmissions",value:function(){window.location.href="#/MySubmissions"}}],(n=null)&&R(t.prototype,n),r&&R(t,r),e}();function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"request",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=x({},t),r=n.query,a=n.variables,o=n.csrfToken,i={},o&&(i["X-CSRF-TOKEN"]=o),s={query:C()(r),variables:a},e.next=6,N.a.request({url:"/graphql",method:"post",data:s,headers:i});case 6:if(c=e.sent,u=c.data,!(l=j.a.get(u,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,s,"next",e)}function s(e){L(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&M(t.prototype,n),r&&M(t,r),e}(),B=new Error("There is an error when fetching data..."),Q=new Error("There is an error when parsing data...");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){q(e,t,n[t])})}return e}({},e),n=t.schemaJSON,r=t.answersJSON,a=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw Q;return t}(n),o=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&j.a.keys(t).forEach(function(e){n[j.a.toString(e)]=t[e]}),n}(r),i=function(e){var t="";return j.a.keys(e).forEach(function(n){var r=e[n];!t&&Boolean(j.a.get(r,"isCurrent",!1))&&(t=n)}),t}(o);return a.map(function(e,t){var n=j.a.toString(j.a.get(e,"ID","")),r=Boolean(j.a.get(o,"".concat(n,".hasAnswer"),!1)),a=Boolean(j.a.get(o,"".concat(n,".isApplicable"),!0)),s=!1;s=i?i===n:0===t;var c=null,u=null,l=r?j.a.get(o,"".concat(n,".inputs"),[]):[],p=r?j.a.get(o,"".concat(n,".actions"),[]):[],f=j.a.get(e,"AnswerInputFields",[]),m=j.a.get(e,"AnswerActionFields",[]);f&&Array.isArray(f)&&f.length>0&&(c=f.map(function(e){var t=j.a.toString(j.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox");["text","email","textarea","rich text editor","service register","information classification","dropdown","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=j.a.toString(j.a.get(e,"ID","")),r={id:n,label:j.a.toString(j.a.get(e,"Label","")),type:t,required:Boolean(j.a.toInteger(j.a.get(e,"Required",!1))),minLength:Number.parseInt(j.a.toString(j.a.get(e,"MinLength",0))),maxLength:Number.parseInt(j.a.toString(j.a.get(e,"MaxLength",0))),placeholder:j.a.toString(j.a.get(e,"PlaceHolder","")),options:j.a.has(e,"MultiChoiceAnswer")?JSON.parse(j.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:j.a.has(e,"MultiChoiceSingleAnswerDefault")?j.a.toString(j.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:j.a.has(e,"MultiChoiceMultipleAnswerDefault")?j.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var a=j.a.head(l.filter(function(e){return e.id===n}));if(a){var o=j.a.toString(j.a.get(a,"data",null));o&&(r.data=o)}}return r})),m&&Array.isArray(m)&&m.length>0&&(u=m.map(function(e){var t=j.a.toString(j.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=j.a.toString(j.a.get(e,"ID","")),r={id:n,label:j.a.toString(j.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=j.a.toString(j.a.get(e,"Message",""))),"goto"===t&&(r.goto=j.a.toString(j.a.get(e,"GotoID",""))),"finish"===t&&(r.result=j.a.toString(j.a.get(e,"Result","")));var a=j.a.toString(j.a.get(e,"TaskID",""));if(r.taskID=a,p&&Array.isArray(p)&&p.length>0){var o=j.a.head(p.filter(function(e){return e.id===n}));if(o){var i=Boolean(j.a.get(o,"isChose",!1));r.isChose=i}}return r}));var d={id:n,title:j.a.toString(j.a.get(e,"Title","")),heading:j.a.toString(j.a.get(e,"QuestionHeading","")),description:j.a.toString(j.a.get(e,"Description","")),type:j.a.toString(j.a.get(e,"AnswerFieldType","")).toLowerCase(),isCurrent:s,hasAnswer:r,isApplicable:a};if(j.a.isEmpty(j.a.get(d,"heading"))){var b=j.a.toString(j.a.get(e,"Question",""));j.a.set(d,"heading",b)}return c&&(d.inputs=c),u&&(d.actions=u),d})}}],(n=null)&&H(t.prototype,n),r&&H(t,r),e}(),J=n(72),K=n.n(J);function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=T()(O()(e,"ID","")),n=T()(O()(e,"Name","")),r=T()(O()(e,"ComponentTarget","")),a=T()(O()(e,"TaskType",""));switch(a){case"questionnaire":case"selection":break;default:a="questionnaire"}var o=[],i=T()(O()(e,"QuestionsDataJSON",""));return i&&(o=V.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:a,componentTarget:r,questions:o}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?K()(t).map(function(e){return{name:T()(O()(e,"Name")),value:T()(O()(e,"Value")),operator:T()(O()(e,"Operator")),colour:T()(O()(e,"Colour"))}}):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=O()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===O()(e,"Submission.TaskType","")?[]:t?t.map(function(e){return{uuid:T()(O()(e,"UUID")),taskType:T()(O()(e,"TaskType")),status:T()(O()(e,"Status"))}}):[]}},{key:"parseServiceRegister",value:function(e){return e.map(function(e){return{value:T()(O()(e,"ID")),label:T()(O()(e,"ServiceName"))}})}}],(n=null)&&G(t.prototype,n),r&&G(t,r),e}();function W(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchHomeData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw B;case 7:return r=n[0],a=T()(O()(r,"Title","")),o=T()(O()(r,"Subtitle","")),i=O()(r,"Pillars",[]),s=this.parsePillars(i),c=O()(r,"Tasks",[]),u=this.parseTasks(c),e.abrupt("return",{title:a,subtitle:o,pillars:s,tasks:u});case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,s,"next",e)}function s(e){W(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map(function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=b.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=g.a;break;case"risk_questionnaire":t=E.a}return{title:T()(O()(e,"Label","")),disabled:Boolean(O()(e,"Disabled",!0)),questionnaireID:T()(O()(e,"Questionnaire.0.ID","")),icon:t}}):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach(function(e){var n=Y.parseFromJSONObject(e);t.push(n)}),t}}],n&&z(t.prototype,n),r&&z(t,r),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&Z(t.prototype,n),r&&Z(t,r),e}();function ee(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function te(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,s,"next",e)}function s(e){ee(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}var ne=n(842);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,se(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(ae(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),a.a.createElement(ne.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},a.a.createElement("div",{className:"icon"},a.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),a.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&oe(n.prototype,o),i&&oe(n,i),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,de(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=["TaskButton"].concat(pe(this.props.classes));return a.a.createElement(ne.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&fe(n.prototype,o),i&&fe(n,i),t}(),he=n(439),ve=n.n(he);function ge(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"getCSRFToken",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=j.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ge(o,r,a,i,s,"next",e)}function s(e){ge(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Se(t.prototype,n),r&&Se(t,r),e}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),we(this,Ce(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ae(e,t,n[t])})}return e}({},this.props).classes;return a.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},a.a.createElement("div",null,a.a.createElement("img",{src:ve.a}),"Log out"))}},{key:"logout",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Oe(o,r,a,i,s,"next",e)}function s(e){Oe(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Te(n.prototype,o),i&&Te(n,i),t}();Ie.defaultProps={classes:[]};var Ne=Ie,Pe=n(440),je=n.n(Pe);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Me(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}({},this.props),n=t.classes,r=t.showApprovalBreadcrumb,o=!1;return("#/AwaitingApprovals"==window.location.hash||r)&&(o=!0),a.a.createElement("button",{className:"HeaderButton ".concat(n.join(" ")).concat(o?"active":""),onClick:function(){e.awaitingApprovals()}},a.a.createElement("div",null,a.a.createElement("img",{src:je.a}),"Approvals"))}},{key:"awaitingApprovals",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){De(o,r,a,i,s,"next",e)}function s(e){De(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ue(n.prototype,o),i&&Ue(n,i),t}();Be.defaultProps={classes:[]};var Qe=Be,qe=n(441),He=n.n(qe);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ye(this,We(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ke(e,t,n[t])})}return e}({},this.props),n=t.classes,r=t.showSubmissionBreadcrumb,o=!1;return("#/MySubmissions"==window.location.hash||r)&&(o=!0),a.a.createElement("button",{className:"HeaderButton ".concat(n.join(" ")).concat(o?"active":""),onClick:function(){e.allSubmission()}},a.a.createElement("div",null,a.a.createElement("img",{src:He.a}),"Submissions"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Je(o,r,a,i,s,"next",e)}function s(e){Je(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ge(n.prototype,o),i&&Ge(n,i),t}();Xe.defaultProps={classes:[]};var Ze=Xe,$e=n(442),et=n.n($e);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,it(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}({},this.props).classes,n=!1;return"#/"==window.location.hash&&(n=!0),a.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")).concat(n?"active":""),onClick:function(){e.homepage()}},a.a.createElement("div",null,a.a.createElement("img",{src:et.a,className:"home-icon"}),"Home"))}},{key:"homepage",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="/";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){nt(o,r,a,i,s,"next",e)}function s(e){nt(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&at(n.prototype,o),i&&at(n,i),t}();ct.defaultProps={classes:[]};var ut=ct,lt=n(843),pt=n(861),ft=n(226),mt=n.n(ft),dt=n(862);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var St=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=ht(this,(e=vt(t)).call.apply(e,[this].concat(o)))).getApprovalsBreadcrumb=function(e){return e?a.a.createElement(lt.a,{onClick:function(){return D.redirectToApprovals()}},"Your approvals"):a.a.createElement(lt.a,{onClick:function(){return D.redirectToSubmissions()}},"Your submissions")},n.getProductNameBreadcrumb=function(e,t){if(!t)return a.a.createElement(lt.a,{onClick:function(){return n.sendBackToQuestionnaireSummaryPage()}},e||"Product")},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,r["Component"]),n=t,(o=[{key:"sendBackToQuestionnaireSummaryPage",value:function(){D.redirectToQuestionnaireSummary(this.props.questionnaireSubmissionUUID)}},{key:"render",value:function(){var e=this.props,t=e.match.path,n=e.productName,r=e.showApprovalBreadcrumb,o=e.isTaskApprover;return a.a.createElement(pt.a,{separator:a.a.createElement(mt.a,{fontSize:"inherit"}),"aria-label":"breadcrumb"},a.a.createElement(lt.a,{onClick:function(){return D.redirectToHome()}},"Home"),"/questionnaire/summary/:hash"==t||"/task/submission/:uuid"==t||"/security-risk-assessment/submission/:uuid"==t||"/control-validation-audit/submission/:uuid"==t||"/component-selection/submission/:uuid"==t?this.getApprovalsBreadcrumb(r):null,"/task/submission/:uuid"==t||"/security-risk-assessment/submission/:uuid"==t||"/control-validation-audit/submission/:uuid"==t||"/component-selection/submission/:uuid"==t?this.getProductNameBreadcrumb(n,o):null,a.a.createElement(pt.a,{separator:a.a.createElement(mt.a,{fontSize:"inherit"}),"aria-label":"breadcrumb"}))}}])&&yt(n.prototype,o),i&&yt(n,i),t}(),Et=Object(dt.a)(St);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _t=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tt(this,wt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ot(e,t,n[t])})}return e}({},this.props),t=e.pageTitle,n=e.logopath,r=e.showLogoutButton,o=e.productName,i=e.isTaskApprover,s=e.questionnaireSubmissionUUID,c=e.showApprovalBreadcrumb,u=e.showSubmissionBreadcrumb,l=e.subHeaderImagePath,p=e.component,f=!1;return"#/"==window.location.hash&&(f=!0),a.a.createElement("header",{className:"Header"},a.a.createElement("div",{className:"main-header"},a.a.createElement("a",{href:"/"},a.a.createElement("img",{src:n,className:"logo"})),a.a.createElement("div",{className:"header-buttons"},a.a.createElement(ut,null),a.a.createElement(Ze,{showSubmissionBreadcrumb:u}),a.a.createElement(Qe,{showApprovalBreadcrumb:c}),r&&a.a.createElement(Ne,null))),f?a.a.createElement("div",{className:"homepage-subheader",style:{backgroundImage:'url("'.concat(l,'")')}}):a.a.createElement("div",{className:"breadcrumbs-subheader"},a.a.createElement(Et,{productName:o,questionnaireSubmissionUUID:s,showApprovalBreadcrumb:c,isTaskApprover:i}),a.a.createElement("h1",null,""!==p?"".concat(t," (").concat(p,")"):t)))}}])&&At(n.prototype,o),i&&At(n,i),t}();_t.defaultProps={pageTitle:"",logopath:"",showLogoutButton:!0,productName:"",isTaskApprover:!1,showApprovalBreadcrumb:!1,showSubmissionBreadcrumb:!1,subHeaderImagePath:"",component:""};var It=_t;function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jt(e,t,n[t])})}return e}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dt(this,xt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=Pt({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,o=e.tasks,i=Pt({},this.props.siteConfig),s=i.logoPath,c=i.homePageSubHeaderImagePath;return a.a.createElement("div",{className:"Home"},a.a.createElement(It,{logopath:s,subHeaderImagePath:c}),a.a.createElement("div",{className:"layout"},a.a.createElement("a",{href:"/"},a.a.createElement("img",{src:s,className:"homepage-layout-logo"})),a.a.createElement("h1",null,t),a.a.createElement("h2",null,n),a.a.createElement("div",{className:"pillars"},a.a.createElement("div",{className:"row"},r.map(function(e,t){return a.a.createElement(ue,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})}))),a.a.createElement("div",{className:"tasks"},o.map(function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),a.a.createElement(ye,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})}))))}}])&&Rt(n.prototype,o),i&&Rt(n,i),t}();function Mt(e){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){return!t||"object"!==Mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qt(this,qt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ft(e,t,n[t])})}return e}({},this.props).footerCopyrightText;return a.a.createElement("footer",{className:"Footer"},a.a.createElement("div",null,e))}}])&&Bt(n.prototype,o),i&&Bt(n,i),t}();Vt.defaultProps={footerCopyrightText:""};var Jt=Vt,Kt=n(219),Gt=n.n(Kt),Yt=n(449),Wt=n.n(Yt),zt=n(450),Xt=n.n(zt),Zt=n(451),$t=n.n(Zt),en=n(452),tn=n.n(en);function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:T()(O()(t,"Title")||"NZTA SDLT"),footerCopyrightText:T()(O()(t,"FooterCopyrightText","")||n),logoPath:T()(O()(t,"LogoPath","")||Wt.a),homePageBackgroundImagePath:T()(O()(t,"HomePageBackgroundImagePath","")||Gt.a),pdfHeaderImageLink:T()(O()(t,"PdfHeaderImageLink","")||Xt.a),pdfFooterImageLink:T()(O()(t,"PdfFooterImageLink","")||$t.a),securityTeamEmail:T()(O()(t,"SecurityTeamEmail")||""),homePageSubHeaderImagePath:T()(O()(t,"HomePageSubHeaderImagePath","")||tn.a)}}}],(n=null)&&nn(t.prototype,n),r&&nn(t,r),e}();function an(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSiteConfig",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    HomePageSubHeaderImagePath\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    HomePageSubHeaderImagePath\n  }\n}"});case 3:return t=e.sent,n=j.a.get(t,"data.readSiteConfig.0",null),r=rn.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){an(o,r,a,i,s,"next",e)}function s(e){an(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&on(t.prototype,n),r&&on(t,r),e}();function cn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function un(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sn.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){cn(o,r,a,i,s,"next",e)}function s(e){cn(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mn(this,dn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pn(e,t,n[t])})}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?a.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},a.a.createElement(Lt,{homeState:n,siteConfig:t}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&fn(n.prototype,o),i&&fn(n,i),t}(),hn=Object(s.b)(function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadHomeDataAction:function(){e(te()),e(un())}}})(yn),vn=n(52),gn=n.n(vn);function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t){return!t||"object"!==Sn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),On(this,An(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){En(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,o=e.onClick,i=e.iconImage,s=e.rightIconImage,c=null,u=null;return i&&(c=a.a.createElement("img",{src:i})),s&&(u=a.a.createElement("img",{className:"img-right",src:s})),a.a.createElement("button",{className:gn()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():o(e)}},c,t,u)}}])&&kn(n.prototype,o),i&&kn(n,i),t}();wn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Cn=wn;function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jn(this,Rn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(Cn,In({},this.props,{classes:["LightButton"].concat(Nn(this.props.classes))}))}}])&&Pn(n.prototype,o),i&&Pn(n,i),t}();xn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Un=xn;function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fn(this,Bn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return a.a.createElement("div",{className:"Start"},a.a.createElement("div",{className:"start-form"},a.a.createElement("div",{className:"info-box"},a.a.createElement("div",{className:"key-info-title"},"Key Information:"),a.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),a.a.createElement("div",{className:"user-info"},a.a.createElement("div",{className:"info-line"},a.a.createElement("b",null,"Your Name: "),a.a.createElement("span",null,n.name)),a.a.createElement("div",{className:"info-line"},a.a.createElement("b",null,"Email Address: "),a.a.createElement("span",null,n.email))),a.a.createElement("div",{className:"actions"},a.a.createElement(Un,{title:"START",onClick:r})))))}}])&&Mn(n.prototype,o),i&&Mn(n,i),t}();function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=O()(t,"FirstName")?T()(O()(t,"FirstName",""))+" "+T()(O()(t,"Surname","")):"";return{id:T()(O()(t,"ID")),name:n,email:O()(t,"Email"),isSA:"true"===T()(O()(t,"IsSA")),isCISO:"true"===T()(O()(t,"IsCISO")),isCertificationAuthority:"true"===T()(O()(t,"IsCertificationAuthority")),isAccreditationAuthority:"true"===T()(O()(t,"IsAccreditationAuthority"))}}},{key:"parserMemberFromJSON",value:function(e){return K()(e).map(function(e){var t=O()(e,"FirstName")?T()(O()(e,"FirstName",""))+" "+T()(O()(e,"Surname","")):"";return{value:O()(e,"ID"),label:t}})}},{key:"parserCollaboratorsFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return K()(t).map(function(e){var t=O()(e,"Name")?T()(O()(e,"Name","")):"";return{value:O()(e,"ID"),label:t}})}}],(n=null)&&Hn(t.prototype,n),r&&Hn(t,r),e}();function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Kn(e,t,n[t])})}return e}function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Yn(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Gn(o,r,a,i,s,"next",e)}function s(e){Gn(o,r,a,i,s,"throw",e)}i(void 0)})}}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"createInProgressSubmission",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.questionnaireID,a=n.csrfToken,o="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw B;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStartData",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readMember(Type: "Current")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: '.concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,F.request({query:n});case 3:if(r=e.sent,a=j.a.get(r,"data.readMember.0",null),o=j.a.get(r,"data.readQuestionnaire",null),i=j.a.get(r,"data.readSiteConfig.0",null),a&&o&&i){e.next=9;break}throw B;case 9:return e.abrupt("return",{title:j.a.get(o,"Name",""),siteConfig:rn.parseSiteConfigFromJSON(i),subtitle:j.a.get(i,"Title",""),questionnaireID:j.a.get(o,"ID",""),keyInformation:j.a.get(o,"KeyInformation",""),user:Vn.parseUserFromJSON(a)});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSubmissionData",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t,n,r){var a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a='\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsCertificationAuthority\n    IsAccreditationAuthority\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    BusinessOwnerAcknowledgementText\n    CertificationAuthorityAcknowledgementText\n    AccreditationAuthorityAcknowledgementText\n    IsCertificationAndAccreditationTaskExists\n    ProductAspects\n    User {\n      ID\n    }\n    SubmitterName\n    SubmitterEmail\n    QuestionnaireStatus\n    BusinessOwnerApproverName\n    RiskResultData\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      IsTaskApprovalRequired\n      TimeToComplete\n      TimeToReview\n      CanTaskCreateNewTasks\n      CreateOnceInstancePerComponent\n      AnswerData\n      ResultForCertificationAndAccreditation\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    AccreditationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprovalStatus\n    AccreditationAuthorityApprovalStatus\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n    Created\n    ReleaseDate\n    IsBusinessOwner\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    SecurityTeamEmail\n  }\n}'),e.next=3,F.request({query:a});case 3:if(o=e.sent,i=j.a.get(o,"data.readMember.0",{}),s=j.a.get(o,"data.readQuestionnaireSubmission.0",{}),c=j.a.get(o,"data.readSiteConfig.0",null),i&&s&&c){e.next=9;break}throw B;case 9:return u={title:j.a.toString(j.a.get(s,"Questionnaire.Name","")),siteConfig:rn.parseSiteConfigFromJSON(c),user:Vn.parseUserFromJSON(i),isCurrentUserApprover:"true"===j.a.get(s,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===j.a.get(s,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(j.a.get(s,"ApprovalOverrideBySecurityArchitect",!1)),hideWeightsAndScore:"true"===j.a.get(s,"HideWeightsAndScore","false"),questionnaireID:j.a.toString(j.a.get(s,"Questionnaire.ID","")),questionnaireTitle:j.a.toString(j.a.get(s,"Questionnaire.Name","")),submissionID:j.a.toString(j.a.get(s,"ID","")),submissionUUID:j.a.toString(j.a.get(s,"UUID","")),submissionToken:j.a.toString(j.a.get(s,"ApprovalLinkToken","")),productName:j.a.toString(j.a.get(s,"ProductName","")),submitter:{id:j.a.toString(j.a.get(s,"User.ID")),name:j.a.toString(j.a.get(s,"SubmitterName","")),email:j.a.toString(j.a.get(s,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:j.a.toString(j.a.get(s,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:j.a.toString(j.a.get(s,"CisoApprovalStatus","")),businessOwner:j.a.toString(j.a.get(s,"BusinessOwnerApprovalStatus","")),securityArchitect:j.a.toString(j.a.get(s,"SecurityArchitectApprovalStatus","")),certificationAuthority:j.a.toString(j.a.get(s,"CertificationAuthorityApprovalStatus","")),accreditationAuthority:j.a.toString(j.a.get(s,"AccreditationAuthorityApprovalStatus",""))},securityArchitectApprover:{firstName:j.a.toString(j.a.get(s,"SecurityArchitectApprover.FirstName","")),surname:j.a.toString(j.a.get(s,"SecurityArchitectApprover.Surname",""))},cisoApprover:{firstName:j.a.toString(j.a.get(s,"CisoApprover.FirstName","")),surname:j.a.toString(j.a.get(s,"CisoApprover.Surname",""))},certificationAuthorityApprover:{firstName:j.a.toString(j.a.get(s,"CertificationAuthorityApprover.FirstName","")),surname:j.a.toString(j.a.get(s,"CertificationAuthorityApprover.Surname",""))},accreditationAuthorityApprover:{firstName:j.a.toString(j.a.get(s,"AccreditationAuthorityApprover.FirstName","")),surname:j.a.toString(j.a.get(s,"AccreditationAuthorityApprover.Surname",""))},questions:V.parseQuestionsFromJSON({schemaJSON:j.a.toString(j.a.get(s,"QuestionnaireData","")),answersJSON:j.a.toString(j.a.get(s,"AnswerData",""))}),businessOwnerApproverName:j.a.toString(j.a.get(s,"BusinessOwnerApproverName","")),businessOwnerAcknowledgementText:j.a.toString(j.a.get(s,"BusinessOwnerAcknowledgementText","")),certificationAuthorityAcknowledgementText:j.a.toString(j.a.get(s,"CertificationAuthorityAcknowledgementText","")),accreditationAuthorityAcknowledgementText:j.a.toString(j.a.get(s,"AccreditationAuthorityAcknowledgementText","")),isCertificationAndAccreditationTaskExists:"true"===j.a.get(s,"IsCertificationAndAccreditationTaskExists","false"),taskSubmissions:j.a.toArray(j.a.get(s,"TaskSubmissions",[])).map(function(e){return{uuid:j.a.toString(j.a.get(e,"UUID","")),taskName:j.a.toString(j.a.get(e,"TaskName","")),taskType:j.a.toString(j.a.get(e,"TaskType","")),status:j.a.toString(j.a.get(e,"Status","")),approver:Vn.parseUserFromJSON(j.a.get(e,"TaskApprover")),isTaskApprovalRequired:"true"===j.a.get(e,"IsTaskApprovalRequired","false"),timeToComplete:j.a.toString(j.a.get(e,"TimeToComplete","")),timeToReview:j.a.toString(j.a.get(e,"TimeToReview","")),answerData:j.a.toString(j.a.get(e,"AnswerData","")),canTaskCreateNewTasks:"true"===j.a.get(e,"CanTaskCreateNewTasks","false"),createOnceInstancePerComponent:Boolean(j.a.get(e,"CreateOnceInstancePerComponent",!1)),resultForCertificationAndAccreditation:j.a.get(e,"ResultForCertificationAndAccreditation","[]")}}),collaborators:Vn.parserCollaboratorsFromJSON(j.a.get(s,"CollaboratorList",[])),riskResults:j.a.has(s,"RiskResultData")?JSON.parse(j.a.get(s,"RiskResultData","[]")):"[]",created:j.a.toString(j.a.get(s,"Created","")),releaseDate:j.a.toString(j.a.get(s,"ReleaseDate","")),productAspects:j.a.has(s,"ProductAspects")?JSON.parse(j.a.get(s,"ProductAspects","[]")):"[]",isBusinessOwner:"true"===j.a.get(s,"IsBusinessOwner","false")}},e.abrupt("return",u);case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateSubmissionData",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.questionID,o=n.answerData,i=n.csrfToken,s=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(a,'", AnswerData: "').concat(s,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,F.request({query:c,csrfToken:i});case 5:if(u=e.sent,j.a.get(u,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw B;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateSubmissionData",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Jn({},t),r=n.submissionID,a=n.questionIDList,o=n.answerDataList,i=n.csrfToken,a.length===o.length){e.next=3;break}throw B;case 3:for(s=[],c=0;c<a.length;c++)u=a[c],l=o[c],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),f="\nupdateQuestion".concat(u,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(u,'", AnswerData: "').concat(p,'") {\n  ID\n  AnswerData\n}'),s.push(f);return m="\nmutation {\n  ".concat(s.join("\n"),"\n}\n"),e.next=8,F.request({query:m,csrfToken:i});case 8:if(d=e.sent,j.a.get(d,"data",null)){e.next=12;break}throw B;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaire",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaireForApproval",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmission",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.csrfToken,o=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(o,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),u=j.a.toString(j.a.get(s,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),c&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmission",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.csrfToken,o=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(o,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),u=j.a.toString(j.a.get(s,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),c&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editQuestionnaireSubmission",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateQuestionnaireStatusToSendBackForChanges",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToSendBackForChanges(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.QuestionnaireStatus",null)),c=j.a.toString(j.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.UUID",null)),s&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchQuestionnaireSubmissionList",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t,n,r,a){var o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o='query {\n      paginatedReadQuestionnaireSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(a,") {\n        edges {\n          node {\n            ID\n            UUID\n            QuestionnaireStatus\n            QuestionnaireName\n            Created\n            ProductName\n            ReleaseDate\n            BusinessOwnerApproverName\n            SubmitterName\n            SecurityArchitectApprover {\n              FirstName\n              Surname\n              ID\n            }\n            CisoApprovalStatus\n            BusinessOwnerApprovalStatus\n          }\n        }\n        pageInfo {\n          hasNextPage,\n          hasPreviousPage,\n          totalCount\n        }\n      }\n    }"),e.next=3,F.request({query:o});case 3:if(i=e.sent,s=j.a.get(i,"data.paginatedReadQuestionnaireSubmissions.edges",[]),c=j.a.get(i,"data.paginatedReadQuestionnaireSubmissions.pageInfo",[]),Array.isArray(s)){e.next=8;break}throw"error";case 8:return u={totalCount:j.a.get(c,"totalCount",0),hasNextPage:Boolean(j.a.get(c,"hasNextPage",!1)),hasPreviousPage:Boolean(j.a.get(c,"hasPreviousPage",!1))},l=s.map(function(e){var t={};return t.id=j.a.get(e,"node.ID",""),t.uuid=j.a.get(e,"node.UUID",""),t.status=j.a.get(e,"node.QuestionnaireStatus",""),t.productName=j.a.get(e,"node.ProductName",""),t.questionnaireName=j.a.get(e,"node.QuestionnaireName",""),t.created=j.a.get(e,"node.Created",""),t.releaseDate=j.a.get(e,"node.ReleaseDate",""),t.businessOwner=j.a.get(e,"node.BusinessOwnerApproverName",""),t.submitterName=j.a.get(e,"node.SubmitterName",""),t.SecurityArchitectApprover=j.a.toString(j.a.get(e,"node.SecurityArchitectApprover.FirstName","")+" "+j.a.get(e,"node.SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=j.a.get(e,"node.SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=j.a.get(e,"node.CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=j.a.get(e,"node.BusinessOwnerApprovalStatus",""),t[""],t}),e.abrupt("return",{questionnaireSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.csrfToken,o=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(o,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),u=j.a.toString(j.a.get(s,"data.updateQuestionnaireStatusToApproved.UUID",null)),c&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jn({},t),r=n.submissionID,a=n.csrfToken,o=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(o,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),u=j.a.toString(j.a.get(s,"data.updateQuestionnaireStatusToDenied.UUID",null)),c&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addCollaborator",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t,n,r){var a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n&&n.length>0&&(a=n.map(function(e){return j.a.get(e,"value","")})),o=window.btoa(JSON.stringify(a)),i='mutation {\n     addCollaborator(ID: "'.concat(t,'", SelectedCollaborator: "').concat(o,'") {\n       UUID\n     }\n    }'),e.next=6,F.request({query:i,csrfToken:r});case 6:if(s=e.sent,c=j.a.toString(j.a.get(s,"data.addCollaborator.UUID",null))){e.next=10;break}throw B;case 10:return e.abrupt("return",{uuid:c});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"grantCertification",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     grantCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=j.a.toString(j.a.get(a,"data.grantCertification.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"denyCertification",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=j.a.toString(j.a.get(a,"data.denyCertification.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"issueAccreditation",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t,n,r){var a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a='mutation {\n      issueAccreditation(ID: "'.concat(t,'", AccreditationPeriod: "').concat(r,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:a,csrfToken:n});case 3:if(o=e.sent,i=j.a.toString(j.a.get(o,"data.issueAccreditation.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:i});case 8:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"denyAccreditation",value:function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=j.a.toString(j.a.get(a,"data.denyAccreditation.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],n&&Wn(t.prototype,n),r&&Wn(t,r),e}();function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Zn(e,t,n[t])})}return e}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var er=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map(function(e){var t=e.data;return t&&j.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}})),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map(function(e){return{id:e.id,isChose:e.isChose}})),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach(function(e){var n=Xn({},e),r=n.hasAnswer,a=n.isApplicable;!r&&a&&(t=!0)}),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach(function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)}),t}},{key:"getDataUpdateIntent",value:function(e){var t=Xn({},e),n=t.answeredQuestion,r=t.questions,a=r.findIndex(function(e){return e.id===n.id}),o=a===r.length-1,i={currentIndex:a,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type||"display"===n.type)return o?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var s=n.actions.find(function(e){return e.isChose});if(!s)throw new Error("This question does not have any chosen action!");if("finish"===s.type){for(var c=i.currentIndex+1;c<r.length;c++)i.nonApplicableIndexes.push(c);i.result=s.result||"",i.complete=!0}if("message"===s.type&&(i.terminate=!0),"continue"!==s.type||o||(i.targetIndex=i.currentIndex+1),"goto"===s.type){var u=s.goto;if(i.targetIndex=r.findIndex(function(e){return e.id===u}),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return o&&!i.terminate&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&$n(t.prototype,n),r&&$n(t,r),e}(),tr=n(220),nr=n.n(tr);function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ar=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return K()(t).map(function(t){var n=e.parseFromJSONObject(O()(t,"SecurityComponent"));return n.productAspect=T()(O()(t,"ProductAspect","")),n})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(O()(e,"ID","")),name:T()(O()(e,"Name","")),description:T()(O()(e,"Description")),controls:(O()(e,"Controls")||[]).map(function(e){return{id:T()(O()(e,"ID","")),name:T()(O()(e,"Name","")),description:T()(O()(e,"Description","")),implementationGuidance:T()(O()(e,"ImplementationGuidance",""))}})}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map(function(e){return{id:T()(O()(e,"id","")),name:T()(O()(e,"name","")),productAspect:T()(O()(e,"productAspect","")),controls:(O()(e,"controls")||[]).map(function(e){return{id:T()(O()(e,"id","")),name:T()(O()(e,"name","")),selectedOption:T()(O()(e,"selectedOption","")),description:T()(O()(e,"description","")),implementationGuidance:T()(O()(e,"implementationGuidance","")),implementationEvidence:T()(O()(e,"implementationEvidence","")),implementationEvidenceUserInput:T()(O()(e,"implementationEvidenceUserInput",""))}}),jiraTicketLink:T()(O()(e,"jiraTicketLink",""))}})}}],(n=null)&&rr(t.prototype,n),r&&rr(t,r),e}();function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ir=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return K()(t).map(function(t){return e.parseFromJSONObject(t)})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(O()(e,"ID")),jiraKey:T()(O()(e,"JiraKey")),link:T()(O()(e,"TicketLink"))}}}],(n=null)&&or(t.prototype,n),r&&or(t,r),e}();function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){cr(e,t,n[t])})}return e}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function lr(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ur(o,r,a,i,s,"next",e)}function s(e){ur(o,r,a,i,s,"throw",e)}i(void 0)})}}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},t),r=n.uuid,a=n.secureToken,o=n.component,i='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    RiskProfileData\n    ResultForCertificationAndAccreditation\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    CreateOnceInstancePerComponent\n    RiskResultData\n    IsDisplayPreventMessage\n    PreventMessage\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n    InformationClassificationTaskResult\n  }\n  readServiceInventory {\n    ID\n    ServiceName\n  }\n}'),e.next=4,F.request({query:i});case 4:if(s=e.sent,c=O()(s,"data.readTaskSubmission.0",null),u=O()(s,"data.readServiceInventory",null),c){e.next=9;break}throw B;case 9:return l=T()(O()(c,"AnswerData","")),p=T()(O()(c,"Status","")),f=p,o&&l&&(m=JSON.parse(l)).length>0&&(d=m.find(function(e){return e.productAspect===o}))&&(l=JSON.stringify(d.result),f=d.status),b={id:T()(O()(c,"ID","")),uuid:T()(O()(c,"UUID","")),taskName:T()(O()(c,"TaskName","")),taskType:T()(O()(c,"TaskType","")),taskStatusForComponent:f,status:p,result:T()(O()(c,"Result","")),informationClassificationTaskResult:T()(O()(c,"InformationClassificationTaskResult","")),submitter:Vn.parseUserFromJSON(O()(c,"Submitter")),lockWhenComplete:Boolean(O()(c,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:T()(O()(c,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:T()(O()(c,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:T()(O()(c,"QuestionnaireSubmission.QuestionnaireStatus","")),questionnaireSubmissionProductName:T()(O()(c,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===O()(c,"QuestionnaireSubmission.IsBusinessOwner","false"),questions:V.parseQuestionsFromJSON({schemaJSON:T()(O()(c,"QuestionnaireData","")),answersJSON:l}),selectedComponents:ar.parseFromJSONOArray(O()(c,"SelectedComponents",[])),jiraTickets:ir.parseFromJSONArray(O()(c,"JiraTickets",[])),isCurrentUserAnApprover:"true"===O()(c,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===O()(c,"IsTaskApprovalRequired",!1),riskResults:_.has(c,"RiskResultData")?JSON.parse(O()(c,"RiskResultData","[]")):"[]",taskRecommendations:_.has(c,"TaskRecommendationData")?JSON.parse(_.defaultTo(O()(c,"TaskRecommendationData","[]"),"[]")):"[]",productAspects:_.has(c,"ProductAspects")?JSON.parse(O()(c,"ProductAspects",[])):[],componentTarget:T()(O()(c,"ComponentTarget","")),hideWeightsAndScore:"true"===_.get(c,"HideWeightsAndScore","false"),isTaskCollborator:"true"===_.get(c,"IsTaskCollborator","false"),isDisplayPreventMessage:"true"===_.get(c,"IsDisplayPreventMessage","false"),createOnceInstancePerComponent:Boolean(O()(c,"CreateOnceInstancePerComponent",!1)),preventMessage:T()(O()(c,"PreventMessage","")),siblingSubmissions:Y.parseAlltaskSubmissionforQuestionnaire(c),serviceRegister:Y.parseServiceRegister(u),riskProfileData:_.has(c,"RiskProfileData")?JSON.parse(O()(c,"RiskProfileData",[])):[],resultForCertificationAndAccreditation:_.has(c,"ResultForCertificationAndAccreditation")?JSON.parse(O()(c,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",b);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchResultForCertificationAndAccreditation",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    ID\n    UUID\n    ResultForCertificationAndAccreditation\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw B;case 8:return c={id:T()(O()(s,"ID","")),uuid:T()(O()(s,"UUID","")),resultForCertificationAndAccreditation:_.has(s,"ResultForCertificationAndAccreditation")?JSON.parse(O()(s,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateTaskSubmissionData",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=sr({},t),r=n.uuid,a=n.questionIDList,o=n.answerDataList,i=n.csrfToken,s=n.secureToken,c=n.component,a.length===o.length){e.next=3;break}throw B;case 3:for(u=[],l=0;l<a.length;l++)p=a[l],f=o[l],m=window.btoa(unescape(encodeURIComponent(JSON.stringify(f)))),d="\nupdateQuestion".concat(p,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(p,'",\n  AnswerData: "').concat(m,'",\n  SecureToken: "').concat(s||"",'",\n  Component: "').concat(c||"",'",\n) {\n  UUID\n  Status\n\n}'),u.push(d);return b="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,F.request({query:b,csrfToken:i});case 8:if(y=e.sent,O()(y,"data",null)){e.next=12;break}throw B;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"completeTaskSubmission",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},t),r=n.uuid,a=n.result,o=n.csrfToken,i=n.secureToken,s=n.component,c='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(a,'", SecureToken: "').concat(i||"",'", Component: "').concat(s||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:c,csrfToken:o});case 4:if(u=e.sent,O()(u,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editTaskSubmission",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},t),r=n.uuid,a=n.csrfToken,o=n.secureToken,i=n.component,s='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'", Component: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:s,csrfToken:a});case 4:if(c=e.sent,O()(c,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStandaloneTask",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},t),r=n.taskId,a='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,F.request({query:a});case 4:if(o=e.sent,i=O()(o,"data.readTask",null)){e.next=8;break}throw B;case 8:return s=Y.parseFromJSONObject(i),e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskSubmissionWithSelectedComponents",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},t),r=n.uuid,a=n.csrfToken,o=n.components,i=n.jiraKey,s='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(o)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:s,csrfToken:a});case 4:if(c=e.sent,O()(c,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveTaskSubmission",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},t),r=n.uuid,a=n.csrfToken,o='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,(s=T()(O()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw B;case 8:return e.abrupt("return",{status:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyTaskSubmission",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},t),r=n.uuid,a=n.csrfToken,o='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,(s=T()(O()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw B;case 8:return e.abrupt("return",{status:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskRecommendation",value:function(){var e=lr(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr({},t),r=n.uuid,a=n.csrfToken,o=n.taskRecommendations,i='\n  mutation {\n    updateTaskRecommendation(\n      UUID: "'.concat(r,'",\n      TaskRecommendationData: "').concat(window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),'"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,(c=_.has(s,"TaskRecommendationData")?JSON.parse(O()(submissionJSONObject,"TaskRecommendationData","[]")):"[]")&&r){e.next=8;break}throw B;case 8:return e.abrupt("return",{taskRecommendationData:c});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTaskSubmissionList",value:function(){var e=lr(regeneratorRuntime.mark(function e(t,n,r,a){var o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o='query {\n      paginatedReadTaskSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(a,") {\n        edges {\n          node {\n            ID\n            UUID\n            Created\n            TaskName\n            QuestionnaireSubmission {\n              ProductName\n            }\n            Submitter {\n              FirstName\n              Surname\n            }\n            Status\n          }\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          totalCount\n        }\n      }\n    }"),e.next=3,F.request({query:o});case 3:if(i=e.sent,s=O()(i,"data.paginatedReadTaskSubmissions.edges",[]),c=O()(i,"data.paginatedReadTaskSubmissions.pageInfo",[]),Array.isArray(s)){e.next=8;break}throw"error";case 8:return u={totalCount:O()(c,"totalCount",0),hasNextPage:Boolean(O()(c,"hasNextPage",!1)),hasPreviousPage:Boolean(O()(c,"hasPreviousPage",!1))},l=s.map(function(e){var t={};return t.id=O()(e,"node.ID",""),t.uuid=O()(e,"node.UUID",""),t.created=O()(e,"node.Created",""),t.taskName=O()(e,"node.TaskName",""),t.productName=O()(e,"node.QuestionnaireSubmission.ProductName",""),t.submitterName=T()(O()(e,"node.Submitter.FirstName",""))+" "+T()(O()(e,"node.Submitter.Surname","")),t.status=O()(e,"node.Status",""),t}),e.abrupt("return",{taskSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}()}],n&&pr(t.prototype,n),r&&pr(t,r),e}();function mr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dr(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function br(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){dr(o,r,a,i,s,"next",e)}function s(e){dr(o,r,a,i,s,"throw",e)}i(void 0)})}}function yr(e,t){return void 0===t&&(t=""),function(){var n=br(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,zn.fetchSubmissionData(e,t);case 5:a=n.sent,r((o=a,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:o})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var o},n,this,[[2,9]])}));return function(e){return n.apply(this,arguments)}}()}function hr(e){return function(){var t=br(regeneratorRuntime.mark(function t(n,r){var a,o,i,s,c,u,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=er.getDataUpdateIntent({answeredQuestion:e,questions:o.questions}),s=i.currentIndex,c=i.targetIndex,u=i.nonApplicableIndexes,p=i.complete,u.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:u}),c>s&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=9,gr(r(),j.a.uniq([s].concat(mr(u),[c])));case 9:p&&D.redirectToQuestionnaireReview(o.submissionUUID);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}function vr(e,t){return function(){var n=br(regeneratorRuntime.mark(function n(r,a){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return n.prev=5,n.next=8,zn.fetchQuestionnaireSubmissionList(o.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:n.t0});case 16:ErrorUtil.displayError(n.t0);case 17:case"end":return n.stop()}},n,this,[[5,12]])}));return function(e,t){return n.apply(this,arguments)}}()}function gr(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=br(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ee.getCSRFToken();case 5:return a=e.sent,e.prev=6,e.next=9,zn.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map(function(e){return r.questions[e].id}),answerDataList:n.map(function(e){return er.transformFromFullQuestionToData(r.questions[e])}),csrfToken:a});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[6,11]])}))).apply(this,arguments)}function Er(e){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Or(e,t,n[t])})}return e}function Or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return!t||"object"!==Er(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tr(this,wr(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=kr({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=kr({},this.props.startState),t=(e.title,e.siteConfig),n=e.keyInformation,r=e.user,o=kr({},this.props),i=o.questionnaireID,s=o.dispatchCreateInProgressSubmissionAction;return r?a.a.createElement("div",{className:"StartContainer"},a.a.createElement(It,{pageTitle:"New submission",logopath:t.logoPath,showSubmissionBreadcrumb:!0}),a.a.createElement(qn,{keyInformation:n,user:r,onStartButtonClick:function(){s(i)}}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Ar(n.prototype,o),i&&Ar(n,i),t}(),Ir=Object(s.b)(function(e){return{startState:e.questionnaireState.startState}},function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,zn.fetchStartData(e);case 3:r=t.sent,n((a=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var a},t,this,[[0,7]])})),function(e){return t.apply(this,arguments)};var t}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return r=t.sent,t.next=6,zn.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:a=t.sent,D.redirectToQuestionnaireEditing(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])})),function(e){return t.apply(this,arguments)};var t}(t))}}})(_r),Nr=n(36),Pr=n(456),jr=n.n(Pr),Rr=n(457),Dr=n.n(Rr),xr=n(458),Ur=n.n(xr),Lr=n(459),Mr=n.n(Lr);function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qr(e,t,n[t])})}return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return!t||"object"!==Fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Hr(this,Vr(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=Br({},this.props),t=e.question,n=e.onItemClick,r=e.index,o=e.component;return a.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),a.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t,o)}},r+1,".  ",t.title))}},{key:"renderIcon",value:function(e){var t=Br({},e),n=t.isCurrent,r=t.hasAnswer,o=t.isApplicable;return n?a.a.createElement("img",{src:jr.a}):o?r&&o?a.a.createElement("img",{src:Ur.a}):a.a.createElement("img",{src:Dr.a}):a.a.createElement("img",{src:Mr.a})}}])&&qr(n.prototype,o),i&&qr(n,i),t}();function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zr(e,t){return(Zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zr(this,Xr(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yr(e,t,n[t])})}return e}({},this.props),t=e.questions,n=e.onItemClick,r=e.component;return a.a.createElement("div",{className:"LeftBar"},a.a.createElement("div",{className:"items"},t.map(function(e,t){return a.a.createElement(Kr,{question:e,onItemClick:n,key:e.id,index:t,component:r})})))}}])&&Wr(n.prototype,o),i&&Wr(n,i),t}();function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(){return(ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function na(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,t){return!t||"object"!==ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),aa(this,oa(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(Cn,ta({},this.props,{classes:["DarkButton"].concat(na(this.props.classes))}))}}])&&ra(n.prototype,o),i&&ra(n,i),t}();sa.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var ca=sa,ua=n(5),la=n.n(ua),pa=n(482),fa=(n(724),n(135)),ma=n.n(fa),da=n(229),ba=n.n(da),ya=(n(213),n(421),n(131)),ha=(n(728),n(730),n(83)),va=n(123),ga=n.n(va),Sa=n(124),Ea=n.n(Sa),ka=n(76),Oa=n.n(ka),Aa=n(133),Ta=n.n(Aa),wa=n(168),Ca=n.n(wa),_a=n(169),Ia=n.n(_a),Na=n(170),Pa=n.n(Na),ja=n(82),Ra=n.n(ja),Da=(n(732),n(62)),xa=n.n(Da);function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ma(){return(Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t){return!t||"object"!==Ua(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ha=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Ba(this,(e=Qa(t)).call.apply(e,[this].concat(o)))).state={showModal:!1,FormType:"Add",issueID:"0"},n.handleOpenModal=function(){n.setState({showModal:!0})},n.handleCloseModal=function(){n.setState({showModal:!1,issueID:0})},n.handleOpenAddRecommendationModal=function(){var e=1;if(n.props.taskRecommendations.length>0){var t=n.props.taskRecommendations.reduce(function(e,t){return e.id>t.id?e:t});t&&(e=t.id+1)}n.setState({showModal:!0,issueID:e,FormType:"Add"})},n.handleOpenEditRecommendationModal=function(e){n.setState({showModal:!0,issueID:e,FormType:"Edit"})},n.getFormInitialValues=function(){var e={id:n.state.issueID,title:"",description:"",recommendation:"",status:""};return"Edit"==n.state.FormType&&n.props.taskRecommendations.length>0&&0!=n.state.issueID&&(e=n.props.taskRecommendations.find(function(e){return e.id===n.state.issueID})),e},n.renderRecommendationform=function(){return a.a.createElement(Nr.c,{initialValues:n.getFormInitialValues(),validate:function(e){var t={};return e.title||(t.title="Please enter the issue title."),e.status||(t.status="Please enter the status."),e.description||(t.description="Please enter the issue description."),e.recommendation||(t.recommendation="Please enter the recommendation."),t},onSubmit:function(e,t){"Add"==n.state.FormType&&n.props.handleAddTaskRecommendationButtonClick(e),"Edit"==n.state.FormType&&n.props.handleEditTaskRecommendationButtonClick(e),n.handleCloseModal()},validateOnChange:!1,validateOnBlur:!1},function(e){e.isSubmitting;var t=e.errors,r=(e.touched,e.setFieldValue,e.values),o=e.handleChange,i=e.handleSubmit;return a.a.createElement(Nr.b,null,a.a.createElement("div",{className:"title-and-status-container"},a.a.createElement("div",{className:"title-field-container"},a.a.createElement("label",null,"Issue title",a.a.createElement(Nr.a,{type:"text",name:"title",className:t.title&&"input-error"}),t.title&&a.a.createElement("span",{className:"error"},t.title))),a.a.createElement("div",{className:"status-field-container"},a.a.createElement("label",null,"Status",a.a.createElement("select",{name:"status",value:r.status,onChange:o,className:t.status&&"input-error",style:{display:"block"}},a.a.createElement("option",{value:"",label:"Select"}),a.a.createElement("option",{value:"open",label:"Open"}),a.a.createElement("option",{value:"closed",label:"Closed"})),t.status&&a.a.createElement("span",{className:"error"},t.status)))),a.a.createElement("div",{className:"issue-container"},a.a.createElement("label",null,"Issue description",a.a.createElement(Nr.a,{name:"description"},function(e){var n=e.field;return a.a.createElement("textarea",Ma({},n,{className:t.description&&"input-error"}))}),t.description&&a.a.createElement("span",{className:"error"},t.description))),a.a.createElement("div",null,a.a.createElement("label",null,"Recommendation",a.a.createElement(Nr.a,{name:"recommendation"},function(e){var n=e.field;return a.a.createElement("textarea",Ma({},n,{className:t.recommendation&&"input-error"}))}),t.recommendation&&a.a.createElement("span",{className:"error"},t.recommendation))),a.a.createElement("div",{className:"buttons"},a.a.createElement(Un,{title:"Cancel",onClick:n.handleCloseModal}),"Add"==n.state.FormType&&a.a.createElement(ca,{type:"button",title:"Add","data-flag":"action-add",onClick:i}),"Edit"==n.state.FormType&&a.a.createElement(ca,{type:"button",title:"Save","data-flag":"action-add",onClick:i})))})},n.renderRecommendationModal=function(){return a.a.createElement("div",{className:"RecommendationModal"},a.a.createElement(xa.a,{isOpen:n.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".TaskSubmissionContainer")}},a.a.createElement("div",{className:"modal-header"},a.a.createElement("span",{className:"header-title"},"Add"==n.state.FormType?"Add Recommendation":"Edit Recommendation"),a.a.createElement("div",{className:"close-icon-container",onClick:n.handleCloseModal},a.a.createElement("img",{src:Pa.a}))),a.a.createElement("div",{className:"content"},n.renderRecommendationform())))},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){La(e,t,n[t])})}return e}({},this.props),n=t.taskRecommendations,r=t.viewAs,o=t.status;return a.a.createElement("div",{className:"recommendation-container"},("approver"===r&&"waiting_for_approval"===o||n&&n.length>0)&&a.a.createElement("h4",null,"Approver's recommendations"),n&&n.length>0&&a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"recommendation_table_header"},a.a.createElement("th",{className:"issue-title-col"},"Issue title"),a.a.createElement("th",null,"Issue description"),a.a.createElement("th",null,"Recommendation"),a.a.createElement("th",null,"Status"),"approver"===r&&"waiting_for_approval"===o&&a.a.createElement("th",{className:"edit-col"}))),a.a.createElement("tbody",null,n.map(function(t,n){return a.a.createElement("tr",{key:n+1},a.a.createElement("td",null,t.title),a.a.createElement("td",null,t.description),a.a.createElement("td",null,t.recommendation),a.a.createElement("td",null,t.status),"approver"===r&&"waiting_for_approval"===o&&a.a.createElement("td",{className:"edit-col"},a.a.createElement("img",{className:"edit-icon",src:Ra.a,onClick:function(){return e.handleOpenEditRecommendationModal(t.id)}})))})))),"approver"===r&&"waiting_for_approval"===o&&a.a.createElement("div",{className:"add-recommendation-link",onClick:function(){return e.handleOpenAddRecommendationModal()}},a.a.createElement("img",{src:Ia.a})," Add recommendation"),this.renderRecommendationModal())}}])&&Fa(n.prototype,o),i&&Fa(n,i),t}();function Va(e){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ka(e,t,n[t])})}return e}function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ya(e,t){return!t||"object"!==Va(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wa(e){return(Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ya(this,Wa(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Ja({},this.props.resultForCertificationAndAccreditation);e.organisationName,e.serviceName,e.createdAt,e.securityArchitectName,e.businessOwnerName,e.productName,e.productDescription,e.accreditationLevel,e.accreditationDescription,e.accreditationType,e.accreditationPeriod,e.accreditationRenewalRecommendations,e.classificationLevel,e.riskProfileData,e.tasks,e.taskRecommendations,e.reportLogo}},{key:"render",value:function(){var e=Ja({},this.props.resultForCertificationAndAccreditation),t=e.organisationName,n=e.serviceName,r=e.createdAt,o=e.securityArchitectName,i=e.businessOwnerName,s=e.productName,c=e.productDescription,u=e.accreditationLevel,l=e.accreditationDescription,p=e.accreditationType,f=e.accreditationPeriod,m=e.accreditationRenewalRecommendations,d=e.classificationLevel,b=e.riskProfileData,y=e.tasks,h=e.taskRecommendations,v=e.reportLogo;return a.a.createElement("div",{className:"certification-and-accreditation-report-container"},a.a.createElement("div",{className:"about-report-container"},a.a.createElement("div",{className:"report-heading"},a.a.createElement("div",{className:"report-heading-left-container"},a.a.createElement("h3",null,n),a.a.createElement("p",{className:"certification-accreditation-memo-heading"},"Certification and Accreditation Memo for ",t)),a.a.createElement("div",{className:"report-heading-right-container"},this.props.isDisplayReportLogo&&a.a.createElement("img",{src:v}))),a.a.createElement("div",{className:"report-intro-container"},a.a.createElement("p",{className:"report-intro"},"Prepared at ",r," by ",o),a.a.createElement("p",{className:"report-intro"},"Delivered to ",i," as part of the ",s," delivery."))),a.a.createElement("div",{id:"certificate-container"},a.a.createElement("div",{className:"about-product-container sub-container"},a.a.createElement("h5",null,"About ",s),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:c}})),a.a.createElement("div",{className:"certificate-recommendation-container sub-container"},a.a.createElement("h5",null,"Certification Recommendation"),a.a.createElement("p",{className:"intro-container"},"It has been recommended by ",o," that this change ",s," be certified against ",u," with an accreditation level of: ",p," for a period of no longer than ",f,"."),a.a.createElement("p",null,"Re-certification after this period should be conditional on the following post go-live remediations being resolved:"),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:m}})),a.a.createElement("div",{className:"information-classification-container sub-container"},a.a.createElement("h5",null,"Information Classification"),a.a.createElement("p",{className:"intro-container"},"This memo certifies ",n," has been endorsed to store, transmit and receive data to an Information Classification up to ",d,".")),a.a.createElement("div",{className:"certificate-scope-container sub-container"},a.a.createElement("h5",null,"Certification Scope"),a.a.createElement("p",{className:"intro-container"},"This certification is a ",u," level certification for ",n,". It covers ",n," and the following dependencies only."),a.a.createElement("div",{className:"certificate-scope-description",dangerouslySetInnerHTML:{__html:l}}))),a.a.createElement("div",{className:"risk-profile-container sub-container"},a.a.createElement("div",{id:"risk-profile"},a.a.createElement("h5",{className:"pdf-pagebreak-before"},"Risk Profile"),a.a.createElement("p",{className:"intro-container"},"After completing a risk assessment process, it was determined that the residual risk ratings for this delivery are:")),this.renderRiskProfile(b)),a.a.createElement("div",{id:"recommendations-table",className:"recommendation-container sub-container"},a.a.createElement("h5",null,"Recommendations against ",s),this.renderTaskRecommendation(h)),a.a.createElement("div",{id:"task-container",className:"task-container sub-container"},a.a.createElement("h5",null,"Tasks Completed"),a.a.createElement("p",{className:"intro-container"},"The certification of ",n," for ",s," was completed after ",t," completed the following assurance activities:"),this.renderTaskTable(y)))}},{key:"renderRiskProfile",value:function(e){var t=this;if(e&&void 0!==e){var n=JSON.parse(e);return a.a.createElement("div",{id:"risk-container",className:"risk-container"},n.isDisplayMessage&&a.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map(function(e,n){return a.a.createElement("div",{key:n},a.a.createElement("div",{className:"product-aspect-container"},e[0]),t.renderRiskProfileTable(e[1]))}),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result))}}},{key:"renderRiskProfileTable",value:function(e){return e&&0!=e.length?a.a.createElement("div",{className:"risk-profile-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"risk_profile_table_header"},a.a.createElement("th",null,"Risk category"),a.a.createElement("th",null,"Current risk rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.riskName),a.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))})))):""}},{key:"renderTaskRecommendation",value:function(e){var t=this;if(e&&void 0!==e)return 0==e.length?a.a.createElement("div",{className:"intro-container"},"No recommendation available."):a.a.createElement("div",null,e.map(function(e,n){var r=e.taskName,o=e.taskApproverName,i=e.taskRecommendationData;return a.a.createElement("div",{key:n},a.a.createElement("p",{className:"intro-container"},"Recommendations from: ",a.a.createElement("b",null,r)," by ",o),t.renderRecommendationTable(i))}))}},{key:"renderRecommendationTable",value:function(e){var t=JSON.parse(e);return a.a.createElement("div",{className:"recommendation-table-container"},t&&t.length>0&&a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"recommendation_table_header"},a.a.createElement("th",{className:"issue-title-col"},"Issue title"),a.a.createElement("th",null,"Issue description"),a.a.createElement("th",null,"Recommendation"))),a.a.createElement("tbody",null,t.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.title),a.a.createElement("td",null,e.description),a.a.createElement("td",null,e.recommendation))}))))}},{key:"renderTaskTable",value:function(e){if(e&&void 0!==e)return a.a.createElement("div",{className:"task-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"task_table_header"},a.a.createElement("th",null,"Task"),a.a.createElement("th",null,"Approved by"),a.a.createElement("th",null,"Task status"))),a.a.createElement("tbody",null,e.map(function(e,t){var n=e.taskName,r=e.taskApproverName,o=e.taskStatus,i=Ca.a;"in_progress"==o&&(i=Ta.a),"waiting_for_approval"==o&&(i=Oa.a),"approved"!=o&&"complete"!=o||(i=ga.a),"denied"==o&&(i=Ea.a);var s=r;return s||(s="No approval needed"),a.a.createElement("tr",{key:t},a.a.createElement("td",{className:""},n),a.a.createElement("td",null,s),a.a.createElement("td",null,a.a.createElement("img",{className:"task-status-icon",src:i}),a.a.createElement("span",{className:"task-status"}," ",function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}(o))))}))))}}])&&Ga(n.prototype,o),i&&Ga(n,i),t}();function Za(e){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){to(e,t,n[t])})}return e}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t){return!t||"object"!==Za(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var io=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ro(this,ao(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oo(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){"Review"==this.props.question.title&&this.props.loadResultForCertificationAndAccreditation()}},{key:"render",value:function(){var e=eo({},this.props),t=e.question,n=e.index;return a.a.createElement("div",{className:"QuestionForm"},a.a.createElement("div",{className:"heading"},n+1,". ",t.heading),a.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t),this.renderDisplayField(t))}},{key:"renderDisplayField",value:function(e){if("display"===e.type)return"Risk Profile"==e.title?this.renderRiskProfile():"Review"==e.title?this.renderReview():void 0}},{key:"renderReview",value:function(){var e=eo({},this.props),t=e.resultForCertificationAndAccreditation,n=e.handleTaskSaveDraftButtonClick,r=e.handleNextButtonClickForDisplayField;return a.a.createElement("div",null,a.a.createElement("div",{className:"review-container"},a.a.createElement(Xa,{resultForCertificationAndAccreditation:t,isDisplayReportLogo:!1})),a.a.createElement("div",{className:"buttons review-button-container"},a.a.createElement("div",{className:"buttons-left"}),a.a.createElement("div",{className:"buttons-right"},a.a.createElement(Un,{title:"Save draft",onClick:function(){n()}}),a.a.createElement(ca,{title:"Submit",onClick:function(){r()}})),a.a.createElement("div",null)))}},{key:"renderRiskProfile",value:function(){var e=this,t=eo({},this.props),n=t.riskProfileData,r=t.handleNextButtonClickForDisplayField;return a.a.createElement("div",{className:"risk-profile-container"},n.isDisplayMessage&&a.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map(function(t,n){return a.a.createElement("div",{key:n},a.a.createElement("div",{className:"product-aspect-container"},t[0]),e.renderRiskProfileTable(t[1]))}),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result),a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:ma.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),a.a.createElement("div",{className:"button-container"},a.a.createElement(ca,{title:"Next",rightIconImage:ba.a,onClick:function(){r()}}))))}},{key:"renderRiskProfileTable",value:function(e){return a.a.createElement("div",{className:"risk-profile-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"risk_profile_table_header"},a.a.createElement("th",null,"Risk category"),a.a.createElement("th",null,"Current risk rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.riskName),a.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))}))))}},{key:"renderActions",value:function(e){var t=eo({},this.props).handleActionClick;if("action"===e.type){var n=j.a.get(e,"actions",null);if(!n)return null;var r=null,o=n.find(function(e){return e.isChose});return o&&o.message&&(r=a.a.createElement("div",{className:"action-message"},a.a.createElement("b",null,"Message:"),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.message}}))),o?a.a.createElement("div",{className:"field-container"},a.a.createElement("div",{className:"actions"},n.map(function(e){switch(e.isChose){case!0:return a.a.createElement(ca,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return a.a.createElement(Un,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r,a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:ma.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))))):a.a.createElement("div",{className:"field-container"},a.a.createElement("div",{className:"actions"},n.map(function(e,n){switch(n){case 0:return a.a.createElement(ca,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return a.a.createElement(Un,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r,a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:ma.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))))}}},{key:"renderInputsForm",value:function(e){var t=eo({},this.props),n=t.handleFormSubmit,r=t.serviceRegister,o=t.informationClassificationTaskResult;if("input"===e.type){var i=j.a.get(e,"inputs",null);if(!i)return null;var s={};return i.forEach(function(e){s[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(s[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(s[e.id]=e.defaultCheckboxValue),"information classification"==e.type&&null===e.data&&o&&(s[e.id]=o)}),a.a.createElement(Nr.c,{initialValues:s,validate:function(e){var t={};return i.forEach(function(n){var r=eo({},n),a=r.id,o=r.type,i=r.required,s=r.label,c=r.minLength,u=j.a.get(e,a,null),l=s||"field";if(i&&(!u||"[]"===u))return t[a]="Please enter a value for ".concat(l),void("radio"!==o&&"checkbox"!==o&&"service register"!==o||(t[a]="Please select an option for ".concat(l)));if(c>0&&u&&u.length<c)t[a]="Please enter a value with at least ".concat(c," characters for ").concat(l);else if("email"!==o||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(u)){if("date"===o||"release date"===o)la()(u,"YYYY-MM-DD").isValid()||(t[a]="Invalid date");"product aspects"!==o||!u||/^[0-9a-zA-Z\s\n]+$/i.test(u)||(t[a]="Please enter alpha-numeric characters only.")}else t[a]="Invalid email address"}),t},onSubmit:function(e,t){n(t,e)}},function(e){var t=e.handleChange,n=(e.isSubmitting,e.errors),o=e.touched,c=e.setFieldValue,u=e.values,l=[];return j.a.keys(n).filter(function(e){return Boolean(o[e])}).forEach(function(e){l[e]=n[e]}),a.a.createElement(Nr.b,{className:"scroller"},i.map(function(e){var n=eo({},e),o=n.id,i=n.type,p=n.label,f=n.placeholder,m=n.options,d=(n.defaultRadioButtonValue,n.defaultCheckboxValue,n.maxLength),b=n.required,y=j.a.get(l,o,null),h=Boolean(y),v=[];if(h&&v.push("error"),["text","email","url"].includes(i))return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(Nr.a,{type:i,name:o,className:v.join(" "),placeholder:f,maxLength:d>0?d:4096})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("radio"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",{className:h?"radio-container-error radio-container":"radio-container"},m.length&&m.map(function(e,t){var n=j.a.toString(e.value)===j.a.toString(u[o]);return a.a.createElement("div",{key:t,className:"Accreditation level"===p?"accreditation-level-option radio-option":"radio-option"},a.a.createElement("label",{className:"radio-label"},a.a.createElement(Nr.a,{type:"radio",name:o,value:e.value,className:"radio",checked:n}),e.label))})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("checkbox"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",{className:h?"checkbox-container-error checkbox-container":"checkbox-container"},m.length&&m.map(function(e,t){var n=u[o]?JSON.parse(u[o]):[],r=n.includes(e.value);return a.a.createElement("div",{key:t},a.a.createElement("label",{className:"checkbox-label"},a.a.createElement("input",{type:"checkbox",name:o,className:"checkbox",checked:r,onChange:function(t){t.target.checked?n.push(e.value):n.splice(n.indexOf(e.value),1),c(o,JSON.stringify(n))}}),e.label))})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("date"===i||"release date"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(Nr.a,{name:o,render:function(e){var t=null,n=e.field.value||null;return n&&n.trim().length>0&&(t=la()(n).toDate()),a.a.createElement(pa.a,{dateFormat:"dd-MM-yyyy",className:v.join(" "),selected:t,onChange:function(e){if(e){var t=la()(e).format("YYYY-MM-DD");c(o,t)}else c(o,null)},placeholderText:f,dropdownMode:"scroll",withPortal:!0})}})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("textarea"===i||"product aspects"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(Nr.a,{name:o},function(e){var t=e.field;return a.a.createElement("textarea",$a({},t,{className:v.join(" "),placeholder:f}))}),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y))));if("rich text editor"===i)return a.a.createElement("div",{key:o,className:"field-container"},p&&a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(ya.a,{className:"implementation-evidence",initialValue:s[o],init:{selector:"textarea",height:"280",menubar:!1,plugins:"lists advlist",toolbar:"+ removeformat bold italic underline strikethrough bullist numlist",statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(e){t({target:{name:o,value:e.target.getContent()}})}}),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y))));if("service register"===i||"dropdown"===i||"information classification"===i){var g=r;return"service register"!==i&&(g=m.map(function(e){return{value:e.value,label:e.label}})),a.a.createElement("div",{key:o,className:"field-container"},p&&a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",{className:"dropdown-container"},a.a.createElement(ha.a,{name:o,options:g,defaultValue:s[o]&&g.find(function(e){return e.value===JSON.parse(s[o]).value})?JSON.parse(s[o]):"",classNamePrefix:"react-select",className:h?"react-select-error":"",maxMenuHeight:250,placeholder:"Select",onChange:function(e){t({target:{name:o,value:JSON.stringify(e)}})}})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)))}return null}),a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:ma.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),a.a.createElement("div",{className:"button-container"},a.a.createElement(ca,{title:"Next",rightIconImage:ba.a}))))})}}}])&&no(n.prototype,o),i&&no(n,i),t}();function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){uo(e,t,n[t])})}return e}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function po(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),po(this,fo(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleFormSubmit",value:function(e,t){var n=co({},this.props),r=n.questions,a=n.saveAnsweredQuestion,o=n.component,i=r.find(function(e){return!0===e.isCurrent});if(i){var s=co({},i);j.a.forIn(t,function(e,t){var n=s.inputs.findIndex(function(e){return e.id===t});n>=0&&j.a.set(s,"inputs.".concat(n,".data"),e)}),s.hasAnswer=!0,s.isApplicable=!0,a(s,o)}}},{key:"handleActionClick",value:function(e){var t=co({},this.props),n=t.questions,r=t.saveAnsweredQuestion,a=t.component,o=n.find(function(e){return!0===e.isCurrent});if(o){var i=co({},o);i.actions=i.actions.map(function(t){return t.isChose=t.id===e.id,t}),i.hasAnswer=!0,i.isApplicable=!0,r(i,a)}}},{key:"handleNextButtonClickForDisplayField",value:function(){var e=co({},this.props),t=e.questions,n=e.saveAnsweredQuestion,r=t.find(function(e){return!0===e.isCurrent});if(r){var a=co({},r);a.hasAnswer=!0,a.isApplicable=!0,n(a)}}},{key:"render",value:function(){var e=co({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=e.serviceRegister,o=e.informationClassificationTaskResult,i=e.riskProfileData,s=e.resultForCertificationAndAccreditation,c=e.handleTaskSaveDraftButtonClick,u=(e.handleTaskSubmitButtonClick,e.loadResultForCertificationAndAccreditation),l=e.component,p=t.find(function(e){return!0===e.isCurrent}),f=t.findIndex(function(e){return e.id===p.id});return a.a.createElement("div",{className:"Questionnaire mx-1"},a.a.createElement("div",{className:"major"},a.a.createElement("div",{className:"title"},"Questions"),a.a.createElement("div",{className:"form-container"},a.a.createElement($r,{questions:t,onItemClick:n,component:l}),p&&a.a.createElement(io,{index:f,key:p.id,question:p,serviceRegister:r,riskProfileData:i,resultForCertificationAndAccreditation:s,loadResultForCertificationAndAccreditation:u,informationClassificationTaskResult:o,handleTaskSaveDraftButtonClick:c,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this),handleNextButtonClickForDisplayField:this.handleNextButtonClickForDisplayField.bind(this)}))))}}])&&lo(n.prototype,o),i&&lo(n,i),t}();function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vo(e,t,n[t])})}return e}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ko(e,t){return(ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),So(this,Eo(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ko(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=ho({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=ho({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,o=ho({},this.props.submissionState),i=o.title,s=o.siteConfig,c=o.user,u=o.submission;return c&&u&&s?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==u.status?a.a.createElement("div",{className:"QuestionnaireContainer"},a.a.createElement(It,{pageTitle:i,logopath:s.logoPath}),a.a.createElement("div",{className:"questionnaire-message"},a.a.createElement("h4",null,"The questionnaire is not in progress. Please check the summary screen.")),a.a.createElement(Jt,{footerCopyrightText:s.footerCopyrightText})):c.id===u.submitter.id?a.a.createElement("div",{className:"QuestionnaireContainer"},a.a.createElement(It,{pageTitle:"New submission",logopath:s.logoPath,showSubmissionBreadcrumb:!0}),a.a.createElement(bo,{questions:u.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),a.a.createElement(Jt,{footerCopyrightText:s.footerCopyrightText})):a.a.createElement("div",{className:"QuestionnaireContainer"},a.a.createElement(It,{pageTitle:"New submission",logopath:s.logoPath}),a.a.createElement("div",{className:"questionnaire-message"},a.a.createElement("h4",null,"It appears this submission has not yet been submitted. Only the submitter can edit a submission and must submit before it can be reviewed.")),a.a.createElement(Jt,{footerCopyrightText:s.footerCopyrightText})):null}}])&&go(n.prototype,o),i&&go(n,i),t}(),Ao=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(yr(t))},dispatchSaveAnsweredQuestionAction:function(t){var n,r;e((n=t,r=br(regeneratorRuntime.mark(function e(t,r){var a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),a=r(),o=j.a.get(a,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,Ee.getCSRFToken();case 7:return i=e.sent,s=n.id,c=er.transformFromFullQuestionToData(n),e.prev=10,e.next=13,zn.updateSubmissionData({submissionID:o,questionID:s,csrfToken:i,answerData:c});case 13:t(hr(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}},e,this,[[10,16]])})),function(e,t){return r.apply(this,arguments)}))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n,r){var a,o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=o.questions.findIndex(function(e){return e.isCurrent}))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((s=o.questions.findIndex(function(t){return t.id===e.id}))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:s}),t.next=15,gr(r(),[i,s]);case 15:case"end":return t.stop()}},t,this)})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Oo),To=n(117),wo=n.n(To);function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t){return!t||"object"!==Co(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ro=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),No(this,Po(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jo(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_o(e,t,n[t])})}return e}({},this.props).questions;return a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement("div",{className:"questions"},t.map(function(t,n,r){var o=e.renderData(t);return a.a.createElement("div",{className:"row",key:t.id},a.a.createElement("div",{className:"col"},a.a.createElement("b",null,n+1,". ",t.heading)),a.a.createElement("div",{className:"vertical-divider"}),a.a.createElement("div",{className:"col"},o))})))}},{key:"renderData",value:function(e){if(!e.isApplicable){return a.a.createElement("div",null,"(Not applicable)")}if(!e.hasAnswer){return a.a.createElement("div",null,"(Has no answer)")}if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=la()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),a=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=a.join(", ")}return t};return e.inputs.length>1?a.a.createElement("div",null,e.inputs.map(function(e){var n=t(e);return a.a.createElement("div",{key:e.id},a.a.createElement("b",null,e.label),"",a.a.createElement("span",null,"-"),"",a.a.createElement("span",null,n))})):a.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=j.a.head(e.actions.filter(function(e){return e.isChose}));return a.a.createElement("div",null,n&&a.a.createElement("div",null,n.label))}}}])&&Io(n.prototype,o),i&&Io(n,i),t}();function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return!t||"object"!==Do(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t){return(Fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lo(this,Mo(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fo(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xo(e,t,n[t])})}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,o=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,s=e.handleEditAnswerButtonClick;if(!t)return null;var c=a.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),u=a.a.createElement("div",{className:"buttons"},a.a.createElement(Un,{title:"Edit",iconImage:Ra.a,classes:["button"],onClick:s}),a.a.createElement(Un,{title:"PDF",iconImage:wo.a,classes:["button"],onClick:i}),a.a.createElement(ca,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:er.existsUnansweredQuestion(t.questions),onClick:o})),l=a.a.createElement("div",{className:"buttons"},a.a.createElement(Un,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return D.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return a.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&c,a.a.createElement(Ro,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&u,"submitter"!==n&&l)}}])&&Uo(n.prototype,o),i&&Uo(n,i),t}(),Qo=n(136),qo=n.n(Qo),Ho=n(231),Vo=n.n(Ho);function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ko=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&Jo(t.prototype,n),r&&Jo(t,r),e}(),Go=n(175),Yo=n.n(Go),Wo=n(137),zo=n.n(Wo);function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$o(e,t,n[t])})}return e}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ti(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function ni(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ti(o,r,a,i,s,"next",e)}function s(e){ti(o,r,a,i,s,"throw",e)}i(void 0)})}}function ri(e){return ai.apply(this,arguments)}function ai(){return(ai=ni(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.addEventListener("load",function(t){e(t.target.result)}),n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function oi(e){return ii.apply(this,arguments)}function ii(){return(ii=ni(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,ri(r);case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var si=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"downloadCertificate",value:function(){var e=ni(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vo.a.pdfMake.vfs,qo.a.vfs=n,r=Zo({},t),a=r.siteConfig,o={defaultStyles:{h5:{fontSize:10,marginTop:10},h3:{fontSize:12},p:{margin:[0,1,0,5]}}},e.next=6,oi(a.pdfHeaderImageLink);case 6:return i=e.sent,e.next=9,Yo()(document.getElementById("risk-container"),{scale:3}).then(function(e){return e.toDataURL("image/jpeg",1)});case 9:return s=e.sent,e.next=12,Yo()(document.getElementById("recommendations-table"),{scale:3}).then(function(e){return e.toDataURL("image/jpeg",1)});case 12:return c=e.sent,e.next=15,Yo()(document.getElementById("task-container"),{scale:3}).then(function(e){return e.toDataURL("image/jpeg",1)});case 15:return u=e.sent,l=zo()(document.getElementsByClassName("report-heading-left-container")[0].innerHTML,o),p=zo()(document.getElementsByClassName("report-intro-container")[0].innerHTML,o),f=zo()(document.getElementById("certificate-container").innerHTML,o),m=zo()(document.getElementById("risk-profile").innerHTML,o),d={pageSize:"A4",pageMargins:[50,70,50,40],header:{image:i,alignment:"center",width:500},content:[l,p,f,m,{image:s,fit:[750,750],margin:[0,0,0,20]},{image:c,fit:[750,750],margin:[0,0,0,20]},{image:u,fit:[750,750],margin:[0,0,0,20]}],pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1},defaultStyle:{fontSize:9}},b={title:"Certification & Accreditation Report.pdf"},e.prev=22,e.next=25,qo.a.createPdf(d).download(b.title);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(22),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 30:case"end":return e.stop()}},e,this,[[22,27]])}));return function(t){return e.apply(this,arguments)}}()},{key:"generatePDF",value:function(){var e=ni(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d,b,y,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zo({},t),r=n.questions,a=n.submitter,o=n.questionnaireTitle,i=n.siteConfig,s=n.result,c=n.riskResults,l=[],p={questionnaireTitle:{bold:!0,fontSize:(u=12)+4,color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:u,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:u+2,color:"#004071"},questionHeading:{bold:!0}},f={fontSize:u},m={title:"".concat(o," - ").concat(a.name,".pdf")},d=Vo.a.pdfMake.vfs,qo.a.vfs=d,e.next=10,oi(i.pdfHeaderImageLink);case 10:return b=e.sent,l.push({image:b,width:500,margin:[0,0,0,u]}),l.push({text:o,style:"questionnaireTitle",margin:[0,0,0,u/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*u]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"Name: ".concat(a.name),style:"questionHeading",margin:[0,0,0,u/2]}),l.push({text:"Email: ".concat(a.email),margin:[0,0,0,2*u]}),s&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"".concat(s),margin:[0,0,0,2*u]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,u]}),r.forEach(function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,u/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=la()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),a=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=a.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach(function(e,t,r){var a=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(Ko.toString(n(e))),margin:[0,0,0,a?u:parseInt("".concat(u/3))]})}):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,u]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=j.a.head(e.actions.filter(function(e){return e.isChose}));l.push({text:r.label,margin:[0,0,0,u]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,u]});else l.push({text:"(Not applicable)",margin:[0,0,0,u]})}),"object"===Xo(c)&&c.length>0&&(y=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],c.forEach(function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),y.push([{text:e.riskName},e.weights,e.score,n])}),l.push({table:{headerRows:1,widths:[237,75,75,75],body:y},width:500,margin:[0,0,0,u]})),e.next=23,oi(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,u]}),e.prev=25,e.next=28,qo.a.createPdf({info:m,content:l,styles:p,defaultStyle:f}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}},e,this,[[25,30]])}));return function(t){return e.apply(this,arguments)}}()},{key:"blobToDataURL",value:function(){var e=ni(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&ei(t.prototype,n),r&&ei(t,r),e}();function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){li(e,t,n[t])})}return e}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fi(e,t){return!t||"object"!==ci(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function di(e,t){return(di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fi(this,mi(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&di(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=ui({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=ui({},this.props).secureToken,t=ui({},this.props.submissionState),n=(t.title,t.siteConfig),r=t.user,o=t.submission,i=t.isCurrentUserApprover,s=t.isCurrentUserABusinessOwnerApprover;if(!r||!n)return null;var c="others";do{if(r.id===o.submitter.id){c="submitter";break}if(i){c="approver";break}if(s&&"waiting_for_approval"==o.status){c="businessOwnerApprover";break}}while(0);return a.a.createElement("div",{className:"ReviewContainer"},a.a.createElement(It,{pageTitle:"Review responses",logopath:n.logoPath}),a.a.createElement(Bo,{siteTitle:n.siteTitle,viewAs:c,submission:o,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),a.a.createElement(Jt,{footerCopyrightText:n.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=ui({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&si.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=j.a.get(this.props.submissionState,"submission.submissionUUID","");e&&D.redirectToQuestionnaireEditing(e)}}])&&pi(n.prototype,o),i&&pi(n,i),t}(),yi=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(yr(t))},dispatchSubmitQuestionnaire:function(){var t;e((t=br(regeneratorRuntime.mark(function e(t,n){var r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),a=r.questionnaireState.submissionState,o=a.submission){e.next=6;break}return e.abrupt("return");case 6:if(!er.existsUnansweredQuestion(o.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,Ee.getCSRFToken();case 11:return i=e.sent,e.next=14,zn.submitQuestionnaire({submissionID:o.submissionID,csrfToken:i});case 14:s=e.sent,c=s.uuid,D.redirectToQuestionnaireSummary(c),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)}))}}})(bi);function hi(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function vi(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){hi(o,r,a,i,s,"next",e)}function s(e){hi(o,r,a,i,s,"throw",e)}i(void 0)})}}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Si=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchCurrentUser",value:function(){var e=vi(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsAccreditationAuthority\n    IsCertificationAuthority\n  }\n}',e.next=3,F.request({query:'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsAccreditationAuthority\n    IsCertificationAuthority\n  }\n}'});case 3:if(t=e.sent,n=j.a.get(t,"data.readMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=Vn.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMembers",value:function(){var e=vi(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}',e.next=3,F.request({query:'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}'});case 3:if(t=e.sent,n=j.a.get(t,"data.readMember",null)){e.next=7;break}throw new Error("Authenticate error");case 7:return r=Vn.parserMemberFromJSON(n),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&gi(t.prototype,n),r&&gi(t,r),e}();function Ei(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function ki(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ei(o,r,a,i,s,"next",e)}function s(e){Ei(o,r,a,i,s,"throw",e)}i(void 0)})}}function Oi(){return function(){var e=ki(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Si.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ti(){return(Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _i(e,t){return!t||"object"!==Ai(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ni(e,t){return(Ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_i(this,Ii(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ni(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(Cn,Ti({},this.props,{classes:["RedButton"].concat(wi(this.props.classes))}))}}])&&Ci(n.prototype,o),i&&Ci(n,i),t}();Pi.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var ji=Pi,Ri=n(462),Di=n.n(Ri),xi=n(463),Ui=n.n(xi),Li=n(73),Mi=n.n(Li),Fi=n(464),Bi=n.n(Fi);function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t){return!t||"object"!==Qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vi(this,Ji(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qi(e,t,n[t])})}return e}({},this.props),t=e.riskResults,n=e.hideWeightsAndScore;return t&&0!==t.length?a.a.createElement("div",{className:"risk-result-container"},a.a.createElement("h4",null,"Risk Result"),a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"risk_table_header"},a.a.createElement("th",null,"Risk Name"),!n&&a.a.createElement("th",null,"Weights"),!n&&a.a.createElement("th",null,"Score"),a.a.createElement("th",null,"Initial Rating"),a.a.createElement("th",null,"Description"))),a.a.createElement("tbody",null,t.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.riskName),!n&&a.a.createElement("td",null,e.weights),!n&&a.a.createElement("td",null,e.score),a.a.createElement("td",{style:{backgroundColor:"#"+e.colour,minWidth:"125px"}},e.rating),a.a.createElement("td",null,e.description))}))))):null}}])&&Hi(n.prototype,o),i&&Hi(n,i),t}();n(756);function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter(function(e){return"security risk assessment"===e.taskType&&"complete"===e.status}).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter(function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)}).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return a.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&Yi(t.prototype,n),r&&Yi(t,r),e}();function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(e,t){return!t||"object"!==zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $i(e){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function es(e,t){return(es=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ts=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zi(this,$i(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&es(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",a.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&Xi(n.prototype,o),i&&Xi(n,i),t}(),ns=n(465),rs=n.n(ns),as=n(847);function os(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var is=function(e){e.approvedBy,e.prettifyStatus,e.getRedirectUrlForTask;var t=e.unfinshedRQTaskMessage,n=e.taskTableData,o=e.uuid,i=e.component,s=e.tasks,c=(e.token,os(Object(r.useState)(!1),2)),u=c[0],l=c[1];return a.a.createElement(a.a.Fragment,{key:"".concat(i,"_").concat(o)},a.a.createElement("tr",{className:"tr-accordion",onClick:function(){l(!u)}},a.a.createElement("td",{colSpan:6},a.a.createElement("div",{className:"task-table-title-data"},a.a.createElement("img",{alt:"chevron",className:u?"td-chevron rotate":"td-chevron",src:Mi.a}),i))),s.map(function(e){return n(e,t,u?"tr-expanded":"tr-hidden",i)}))};function ss(e){return(ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function us(e,t){return!t||"object"!==ss(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ps(e,t){return(ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ms(e,t,n[t])})}return e}function ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ds=function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},bs=function(e,t){if(e)return"pending"==e?"Awaiting approval":"not_required"==e?"Not required":"approved"==e&&"Certification Authority"==t?"Certification granted":"denied"==e&&"Certification Authority"==t?"Certification denied":"approved"==e&&"Accreditation Authority"==t?"Accreditation issued":"denied"==e&&"Accreditation Authority"==t?"Accreditation denied":"denied"==e?"Not approved":ds(e)},ys=function(e,t,n,r){var a=D.redirectToTaskSubmission(e,t,"urlString",r);return"selection"===n&&(a=D.redirectToComponentSelectionSubmission(e,t,"urlString",r)),"security risk assessment"===n&&(a=D.redirectToSecurityRiskAssessment(e,t,"urlString",r)),"control validation audit"===n&&(a=D.redirectToControlValidationAudit(e,t,"urlString",r)),a},hs=function(e){var t=Ca.a;return"in_progress"==e&&(t=Ta.a),"waiting_for_approval"==e&&(t=Oa.a),"approved"!=e&&"complete"!=e||(t=ga.a),"denied"==e&&(t=Ea.a),t},vs=function(e,t,n,r){var o=fs({},e),i=o.uuid,s=o.token,c=o.taskName,u=o.taskType,l=o.status,p=o.approver,f=o.isTaskApprovalRequired,m=o.timeToComplete,d=o.timeToReview,b=o.canTaskCreateNewTasks,y=a.a.createElement(ne.a,{to:ys(i,s,u,r)},a.a.createElement("img",{src:Mi.a}));return a.a.createElement("tr",{key:i,className:r?n:""},a.a.createElement(a.a.Fragment,null,a.a.createElement("td",{className:r?"tr-taskName":"task-table-title-data"},c,b?a.a.createElement("span",{className:"multiple-tasks-created"}," *"):null),a.a.createElement("td",null,m),a.a.createElement("td",null,f?p.name:"No approval needed"),a.a.createElement("td",null,d),a.a.createElement("td",null,a.a.createElement("img",{src:hs(l)}),a.a.createElement("span",{className:"task-status"},ds("start"==l?"To do":l))),a.a.createElement("td",null,t&&"security risk assessment"===u?null:y)))},gs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=us(this,ls(t).call(this,e))).handleChangeForAccreditationPeriod=function(e){return n.setState({accreditationPeriod:e})},n.state={skipBoAndCisoApproval:!1,enableApproveButton:!0,showModal:!1,selectedCollaborators:e.submission.collaborators,accreditationPeriod:""},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ps(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){""!==this.getAcknowledgeText()&&this.setState({enableApproveButton:!1})}},{key:"getAcknowledgeText",value:function(){if(this.props.submission.isCertificationAndAccreditationTaskExists){if("businessOwnerApprover"===this.props.viewAs&&this.props.submission.businessOwnerAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.businessOwnerAcknowledgementText);if("approver"===this.props.viewAs){if(this.props.user.isCertificationAuthority&&this.props.submission.certificationAuthorityAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.certificationAuthorityAcknowledgementText);if(this.props.user.isAccreditationAuthority&&this.props.submission.accreditationAuthorityAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.accreditationAuthorityAcknowledgementText)}}return""}},{key:"replaceAcknowledgementText",value:function(e){var t=this,n=e;if(!this.props.user.isAccreditationAuthority)return a.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}});var r=this.props.submission.taskSubmissions.filter(function(e){return"certification and accreditation"===e.taskType}),o=JSON.parse(r[0].resultForCertificationAndAccreditation),i=o.accreditationPeriod+" (recommended)",s=a.a.createElement(ha.a,{options:[{value:"1 month",label:"1 month"},{value:"3 months",label:"3 months"},{value:"6 months",label:"6 months"},{value:"9 months",label:"9 months"},{value:"12 months",label:"12 months"},{value:"18 months",label:"18 months"},{value:"24 months",label:"24 months"}],defaultValue:{label:i,value:o.accreditationPeriod},className:"react-select-container",classNamePrefix:"react-select",placeholder:o.accreditationPeriod,maxMenuHeight:110,onChange:function(e){return t.handleChangeForAccreditationPeriod(e.value)}}),c=n.split(o.accreditationPeriod);return a.a.createElement("div",{className:"acknowledgement-text-for-accreditation-authority"},a.a.createElement("div",{className:"acknowledgement-text-before-dropdown",dangerouslySetInnerHTML:{__html:c[0]}}),a.a.createElement("div",{className:"acknowledgement-text-dropdown"},s),a.a.createElement("div",{className:"acknowledgement-text-after-dropdown",dangerouslySetInnerHTML:{__html:c.slice(1)}}))}},{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter(function(e){return"risk questionnaire"===e.taskType});if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach(function(e,t){"selection"===e.taskType&&(n=!0)}),n}},{key:"handleAddCollaboratorsModalButtonClick",value:function(){this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators),this.handleCloseModalForCollaborators()}},{key:"handleOpenModalForCollaborators",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModalForCollaborators",value:function(){this.setState({showModal:!1}),this.setState({selectedCollaborators:this.props.submission.collaborators})}},{key:"handleChangeForCollaborators",value:function(e){this.setState({selectedCollaborators:e})}},{key:"render",value:function(){var e=fs({},this.props),t=e.submission,n=e.viewAs,r=e.user,o=e.members;return t&&o?"in_progress"===t.status&&"submitter"===n?a.a.createElement("div",{className:"Summary"},a.a.createElement("h4",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?a.a.createElement(ts,null):a.a.createElement("div",{className:"Summary"},a.a.createElement("h3",null,"Submission details"),this.renderSubmissionDetails(t),this.renderCollboratorsAndComponentsInfo(t,o),this.renderTasks(t),this.renderApprovals(t),a.a.createElement(Gi,{riskResults:t.riskResults,hideWeightsAndScore:t.hideWeightsAndScore}),this.renderSkipCheckbox(t,n,r),this.renderAcknowledgements(t,n,r),this.renderButtons(t)):null}},{key:"renderCollboratorsModal",value:function(e,t){return a.a.createElement(xa.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".Summary")}},a.a.createElement("div",{className:"collaborator-model-title"},a.a.createElement("span",null,a.a.createElement("h4",null,"Add Collaborators")),a.a.createElement(as.a,{"aria-label":"close",component:"span",className:"collaborator-model-close icon-gray",onClick:this.handleCloseModalForCollaborators.bind(this)},a.a.createElement(rs.a,null))),a.a.createElement("div",{className:"content"},"Start typing names, to add them as collaborators for your submission."),a.a.createElement("div",{className:"content"},a.a.createElement(ha.a,{options:t,defaultValue:e.collaborators,isMulti:!0,maxMenuHeight:200,onChange:this.handleChangeForCollaborators.bind(this)})),a.a.createElement("div",null,a.a.createElement(ca,{title:"Add",onClick:this.handleAddCollaboratorsModalButtonClick.bind(this)})))}},{key:"renderSubmissionDetails",value:function(e){var t=e.submitter,n=ds(e.status),r=Oa.a;"Submitted"==n&&er.existsIncompleteTaskSubmission(e.taskSubmissions)?(n="Tasks to complete",r=Ui.a):"Submitted"!=n||er.existsIncompleteTaskSubmission(e.taskSubmissions)||(n="Ready to submit",r=Di.a),"In progress"==n&&(r=Ta.a),"Approved"==n&&(r=ga.a),"Denied"==n&&(r=Ea.a);var o=e.productName;return""==o&&(o="Product Name: Please add a product name"),a.a.createElement("div",{className:"submission-details-container"},a.a.createElement("div",{className:"submission-detail-left-container"},a.a.createElement("div",null,a.a.createElement("span",{className:"product-name"},o)),a.a.createElement("span",null,e.questionnaireTitle),a.a.createElement("div",{className:"submitter-name-created-date-row"},a.a.createElement("span",{className:"submission-details-label"},"Submission created: "),a.a.createElement("span",{className:"submission-details-data"},la()(e.created).format("DD/MM/YYYY"))),a.a.createElement("div",null,a.a.createElement("span",{className:"submission-details-label"},"Go live date: "),a.a.createElement("span",{className:"submission-details-data"},e.releaseDate?la()(e.releaseDate).format("DD/MM/YYYY"):""))),a.a.createElement("div",{className:"submission-detail-right-container"},a.a.createElement("div",null,a.a.createElement("span",{className:"submission-status"},a.a.createElement("img",{src:r}),n)),a.a.createElement("div",{className:"submitter-name-created-date-row"},a.a.createElement("span",{className:"submission-details-label"},"Submitted by: "),a.a.createElement("span",{className:"submission-details-data"},t.name)),a.a.createElement("div",null,a.a.createElement("span",{className:"submission-details-label"},"Email: "),a.a.createElement("span",{className:"submission-details-data"},t.email))))}},{key:"renderCollboratorsInfo",value:function(e,t){return a.a.createElement("div",{className:"collaborators-container"},a.a.createElement("h4",null,"Collaborators"),a.a.createElement("div",{className:"collaborator-message"},"You can add people to help complete your submission. Please contact the",a.a.createElement("a",{href:"mailto:"+this.props.securityTeamEmail},"security team"),"for more information."),e.collaborators.length>0&&a.a.createElement("div",null,e.collaborators.map(function(e,t){var n=e.label;return a.a.createElement("div",{className:"collaborator-name",key:t},n)})),"submitter"===this.props.viewAs&&a.a.createElement("div",null,a.a.createElement("button",{className:"btn add-collaborators-btn",onClick:this.handleOpenModalForCollaborators.bind(this)},a.a.createElement("img",{src:Ia.a})," Add collaborators")),this.renderCollboratorsModal(e,t))}},{key:"renderComponentsInfo",value:function(e){var t=e.productAspects;return a.a.createElement("div",{className:t.length>0?"components-container":"hide-components-container"},a.a.createElement("h4",null,"Components"),a.a.createElement("div",null,"Please specify if there are multiple components impacted for this submission. This will help group your tasks per component."),a.a.createElement("div",null,t.map(function(e,t){return a.a.createElement("div",{className:"component-name",key:t},e)})))}},{key:"renderCollboratorsAndComponentsInfo",value:function(e,t){return a.a.createElement("div",{className:"collaborators-components-container"},this.renderCollboratorsInfo(e,t),this.renderComponentsInfo(e))}},{key:"addProductAspectsToTaskSubmissions",value:function(e,t){return t.map(function(t){if(t.createOnceInstancePerComponent){var n=Object.assign({},t);return n.productAspect=e,n}}).filter(function(e){return void 0!==e})}},{key:"renderTasks",value:function(e){var t=e.taskSubmissions,n=e.productAspects,r=fs({},this.props).token,o=Wi.isSRATaskFinalised(e.taskSubmissions);if(0===t.length)return null;var i=[],s=[],c=[],u=t;n&&n.length>0&&(t.map(function(e){!0===e.createOnceInstancePerComponent?i.push(e):s.push(e)}),i.length>0&&(n.map(function(e){var t=i.map(function(t){if(t.createOnceInstancePerComponent&&t.answerData){var n=JSON.parse(t.answerData).filter(function(t){return t.productAspect===e}),r=Object.assign({},t);return r.status=n[0]?n[0].status:"start",r}return t});c.push({component:e,tasks:t})}),u=s.concat(c)));var l=this.unfinishedTaskSubmissionMessage()?a.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return a.a.createElement("div",{className:"tasks-container"},a.a.createElement("h4",null,"Tasks"),a.a.createElement("div",{className:"task-instruction-message"},"Please complete the tasks below. Note the tasks marked with a red asterisk (",a.a.createElement("span",{className:"multiple-tasks-created"},"*"),") may create new tasks, depending on your answers."),l,o?Wi.getSraIsFinalisedAlert():null,a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:"task-thead"},a.a.createElement("tr",{className:"task-table-header"},a.a.createElement("th",null,"Task"),a.a.createElement("th",{className:"completion-time-col"},"Time to complete"),a.a.createElement("th",null,"Approved by"),a.a.createElement("th",null,"Time to review"),a.a.createElement("th",null,"Task status"),a.a.createElement("th",null))),a.a.createElement("tbody",null,u.map(function(e){return e.component&&e.tasks.length>0?a.a.createElement(is,{key:"accordion_".concat(e.component,"_").concat(e.uuid),tasks:e.tasks,component:e.component,prettifyStatus:ds,getRedirectUrlForTask:ys,token:r,taskTableData:vs,unfinshedRQTaskMessage:l}):vs(e,l)})))))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,o=e.certificationAuthorityApprover,i=e.accreditationAuthorityApprover,s=bs(t.securityArchitect),c="Unassigned";n.firstName&&(c=n.firstName+" "+n.surname);var u=bs(t.chiefInformationSecurityOfficer),l="Unassigned";r.firstName&&(l=r.firstName+" "+r.surname);var p=bs(t.businessOwner),f=[{role:"Security Architect",name:c,status:s},{role:"Chief Information Security Officer",name:l,status:u},{role:"Business Owner",name:e.businessOwnerApproverName?e.businessOwnerApproverName:"Unassigned",status:p}];if(this.props.submission.isCertificationAndAccreditationTaskExists){var m=bs(t.certificationAuthority,"Certification Authority"),d="Unassigned";o.firstName&&(d=o.firstName+" "+o.surname);var b=bs(t.accreditationAuthority,"Accreditation Authority"),y="Unassigned";i.firstName&&(y=i.firstName+" "+i.surname),f.push({role:"Certification Authority",name:d,status:m},{role:"Accreditation Authority",name:y,status:b})}return a.a.createElement("div",{className:"submission-approval-container"},a.a.createElement("h4",null,"Submission approvals"),a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:"submission-approval-thead"},a.a.createElement("tr",{key:"approval_table_header"},a.a.createElement("th",null,"Role"),a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Approval status"))),a.a.createElement("tbody",null,f.map(function(e,t){var n=e.status,r=Oa.a;return"Approved"!=n&&"Certification granted"!=n&&"Accreditation issued"!=n||(r=ga.a),"Not approved"!=n&&"Certification denied"!=n&&"Accreditation denied"!=n&&"Not required"!=n||(r=Ea.a),a.a.createElement("tr",{key:t+1},a.a.createElement("td",{className:"table-title-data"},e.role),a.a.createElement("td",{className:"Unassigned"==e.name?"unassigned-approver":""},e.name),a.a.createElement("td",null,a.a.createElement("img",{src:r}),a.a.createElement("span",{className:"approval-status"}," ",n," ")))})))))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?a.a.createElement("div",{className:"sub-container"},a.a.createElement("h4",null,"Skip Business Owner and CISO approval"),a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}})," This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}},{key:"renderAcknowledgements",value:function(e,t,n){var r=this;if(!e.isCertificationAndAccreditationTaskExists)return null;var o=this.getAcknowledgeText();return""!==o?a.a.createElement("div",{className:"acknowledgement-container"},a.a.createElement("h4",null,"Acknowledgements"),a.a.createElement("div",{className:"sub-container"},a.a.createElement("div",{className:"form-check"},a.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:this.state.enableApproveButton,onChange:function(e){r.setState({enableApproveButton:e.target.checked})}}),a.a.createElement("label",{className:"form-check-label"},o)))):null}},{key:"renderButtons",value:function(e){var t=this,n=fs({},this.props),r=n.user,o=n.viewAs,i=(n.showNotApproveButton,n.token),s=n.handleSubmitButtonClick,c=n.handlePDFDownloadButtonClick,u=n.handleSendBackForChangesButtonClick,l=n.handleApproveButtonClick,p=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,m=n.handleEditButtonClick,d=n.handleGrantCertificationButtonClick,b=n.handleDenyCertificationButtonClick,y=n.handleIssueAccreditationButtonClick,h=n.handleDenyAccreditationButtonClick,v=a.a.createElement(Un,{title:"PDF",iconImage:wo.a,classes:["button"],onClick:c}),g=r?a.a.createElement(Un,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return D.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===o){var S=a.a.createElement(Un,{title:"Edit",iconImage:Ra.a,classes:["button"],onClick:m}),E=a.a.createElement(ca,{title:"Submit for approval",iconImage:Bi.a,classes:["button"],disabled:er.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:s});return"submitted"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},S,v),a.a.createElement("div",{className:"buttons-right"},E)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,S,v),a.a.createElement("div",null)):a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,v),a.a.createElement("div",null))}if("approver"===o||"businessOwnerApprover"===o){var k=a.a.createElement(Un,{title:"Assign to Me",classes:["button"],onClick:p}),O=(a.a.createElement(Un,{title:"Send back for changes",classes:["button"],onClick:function(){return u()}}),"Approve");r.isSA&&(O="Endorsed"),r.isCISO&&(O="Recommend Approval"),"businessOwnerApprover"===o&&(O="Accept risks and approve");var A=a.a.createElement(ca,{title:O,classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return l(t.state.skipBoAndCisoApproval)}}),T="Not approved";r.isSA&&(T="Not endorsed"),r.isCISO&&(T="Recommend Rejection");var w=a.a.createElement(ji,{title:T,classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}}),C=a.a.createElement(ca,{title:"Grant Certification",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return d()}}),_=a.a.createElement(ji,{title:"Deny Certification",classes:["button"],onClick:function(){return b()}}),I=a.a.createElement(ca,{title:"Issue Accreditation",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return y(t.state.accreditationPeriod)}}),N=a.a.createElement(ji,{title:"Deny Accreditation",classes:["button"],onClick:function(){return h()}});return"submitted"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,g,v),a.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},k),a.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),w,A)):!r.isCertificationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_certification"!==e.status?!r.isAccreditationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_accreditation"!==e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),w,A)):a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),N,I)):a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),_,C))}return a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,g,v),a.a.createElement("div",null))}}])&&cs(n.prototype,o),i&&cs(n,i),t}();gs.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleSendBackForChangesButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},handleCollaboratorAddButtonClick:function(){},handleGrantCertificationButtonClick:function(){},handleDenyCertificationButtonClick:function(){},handleIssueAccreditationButtonClick:function(){},handleDenyAccreditationButtonClick:function(){},viewAs:"others",showNotApproveButton:!1,token:"",user:null,members:null,securityTeamEmail:""};var Ss=gs;function Es(e){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Os(e,t,n[t])})}return e}function Os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t){return!t||"object"!==Es(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ws(e){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cs(e,t){return(Cs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _s=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ts(this,ws(t).call(this))).state={showModal:!1},e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cs(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=ks({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken),this.props.dispatchLoadMembersAction()}},{key:"render",value:function(){var e=ks({},this.props),t=e.secureToken,n=e.loadingState,r=e.members,o=ks({},this.props.submissionState),i=(o.location,o.title,o.user),s=o.submission,c=o.isCurrentUserApprover,u=o.isCurrentUserABusinessOwnerApprover,l=o.siteConfig;if(!(i&&s&&l&&r))return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var p="others",f=!1;!i.isSA||i.isCISO||u||(f=!0);do{if(i.id===s.submitter.id){p="submitter";break}if(u&&"waiting_for_approval"==s.status){p="businessOwnerApprover";break}if(c){p="approver";break}}while(0);var m=!1,d=!1,b=!1;return s.collaborators.some(function(e){return e.value===parseInt(i.id)})&&(m=!0),("submitter"==p||m)&&(d=!0),d||(i.isSA||i.isCISO||s.isBusinessOwner||i.isAccreditationAuthority||i.isCertificationAuthority)&&(b=!0),a.a.createElement("div",{className:"SummaryContainer"},a.a.createElement(It,{pageTitle:s.productName?s.productName:"Product",logopath:l.logoPath,productName:s.productName,showSubmissionBreadcrumb:d,showApprovalBreadcrumb:b}),a.a.createElement(Ss,{submission:s,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),handleCollaboratorAddButtonClick:this.handleCollaboratorAddButtonClick.bind(this),handleGrantCertificationButtonClick:this.handleGrantCertificationButtonClick.bind(this),handleDenyCertificationButtonClick:this.handleDenyCertificationButtonClick.bind(this),handleIssueAccreditationButtonClick:this.handleIssueAccreditationButtonClick.bind(this),handleDenyAccreditationButtonClick:this.handleDenyAccreditationButtonClick.bind(this),viewAs:p,user:i,token:t,members:r,showNotApproveButton:f,securityTeamEmail:l.securityTeamEmail}),a.a.createElement(Jt,{footerCopyrightText:l.footerCopyrightText}),a.a.createElement(xa.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},a.a.createElement("h3",null,"Are you sure you want to edit this submission?"),a.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),a.a.createElement("div",null,a.a.createElement(ca,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),a.a.createElement(Un,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=ks({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),si.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=ks({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ks({},this.props).secureToken,n=ks({},this.props.submissionState),r=n.user,a=n.submission,o=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&a&&(i&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerApproveSubmissionAction(a.submissionID,t):o&&this.props.dispatchApproveSubmissionAction(a.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ks({},this.props).secureToken,n=ks({},this.props.submissionState),r=n.user,a=n.submission,o=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&a&&(i&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerDenySubmissionAction(a.submissionID,t):o&&this.props.dispatchDenySubmissionAction(a.submissionID,e))}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=ks({},this.props.submissionState),t=e.user,n=e.submission,r=e.isCurrentUserApprover;t&&n&&r&&this.props.dispatchSendBackForChangesSubmissionAction(n.submissionID)}},{key:"handleAssignToMeButtonClick",value:function(){var e=ks({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=ks({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleCollaboratorAddButtonClick",value:function(e){var t=ks({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchAddCollaboratorAction(r.submissionID,e)}},{key:"handleGrantCertificationButtonClick",value:function(){var e=ks({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchGrantCertificationAction(n.submissionID)}},{key:"handleDenyCertificationButtonClick",value:function(){var e=ks({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyCertificationAction(n.submissionID)}},{key:"handleIssueAccreditationButtonClick",value:function(e){var t=ks({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchIssueAccreditationAction(r.submissionID,e)}},{key:"handleDenyAccreditationButtonClick",value:function(){var e=ks({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyAccreditationAction(n.submissionID)}}])&&As(n.prototype,o),i&&As(n,i),t}(),Is=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState,members:e.memberState}},function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(yr(t,n))},dispatchLoadMembersAction:function(){var t;e((t=ki(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Si.fetchMembers();case 3:n=e.sent,r={type:l.USER.LOAD_MEMBER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(e){return t.apply(this,arguments)}))},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return n=br(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,zn.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:o,secureToken:t});case 6:i=n.sent,s=i.uuid,r(yr(s,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return n=br(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,zn.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:o,secureToken:t});case 6:i=n.sent,s=i.uuid,r(yr(s,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,zn.submitQuestionnaireForApproval({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,n(yr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,zn.editQuestionnaireSubmission({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,D.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return n=br(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,zn.approveQuestionnaireSubmission({submissionID:e,csrfToken:o,skipBoAndCisoApproval:t});case 6:i=n.sent,s=i.uuid,r(yr(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return n=br(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,zn.denyQuestionnaireSubmission({submissionID:e,csrfToken:o,skipBoAndCisoApproval:t});case 6:i=n.sent,s=i.uuid,r(yr(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSendBackForChangesSubmissionAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,zn.updateQuestionnaireStatusToSendBackForChanges({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,n(yr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAssignToMeAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,zn.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,n(yr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddCollaboratorAction:function(t,n){e(function(e,t){return n=br(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee.getCSRFToken();case 2:return o=n.sent,n.prev=3,n.next=6,zn.addCollaborator(e,t,o);case 6:i=n.sent,s=i.uuid,r(yr(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[3,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchGrantCertificationAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,zn.grantCertification(e,a);case 6:o=t.sent,i=o.uuid,n(yr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyCertificationAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,zn.denyCertification(e,a);case 6:o=t.sent,i=o.uuid,n(yr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchIssueAccreditationAction:function(t,n){e(function(e,t){return n=br(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee.getCSRFToken();case 2:return o=n.sent,n.prev=3,n.next=6,zn.issueAccreditation(e,o,t);case 6:i=n.sent,s=i.uuid,r(yr(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[3,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenyAccreditationAction:function(t){e(function(e){return t=br(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,zn.denyAccreditation(e,a);case 6:o=t.sent,i=o.uuid,n(yr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(_s),Ns=n(466),Ps=n.n(Ns);function js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rs(e,t,n[t])})}return e}function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ds(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function xs(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ds(o,r,a,i,s,"next",e)}function s(e){Ds(o,r,a,i,s,"throw",e)}i(void 0)})}}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ls=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"loadAvailableComponents",value:function(){var e=xs(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map(function(e){return ar.parseFromJSONObject(e)}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createJiraTickets",value:function(){var e=xs(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=js({},t),r=n.jiraKey,a=n.componentIDList,o=n.csrfToken,i=a.map(function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')}),s="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,F.request({query:s,csrfToken:o});case 5:if(c=e.sent,u=O()(c,"data",null)){e.next=9;break}throw B;case 9:return l=Ps()(a.map(function(e){var t="createJiraTicket".concat(e),n=O()(u,t,null);return n?{id:T()(O()(n,"ID","")),jiraKey:T()(O()(n,"JiraKey","")),link:T()(O()(n,"TicketLink",""))}:null})),e.abrupt("return",l);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Us(t.prototype,n),r&&Us(t,r),e}();function Ms(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Fs(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ms(o,r,a,i,s,"next",e)}function s(e){Ms(o,r,a,i,s,"throw",e)}i(void 0)})}}function Bs(){return function(){var e=Fs(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ls.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function Qs(e,t){return function(){var n=Fs(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(a);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function qs(e,t){return function(){var n=Fs(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(a);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function Hs(e){return function(){var t=Fs(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function Vs(e){return function(){var t=Fs(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function Js(e){var t=e.selectedComponents.map(function(e){return e.isSaved=!0,e});return function(){var e=Fs(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function Ks(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Gs(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ys(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Gs(o,r,a,i,s,"next",e)}function s(e){Gs(o,r,a,i,s,"throw",e)}i(void 0)})}}function Ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zs(e,t,n[t])})}return e}function zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xs(e){var t=Ws({},e),n=t.uuid,r=t.secureToken,a=t.type,o=t.component;return function(){var e=Ys(regeneratorRuntime.mark(function e(t){var i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fr.fetchTaskSubmission({uuid:n,secureToken:r,component:o});case 3:return i=e.sent,s={type:l.TASK.LOAD_TASK_SUBMISSION,payload:i},e.next=7,t(s);case 7:if("componentSelection"!==a){e.next=10;break}return e.next=10,t(Js(i));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),$.displayError(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}function Zs(e){var t=Ws({},e),n=t.answeredQuestion,r=t.secureToken,a=t.bypassNetwork,o=t.component;return function(){var e=Ys(regeneratorRuntime.mark(function e(t,i){var s,c,u,p,f,m,d,b,y,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=function(){return i().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return c={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(c);case 6:if(a){e.next=25;break}return e.prev=7,e.t0=fr,e.t1=s().uuid,e.t2=[n.id],e.t3=[er.transformFromFullQuestionToData(n)],e.next=14,Ee.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6=o,e.t7={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5,component:e.t6},e.next=20,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t7);case 20:e.next=25;break;case 22:e.prev=22,e.t8=e.catch(7),$.displayError(e.t8);case 25:if(u=er.getDataUpdateIntent({answeredQuestion:n,questions:s().questions}),p=u.currentIndex,f=u.nonApplicableIndexes,m=u.targetIndex,d=u.complete,u.terminate,b=u.result,!(f.length>0)){e.next=30;break}return y={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=30,t(y);case 30:if(!(m>p)){e.next=34;break}return h={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:p,targetIndex:m}},e.next=34,t(h);case 34:if(a){e.next=43;break}return e.prev=35,e.next=38,rc(s(),j.a.uniq([p].concat(Ks(f),[m])),r,o);case 38:e.next=43;break;case 40:e.prev=40,e.t9=e.catch(35),$.displayError(e.t9);case 43:if(!d){e.next=46;break}return e.next=46,t(ec({bypassNetwork:a,secureToken:r,result:b,component:o}));case 46:case"end":return e.stop()}},e,this,[[7,22],[35,40]])}));return function(t,n){return e.apply(this,arguments)}}()}function $s(e){return function(){var t=Ys(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=a.componentSelectionState.selectedComponents.map(function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:o.id}}),t.prev=7,t.t0=fr,t.t1=e,t.t2=i,t.t3=o.uuid,t.next=14,Ee.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(ec());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:$.displayError(t.t6);case 29:case"end":return t.stop()}},t,this,[[7,24]])}));return function(e,n){return t.apply(this,arguments)}}()}function ec(){var e=Ws({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.result,a=e.taskSubmissionUUID,o=e.questionnaireUUID,i=e.component;return function(){var e=Ys(regeneratorRuntime.mark(function e(s,c){var u,p,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return c().taskSubmissionState.taskSubmission},n){e.next=20;break}return e.prev=2,e.next=5,Ee.getCSRFToken();case 5:return p=e.sent,e.next=8,fr.completeTaskSubmission({uuid:void 0===a?u().uuid:a,result:r||"",secureToken:t,csrfToken:p,component:i});case 8:return f=e.sent,m=f.uuid,e.next=12,s(Xs({uuid:m,secureToken:t,component:i}));case 12:void 0!==o&&D.redirectToQuestionnaireSummary(o,t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),$.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,s({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:r});case 22:case"end":return e.stop()}},e,this,[[2,15]])}));return function(t,n){return e.apply(this,arguments)}}()}function tc(e){var t=Ws({},e),n=t.targetQuestion,r=t.secureToken,a=t.bypassNetwork,o=t.component;return function(){var e=Ys(regeneratorRuntime.mark(function e(t,i){var s,c,u,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(c=s.questions,!((u=c.findIndex(function(e){return e.isCurrent}))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((p=c.findIndex(function(e){return e.id===n.id}))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:u,targetIndex:p}},e.next=15,t(f);case 15:if(a){e.next=18;break}return e.next=18,rc(s,j.a.uniq([u,p]),r,o);case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}function nc(){var e=Ws({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.type,a=e.component;return function(){var e=Ys(regeneratorRuntime.mark(function e(o,i){var s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=29;break}return e.prev=4,e.t0=fr,e.t1=s.uuid,e.next=9,Ee.getCSRFToken();case 9:return e.t2=e.sent,e.t3=t,e.t4=a,e.t5={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3,component:e.t4},e.next=15,e.t0.editTaskSubmission.call(e.t0,e.t5);case 15:return c=e.sent,u=c.uuid,e.next=19,o(Xs({uuid:u,secureToken:t,component:a}));case 19:if("componentSelection"!==r){e.next=22;break}return e.next=22,o(Js(s));case 22:e.next=27;break;case 24:e.prev=24,e.t6=e.catch(4),$.displayError(e.t6);case 27:e.next=30;break;case 29:o({type:l.TASK.EDIT_TASK_SUBMISSION});case 30:case"end":return e.stop()}},e,this,[[4,24]])}));return function(t,n){return e.apply(this,arguments)}}()}function rc(e,t,n,r){return ac.apply(this,arguments)}function ac(){return(ac=Ys(regeneratorRuntime.mark(function e(t,n,r,a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=fr,e.t1=t.uuid,e.t2=n.map(function(e){return t.questions[e].id}),e.t3=n.map(function(e){return er.transformFromFullQuestionToData(t.questions[e])}),e.next=7,Ee.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6=a,e.t7={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5,component:e.t6},e.next=13,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t7);case 13:e.next=18;break;case 15:e.prev=15,e.t8=e.catch(0),$.displayError(e.t8.message);case 18:case"end":return e.stop()}},e,this,[[0,15]])}))).apply(this,arguments)}function oc(e,t){return function(){var n=Ys(regeneratorRuntime.mark(function n(r,a){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return n.prev=5,n.next=8,fr.fetchTaskSubmissionList(o.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:n.t0});case 16:$.displayError(n.t0);case 17:case"end":return n.stop()}},n,this,[[5,12]])}));return function(e,t){return n.apply(this,arguments)}}()}var ic=n(94),sc=n.n(ic);function cc(e){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){lc(e,t,n[t])})}return e}function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fc(e,t){return!t||"object"!==cc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mc(e){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dc(e,t){return(dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fc(this,mc(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dc(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=uc({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,o=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,s=t.handleDenyButtonClick,c=t.handleSendBackForChangesButtonClick,u=t.handleAddTaskRecommendationButtonClick,l=t.handleEditTaskRecommendationButtonClick,p=t.loadResultForCertificationAndAccreditation,f=t.editAnswers,m=t.showBackLink,d=t.showEditButton,b=t.canUpdateAnswers,y=t.viewAs,h=(t.secureToken,t.component),v=a.a.createElement(Ha,{taskRecommendations:n.taskRecommendations,viewAs:y,status:n.status,handleAddTaskRecommendationButtonClick:u,handleEditTaskRecommendationButtonClick:l}),g=m?a.a.createElement("div",{className:"back-link",onClick:function(){return e.sendBackToQestionnaire()}},a.a.createElement("img",{src:sc.a}),"Back"):null,S=m?a.a.createElement("div",{className:"back-link",onClick:function(){return D.redirectToApprovals()}},a.a.createElement("img",{src:sc.a}),"Back"):null,E="risk questionnaire"===n.taskType&&Wi.isSRATaskFinalised(n.siblingSubmissions),k=d&&!E&&"certification and accreditation"!==n.taskType?a.a.createElement(Un,{title:"Edit",onClick:function(){f(h)},iconImage:Ra.a}):null,O=["complete","waiting_for_approval","approved","denied"],A=O.includes(n.status)||O.includes(n.taskStatusForComponent)?a.a.createElement(Un,{title:"PDF",iconImage:wo.a,onClick:function(){return e.downloadPdf()}}):null,T=n.result&&O.indexOf(n.status)>-1?a.a.createElement("div",{className:"result-container"},a.a.createElement("h4",null,"Result"),a.a.createElement("div",{className:"result"},n.result)):null,w=n.riskResults&&O.indexOf(n.status)>-1?a.a.createElement(Gi,{riskResults:n.riskResults,hideWeightsAndScore:n.hideWeightsAndScore}):null,C="approver"===y&&"waiting_for_approval"===n.status?a.a.createElement(ca,{title:"Approve",onClick:i,classes:["button"]}):null,_="approver"===y&&"waiting_for_approval"===n.status?a.a.createElement(Un,{title:"Send back for changes",onClick:c,classes:["button"]}):null,I="approver"===y&&"waiting_for_approval"===n.status?a.a.createElement(ji,{title:"Not approved",onClick:s,classes:["button"]}):null,N=a.a.createElement("div",null,T,a.a.createElement("h4",null,"Summary"),"certification and accreditation"!==n.taskType&&a.a.createElement(Ro,{questions:n.questions,component:h}),!n.isDisplayPreventMessage&&"certification and accreditation"===n.taskType&&a.a.createElement("div",{className:"task-review-container"},a.a.createElement(Xa,{resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,isDisplayReportLogo:!0})),w,v);return"certification and accreditation"===n.taskType&&n.isDisplayPreventMessage?N=a.a.createElement("div",{className:"prevent-message-container alert alert-danger",dangerouslySetInnerHTML:{__html:n.preventMessage}}):b&&(N=a.a.createElement(bo,{questions:n.questions,serviceRegister:n.serviceRegister,informationClassificationTaskResult:n.informationClassificationTaskResult,riskProfileData:n.riskProfileData,resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,loadResultForCertificationAndAccreditation:p,saveAnsweredQuestion:r,onLeftBarItemClick:o,handleTaskSaveDraftButtonClick:this.handleTaskSaveDraftButtonClick.bind(this),component:h})),a.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&a.a.createElement(ts,null),"expired"!==n.status&&a.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!E)&&Wi.getSraIsFinalisedAlert(),n.isCurrentUserAnApprover?S:g,N,a.a.createElement("div",{className:"buttons ".concat("approver"!=y?"buttons-hideborder":"")},a.a.createElement("div",{className:"buttons-left"},k,A),a.a.createElement("div",{className:"buttons-right"},"approver"===y&&"waiting_for_approval"===n.status&&a.a.createElement("span",{className:"approver-action"},"Approver action: "),_,I,C))))}},{key:"downloadPdf",value:function(){var e=uc({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&("certification and accreditation"===t.taskType?si.downloadCertificate({siteConfig:r,resultForCertificationAndAccreditation:t.resultForCertificationAndAccreditation}):si.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults}))}},{key:"handleTaskSaveDraftButtonClick",value:function(){this.sendBackToQestionnaire()}},{key:"sendBackToQestionnaire",value:function(){D.redirectToQuestionnaireSummary(this.props.taskSubmission.questionnaireSubmissionUUID,this.props.secureToken)}}])&&pc(n.prototype,o),i&&pc(n,i),t}();function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vc(e,t,n[t])})}return e}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sc(e,t){return!t||"object"!==yc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kc(e,t){return(kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sc(this,Ec(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kc(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=hc({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken,e.component)}},{key:"render",value:function(){var e=hc({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,o=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,s=e.dispatchEditAnswersAction,c=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.dispatchSendBackForChangesTaskSubmissionAction,e.dispatchAddTaskRecommendationAction,e.dispatchEditTaskRecommendationAction,e.secureToken),u=e.component;if(!n||!r||!t)return null;var l="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){l="submitter";break}if(r.isCurrentUserAnApprover){l="approver";break}}while(0);var p=parseInt(n.id)===parseInt(r.submitter.id),f=["in_progress","start"],m=f.includes(r.status)&&f.includes(r.taskStatusForComponent)&&(n.isSA||p||r.isTaskCollborator),d=["complete","waiting_for_approval","denied"],b=(d.includes(r.status)||d.includes(r.taskStatusForComponent))&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||(p||r.isTaskCollborator)&&!r.lockWhenComplete),y=!1,h=!1;return(p||r.isTaskCollborator)&&(y=!0),!y&&(r.isCurrentUserAnApprover||n.isSA||n.isCISO||r.isBusinessOwner||n.isAccreditationAuthority||n.isCertificationAuthority)&&(h=!0),a.a.createElement("div",{className:"TaskSubmissionContainer"},a.a.createElement(It,{pageTitle:r.taskName,logopath:t.logoPath,productName:r.questionnaireSubmissionProductName,isTaskApprover:r.isCurrentUserAnApprover,questionnaireSubmissionUUID:r.questionnaireSubmissionUUID,showApprovalBreadcrumb:h,showSubmissionBreadcrumb:y,component:u}),a.a.createElement(bc,{taskSubmission:r,saveAnsweredQuestion:o,moveToPreviousQuestion:i,editAnswers:s,showEditButton:b,canUpdateAnswers:m,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleAddTaskRecommendationButtonClick:this.handleAddTaskRecommendationButtonClick.bind(this),handleEditTaskRecommendationButtonClick:this.handleEditTaskRecommendationButtonClick.bind(this),loadResultForCertificationAndAccreditation:this.loadResultForCertificationAndAccreditation.bind(this),showBackLink:!!r.questionnaireSubmissionUUID,viewAs:l,siteConfig:t,secureToken:c,component:u}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=hc({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=hc({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchSendBackForChangesTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=hc({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}},{key:"handleAddTaskRecommendationButtonClick",value:function(e){var t=hc({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,a=t.uuid,o=t.taskRecommendations;(n||a||r||o)&&this.props.dispatchAddTaskRecommendationAction(a,e,o)}},{key:"handleEditTaskRecommendationButtonClick",value:function(e){var t=hc({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,a=t.uuid,o=t.taskRecommendations;(n||a||r||o)&&this.props.dispatchEditTaskRecommendationAction(a,e,o)}},{key:"loadResultForCertificationAndAccreditation",value:function(){var e=hc({},this.props),t=e.uuid;(0,e.dispatchLoadResultForCertificationAndAccreditation)(t,e.secureToken)}}])&&gc(n.prototype,o),i&&gc(n,i),t}(),Ac=Object(s.b)(function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(t,n,r){e(Oi()),e(un()),e(Xs({uuid:t,secureToken:n,component:r}))},dispatchLoadResultForCertificationAndAccreditation:function(t,n){e(function(e){var t,n=Ws({},e),r=n.uuid,a=n.secureToken;return t=Ys(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fr.fetchResultForCertificationAndAccreditation({uuid:r,secureToken:a});case 3:return n=e.sent,o={type:l.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION,payload:n},e.next=7,t(o);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return t.apply(this,arguments)}}({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t,n){e(Zs({answeredQuestion:t,component:n}))},dispatchMoveToPreviousQuestionAction:function(t,n){e(tc({targetQuestion:t,component:n}))},dispatchEditAnswersAction:function(t){e(nc({component:t}))},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return t=Ys(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,fr.approveTaskSubmission({uuid:e,csrfToken:a});case 6:return t.sent.status,t.next=10,n(Xs({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return t=Ys(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,fr.denyTaskSubmission({uuid:e,csrfToken:a});case 6:return t.sent.status,t.next=10,n(Xs({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchSendBackForChangesTaskSubmissionAction:function(t){e(function(e){return t=Ys(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,fr.editTaskSubmission({uuid:e,csrfToken:a,secureToken:""});case 6:return t.sent.status,t.next=10,n(Xs({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=Ys(regeneratorRuntime.mark(function r(a,o){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n.push(t),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,fr.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,a(Xs({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))},dispatchEditTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=Ys(regeneratorRuntime.mark(function r(a,o){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=n.map(function(e){return e.id===t.id?Ws({},n,t):e}),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,fr.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,a(Xs({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))}}})(Oc);function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cc(e,t){return!t||"object"!==Tc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _c(e){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ic(e,t){return(Ic=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pc(e,t,n[t])})}return e}function Pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cc(this,_c(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ic(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Nc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Nc({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,o=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,s=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var c="in_progress"===r.status||"start"===r.status,u="complete"===r.status;return a.a.createElement("div",{className:"TaskSubmissionContainer"},a.a.createElement(It,{pageTitle:r.taskName,logopath:t.logoPath}),a.a.createElement(bc,{taskSubmission:r,saveAnsweredQuestion:o,moveToPreviousQuestion:i,editAnswers:s,showEditButton:u,canUpdateAnswers:c,showBackButton:!1,siteConfig:t,currentUser:n}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}}])&&wc(n.prototype,o),i&&wc(n,i),t}(),Rc=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(){var n=Nc({},t).taskId;e(Oi()),e(un()),e(function(e){var t,n=Ws({},e).taskId;return t=Ys(regeneratorRuntime.mark(function e(t,r){var a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fr.fetchStandaloneTask({taskId:n});case 3:return a=e.sent,o={id:"",uuid:"",taskName:a.name,taskType:"questionnaire",status:"in_progress",result:"",questions:a.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:o},e.next=8,t(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$.displayError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e,n){return t.apply(this,arguments)}}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Zs({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(tc({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(nc({bypassNetwork:!0}))}}})(jc),Dc=n(467),xc=n.n(Dc);function Uc(e){return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mc(e,t,n[t])})}return e}function Mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bc(e,t){return!t||"object"!==Uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qc(e){return(Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qc(e,t){return(qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bc(this,Qc(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qc(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=Lc({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return a.a.createElement("div",{className:"LeftBarItem"},a.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(Lc({},this.props).iconType){case"editing":return a.a.createElement("img",{src:xc.a,alt:""});case"success":return a.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return a.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return a.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&Fc(n.prototype,o),i&&Fc(n,i),t}();function Vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter(function(t){return t.id===e}).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter(function(n){return n.id===e&&n.productAspect===t}).length>0:n.filter(function(t){return t.id===e}).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter(function(n){return n.id===e&&n.productAspect===t&&n.isSaved}).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter(function(t){return t.productAspect===e}).length>0}}],(n=null)&&Vc(t.prototype,n),r&&Vc(t,r),e}();function Kc(e){return(Kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yc(e,t,n[t])})}return e}function Yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zc(e,t){return!t||"object"!==Kc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zc(e,t){return(Zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $c=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=zc(this,Xc(t).call(this,e))).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zc(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=Gc({},this.props),n=t.title,r=t.availableComponents,o=t.selectedComponents,i=t.removeComponent,s=t.addComponent,c=t.productAspects,u=t.componentTarget,l=Gc({},this.state),p=l.filter,f=l.selectedProductAspect;return a.a.createElement("div",{className:"LeftBar"},c&&c.length>0&&a.a.createElement("div",{className:"product-aspect"},a.a.createElement("label",null,a.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),a.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=T()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:f},c.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)})))),a.a.createElement("div",{className:"title"},n),a.a.createElement("div",{className:"search"},a.a.createElement("i",{className:"fas fa-search"}),a.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=T()(t.target.value).trim();e.setState({filter:n})}})),a.a.createElement("div",{className:"items"},r.filter(function(e){return!p||e.name.toUpperCase().includes(p.toUpperCase())}).map(function(e){var t=Jc.isSelectedComponentExist(e.id,f,o),n=Jc.isComponentSaved(e.id,f,o,u)&&"JIRA Cloud"==u;return a.a.createElement(Hc,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,f):s(e.id,f)}})})))}}])&&Wc(n.prototype,o),i&&Wc(n,i),t}(),eu=n(134);function tu(e){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ru(e,t,n[t])})}return e}function ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function au(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ou(e,t){return!t||"object"!==tu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function iu(e){return(iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function su(e,t){return(su=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ou(this,iu(t).call(this,e))).state={isExpanded:!1,isImplementationEvidenceExpaned:!n.props.isCVATaskEditable},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&su(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"componentDidUpdate",value:function(e){e.isCVATaskEditable!==this.props.isCVATaskEditable&&this.setState({isImplementationEvidenceExpaned:!this.props.isCVATaskEditable})}},{key:"render",value:function(){var e=this,t=nu({},this.props),n=(t.id,t.name),r=t.description,o=t.implementationGuidance,i=t.implementationEvidence,s=t.className,c=t.showImplementationEvidence,u=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,p=nu({},this.state),f=p.isExpanded,m=p.isImplementationEvidenceExpaned;return a.a.createElement("div",{className:"ControlInfo "+s},n&&a.a.createElement("h5",null,n),r&&a.a.createElement("div",{className:"control-description"},a.a.createElement("span",null,a.a.createElement("b",null,"Description: ")),a.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),o&&a.a.createElement("div",{className:"implementation-Guidance"},a.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!f})}},a.a.createElement("span",null,a.a.createElement("b",null,"Implementation Guidance "),a.a.createElement(eu.Icon,{name:"".concat(f?"caret-up":"caret-down")}))),f&&a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}})),c&&a.a.createElement("div",{className:"implementation-Guidance"},a.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},a.a.createElement("span",null,a.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),a.a.createElement(eu.Icon,{name:"".concat(m?"caret-up":"caret-down")}))),m&&a.a.createElement("div",null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?a.a.createElement("div",null,a.a.createElement(ya.a,{className:"implementation-evidence",initialValue:u,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):a.a.createElement("div",{className:"implementation-evidence"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:u.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&au(n.prototype,r),o&&au(n,o),t}();function uu(e){return(uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fu(e,t){return!t||"object"!==uu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mu(e){return(mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function du(e,t){return(du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fu(this,mu(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&du(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){lu(e,t,n[t])})}return e}({},this.props),t=e.id,n=e.name,r=e.description,o=e.removeComponent,i=e.childControls,s=e.isDisable;return a.a.createElement("div",{className:"ComponentInfo",key:t+n},a.a.createElement("h3",null,!s&&a.a.createElement("button",{onClick:function(e){e.preventDefault(),o()}},a.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),a.a.createElement("span",null," ",n))),a.a.createElement("p",null,r),i&&i.length>0&&a.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map(function(e,t){return a.a.createElement(cu,{key:t,id:e.id,name:e.name,description:e.description,implementationGuidance:e.implementationGuidance,className:"control-cs"})}))}}])&&pu(n.prototype,r),o&&pu(n,o),t}();function yu(e){return(yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vu(e,t,n[t])})}return e}function vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Su(e,t){return!t||"object"!==yu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eu(e){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ku(e,t){return(ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ou=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Su(this,Eu(t).call(this,e))).state={jiraKey:""},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ku(e,t)}(t,r["Component"]),n=t,(o=[{key:"sendBackToQestionnaire",value:function(){D.redirectToQuestionnaireSummary(this.props.questionnaireSubmissionUUID,this.props.secureToken)}},{key:"render",value:function(){var e=this,t=hu({},this.props),n=t.availableComponents,r=t.selectedComponents,o=t.createJIRATickets,i=t.removeComponent,s=t.addComponent,c=t.finishWithSelection,u=t.saveControls,l=t.extraButtons,p=t.componentTarget,f=t.productAspects,m=t.isStandaloneTask,d=hu({},this.state).jiraKey,b=f&&f.length>0&&r.length>0,y=a.a.createElement("div",{className:"back-link",onClick:function(){return e.sendBackToQestionnaire()}},a.a.createElement("img",{src:sc.a}),"Back");return a.a.createElement("div",{className:"ComponentSelection"},y,a.a.createElement("div",{className:"title"},"Components"),a.a.createElement("div",{className:"main-wrapper"},a.a.createElement($c,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:s,productAspects:f,componentTarget:p}),a.a.createElement("div",{className:"main-content"},a.a.createElement("div",{className:"heading"},"Selected Components"),a.a.createElement("div",{className:"selected-components"},b>0&&f.map(function(e,t){return a.a.createElement("div",{key:t},Jc.doescomponentExistForProductAspect(e,r)&&a.a.createElement("h4",{key:t},e),r.map(function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==p;if(t.productAspect===e)return a.a.createElement(bu,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})}))}),(void 0===f||""===f||0===f.length)&&r.map(function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==p;return a.a.createElement(bu,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})})))),a.a.createElement("div",{className:"buttons-wrapper"},a.a.createElement("div",{className:"extra-buttons"},l),a.a.createElement("div",null,r.length>0&&"JIRA Cloud"===p&&a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=T()(t.target.value).trim();e.setState({jiraKey:n})}}),a.a.createElement(ca,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){o(d)}})),"Local"===p&&!m&&a.a.createElement(Un,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){u()}}),a.a.createElement(Un,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){c()}}))))}}])&&gu(n.prototype,o),i&&gu(n,i),t}();function Au(e){return(Au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cu(e,t){return!t||"object"!==Au(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _u(e){return(_u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Iu(e,t){return(Iu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cu(this,_u(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iu(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tu(e,t,n[t])})}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,o=e.componentTarget,i=e.productAspects,s=i&&i.length>0&&t.length>0;return a.a.createElement("div",{className:"ComponentSelectionReview"},a.a.createElement("div",{className:"section"},a.a.createElement("h4",null,"Selected Components"),s>0&&i.map(function(e,n){return a.a.createElement("ul",{key:n},Jc.doescomponentExistForProductAspect(e,t)&&a.a.createElement("h5",{key:n},e),t.map(function(t,n){if(t.productAspect===e)return a.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)}))}),a.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map(function(e){return a.a.createElement("li",{key:e.id},e.name)}))),"JIRA Cloud"===o&&a.a.createElement("div",{className:"section"},a.a.createElement("h4",null,"Created Jira Tickets"),a.a.createElement("ul",null,n.map(function(e){return a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:e.link,target:"_blank"},e.link))}))),a.a.createElement("div",{className:"buttons"},r))}}])&&wu(n.prototype,r),o&&wu(n,o),t}();function Pu(e){return(Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ru(e,t,n[t])})}return e}function Ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xu(e,t){return!t||"object"!==Pu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uu(e){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lu(e,t){return(Lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xu(this,Uu(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lu(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,ju({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=ju({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,o=e.selectedComponents,i=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,c=e.dispatchCreateJIRATicketsAction,u=e.viewMode,l=e.jiraTickets,p=e.componentTarget;if(!n||!t)return null;var f=null;switch(u){case"edit":f=a.a.createElement(Ou,{availableComponents:r,selectedComponents:o,componentTarget:p,isStandaloneTask:!0,createJIRATickets:function(e){c(e)},removeComponent:function(e){s(e)},addComponent:function(e){i(e)},finishWithSelection:function(){D.redirectToHome()}});break;case"review":f=a.a.createElement(Nu,{selectedComponents:o,jiraTickets:l},a.a.createElement("div",{className:"buttons"},a.a.createElement(ca,{title:"BACK TO HOME",onClick:function(){D.redirectToHome()}})))}return a.a.createElement("div",{className:"ComponentSelectionContainer"},a.a.createElement(It,{pageTitle:"Component Selection",logopath:t.logoPath}),f,a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Du(n.prototype,o),i&&Du(n,i),t}(),Fu=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}},function(e,t){return{dispatchLoadDataAction:function(){e(Oi()),e(un()),e(Bs())},dispatchAddComponentAction:function(t){e(Qs(t))},dispatchRemoveComponentAction:function(t){e(qs(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return t=Fs(regeneratorRuntime.mark(function t(n,r){var a,o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(a=r(),o=a.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,Ee.getCSRFToken();case 9:return i=t.sent,t.next=12,Ls.createJiraTickets({jiraKey:e,componentIDList:nr()(o.map(function(e){return e.id})),csrfToken:i});case 12:return s=t.sent,t.next=15,n(Vs(s));case 15:return t.next=17,n(Hs("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),$.displayError(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Mu),Bu=n(468),Qu=n.n(Bu);function qu(e){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vu(e,t){return!t||"object"!==qu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ku(e,t){return(Ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vu(this,Ju(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ku(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&Hu(n.prototype,o),i&&Hu(n,i),t}();function Yu(e){return(Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zu(e,t){return!t||"object"!==Yu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zu(e,t){return(Zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){el(e,t,n[t])})}return e}function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zu(this,Xu(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zu(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,$u({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=$u({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,o=e.taskSubmission,i=e.availableComponents,s=e.selectedComponents,c=e.dispatchAddComponentAction,u=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,p=e.dispatchSaveLocalControlsAction,f=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!o||!t)return null;var d=parseInt(r.id)===parseInt(o.submitter.id),b=d||r.isSA||o.isTaskCollborator,y=Wi.isSRATaskFinalised(o.siblingSubmissions),h=("complete"===o.status||"waiting_for_approval"===o.status||"denied"===o.status)&&"submitted"===o.questionnaireSubmissionStatus&&b&&!o.lockWhenComplete,v=a.a.createElement(ca,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(o.questionnaireSubmissionUUID,n)}}),g=h&&!y?a.a.createElement(Un,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:Qu.a}):null,S=!1,E=!1;(d||o.isTaskCollborator)&&(S=!0),S||(o.isCurrentUserAnApprover||r.isSA||r.isCISO||o.isBusinessOwner||r.isAccreditationAuthority||r.isCertificationAuthority)&&(E=!0);var k=null;switch(o.status){case"start":case"in_progress":if(b){k=a.a.createElement(Ou,{availableComponents:i,selectedComponents:s,componentTarget:o.componentTarget,productAspects:o.productAspects,questionnaireSubmissionUUID:o.questionnaireSubmissionUUID,extraButtons:v,createJIRATickets:function(e){l(e)},saveControls:function(){p()},removeComponent:function(e,t){u(e,t)},addComponent:function(e,t){c(e,t)},finishWithSelection:function(){f()}});break}k=a.a.createElement("div",{className:"ComponentSelectionReview"},a.a.createElement("div",{className:"section"},a.a.createElement("h4",null,"Selected Components"),a.a.createElement("br",null),a.a.createElement(Gu,null)),a.a.createElement("div",{className:"buttons"},v));break;case"complete":k=a.a.createElement("div",null,a.a.createElement("div",{className:"ComponentSelectionReview"},!!y&&Wi.getSraIsFinalisedAlert()),a.a.createElement(Nu,{selectedComponents:o.selectedComponents,jiraTickets:o.jiraTickets,componentTarget:o.componentTarget,productAspects:o.productAspects,buttons:[a.a.createElement("div",{key:"component-selection-review-button-container"},g,v)]}));break;case"expired":k=a.a.createElement(ts,null)}return a.a.createElement("div",{className:"ComponentSelectionContainer"},a.a.createElement(It,{pageTitle:o.taskName,logopath:t.logoPath,productName:o.questionnaireSubmissionProductName,questionnaireSubmissionUUID:o.questionnaireSubmissionUUID,isTaskApprover:o.isCurrentUserAnApprover,showSubmissionBreadcrumb:S,showApprovalBreadcrumb:E}),k,a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Wu(n.prototype,o),i&&Wu(n,i),t}(),nl=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}},function(e,t){return{dispatchLoadDataAction:function(){var n=$u({},t),r=n.uuid,a=n.secureToken;e(un()),e(Oi()),e(Bs()),e(Xs({uuid:r,secureToken:a,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(Qs(t,n))},dispatchRemoveComponentAction:function(t,n){e(qs(t,n))},dispatchCreateJIRATicketsAction:function(t){e($s(t))},dispatchSaveLocalControlsAction:function(){e($s(""))},dispatchFinishAction:function(){e(ec())},dispatchEditAnswersAction:function(){e(nc({type:"componentSelection"}))}}})(tl);function rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var al=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,a,o){if("awaiting_security_architect_review"===e)return"Awaiting security review";if("waiting_for_security_architect_approval"===e)return"Awaiting security approval";if("waiting_for_approval"===e){if("pending"===a&&"pending"===o)return"Awaiting approval";if("pending"!==a&&"pending"===o)return"Awaiting business owner approval"}return"approved"===e&&"pending"===a&&"approved"===o?"Approved - Chief Information Security Officer Approval Pending":"awaiting_certification_and_accreditation"==e?"Awaiting certification and accreditation":"awaiting_accreditation"==e?"Awaiting accreditation":"awaiting_certification"==e?"Awaiting certification":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}}],(n=null)&&rl(t.prototype,n),r&&rl(t,r),e}();function ol(e){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){sl(e,t,n[t])})}return e}function sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ul(e,t){return!t||"object"!==ol(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ll(e){return(ll=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pl(e,t){return(pl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fl(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var ml=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ul(this,ll(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pl(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,il({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=il({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,o=e.loadingState;return t&&n&&r?o["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement(It,{pageTitle:"Your submissions",logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return j.a.isEmpty(n)?a.a.createElement("div",{className:"container px-0"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):a.a.createElement("div",{className:"container px-0"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-bordered table-hover"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",{className:"text-center"},"Date Created"),a.a.createElement("th",{className:"text-center"},"Pillar"),a.a.createElement("th",{className:"text-center"},"Product Name"),a.a.createElement("th",{className:"text-center"},"Status"),a.a.createElement("th",{className:"text-center"},"Actions"))),a.a.createElement("tbody",null,n.map(function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,la()(e.created).format("DD MMM YYYY")),a.a.createElement("td",null,e.questionnaireName),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,al.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),a.a.createElement("td",null,a.a.createElement("a",{href:n},"View")))})))))}(n,t),a.a.createElement(Jt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&cl(n.prototype,o),i&&cl(n,i),t}(),dl=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Oi());case 2:return t.next=4,e(function(){var e=br(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,zn.fetchQuestionnaireSubmissionList(r.id,"my_submission_list",0,0);case 8:a=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:a}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(un());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(e){fl(o,r,a,i,s,"next",e)}function s(e){fl(o,r,a,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(ml),bl=n(232),yl=n.n(bl),hl=n(469),vl=n.n(hl),gl=n(470),Sl=n.n(gl),El=n(471),kl=n.n(El);function Ol(e){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tl(e,t){return!t||"object"!==Ol(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wl(e){return(wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _l=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Tl(this,(e=wl(t)).call.apply(e,[this].concat(a)))).handleFirstPageClick=function(){n.props.paginationActions.firstPage({limit:10,offset:0,index:1,pageNumber:1})},n.handleNextPageClick=function(e){n.props.paginationActions.nextPage({limit:n.props.limit,offset:(n.props.page+1-1)*n.props.limit,index:e+1,pageNumber:n.props.page+1})},n.handlePreviousPageClick=function(){n.props.paginationActions.prevPage({limit:n.props.limit,offset:(n.props.page-1-1)*n.props.limit,index:Math.abs(n.props.limit-n.props.index),pageNumber:n.props.page-1})},n.handleLastPageClick=function(e){n.props.paginationActions.lastPage({limit:n.props.limit,offset:(Math.ceil(e/n.props.limit)-1)*n.props.limit,index:(Math.ceil(e/n.props.limit)-1)*n.props.limit,pageNumber:Math.ceil(e/n.props.limit)})},n.handleChangeForSelectedRows=function(e){n.props.paginationActions.selectedRow({limit:e,offset:n.props.offset,index:n.props.index,pageNumber:n.props.page})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cl(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.limit,r=t.offset;e.limit===n&&e.offset===r||this.props.dispatchList(n,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.paginationInfo,r=n.totalCount,o=n.hasNextPage,i=n.hasPreviousPage,s=t.listLength,c=[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:40,label:"40"},{value:50,label:"50"}],u=this.props.offset+s,l=this.props.index;return i||(l=1),a.a.createElement("div",{className:"pagination-container"},a.a.createElement("span",{className:"rows-per-page"},"Rows per page"),a.a.createElement("div",{className:"rows-per-page-select"},a.a.createElement(ha.a,{value:{label:this.props.limit},options:c,defaultValue:c[0],classNamePrefix:"react-select",placeholder:c[0],isSearchable:!1,onChange:function(t){return e.handleChangeForSelectedRows(t.value)}})),a.a.createElement("div",{className:"pagination-navigation-count"},l+"-"+u+" of "+r),a.a.createElement("div",{className:"pagination-buttons"},a.a.createElement("img",{className:i?"":"disable-pagination",src:vl.a,onClick:i?function(){return e.handleFirstPageClick()}:""}),a.a.createElement("img",{className:i?"":"disable-pagination",src:kl.a,onClick:i?function(){return e.handlePreviousPageClick()}:""}),a.a.createElement("img",{className:o?"":"disable-pagination",src:Mi.a,onClick:o?function(){return e.handleNextPageClick(u)}:""}),a.a.createElement("img",{className:o?"":"disable-pagination",src:Sl.a,onClick:o?function(){return e.handleLastPageClick(r)}:""})))}}])&&Al(n.prototype,o),i&&Al(n,i),t}();n(426);function Il(e){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pl(e,t){return!t||"object"!==Il(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jl(e){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rl(e,t){return(Rl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pl(this,jl(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rl(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.paginationState.pagination,n=e.paginationActions;return a.a.createElement(_l,{paginationInfo:this.props.paginationInfo,listLength:this.props.listLength,dispatchList:this.props.dispatchList,limit:t.limit,offset:t.offset,page:t.pageNumber,index:t.index,paginationActions:n})}}])&&Nl(n.prototype,o),i&&Nl(n,i),t}(),xl=Object(s.b)(function(e){return{paginationState:e.paginationState}},function(e,t){return{paginationActions:{nextPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_NEXT_PAGE,payload:e}}(t))},prevPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_PREV_PAGE,payload:e}}(t))},firstPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_FIRST_PAGE,payload:e}}(t))},lastPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_LAST_PAGE,payload:e}}(t))},selectedRow:function(t){return e(function(e){return{type:l.PAGINATION.SET_SELECTED_ROWS,payload:e}}(t))}}}})(Dl);function Ul(e){return(Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ll(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ml(e,t,n[t])})}return e}function Ml(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t){return!t||"object"!==Ul(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ql(e){return(Ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ql(e,t){return(ql=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hl(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var Vl=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Bl(this,Ql(t).call(this,e))).state={currentApprovalList:"QuestionnaireApproval"},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ql(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Ll({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=Ll({},this.props),n=t.currentUser,r=t.siteConfig,o=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,s=t.loadingState,c=t.dispatchloadAwaitingApprovalList,u=t.dispatchloadAwaitingApprovalTaskList;return n&&o&&r&&i?s["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement(It,{pageTitle:"Your approvals",logopath:r.logoPath}),a.a.createElement("div",{className:"container tab-container mb-0 px-0"},a.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"QuestionnaireApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalList(10,0)}},"Submission approvals"),a.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"TaskApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalTaskList(10,0)}},"Task approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&Jl(o,n,c),"TaskApproval"==this.state.currentApprovalList&&Kl(i,n,u),a.a.createElement(Jt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Fl(n.prototype,o),i&&Fl(n,i),t}(),Jl=function(e,t,n){var r=e.questionnaireSubmissionList,o=e.pageInfo;return j.a.isEmpty(r)?a.a.createElement("div",{className:"container px-0"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire.")):a.a.createElement("div",{className:"container px-0"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-hover table-approval-list"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",null,a.a.createElement("span",{className:"date-created"},"Date created"),a.a.createElement("img",{src:yl.a})),a.a.createElement("th",{className:"submission-product-name-header"},"Product Name"),a.a.createElement("th",null,"Business Owner"),a.a.createElement("th",null,"Submitter"),a.a.createElement("th",null,"Release date"),a.a.createElement("th",{className:"security-architect-header"},"Security architect"),a.a.createElement("th",{className:"submission-status-header"},"Status"),a.a.createElement("th",null))),a.a.createElement("tbody",null,r.map(function(e){var n="#/questionnaire/summary/"+e.uuid,r=e.SecurityArchitectApprover;return"null null"==r&&(r="Unassigned"),a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,la()(e.created).format("DD/MM/YY")),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,e.businessOwner),a.a.createElement("td",null,e.submitterName),a.a.createElement("td",null,e.releaseDate?la()(e.releaseDate).format("DD/MM/YY"):""),a.a.createElement("td",{className:"Unassigned"==r?"unassigned-approver":""},r),a.a.createElement("td",null,a.a.createElement("img",{src:Oa.a}),al.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),a.a.createElement("td",null,a.a.createElement("a",{href:n},a.a.createElement("img",{src:Mi.a}))))})))),a.a.createElement(xl,{paginationInfo:o,listLength:r.length,dispatchList:n}))},Kl=function(e,t,n){var r=e.taskSubmissionList,o=e.pageInfo;return j.a.isEmpty(r)?a.a.createElement("div",{className:"container px-0"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task.")):a.a.createElement("div",{className:"container px-0"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-hover table-approval-list"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",null,a.a.createElement("span",{className:"date-created"},"Date created"),a.a.createElement("img",{src:yl.a})),a.a.createElement("th",{className:"task-name-header"},"Task name"),a.a.createElement("th",{className:"task-product-name-header"},"Product Name"),a.a.createElement("th",{className:"task-submitter-header"},"Submitter"),a.a.createElement("th",{className:"task-status-header-header"},"Status"),a.a.createElement("th",null))),a.a.createElement("tbody",null,r.map(function(e){var t="#/task/submission/"+e.uuid;return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,la()(e.created).format("DD/MM/YY")),a.a.createElement("td",null,e.taskName),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,e.submitterName),a.a.createElement("td",null,a.a.createElement("img",{src:Oa.a}),"Awaiting approval"),a.a.createElement("td",null,a.a.createElement("a",{href:t},a.a.createElement("img",{src:Mi.a}))))})))),a.a.createElement(xl,{paginationInfo:o,listLength:r.length,dispatchList:n}))},Gl=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Oi());case 2:return t.next=4,e(vr(10,0));case 4:return t.next=6,e(oc(10,0));case 6:return t.next=8,e(un());case 8:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(e){Hl(o,r,a,i,s,"next",e)}function s(e){Hl(o,r,a,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)}),dispatchloadAwaitingApprovalTaskList:function(t,n){e(oc(t,n))},dispatchloadAwaitingApprovalList:function(t,n){e(vr(t,n))},resetPagination:function(){return e({type:l.PAGINATION.RESET_PAGINATION})}};var n,r})(Vl);function Yl(e){return(Yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zl(e,t,n[t])})}return e}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zl(e,t){return!t||"object"!==Yl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $l(e){return($l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ep(e,t){return(ep=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tp(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var np=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zl(this,$l(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ep(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Wl({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Wl({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,o=e.loadingState;return t&&n&&r?o["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement(It,{pageTitle:"My Products",logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return j.a.isEmpty(n)?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-bordered table-hover"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",{className:"text-center"},"Date Created"),a.a.createElement("th",{className:"text-center"},"Product Name"),a.a.createElement("th",{className:"text-center"},"Submitter"),a.a.createElement("th",{className:"text-center"},"Status"),a.a.createElement("th",{className:"text-center"},"Actions"))),a.a.createElement("tbody",null,n.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,la()(e.created).format("DD MMM YYYY")),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,e.submitterName),a.a.createElement("td",null,al.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),a.a.createElement("td",null,a.a.createElement("a",{href:n},"View")))})))))}(n,t),a.a.createElement(Jt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Xl(n.prototype,o),i&&Xl(n,i),t}(),rp=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Oi());case 2:return t.next=4,e(function(){var e=br(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,zn.fetchQuestionnaireSubmissionList(r.id,"my_product_list",0,0);case 8:a=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:a}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(un());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(e){tp(o,r,a,i,s,"next",e)}function s(e){tp(o,r,a,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(np);function ap(e){return(ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ip(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,t){return!t||"object"!==ap(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cp(e){return(cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function up(e,t){return(up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sp(this,cp(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&up(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){op(e,t,n[t])})}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?a.a.createElement("div",{className:"LikelihoodLegend"},a.a.createElement("h3",null,"Legend"),a.a.createElement("div",{className:"table-responsive score-modal-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"likelihood_legend_header"},a.a.createElement("th",null,"Threshold"),a.a.createElement("th",null,"Rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,">="===e.operator?">/="+e.value:e.operator+e.value),a.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&ip(n.prototype,o),i&&ip(n,i),t}();function pp(e){return(pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dp(e,t){return!t||"object"!==pp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bp(e){return(bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yp(e,t){return(yp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dp(this,bp(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yp(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fp(e,t,n[t])})}return e}({},this.props).impactThresholds;return e&&0!==e.length?a.a.createElement("div",{className:"ImapctLegend"},a.a.createElement("h3",{className:"impact-score-legend"},"Legend"),a.a.createElement("div",{className:"table-responsive score-modal-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"impact_legend_header"},a.a.createElement("th",null,"Threshold"),a.a.createElement("th",null,"Rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,">="===e.operator?">/="+e.value:"<="===e.operator?"</="+e.value:e.operator+e.value),a.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&mp(n.prototype,o),i&&mp(n,i),t}(),vp=n(222),gp=n.n(vp);function Sp(e){return(Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Op(e,t){return!t||"object"!==Sp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ap(e){return(Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tp(e,t){return(Tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Op(this,Ap(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tp(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ep(e,t,n[t])})}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?a.a.createElement("div",{className:"RiskRatingLegend"},a.a.createElement("span",{className:"impact-heading"},"Impact"),a.a.createElement("div",{className:"table-responsive help-modal-table-container"},a.a.createElement("table",{className:"table table-sm"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map(function(e,t){return a.a.createElement("th",{key:t},e)}))),a.a.createElement("tbody",null,e.tableRows.map(function(e,t){return a.a.createElement("tr",{key:"row_"+t},e.map(function(e,t){return a.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)}))}))))):null}}])&&kp(n.prototype,o),i&&kp(n,i),t}();function Cp(e){return(Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ip(e,t){return!t||"object"!==Cp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Np(e){return(Np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pp(e,t){return(Pp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jp=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Ip(this,(e=Np(t)).call.apply(e,[this].concat(a)))).state={showModal:!1},n.handleOpenModal=function(){n.setState({showModal:!0})},n.handleCloseModal=function(){n.setState({showModal:!1})},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pp(e,t)}(t,r["Component"]),n=t,(o=[{key:"renderCurrentRiskRatingContent",value:function(){return a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"modal-help-text",dangerouslySetInnerHTML:{__html:this.props.helpText}}),a.a.createElement(wp,{riskRatingThresholds:this.props.riskRatingThresholds}))}},{key:"renderLikelihoodScoreContent",value:function(){return a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"modal-help-text",dangerouslySetInnerHTML:{__html:this.props.helpText}}),a.a.createElement(lp,{likelihoodThresholds:this.props.likelihoodScoreThresholds}))}},{key:"renderImpactScoreContent",value:function(){return a.a.createElement("div",{className:"content"},a.a.createElement("div",{className:"modal-help-text",dangerouslySetInnerHTML:{__html:this.props.helpText}}),a.a.createElement(hp,{impactThresholds:this.props.impactScoreThresholds}))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"HelpModalContainer"},a.a.createElement("img",{src:gp.a,onClick:function(){return e.handleOpenModal()}}),a.a.createElement(xa.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".SecurityRiskAssessmentContainer")}},a.a.createElement("div",{className:"modal-header"},a.a.createElement("span",{className:"header-title"},a.a.createElement("h1",null,this.props.title)),a.a.createElement("div",{className:"close-icon-container",onClick:this.handleCloseModal},a.a.createElement("img",{src:Pa.a}))),"Current Risk Rating"===this.props.title&&this.renderCurrentRiskRatingContent(),"Likelihood score"===this.props.title&&this.renderLikelihoodScoreContent(),"Impact score"===this.props.title&&this.renderImpactScoreContent()))}}])&&_p(n.prototype,o),i&&_p(n,i),t}();function Rp(e){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xp(e,t){return!t||"object"!==Rp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Up(e){return(Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lp(e,t){return(Lp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xp(this,Up(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lp(e,t)}(t,r["Component"]),n=t,(o=[{key:"renderTableHeader",value:function(){return a.a.createElement("tr",{key:"risk_assessment_header"},a.a.createElement("th",null,"Risk category"),a.a.createElement("th",null,"Current risk rating ",a.a.createElement(jp,{title:"Current Risk Rating",helpText:this.props.riskRatingHelpText,riskRatingThresholds:this.props.riskRatingThresholds})),a.a.createElement("th",null,"Likelihood score ",a.a.createElement(jp,{title:"Likelihood score",helpText:this.props.likelihoodScoreHelpText,likelihoodScoreThresholds:this.props.likelihoodScoreThresholds})),a.a.createElement("th",null,"Impact score ",a.a.createElement(jp,{title:"Impact score",helpText:this.props.impactScoreHelpText,impactScoreThresholds:this.props.impactScoreThresholds})))}},{key:"renderTableBody",value:function(){return a.a.createElement("tr",{key:""},a.a.createElement("td",null,"Information disclosure"),a.a.createElement("td",null,"Critical"),a.a.createElement("td",null,"Almost certain"),a.a.createElement("td",null,"Extreme"))}},{key:"render",value:function(){return a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},this.renderTableHeader()),a.a.createElement("tbody",null,this.renderTableBody())))}}])&&Dp(n.prototype,o),i&&Dp(n,i),t}();function Fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bp(e,t,n[t])})}return e}function Bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qp(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function qp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Qp(o,r,a,i,s,"next",e)}function s(e){Qp(o,r,a,i,s,"throw",e)}i(void 0)})}}function Hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:function(){var e=qp(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fp({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    SraTaskHelpText\n    SraTaskRecommendedControlHelpText\n    SraTaskRiskRatingHelpText\n    SraTaskLikelihoodScoreHelpText\n    SraTaskImpactScoreHelpText\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw B;case 8:return c=JSON.parse(O()(s,"SecurityRiskAssessmentData","")),u={uuid:s&&s.UUID?s.UUID:"",taskName:T()(O()(s,"TaskName","")),status:T()(O()(s,"Status","")),sraTaskHelpText:T()(O()(s,"SraTaskHelpText","")),sraTaskRecommendedControlHelpText:T()(O()(s,"SraTaskRecommendedControlHelpText","")),sraTaskRiskRatingHelpText:T()(O()(s,"SraTaskRiskRatingHelpText","")),sraTaskLikelihoodScoreHelpText:T()(O()(s,"SraTaskLikelihoodScoreHelpText","")),sraTaskImpactScoreHelpText:T()(O()(s,"SraTaskImpactScoreHelpText","")),submitterID:T()(O()(s,"Submitter.ID","")),isTaskCollborator:"true"===O()(s,"IsTaskCollborator","false"),questionnaireSubmissionUUID:T()(O()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionProductName:T()(O()(s,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===O()(s,"QuestionnaireSubmission.IsBusinessOwner","false"),taskSubmissions:Y.parseAlltaskSubmissionforQuestionnaire(s),sraData:c},e.abrupt("return",u);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchImpactThreshold",value:function(){var e=qp(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readImpactThreshold",null)){e.next=7;break}throw B;case 7:return r=n.map(function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&Hp(t.prototype,n),r&&Hp(t,r),e}();function Jp(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Kp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Jp(o,r,a,i,s,"next",e)}function s(e){Jp(o,r,a,i,s,"throw",e)}i(void 0)})}}function Gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yp(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gp(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Kp(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,Vp.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return a=e.sent,o={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:a},e.next=9,t(o);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:$.displayError(e.t0);case 16:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}var Wp=n(119),zp={tasks:{"task-1":{id:"task-1",title:"Input validation and sanitisation",riskCategories:["Information Disclosure","Information Disclosure","Information Disclosure"],keyControl:!0,evidenceAdded:!1,evidenceRating:"Not Validated"},"task-2":{id:"task-2",title:"Logging and auditing",riskCategories:["Information Disclosure","Information Disclosure"],keyControl:!1,evidenceAdded:!1,evidenceRating:"Partially Effective"},"task-3":{id:"task-3",title:"Malware protection",riskCategories:["Information Disclosure","Information Disclosure","Information Disclosure"],keyControl:!1,evidenceAdded:!1,evidenceRating:"Not Validated"},"task-4":{id:"task-4",title:"Separation of duties",riskCategories:["Information Disclosure","Information Disclosure","Information Disclosure"],keyControl:!1,evidenceAdded:!1,evidenceRating:"Effective"},"task-5":{id:"task-5",title:"Disaster recovery plan",riskCategories:["Information Loss","Information Loss"],keyControl:!1,evidenceAdded:!1,evidenceRating:"Partially Effective"},"task-6":{id:"task-6",title:"Input validation and sanitisation",riskCategories:["Information Disclosure","Information Disclosure","Information Disclosure"],keyControl:!0,evidenceAdded:!1,evidenceRating:"Not Effective"},"task-7":{id:"task-7",title:"Logging and auditing",riskCategories:["Information Disclosure","Information Disclosure","Information Disclosure"],keyControl:!1,evidenceAdded:!1,evidenceRating:"Not Validated"},"task-8":{id:"task-8",title:"Malware protection",riskCategories:["Information Disclosure","Information Disclosure","Information Disclosure"],keyControl:!1,evidenceAdded:!1,evidenceRating:"Partially Effective"},"task-9":{id:"task-9",title:"Separation of duties",riskCategories:["Information Disclosure","Information Disclosure","Information Disclosure"],keyControl:!0,evidenceAdded:!1,evidenceRating:"Not Effective"},"task-10":{id:"task-10",title:"Disaster recovery plan",riskCategories:["Information Loss","Information Loss"],keyControl:!0,evidenceAdded:!1,evidenceRating:"Partially Effective"}},columns:{"column-1":{id:"column-1",title:"Not applicable",taskIds:["task-1","task-2","task-3","task-4","task-5","task-6","task-7","task-8","task-9","task-10"]},"column-2":{id:"column-2",title:"Not implemented",taskIds:[]},"column-3":{id:"column-3",title:"Planned",taskIds:[]},"column-4":{id:"column-4",title:"Implemented",taskIds:[]}},columnOrder:["column-1","column-2","column-3","column-4"]},Xp=n(848),Zp=n(171),$p=n.n(Zp),ef=n(476),tf=n.n(ef),nf=n(475),rf=n.n(nf),af=n(474),of=n.n(af),sf=n(473),cf=n.n(sf),uf=n(472),lf=n.n(uf);function pf(){return(pf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ff(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function df(e){var t=mf(Object(r.useState)(!1),2),n=t[0],o=t[1],i=(a.a.createElement(lf.a,null),a.a.createElement(cf.a,null),a.a.createElement(of.a,null),a.a.createElement(rf.a,null),function(){o(!n)}),s=e.task,c=s.title,u=s.riskCategories,l=(s.id,s.keyControl),p=s.evidenceAdded;s.evidenceRating;return a.a.createElement(Wp.b,{draggableId:e.task.id,index:e.index},function(e,t){var r,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ff(e,t,n[t])})}return e}({backgroundColor:t.isDragging?"lightgrey":"white"},e.draggableProps.style);return a.a.createElement(Xp.a,pf({className:"material-card"},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,style:o}),a.a.createElement("div",{className:"card-content"},a.a.createElement("div",{className:"card-header"},l?a.a.createElement("p",{className:"card-title card-key-control"}," "+c):a.a.createElement("p",{className:"card-title"},c),a.a.createElement("div",{className:"card-chevron"},a.a.createElement(as.a,{"aria-label":"show more"},a.a.createElement($p.a,null)))),a.a.createElement("div",{className:n?"card-footer flex-column":"card-footer",onClick:i},(r=u,n?r.map(function(e,t){return a.a.createElement("p",{className:"card-risk-category",key:t},e)}):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"card-risk-category"},r[0]),a.a.createElement("p",{className:"card-weight"},"+",r.length))),function(e){if(e)return a.a.createElement("div",null,a.a.createElement(tf.a,null),a.a.createElement("p",null,"Evidence Added"))}(p))))})}var bf=n(849),yf=n(858),hf=n(478),vf=n.n(hf);function gf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Sf(){return{top:"".concat(45,"%"),left:"".concat(45,"%"),transform:"translate(-".concat(45,"%, -").concat(45,"%)")}}var Ef=Object(bf.a)(function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"5px solid #2471a7",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}});function kf(e){var t=e.columnInformation,n=Ef(),o=gf(Object(r.useState)(Sf),1)[0],i=gf(Object(r.useState)(!1),2),s=i[0],c=i[1],u=a.a.createElement("div",{style:o,className:n.paper},a.a.createElement("h2",{id:"simple-modal-title"},t),a.a.createElement("p",{id:"simple-modal-description"},t));return a.a.createElement("div",null,a.a.createElement(vf.a,{className:"column-info",onClick:function(){c(!0)}}),a.a.createElement(yf.a,{open:s,onClose:function(){c(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},u))}var Of=n(479),Af=n.n(Of);function Tf(){return(Tf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function wf(e){return(wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(e,t,n){return t&&_f(e.prototype,t),n&&_f(e,n),e}function Nf(e,t){return!t||"object"!==wf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pf(e){return(Pf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rf(e,t)}function Rf(e,t){return(Rf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Df=function(e){function t(){return Cf(this,t),Nf(this,Pf(t).apply(this,arguments))}return jf(t,a.a.Component),If(t,[{key:"shouldComponentUpdate",value:function(e){return e.tasks!==this.props.tasks}},{key:"render",value:function(){return this.props.tasks.map(function(e,t){return a.a.createElement(df,{key:e.id,task:e,index:t})})}}]),t}(),xf=function(e){function t(){return Cf(this,t),Nf(this,Pf(t).apply(this,arguments))}return jf(t,r["Component"]),If(t,[{key:"render",value:function(){var e,t=this;return 0===this.props.tasks.length&&(e=a.a.createElement("div",{className:"empty-column-text"},a.a.createElement(Af.a,{className:"directional-drag-arrow"}),a.a.createElement("p",null,"Click and drag a control to move it into '",this.props.column.title,"'."))),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"column-header"},a.a.createElement("h5",{className:"column-title"},this.props.column.title),a.a.createElement(kf,{columnInformation:this.props.column.title})),a.a.createElement("div",{className:e?"dotted-border column-card-list":"column-card-list"},a.a.createElement(Wp.c,{droppableId:this.props.column.id},function(n,r){return a.a.createElement("div",Tf({ref:n.innerRef,style:{backgroundColor:r.isDraggingOver?"grey":"#efefef"}},n.droppableProps),e,a.a.createElement(Df,{tasks:t.props.tasks,columnTitle:t.props.column.title}),n.placeholder)})))}}]),t}(),Uf=n(850),Lf=n(859);function Mf(e){return(Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bf(e,t){return!t||"object"!==Mf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qf(e){return(Qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qf(e,t){return(qf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bf(this,Qf(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qf(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(Uf.a,{className:"board-filter-label filter-checkbox",control:a.a.createElement(Lf.a,{defaultChecked:!0,color:"primary"}),label:this.props.label})}}])&&Ff(n.prototype,o),i&&Ff(n,i),t}(),Vf=n(851),Jf=n(860);function Kf(e){return(Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yf(e){return(Yf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zf(e,t){return(zf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xf=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=Yf(t).call(this,e))||"object"!==Kf(a)&&"function"!=typeof a?Wf(r):a).state={value:""},n.handleChange=n.handleChange.bind(Wf(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zf(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return a.a.createElement("div",{className:"board-search"},a.a.createElement(Vf.a,{className:"board-filter-label"},this.props.label),a.a.createElement(Jf.a,{size:"small",InputProps:{style:{fontSize:"small"}},className:"board-search-input",variant:"outlined",color:"primary",focused:!0,onChange:this.handleChange}))}}])&&Gf(n.prototype,o),i&&Gf(n,i),t}(),Zf=n(857),$f=n(865);function em(e){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nm(e){return(nm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function am(e,t){return(am=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var om=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=nm(t).call(this,e))||"object"!==em(a)&&"function"!=typeof a?rm(r):a).state={value:""},n.handleChange=n.handleChange.bind(rm(n)),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&am(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.filterParameters,r=e.addClass;return a.a.createElement("div",{className:"board-select"},a.a.createElement(Vf.a,{className:"board-filter-label"},t),a.a.createElement(Zf.a,{SelectDisplayProps:{style:{paddingTop:9,paddingBottom:9,fontSize:"small"}},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,disablePortal:!0},IconComponent:$p.a,className:"sort-by"===r?"board-select-input sort-by":"board-select-input",variant:"outlined",focused:!0,defaultValue:n[0].title,onChange:this.handleChange},n.map(function(e){return a.a.createElement($f.a,{style:{fontSize:"small"},key:e.id,value:e.title},e.title)})))}}])&&tm(n.prototype,o),i&&tm(n,i),t}(),im=[{id:1,title:"All"},{id:2,title:"Information disclosure"},{id:3,title:"Information modification"},{id:4,title:"Information loss"},{id:5,title:"Sustained service unavailability"},{id:6,title:"Degraded service performance"},{id:7,title:"Human damage or loss of life"}],sm=[{id:1,title:"None"},{id:2,title:"Alphabetical (A-Z)"},{id:3,title:"Alphabetical (Z-A)"},{id:4,title:"Key controls first"},{id:5,title:"Effectiveness"},{id:6,title:"Evidence added"},{id:7,title:"Number of risk categories"}];function cm(e){return(cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lm(e,t){return!t||"object"!==cm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pm(e){return(pm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fm(e,t){return(fm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mm=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lm(this,pm(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fm(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"board-filters"},a.a.createElement(Xf,{label:"Key words"}),a.a.createElement(om,{label:"Risk category",filterParameters:im}),a.a.createElement(om,{label:"Sort by",filterParameters:sm,addClass:"sort-by"}),a.a.createElement(Hf,{label:"Show not applicable"}))}}])&&um(n.prototype,o),i&&um(n,i),t}();function dm(e){return(dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ym(e,t,n[t])})}return e}function ym(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vm(e,t){return!t||"object"!==dm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gm(e){return(gm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sm(e,t){return(Sm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Em=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=vm(this,(e=gm(t)).call.apply(e,[this].concat(a)))).state=zp,n.onDragEnd=function(e){var t,r=e.destination,a=e.source,o=e.draggableId;if(r&&(r.droppableId!==a.droppableId||r.index!==a.index)){var i=n.state.columns[a.droppableId],s=n.state.columns[r.droppableId];if(i!==s){var c=Array.from(i.taskIds);c.splice(a.index,1);var u=bm({},i,{taskIds:c}),l=Array.from(s.taskIds);l.splice(r.index,0,o);var p=bm({},s,{taskIds:l}),f=bm({},n.state,{columns:bm({},n.state.columns,(t={},ym(t,u.id,u),ym(t,p.id,p),t))});n.setState(f)}else{var m=Array.from(i.taskIds);m.splice(a.index,1),m.splice(r.index,0,o);var d=bm({},i,{taskIds:m}),b=bm({},n.state,{columns:bm({},n.state.columns,ym({},d.id,d))});n.setState(b)}}},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sm(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(mm,null),a.a.createElement(Wp.a,{onDragEnd:this.onDragEnd},a.a.createElement("div",{className:"control-board-container"},this.state.columnOrder.map(function(t){var n=e.state.columns[t],r=n.taskIds.map(function(e){return zp.tasks[e]});return a.a.createElement("div",{className:"column-container"},a.a.createElement(xf,{key:n.id,column:n,tasks:r}))}))))}}])&&hm(n.prototype,o),i&&hm(n,i),t}();function km(e){return(km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Am(e,t,n[t])})}return e}function Am(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wm(e,t){return!t||"object"!==km(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cm(e){return(Cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _m(e,t){return(_m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Im=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wm(this,Cm(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_m(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Om({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=Om({},this.props),n=t.siteConfig,r=t.currentUser,o=t.securityRiskAssessmentData,i=t.secureToken,s=t.impactThresholdData,c=t.component;if(!r||!n||!o)return null;var u=Om({},o),l=u.uuid,p=(u.taskName,u.questionnaireSubmissionUUID),f=(u.submitterID,u.taskSubmissions),m=u.sraData,d=(u.status,u.sraTaskHelpText),b=u.sraTaskRecommendedControlHelpText,y=u.sraTaskRiskRatingHelpText,h=u.sraTaskLikelihoodScoreHelpText,v=u.sraTaskImpactScoreHelpText,g=Wi.isSRATaskFinalised(f),S=Wi.isSiblingTaskPending(f),E=o.submitterID===r.id,k=E||o.isTaskCollborator,O=(g||S||!k||a.a.createElement(ca,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(l,i,p)}}),a.a.createElement("div",{className:"back-link",onClick:function(){D.redirectToQuestionnaireSummary(p,i)}},a.a.createElement("img",{src:sc.a}),"Back")),A=!1,T=!1;return(E||o.isTaskCollborator)&&(A=!0),A||(r.isSA||r.isCISO||o.isBusinessOwner||r.isAccreditationAuthority||r.isCertificationAuthority)&&(T=!0),a.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},a.a.createElement(It,{pageTitle:o.taskName,logopath:n.logoPath,productName:o.questionnaireSubmissionProductName,questionnaireSubmissionUUID:o.questionnaireSubmissionUUID,showSubmissionBreadcrumb:A,showApprovalBreadcrumb:T,component:c}),"expired"===o.status&&a.a.createElement(ts,null),"expired"!==o.status&&a.a.createElement("div",{className:"SecurityRiskAssessment"},O,a.a.createElement("h4",null,"Your risk assessment results"),a.a.createElement("div",{className:"help-text"},d),a.a.createElement("div",{className:"help-text"},a.a.createElement(Mp,{riskRatingHelpText:y,riskRatingThresholds:m.riskRatingThresholds,likelihoodScoreHelpText:h,likelihoodScoreThresholds:m.likelihoodThresholds,impactScoreHelpText:v,impactScoreThresholds:s})),a.a.createElement("h4",null,"Recommended Controls"),a.a.createElement("div",{className:"help-text"},b),a.a.createElement("div",{className:"security-risk-assessment-control-board"},a.a.createElement(Em,null)),a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"container-right"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,"Note: Changes are automatically saved")),a.a.createElement("div",{className:"button-container"},a.a.createElement(Un,{classes:["button"],title:"Exit",onClick:function(){D.redirectToQuestionnaireSummary(p,i)}}),a.a.createElement(ca,{classes:["button button-submit"],title:"Submit"}))))),a.a.createElement(Jt,{footerCopyrightText:n.footerCopyrightText}))}}])&&Tm(n.prototype,o),i&&Tm(n,i),t}(),Nm=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}},function(e,t){return{dispatchLoadDataAction:function(t,n){var r;e(Oi()),e(un()),e(Yp({uuid:t,secureToken:n})),e((r=Kp(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vp.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return r.apply(this,arguments)}))},dispatchFinaliseAction:function(t,n,r){e(ec({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}})(Im);function Pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jm(e,t,n[t])})}return e}function jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rm(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Dm(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Rm(o,r,a,i,s,"next",e)}function s(e){Rm(o,r,a,i,s,"throw",e)}i(void 0)})}}function xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Um=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:function(){var e=Dm(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pm({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw B;case 8:return c=JSON.parse(O()(s,"CVATaskData","[]")),Array.isArray(c)||(c=[]),u=c.length>0?ar.parseCVAFromJSONObject(c):c,l={id:T()(O()(s,"ID","")),status:T()(O()(s,"Status","")),uuid:T()(O()(s,"UUID","")),questionnaireSubmissionUUID:T()(O()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionProductName:T()(O()(s,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===O()(s,"QuestionnaireSubmission.IsBusinessOwner","false"),taskName:T()(O()(s,"TaskName","")),selectedComponents:u,submitterID:T()(O()(s,"Submitter.ID","")),componentTarget:T()(O()(s,"CVATaskDataSource","")),isTaskCollborator:"true"===O()(s,"IsTaskCollborator","false"),productAspects:_.has(s,"ProductAspects")?JSON.parse(O()(s,"ProductAspects",[])):[],siblingSubmissions:Y.parseAlltaskSubmissionforQuestionnaire(s)},e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveControlValidationAuditData",value:function(){var e=Dm(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pm({},t),r=n.uuid,a=n.controlData,o=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,F.request({query:s,csrfToken:o});case 5:if(c=e.sent,_.get(c,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw B;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reSyncWithJira",value:function(){var e=Dm(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pm({},t),r=n.uuid,a=n.csrfToken,o='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw B;case 8:return c=JSON.parse(O()(s,"CVATaskData","[]")),Array.isArray(c)||(c=[]),u=c.length>0?ar.parseCVAFromJSONObject(c):c,e.abrupt("return",u);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&xm(t.prototype,n),r&&xm(t,r),e}();function Lm(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Mm(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Lm(o,r,a,i,s,"next",e)}function s(e){Lm(o,r,a,i,s,"throw",e)}i(void 0)})}}function Fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bm(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fm(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Mm(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,Um.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return a=e.sent,o={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:a},e.next=11,t(o);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:$.displayError(e.t0);case 18:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t){return e.apply(this,arguments)}}()}function Qm(e){return(Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Hm(e,t,n[t])})}return e}function Hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jm(e,t){return!t||"object"!==Qm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Km(e){return(Km=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gm(e,t){return(Gm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ym(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Wm(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ym(o,r,a,i,s,"next",e)}function s(e){Ym(o,r,a,i,s,"throw",e)}i(void 0)})}}var zm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Jm(this,Km(t).call(this,e))).state={isCVATaskEditable:!1,isSRATaskFinalised:!1,canEdit:!1},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gm(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Wm(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,c,u,l,p,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=qm({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,a=t.secureToken,e.next=3,r(n,a);case 3:try{o=qm({},this.props),i=o.controlValidationAuditData,s=o.currentUser,c=i.submitterID===s.id,u=c||i.isTaskCollborator,l=Wi.isSRATaskFinalised(i.siblingSubmissions),p=u&&!l,this.setState({canEdit:u,isSRATaskFinalised:l,isCVATaskEditable:p}),this.autoSaveCVATask=setInterval(Wm(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,f.callAutoSaveCvaTaskApi();case 3:case"end":return e.stop()}},e,this)})),6e5)}catch(e){$.displayError(error)}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.autoSaveCVATask)}},{key:"callAutoSaveCvaTaskApi",value:function(){var e=qm({},this.props),t=e.uuid,n=e.secureToken,r=e.dispatchSaveControlValidationAuditDataAction,a=e.controlValidationAuditData,o=e.cvaSelectedComponents;e.currentUser;r(t,o,a.questionnaireSubmissionUUID,n,!0)}},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;this.props.controlValidationAuditData.componentTarget;return t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?a.a.createElement("div",null,n.map(function(t){return e.renderComponent(t)})):a.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return a.a.createElement("div",null,e.map(function(e,r){var o=t.filter(function(t){return t.productAspect===e});return 0==o.length?null:a.a.createElement("div",{className:"mt-2",key:r},a.a.createElement("h4",null,e),o.map(function(e){return n.renderComponent(e)}))}))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,o=e.jiraTicketLink?a.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return a.a.createElement("div",{key:n},a.a.createElement("h5",null,e.name,o&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&a.a.createElement("span",null," - ",o)),r&&r.length>0&&r.map(function(n){return t.renderControl(n,e)}),!r||0==r.length&&a.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,o=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return a.a.createElement("div",{className:"my-0 container row",key:t},a.a.createElement("div",{className:"col-xs-2"},o.map(function(o,i){return a.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},a.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:o.value,defaultChecked:e.selectedOption===o.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:o.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),o.label)})),a.a.createElement("div",{className:"col-10"},a.a.createElement("label",{key:e.id},a.a.createElement("strong",null,e.name)),a.a.createElement(cu,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:this.state.isCVATaskEditable,updateEvidenceTextareaData:function(t){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return a.a.createElement("div",{className:"my-0",key:t},a.a.createElement("label",{className:"ml-2",key:e.id},a.a.createElement("span",null,a.a.createElement("strong",null,e.name)," - "),a.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=qm({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,o=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,s=e.cvaSelectedComponents,c=e.dispatchReSyncWithJira,u=e.component;if(!n||!r||!t)return null;var l=this.state.isCVATaskEditable&&s.length>0?a.a.createElement(Un,{title:"SUBMIT",onClick:function(){return i(r.uuid,s,r.questionnaireSubmissionUUID,o,!1)}}):null,p=a.a.createElement(ca,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,o)}}),f=this.state.isCVATaskEditable&&"JIRA Cloud"==r.componentTarget&&s.length>0?a.a.createElement(ca,{title:"RE SYNC WITH JIRA",onClick:function(){return c(r.uuid)}}):null,m=!1,d=!1;return(r.submitterID===n.id||r.isTaskCollborator)&&(m=!0),m||(n.isSA||n.isCISO||r.isBusinessOwner||n.isAccreditationAuthority||n.isCertificationAuthority)&&(d=!0),a.a.createElement("div",{className:"ControlValidationAuditContainer"},a.a.createElement(It,{pageTitle:r.taskName,logopath:t.logoPath,productName:r.questionnaireSubmissionProductName,questionnaireSubmissionUUID:r.questionnaireSubmissionUUID,showSubmissionBreadcrumb:m,showApprovalBreadcrumb:d,component:u}),"expired"===r.status&&a.a.createElement(ts,null),"expired"!==r.status&&a.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},a.a.createElement("div",{className:"ControlValidationAuditForm"},a.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!this.state.canEdit&&a.a.createElement(Gu,null),(this.state.canEdit||"complete"==r.status)&&a.a.createElement("div",null,!!this.state.isSRATaskFinalised&&Wi.getSraIsFinalisedAlert(),this.renderCVAQuestionsForm())),a.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},a.a.createElement("div",null,l,f,p))),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Vm(n.prototype,o),i&&Vm(n,i),t}(),Xm=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:(n=Wm(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(Bm({uuid:n,secureToken:r})),e(Oi()),e(un())]);case 2:case"end":return t.stop()}},t,this)})),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,a,o){e(function(e,t,n,r,a){return o=Mm(regeneratorRuntime.mark(function o(i){var s,c,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Ee.getCSRFToken();case 3:return s=o.sent,o.next=6,Um.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:s});case 6:return c=o.sent,u={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:c},o.next=10,i(u);case 10:a||D.redirectToQuestionnaireSummary(n,r),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),$.displayError(o.t0);case 16:case"end":return o.stop()}},o,this,[[0,13]])})),function(e){return o.apply(this,arguments)};var o}(t,n,r,a,o))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n,r;e((n=t,r=Mm(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}))},dispatchReSyncWithJira:function(t){e(function(e){return t=Mm(regeneratorRuntime.mark(function t(n){var r,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,Ee.getCSRFToken();case 5:return r=t.sent,t.next=8,Um.reSyncWithJira({uuid:e,csrfToken:r});case 8:return a=t.sent,o={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:a},t.next=12,n(o);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:$.displayError(t.t0);case 19:case"end":return t.stop()}},t,this,[[2,14]])})),function(e){return t.apply(this,arguments)};var t}(t))}};var n})(zm),Zm=n(63);function $m(e){return($m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function td(e,t){return!t||"object"!==$m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nd(e){return(nd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rd(e,t){return(rd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ad=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),td(this,nd(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rd(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"loading-spinner-page-overlay"},a.a.createElement("div",{className:"loading-spinner"},a.a.createElement(eu.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&ed(n.prototype,o),i&&ed(n,i),t}();function od(e){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function id(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sd(e,t){return!t||"object"!==od(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cd(e){return(cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ud(e,t){return(ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ld=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sd(this,cd(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ud(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",null,this.props.loading&&a.a.createElement(ad,null),a.a.createElement("main",null,a.a.createElement(c.a,null,a.a.createElement(u.a,{exact:!0,path:"/"},function(){return a.a.createElement(hn,null)}),a.a.createElement(u.a,{path:"/questionnaire/start/:id"},function(e){var t=e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Ir,{questionnaireID:t.params.id}))}),a.a.createElement(u.a,{path:"/questionnaire/submission/:hash"},function(e){var t=e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Ao,{submissionHash:t.params.hash}))}),a.a.createElement(u.a,{path:"/questionnaire/review/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Zm.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(yi,{submissionHash:t.params.hash,secureToken:r}))}),a.a.createElement(u.a,{path:"/questionnaire/summary/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Zm.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Is,{submissionHash:t.params.hash,secureToken:r}))}),a.a.createElement(u.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r="",o="";if(n.search){var i=Object(Zm.parse)(n.search);r=i.token,o=i.component}return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Ac,{uuid:t.params.uuid,secureToken:r,component:o}))}),a.a.createElement(u.a,{path:"/tasks/standalone/:taskId"},function(e){var t=e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Rc,{taskId:t.params.taskId}))}),a.a.createElement(u.a,{path:"/component-selection/standalone/:taskId"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Zm.parse)(n.search).componentTarget);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Fu,{taskId:t.params.taskId,componentTarget:r}))}),a.a.createElement(u.a,{path:"/component-selection/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Zm.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(nl,{uuid:t.params.uuid,secureToken:r}))}),a.a.createElement(u.a,{path:"/control-validation-audit/submission/:uuid"},function(e){var t=e.match,n=e.location,r="",o="";if(n.search){var i=Object(Zm.parse)(n.search);r=i.token,o=i.component}return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Xm,{uuid:t.params.uuid,secureToken:r,component:o}))}),a.a.createElement(u.a,{path:"/security-risk-assessment/submission/:uuid"},function(e){var t=e.match,n=e.location,r="",o="";if(n.search){var i=Object(Zm.parse)(n.search);r=i.token,o=i.component}return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Nm,{uuid:t.params.uuid,secureToken:r,component:o}))}),a.a.createElement(u.a,{path:"/MySubmissions"},function(e){e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(dl,null))}),a.a.createElement(u.a,{path:"/AwaitingApprovals"},function(e){e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Gl,null))}),a.a.createElement(u.a,{path:"/MyProducts"},function(e){e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(rp,null))}))))}}])&&id(n.prototype,o),i&&id(n,i),t}(),pd=Object(dt.a)(Object(s.b)(function(e){return{loading:j.a.chain(e.loadingState).values().some(function(e){return e}).value()}},function(e,t){return{}})(ld)),fd=n(856),md=n(22),dd=(n(772),{title:"",subtitle:"",pillars:[],tasks:[]});function bd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yd(e,t,n[t])})}return e}function yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hd={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},vd={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var gd=Object(md.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hd,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vd,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex(function(e){return e.id===n.id});if(r<0)return e;var a=bd({},e);return j.a.set(a,"submission.questions.".concat(r),n),a}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var o=e.submission;if(!o)return e;var i=bd({},t).targetIndex,s=o.questions.findIndex(function(e){return e.isCurrent});if(i<0||i>=o.questions.length)return e;var c=bd({},e);return j.a.set(c,"submission.questions.".concat(s,".isCurrent"),!1),j.a.set(c,"submission.questions.".concat(i,".isCurrent"),!0),c}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var u=e.submission;if(!u)return e;var p=bd({},e),f=t.nonApplicableIndexes;return f&&f.length>0&&f.forEach(function(e){var t=u.questions[e];t.isApplicable=!1,j.a.set(p,"submission.questions.".concat(e),t)}),p}return e}}),Sd=n(97),Ed=n.n(Sd),kd=n(64),Od=n.n(kd);function Ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Td(e,t,n[t])})}return e}function Td(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wd={taskSubmission:null};function Cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _d={user:null};function Id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nd={siteConfig:null};var Pd=n(480),jd=n.n(Pd);function Rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dd(e,t,n[t])})}return e}function Dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xd={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Ud=Jc.isComponentExist,Ld=Jc.isSelectedComponentExist;function Md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fd(e,t,n[t])})}return e}function Fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bd={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function Qd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qd(e,t,n[t])})}return e}function qd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hd={securityRiskAssessmentData:null,impactThresholdData:null};function Vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Jd(e,t,n[t])})}return e}function Jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kd={controlValidationAuditData:null,cvaSelectedComponents:[]};Jc.isSelectedComponentExist;function Gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Wd={members:null};function zd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xd(e,t,n[t])})}return e}function Xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zd={pagination:{limit:10,offset:0,index:1,pageNumber:1}};var $d=Object(md.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:gd,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wd,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION){if(!n)return e;var r=Ad({},t.payload).resultForCertificationAndAccreditation,a=Ed()(e);return Od()(a,"taskSubmission.resultForCertificationAndAccreditation",r),a}if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var o=t.payload,i=n.questions.findIndex(function(e){return e.id===o.id});if(i<0)return e;var s=Ed()(e);return Od()(s,"taskSubmission.questions.".concat(i),o),s}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var c=Ed()(e),u=t.payload;return u&&u.length>0&&u.forEach(function(e){var t=n.questions[e];t.isApplicable=!1,Od()(c,"taskSubmission.questions.".concat(e),t)}),c}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var p=Ad({},t.payload),f=p.currentIndex,m=p.targetIndex;if(m<0||m>=n.questions.length)return e;var d=Ed()(e);return Od()(d,"taskSubmission.questions.".concat(f,".isCurrent"),!1),Od()(d,"taskSubmission.questions.".concat(m,".isCurrent"),!0),d}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var b=Ed()(e);return Od()(b,"taskSubmission.status","complete"),t.payload&&Od()(b,"taskSubmission.result",t.payload),b}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var y=Ed()(e);return Od()(y,"taskSubmission.status","in_progress"),Od()(y,"taskSubmission.result",null),y}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cd(e,t,n[t])})}return e}({},e,{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Id(e,t,n[t])})}return e}({},e,{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xd,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS)return Rd({},e,{availableComponents:t.payload});if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var n=t,r=n.payload.id,a=n.payload.productAspect;if(!Ld(r,a,e.selectedComponents)&&Ud(r,e.availableComponents)){var o=e.availableComponents.filter(function(e){return e.id===r}),i=Object.assign({},o[0]);return i.productAspect=a,Rd({},e,{selectedComponents:jd()(e.selectedComponents,i)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var s=t,c=s.payload.id,u=s.payload.productAspect;if(Ld(c,u,e.selectedComponents)&&Ud(c,e.availableComponents))return Rd({},e,{selectedComponents:e.selectedComponents.filter(function(e){return e.id!==c||e.productAspect!==u})})}return t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS?Rd({},e,{jiraTickets:t.payload}):t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE?Rd({},e,{viewMode:t.payload}):t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS?Rd({},e,{selectedComponents:t.payload}):e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bd,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?Md({},e,{awaitingApprovalList:t.payload}):t.type===l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?Md({},e,{awaitingApprovalTaskList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?Md({},e,{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?Md({},e,{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hd,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?Qd({},e,{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?Qd({},e,{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kd,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),Vd({},e,{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var a=t.payload.selectedOption,o=t.payload.productAspect,i=t.payload.controlID,s=t.payload.componentID,c=t.payload.implementationEvidenceUserInput,u=Object(P.cloneDeep)(e.cvaSelectedComponents),p=[];if((p=""!==o?u.filter(function(e){return e.id==s&&e.productAspect==o}):u.filter(function(e){return e.id==s})).length>0){var f=p[0].controls.filter(function(e){return e.id==i});if(f.length>0)return f[0].selectedOption=a,f[0].implementationEvidenceUserInput=c,Vd({},e,{cvaSelectedComponents:u})}}return t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS?Vd({},e,{cvaSelectedComponents:t.payload}):t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA?Vd({},e,{controlValidationAuditData:t.payload,cvaSelectedComponents:[]}):e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).type,n=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(t);if(!n)return e;var r=Yd(n,3);r[0];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gd(e,t,n[t])})}return e}({},e,Gd({},r[1],"REQUEST"===r[2]))},memberState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.LOAD_MEMBER:return t.payload;default:return e}},paginationState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.PAGINATION.FETCH_NEXT_PAGE:case l.PAGINATION.FETCH_PREV_PAGE:case l.PAGINATION.FETCH_FIRST_PAGE:case l.PAGINATION.FETCH_LAST_PAGE:case l.PAGINATION.SET_SELECTED_ROWS:return zd({},e,{pagination:t.payload});case l.PAGINATION.RESET_PAGINATION:return zd({},e,{pagination:Zd.pagination});default:return e}}}),eb=n(481),tb=[p.a];var nb=Object(md.createStore)($d,Object(eb.composeWithDevTools)(md.applyMiddleware.apply(void 0,tb)));function rb(e){return(rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ob(e,t){return!t||"object"!==rb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ib(e){return(ib=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sb(e,t){return(sb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ub(e,t,n[t])})}return e}function ub(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ob(this,ib(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sb(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,cb({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=cb({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,o=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?a.a.createElement("div",{className:"TaskSubmissionContainer"},a.a.createElement(It,{pageTitle:n.taskName,showLogoutButton:!1,logopath:t.logoPath,productName:n.questionnaireSubmissionProductName}),a.a.createElement(bc,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:o,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),a.a.createElement(Jt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&ab(n.prototype,o),i&&ab(n,i),t}(),pb=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(){var n=cb({},t),r=n.uuid,a=n.secureToken;e(Xs({uuid:r,secureToken:a})),e(un())},dispatchSaveAnsweredQuestionAction:function(n){var r=cb({},t).secureToken;e(Zs({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=cb({},t).secureToken;e(tc({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=cb({},t).secureToken;e(nc({secureToken:n}))}}})(lb);function fb(e){return(fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function db(e,t){return!t||"object"!==fb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bb(e){return(bb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yb(e,t){return(yb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hb=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),db(this,bb(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yb(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("main",null,a.a.createElement(c.a,null,a.a.createElement(u.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(Zm.parse)(n.search);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(pb,{uuid:t.params.uuid,secureToken:r.token||""}))}))))}}])&&mb(n.prototype,o),i&&mb(n,i),t}(),vb=n(855);window.addEventListener("load",function(){xa.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(a.a.createElement(vb.a,null,a.a.createElement(fd.a,null,a.a.createElement(s.a,{store:nb},a.a.createElement(pd,null)))),e);var t=document.getElementById("vendor-app");t&&i.a.render(a.a.createElement(vb.a,null,a.a.createElement(fd.a,null,a.a.createElement(s.a,{store:nb},a.a.createElement(hb,null)))),t)})},82:function(e,t,n){e.exports=n.p+"../img/e5ade74409af1721ad1dfcadb7f04aee.svg"},94:function(e,t,n){e.exports=n.p+"../img/9f61063964aa72748e2ad460ce525fdf.svg"}});
//# sourceMappingURL=main.bundle.js.map