!function(e){function t(t){for(var r,o,a=t[0],i=t[1],u=t[2],s=0,c=[];s<a.length;s++)o=a[s],I[o]&&c.push(I[o][0]),I[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(x&&x(t);c.length;)c.shift()();return N.push.apply(N,u||[]),n()}function n(){for(var e,t=0;t<N.length;t++){for(var n=N[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==I[a]&&(r=!1)}r&&(N.splice(t--,1),e=j(j.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!O[e]||!E[e])return;for(var n in E[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--v&&0===S&&A()}(e,t),r&&r(e,t)};var o,a=!0,i="0f4722942bc4b37b6a29",u=1e4,s={},c=[],l=[];function p(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:T,apply:_,status:function(e){if(!e)return m;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:s[e]};return o=void 0,t}var f=[],m="idle";function d(e){m=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var b,y,h,v=0,S=0,g={},E={},O={};function k(e){return+e+""===e?+e:e}function T(e){if("idle"!==m)throw new Error("check() is only allowed in idle status");return a=e,d("check"),(t=u,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=j.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return d("idle"),null;E={},g={},O=e.c,h=e.h,d("prepare");var t=new Promise(function(e,t){b={resolve:e,reject:t}});for(var n in y={},I)w(n);return"prepare"===m&&0===S&&0===v&&A(),t});var t}function w(e){var t;O[e]?(E[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=j.p+"hot/hot-update.js",document.head.appendChild(t)):g[e]=!0}function A(){d("ready");var e=b;if(b=null,e)if(a)Promise.resolve().then(function(){return _(a)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(k(n));e.resolve(t)}}function _(t){if("ready"!==m)throw new Error("apply() is only allowed in ready status");var n,r,o,a,u;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,u=o.chain;if((a=C[i])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:u,moduleId:i};if(a.hot._main)return{type:"unaccepted",chain:u,moduleId:i};for(var s=0;s<a.parents.length;s++){var c=a.parents[s],l=C[c];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:u.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),p(n[c],[i])):(delete n[c],t.push(c),r.push({chain:u.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},b=[],v={},S=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var g in y)if(Object.prototype.hasOwnProperty.call(y,g)){var E;u=k(g);var T=!1,w=!1,A=!1,_="";switch((E=y[g]?l(u):{type:"disposed",moduleId:g}).chain&&(_="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(T=new Error("Aborted because of self decline: "+E.moduleId+_));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+_));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(T=new Error("Aborted because "+u+" is not accepted"+_));break;case"accepted":t.onAccepted&&t.onAccepted(E),w=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),A=!0;break;default:throw new Error("Unexception type "+E.type)}if(T)return d("abort"),Promise.reject(T);if(w)for(u in v[u]=y[u],p(b,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,u)&&(f[u]||(f[u]=[]),p(f[u],E.outdatedDependencies[u]));A&&(p(b,[E.moduleId]),v[u]=S)}var N,P=[];for(r=0;r<b.length;r++)u=b[r],C[u]&&C[u].hot._selfAccepted&&P.push({module:u,errorHandler:C[u].hot._selfAccepted});d("dispose"),Object.keys(O).forEach(function(e){!1===O[e]&&function(e){delete I[e]}(e)});for(var R,D,x=b.slice();x.length>0;)if(u=x.pop(),a=C[u]){var U={},L=a.hot._disposeHandlers;for(o=0;o<L.length;o++)(n=L[o])(U);for(s[u]=U,a.hot.active=!1,delete C[u],delete f[u],o=0;o<a.children.length;o++){var M=C[a.children[o]];M&&((N=M.parents.indexOf(u))>=0&&M.parents.splice(N,1))}}for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(a=C[u]))for(D=f[u],o=0;o<D.length;o++)R=D[o],(N=a.children.indexOf(R))>=0&&a.children.splice(N,1);for(u in d("apply"),i=h,v)Object.prototype.hasOwnProperty.call(v,u)&&(e[u]=v[u]);var Q=null;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(a=C[u])){D=f[u];var F=[];for(r=0;r<D.length;r++)if(R=D[r],n=a.hot._acceptedDependencies[R]){if(-1!==F.indexOf(n))continue;F.push(n)}for(r=0;r<F.length;r++){n=F[r];try{n(D)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:D[r],error:e}),t.ignoreErrored||Q||(Q=e)}}}for(r=0;r<P.length;r++){var q=P[r];u=q.module,c=[u];try{j(u)}catch(e){if("function"==typeof q.errorHandler)try{q.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,originalError:e}),t.ignoreErrored||Q||(Q=n),Q||(Q=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||Q||(Q=e)}}return Q?(d("fail"),Promise.reject(Q)):(d("idle"),new Promise(function(e){e(b)}))}var C={},I={2:0},N=[];function j(t){if(C[t])return C[t].exports;var n=C[t]={i:t,l:!1,exports:{},hot:p(t),parents:(l=c,c=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=C[e];if(!t)return j;var n=function(n){return t.hot.active?(C[n]?-1===C[n].parents.indexOf(e)&&C[n].parents.push(e):(c=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),c=[]),j(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return j[e]},set:function(t){j[e]=t}}};for(var a in j)Object.prototype.hasOwnProperty.call(j,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===m&&d("prepare"),S++,j.e(e).then(t,function(e){throw t(),e});function t(){S--,"prepare"===m&&(g[e]||w(e),0===S&&0===v&&A())}},n.t=function(e,t){return 1&t&&(e=n(e)),j.t(e,-2&t)},n}(t)),n.l=!0,n.exports}j.m=e,j.c=C,j.d=function(e,t,n){j.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},j.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},j.t=function(e,t){if(1&t&&(e=j(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(j.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)j.d(n,r,function(t){return e[t]}.bind(null,r));return n},j.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(t,"a",t),t},j.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},j.p="/resources/themes/sdlt/dist/img/",j.h=function(){return i};var P=window.webpackJsonp=window.webpackJsonp||[],R=P.push.bind(P);P.push=t,P=P.slice();for(var D=0;D<P.length;D++)t(P[D]);var x=R;N.push([420,0]),n()}({130:function(e,t,n){e.exports=n.p+"../img/64544011f835a0bcc13b668a98a70f78.svg"},132:function(e,t,n){e.exports=n.p+"../img/e5ade74409af1721ad1dfcadb7f04aee.svg"},180:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},187:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},387:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},388:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},389:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},390:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},392:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},393:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},394:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},395:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"},396:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},397:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},409:function(e,t,n){e.exports=n.p+"../img/dab319c4a5240b45e9eacf3657dabef9.svg"},410:function(e,t,n){e.exports=n.p+"../img/8c940e4f505b38895423737310f1fb6c.svg"},411:function(e,t,n){e.exports=n.p+"../img/253fcb80900dd1752b22f7607d2c75bb.svg"},420:function(e,t,n){n(192),e.exports=n(728)},645:function(e,t,n){var r={"./af":244,"./af.js":244,"./ar":245,"./ar-dz":246,"./ar-dz.js":246,"./ar-kw":247,"./ar-kw.js":247,"./ar-ly":248,"./ar-ly.js":248,"./ar-ma":249,"./ar-ma.js":249,"./ar-sa":250,"./ar-sa.js":250,"./ar-tn":251,"./ar-tn.js":251,"./ar.js":245,"./az":252,"./az.js":252,"./be":253,"./be.js":253,"./bg":254,"./bg.js":254,"./bm":255,"./bm.js":255,"./bn":256,"./bn.js":256,"./bo":257,"./bo.js":257,"./br":258,"./br.js":258,"./bs":259,"./bs.js":259,"./ca":260,"./ca.js":260,"./cs":261,"./cs.js":261,"./cv":262,"./cv.js":262,"./cy":263,"./cy.js":263,"./da":264,"./da.js":264,"./de":265,"./de-at":266,"./de-at.js":266,"./de-ch":267,"./de-ch.js":267,"./de.js":265,"./dv":268,"./dv.js":268,"./el":269,"./el.js":269,"./en-SG":270,"./en-SG.js":270,"./en-au":271,"./en-au.js":271,"./en-ca":272,"./en-ca.js":272,"./en-gb":273,"./en-gb.js":273,"./en-ie":274,"./en-ie.js":274,"./en-il":275,"./en-il.js":275,"./en-nz":276,"./en-nz.js":276,"./eo":277,"./eo.js":277,"./es":278,"./es-do":279,"./es-do.js":279,"./es-us":280,"./es-us.js":280,"./es.js":278,"./et":281,"./et.js":281,"./eu":282,"./eu.js":282,"./fa":283,"./fa.js":283,"./fi":284,"./fi.js":284,"./fo":285,"./fo.js":285,"./fr":286,"./fr-ca":287,"./fr-ca.js":287,"./fr-ch":288,"./fr-ch.js":288,"./fr.js":286,"./fy":289,"./fy.js":289,"./ga":290,"./ga.js":290,"./gd":291,"./gd.js":291,"./gl":292,"./gl.js":292,"./gom-latn":293,"./gom-latn.js":293,"./gu":294,"./gu.js":294,"./he":295,"./he.js":295,"./hi":296,"./hi.js":296,"./hr":297,"./hr.js":297,"./hu":298,"./hu.js":298,"./hy-am":299,"./hy-am.js":299,"./id":300,"./id.js":300,"./is":301,"./is.js":301,"./it":302,"./it-ch":303,"./it-ch.js":303,"./it.js":302,"./ja":304,"./ja.js":304,"./jv":305,"./jv.js":305,"./ka":306,"./ka.js":306,"./kk":307,"./kk.js":307,"./km":308,"./km.js":308,"./kn":309,"./kn.js":309,"./ko":310,"./ko.js":310,"./ku":311,"./ku.js":311,"./ky":312,"./ky.js":312,"./lb":313,"./lb.js":313,"./lo":314,"./lo.js":314,"./lt":315,"./lt.js":315,"./lv":316,"./lv.js":316,"./me":317,"./me.js":317,"./mi":318,"./mi.js":318,"./mk":319,"./mk.js":319,"./ml":320,"./ml.js":320,"./mn":321,"./mn.js":321,"./mr":322,"./mr.js":322,"./ms":323,"./ms-my":324,"./ms-my.js":324,"./ms.js":323,"./mt":325,"./mt.js":325,"./my":326,"./my.js":326,"./nb":327,"./nb.js":327,"./ne":328,"./ne.js":328,"./nl":329,"./nl-be":330,"./nl-be.js":330,"./nl.js":329,"./nn":331,"./nn.js":331,"./pa-in":332,"./pa-in.js":332,"./pl":333,"./pl.js":333,"./pt":334,"./pt-br":335,"./pt-br.js":335,"./pt.js":334,"./ro":336,"./ro.js":336,"./ru":337,"./ru.js":337,"./sd":338,"./sd.js":338,"./se":339,"./se.js":339,"./si":340,"./si.js":340,"./sk":341,"./sk.js":341,"./sl":342,"./sl.js":342,"./sq":343,"./sq.js":343,"./sr":344,"./sr-cyrl":345,"./sr-cyrl.js":345,"./sr.js":344,"./ss":346,"./ss.js":346,"./sv":347,"./sv.js":347,"./sw":348,"./sw.js":348,"./ta":349,"./ta.js":349,"./te":350,"./te.js":350,"./tet":351,"./tet.js":351,"./tg":352,"./tg.js":352,"./th":353,"./th.js":353,"./tl-ph":354,"./tl-ph.js":354,"./tlh":355,"./tlh.js":355,"./tr":356,"./tr.js":356,"./tzl":357,"./tzl.js":357,"./tzm":358,"./tzm-latn":359,"./tzm-latn.js":359,"./tzm.js":358,"./ug-cn":360,"./ug-cn.js":360,"./uk":361,"./uk.js":361,"./ur":362,"./ur.js":362,"./uz":363,"./uz-latn":364,"./uz-latn.js":364,"./uz.js":363,"./vi":365,"./vi.js":365,"./x-pseudo":366,"./x-pseudo.js":366,"./yo":367,"./yo.js":367,"./zh-cn":368,"./zh-cn.js":368,"./zh-hk":369,"./zh-hk.js":369,"./zh-tw":370,"./zh-tw.js":370};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=645},650:function(e,t){},674:function(e,t){},728:function(e,t,n){"use strict";n.r(t);n(421),n(423),n(424),n(427),n(428),n(429),n(144),n(432),n(433),n(435),n(436),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(469),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(494),n(495),n(496),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(211),n(510),n(512),n(513),n(514),n(515),n(516),n(517),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558);var r=n(0),o=n.n(r),a=n(25),i=n.n(a),u=n(9),s=n(748),c=n(745),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE",ADD_COLLABORATOR:"QUESTIONNAIRE/ADD_COLLABORATOR"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE",ADD_TASK_RECOMMENDATION:"TASK/ADD_RECOMMENDATION"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER",LOAD_MEMBER:"USER/LOAD_MEMBER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},p=n(44),f=n(187),m=n.n(f),d=n(387),b=n.n(d),y=n(388),h=n.n(y),v=n(389),S=n.n(v),g=n(390),E=n.n(g),O=n(4),k=n.n(O),T=n(5),w=n.n(T),A=n(391),C=n.n(A),I=n(125),N=n.n(I),j=n(2),P=n.n(j);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/task/submission/".concat(e);if(t&&(r="/task/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/security-risk-assessment/submission/".concat(e);if(t&&(r="/security-risk-assessment/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/control-validation-audit/submission/".concat(e);if(t&&(r="/control-validation-audit/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&R(t.prototype,n),r&&R(t,r),e}();function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"request",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=x({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),u={query:C()(r),variables:o},e.next=6,N.a.request({url:"/graphql",method:"post",data:u,headers:i});case 6:if(s=e.sent,c=s.data,!(l=P.a.get(c,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){L(a,r,o,i,u,"next",e)}function u(e){L(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&M(t.prototype,n),r&&M(t,r),e}(),F=new Error("There is an error when fetching data..."),q=new Error("There is an error when parsing data...");function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){B(e,t,n[t])})}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw q;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&P.a.keys(t).forEach(function(e){n[P.a.toString(e)]=t[e]}),n}(r),i=function(e){var t="";return P.a.keys(e).forEach(function(n){var r=e[n];!t&&Boolean(P.a.get(r,"isCurrent",!1))&&(t=n)}),t}(a);return o.map(function(e,t){var n=P.a.toString(P.a.get(e,"ID","")),r=Boolean(P.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(P.a.get(a,"".concat(n,".isApplicable"),!0)),u=!1;u=i?i===n:0===t;var s=null,c=null,l=r?P.a.get(a,"".concat(n,".inputs"),[]):[],p=r?P.a.get(a,"".concat(n,".actions"),[]):[],f=P.a.get(e,"AnswerInputFields",[]),m=P.a.get(e,"AnswerActionFields",[]);f&&Array.isArray(f)&&f.length>0&&(s=f.map(function(e){var t=P.a.toString(P.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox");["text","email","textarea","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=P.a.toString(P.a.get(e,"ID","")),r={id:n,label:P.a.toString(P.a.get(e,"Label","")),type:t,required:Boolean(P.a.toInteger(P.a.get(e,"Required",!1))),minLength:Number.parseInt(P.a.toString(P.a.get(e,"MinLength",0))),maxLength:Number.parseInt(P.a.toString(P.a.get(e,"MaxLength",0))),placeholder:P.a.toString(P.a.get(e,"PlaceHolder","")),options:P.a.has(e,"MultiChoiceAnswer")?JSON.parse(P.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:P.a.has(e,"MultiChoiceSingleAnswerDefault")?P.a.toString(P.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:P.a.has(e,"MultiChoiceMultipleAnswerDefault")?P.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=P.a.head(l.filter(function(e){return e.id===n}));if(o){var a=P.a.toString(P.a.get(o,"data",null));a&&(r.data=a)}}return r})),m&&Array.isArray(m)&&m.length>0&&(c=m.map(function(e){var t=P.a.toString(P.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=P.a.toString(P.a.get(e,"ID","")),r={id:n,label:P.a.toString(P.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=P.a.toString(P.a.get(e,"Message",""))),"goto"===t&&(r.goto=P.a.toString(P.a.get(e,"GotoID",""))),"finish"===t&&(r.result=P.a.toString(P.a.get(e,"Result","")));var o=P.a.toString(P.a.get(e,"TaskID",""));if(r.taskID=o,p&&Array.isArray(p)&&p.length>0){var a=P.a.head(p.filter(function(e){return e.id===n}));if(a){var i=Boolean(P.a.get(a,"isChose",!1));r.isChose=i}}return r}));var d={id:n,title:P.a.toString(P.a.get(e,"Title","")),heading:P.a.toString(P.a.get(e,"QuestionHeading","")),description:P.a.toString(P.a.get(e,"Description","")),type:"input"===P.a.toString(P.a.get(e,"AnswerFieldType","")).toLowerCase()?"input":"action",isCurrent:u,hasAnswer:r,isApplicable:o};if(P.a.isEmpty(P.a.get(d,"heading"))){var b=P.a.toString(P.a.get(e,"Question",""));P.a.set(d,"heading",b)}return s&&(d.inputs=s),c&&(d.actions=c),d})}}],(n=null)&&V(t.prototype,n),r&&V(t,r),e}(),J=n(52),K=n.n(J);function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=w()(k()(e,"ID","")),n=w()(k()(e,"Name","")),r=w()(k()(e,"ComponentTarget","")),o=w()(k()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=w()(k()(e,"QuestionsDataJSON",""));return i&&(a=H.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?K()(t).map(function(e){return{name:w()(k()(e,"Name")),value:w()(k()(e,"Value")),operator:w()(k()(e,"Operator")),colour:w()(k()(e,"Colour"))}}):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=k()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===k()(e,"Submission.TaskType","")?[]:t?t.map(function(e){return{uuid:w()(k()(e,"UUID")),taskType:w()(k()(e,"TaskType")),status:w()(k()(e,"Status"))}}):[]}}],(n=null)&&W(t.prototype,n),r&&W(t,r),e}();function G(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchHomeData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw F;case 7:return r=n[0],o=w()(k()(r,"Title","")),a=w()(k()(r,"Subtitle","")),i=k()(r,"Pillars",[]),u=this.parsePillars(i),s=k()(r,"Tasks",[]),c=this.parseTasks(s),e.abrupt("return",{title:o,subtitle:a,pillars:u,tasks:c});case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){G(a,r,o,i,u,"next",e)}function u(e){G(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map(function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=b.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=S.a;break;case"risk_questionnaire":t=E.a}return{title:w()(k()(e,"Label","")),disabled:Boolean(k()(e,"Disabled",!0)),questionnaireID:w()(k()(e,"Questionnaire.0.ID","")),icon:t}}):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach(function(e){var n=Y.parseFromJSONObject(e);t.push(n)}),t}}],n&&z(t.prototype,n),r&&z(t,r),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&X(t.prototype,n),r&&X(t,r),e}();function ee(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function te(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ee(a,r,o,i,u,"next",e)}function u(e){ee(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}var ne=n(744);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,ue(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(oe(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(ne.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&ae(n.prototype,a),i&&ae(n,i),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,de(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=["TaskButton"].concat(pe(this.props.classes));return o.a.createElement(ne.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&fe(n.prototype,a),i&&fe(n,i),t}(),he=n(392),ve=n.n(he);function Se(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"getCSRFToken",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=P.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Se(a,r,o,i,u,"next",e)}function u(e){Se(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&ge(t.prototype,n),r&&ge(t,r),e}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ae(this,_e(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Te(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:ve.a}),"Log Out"))}},{key:"logout",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ke(a,r,o,i,u,"next",e)}function u(e){ke(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&we(n.prototype,a),i&&we(n,i),t}();Ie.defaultProps={classes:[]};var Ne=Ie,je=n(88),Pe=n.n(je);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Me(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:Pe.a}),"My Submissions"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){De(a,r,o,i,u,"next",e)}function u(e){De(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ue(n.prototype,a),i&&Ue(n,i),t}();Fe.defaultProps={classes:[]};var qe=Fe,Be=n(393),Ve=n.n(Be);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ye(this,Ge(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ke(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ve.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Je(a,r,o,i,u,"next",e)}function u(e){Je(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&We(n.prototype,a),i&&We(n,i),t}();Ze.defaultProps={classes:[]};var Xe=Ze,$e=n(394),et=n.n($e);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var st=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),at(this,it(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:et.a}),"My Products"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){nt(a,r,o,i,u,"next",e)}function u(e){nt(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&ot(n.prototype,a),i&&ot(n,i),t}();st.defaultProps={classes:[]};var ct=st;function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ft(e,t,n[t])})}return e}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,bt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=pt({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks,i=pt({},this.props.siteConfig).logoPath;return o.a.createElement("div",{className:"Home"},o.a.createElement(Ne,{classes:["clearfix","float-right","mt-5","mr-4"]}),o.a.createElement(qe,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(Xe,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(ct,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map(function(e,t){return o.a.createElement(ce,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})}))),o.a.createElement("div",{className:"tasks"},a.map(function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(ye,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})}))))}}])&&mt(n.prototype,a),i&&mt(n,i),t}();function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Et(this,Ot(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){St(e,t,n[t])})}return e}({},this.props).footerCopyrightText;return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,e))}}])&&gt(n.prototype,a),i&&gt(n,i),t}();Tt.defaultProps={footerCopyrightText:""};var wt=Tt,At=n(180),_t=n.n(At),Ct=n(395),It=n.n(Ct),Nt=n(396),jt=n.n(Nt),Pt=n(397),Rt=n.n(Pt);function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:w()(k()(t,"Title")||"NZTA SDLT"),footerCopyrightText:w()(k()(t,"FooterCopyrightText","")||n),logoPath:w()(k()(t,"LogoPath","")||It.a),homePageBackgroundImagePath:w()(k()(t,"HomePageBackgroundImagePath","")||_t.a),pdfHeaderImageLink:w()(k()(t,"PdfHeaderImageLink","")||jt.a),pdfFooterImageLink:w()(k()(t,"PdfFooterImageLink","")||Rt.a)}}}],(n=null)&&Dt(t.prototype,n),r&&Dt(t,r),e}();function Ut(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSiteConfig",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}"});case 3:return t=e.sent,n=P.a.get(t,"data.readSiteConfig.0",null),r=xt.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ut(a,r,o,i,u,"next",e)}function u(e){Ut(a,r,o,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Lt(t.prototype,n),r&&Lt(t,r),e}();function Qt(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Ft(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Qt(a,r,o,i,u,"next",e)}function u(e){Qt(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t){return!t||"object"!==qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ht(this,Jt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bt(e,t,n[t])})}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},o.a.createElement(ht,{homeState:n,siteConfig:t}),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Vt(n.prototype,a),i&&Vt(n,i),t}(),Yt=Object(u.b)(function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadHomeDataAction:function(){e(te()),e(Ft())}}})(Wt),Gt=n(39),zt=n.n(Gt);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),en(this,tn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xt(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,u=null;return i&&(u=o.a.createElement("img",{src:i})),o.a.createElement("button",{className:zt()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},u,t)}}])&&$t(n.prototype,a),i&&$t(n,i),t}();rn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var on=rn;function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ln(this,pn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(on,un({},this.props,{classes:["LightButton"].concat(sn(this.props.classes))}))}}])&&cn(n.prototype,a),i&&cn(n,i),t}();mn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var dn=mn;function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hn(this,vn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(dn,{title:"START",onClick:r})))))}}])&&yn(n.prototype,a),i&&yn(n,i),t}();function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var On=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=k()(t,"FirstName")?w()(k()(t,"FirstName",""))+" "+w()(k()(t,"Surname","")):"";return{id:w()(k()(t,"ID")),name:n,email:k()(t,"Email"),isSA:"true"===w()(k()(t,"IsSA")),isCISO:"true"===w()(k()(t,"IsCISO"))}}},{key:"parserMemberFromJSON",value:function(e){return K()(e).map(function(e){var t=k()(e,"FirstName")?w()(k()(e,"FirstName",""))+" "+w()(k()(e,"Surname","")):"";return{value:k()(e,"ID"),label:t}})}},{key:"parserCollaboratorsFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return K()(t).map(function(e){var t=k()(e,"Name")?w()(k()(e,"Name","")):"";return{value:k()(e,"ID"),label:t}})}}],(n=null)&&En(t.prototype,n),r&&En(t,r),e}();function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tn(e,t,n[t])})}return e}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function An(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){wn(a,r,o,i,u,"next",e)}function u(e){wn(a,r,o,i,u,"throw",e)}i(void 0)})}}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"createInProgressSubmission",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=P.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw F;case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStartData",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readMember(Type: "Current")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: '.concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,Q.request({query:n});case 3:if(r=e.sent,o=P.a.get(r,"data.readMember.0",null),a=P.a.get(r,"data.readQuestionnaire",null),i=P.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw F;case 9:return e.abrupt("return",{title:P.a.get(a,"Name",""),siteConfig:xt.parseSiteConfigFromJSON(i),subtitle:P.a.get(i,"Title",""),questionnaireID:P.a.get(a,"ID",""),keyInformation:P.a.get(a,"KeyInformation",""),user:On.parseUserFromJSON(o)});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSubmissionData",value:function(){var e=An(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    RiskResultData,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=P.a.get(o,"data.readMember.0",{}),i=P.a.get(o,"data.readQuestionnaireSubmission.0",{}),u=P.a.get(o,"data.readSiteConfig.0",null),a&&i&&u){e.next=9;break}throw F;case 9:return s={title:P.a.toString(P.a.get(i,"Questionnaire.Name","")),siteConfig:xt.parseSiteConfigFromJSON(u),user:On.parseUserFromJSON(a),isCurrentUserApprover:"true"===P.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===P.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(P.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),hideWeightsAndScore:"true"===P.a.get(i,"HideWeightsAndScore","false"),questionnaireID:P.a.toString(P.a.get(i,"Questionnaire.ID","")),questionnaireTitle:P.a.toString(P.a.get(i,"Questionnaire.Name","")),submissionID:P.a.toString(P.a.get(i,"ID","")),submissionUUID:P.a.toString(P.a.get(i,"UUID","")),submissionToken:P.a.toString(P.a.get(i,"ApprovalLinkToken","")),productName:P.a.toString(P.a.get(i,"ProductName","")),submitter:{id:P.a.toString(P.a.get(i,"User.ID")),name:P.a.toString(P.a.get(i,"SubmitterName","")),email:P.a.toString(P.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:P.a.toString(P.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:P.a.toString(P.a.get(i,"CisoApprovalStatus","")),businessOwner:P.a.toString(P.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:P.a.toString(P.a.get(i,"SecurityArchitectApprovalStatus",""))},securityArchitectApprover:{firstName:P.a.toString(P.a.get(i,"SecurityArchitectApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{firstName:P.a.toString(P.a.get(i,"CisoApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"CisoApprover.Surname",""))},questions:H.parseQuestionsFromJSON({schemaJSON:P.a.toString(P.a.get(i,"QuestionnaireData","")),answersJSON:P.a.toString(P.a.get(i,"AnswerData",""))}),businessOwnerApproverName:P.a.toString(P.a.get(i,"BusinessOwnerApproverName","")),taskSubmissions:P.a.toArray(P.a.get(i,"TaskSubmissions",[])).map(function(e){return{uuid:P.a.toString(P.a.get(e,"UUID","")),taskName:P.a.toString(P.a.get(e,"TaskName","")),taskType:P.a.toString(P.a.get(e,"TaskType","")),status:P.a.toString(P.a.get(e,"Status","")),approver:On.parseUserFromJSON(P.a.get(e,"TaskApprover"))}}),collaborators:On.parserCollaboratorsFromJSON(P.a.get(i,"CollaboratorList",[])),riskResults:P.a.has(i,"RiskResultData")?JSON.parse(P.a.get(i,"RiskResultData","[]")):"[]"}},e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateSubmissionData",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,u=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(u,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,Q.request({query:s,csrfToken:i});case 5:if(c=e.sent,P.a.get(c,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw F;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateSubmissionData",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l,p,f,m,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=kn({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw F;case 3:for(u=[],s=0;s<o.length;s++)c=o[s],l=a[s],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),f="\nupdateQuestion".concat(c,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(c,'", AnswerData: "').concat(p,'") {\n  ID\n  AnswerData\n}'),u.push(f);return m="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,Q.request({query:m,csrfToken:i});case 8:if(d=e.sent,P.a.get(d,"data",null)){e.next=12;break}throw F;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaire",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaireForApproval",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmission",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,s=P.a.toString(P.a.get(u,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(u,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),s&&c){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmission",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,s=P.a.toString(P.a.get(u,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(u,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),s&&c){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"NotApproveQuestionnaireSubmission",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireSAStatusToNotApprove(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,s=P.a.toString(P.a.get(u,"data.updateQuestionnaireSAStatusToNotApprove.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(u,"data.updateQuestionnaireSAStatusToNotApprove.UUID",null)),s&&c){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editQuestionnaireSubmission",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchQuestionnaireSubmissionList",value:function(){var e=An(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readQuestionnaireSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        QuestionnaireStatus\n        QuestionnaireName\n        Created\n        ProductName\n        ReleaseDate\n        BusinessOwnerApproverName\n        SubmitterName\n        SecurityArchitectApprover {\n          FirstName\n          Surname\n          ID\n        }\n        CisoApprovalStatus\n        BusinessOwnerApprovalStatus\n      }\n    }'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=P.a.get(o,"data.readQuestionnaireSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map(function(e){var t={};return t.id=P.a.get(e,"ID",""),t.uuid=P.a.get(e,"UUID",""),t.status=P.a.get(e,"QuestionnaireStatus",""),t.productName=P.a.get(e,"ProductName",""),t.questionnaireName=P.a.get(e,"QuestionnaireName",""),t.created=P.a.get(e,"Created",""),t.releaseDate=P.a.get(e,"ReleaseDate",""),t.businessOwner=P.a.get(e,"BusinessOwnerApproverName",""),t.submitterName=P.a.get(e,"SubmitterName",""),t.SecurityArchitectApprover=P.a.toString(P.a.get(e,"SecurityArchitectApprover.FirstName","")+" "+P.a.get(e,"SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=P.a.get(e,"SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=P.a.get(e,"CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=P.a.get(e,"BusinessOwnerApprovalStatus",""),t[""],t}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,s=P.a.toString(P.a.get(u,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(u,"data.updateQuestionnaireStatusToApproved.UUID",null)),s&&c){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=An(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,s=P.a.toString(P.a.get(u,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(u,"data.updateQuestionnaireStatusToDenied.UUID",null)),s&&c){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addCollaborator",value:function(){var e=An(regeneratorRuntime.mark(function e(t,n,r){var o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],n&&n.length>0&&(o=n.map(function(e){return P.a.get(e,"value","")})),a=window.btoa(JSON.stringify(o)),i='mutation {\n     addCollaborator(ID: "'.concat(t,'", SelectedCollaborator: "').concat(a,'") {\n       UUID\n     }\n    }'),e.next=6,Q.request({query:i,csrfToken:r});case 6:if(u=e.sent,s=P.a.toString(P.a.get(u,"data.addCollaborator.UUID",null))){e.next=10;break}throw F;case 10:return e.abrupt("return",{uuid:s});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()}],n&&_n(t.prototype,n),r&&_n(t,r),e}();function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nn(e,t,n[t])})}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map(function(e){var t=e.data;return t&&P.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}})),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map(function(e){return{id:e.id,isChose:e.isChose}})),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach(function(e){var n=In({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)}),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach(function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)}),t}},{key:"getDataUpdateIntent",value:function(e){var t=In({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex(function(e){return e.id===n.id}),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var u=n.actions.find(function(e){return e.isChose});if(!u)throw new Error("This question does not have any chosen action!");if("finish"===u.type){for(var s=i.currentIndex+1;s<r.length;s++)i.nonApplicableIndexes.push(s);i.result=u.result||"",i.complete=!0}if("message"===u.type&&(i.terminate=!0),"continue"!==u.type||a||(i.targetIndex=i.currentIndex+1),"goto"===u.type){var c=u.goto;if(i.targetIndex=r.findIndex(function(e){return e.id===c}),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&!i.terminate&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&jn(t.prototype,n),r&&jn(t,r),e}(),Rn=n(181),Dn=n.n(Rn);function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return K()(t).map(function(t){var n=e.parseFromJSONObject(k()(t,"SecurityComponent"));return n.productAspect=w()(k()(t,"ProductAspect","")),n})}},{key:"parseFromJSONObject",value:function(e){return{id:w()(k()(e,"ID","")),name:w()(k()(e,"Name","")),description:w()(k()(e,"Description")),controls:(k()(e,"Controls")||[]).map(function(e){return{id:w()(k()(e,"ID","")),name:w()(k()(e,"Name","")),description:w()(k()(e,"Description","")),implementationGuidance:w()(k()(e,"ImplementationGuidance",""))}})}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map(function(e){return{id:w()(k()(e,"id","")),name:w()(k()(e,"name","")),productAspect:w()(k()(e,"productAspect","")),controls:(k()(e,"controls")||[]).map(function(e){return{id:w()(k()(e,"id","")),name:w()(k()(e,"name","")),selectedOption:w()(k()(e,"selectedOption","")),description:w()(k()(e,"description","")),implementationGuidance:w()(k()(e,"implementationGuidance","")),implementationEvidence:w()(k()(e,"implementationEvidence","")),implementationEvidenceUserInput:w()(k()(e,"implementationEvidenceUserInput",""))}}),jiraTicketLink:w()(k()(e,"jiraTicketLink",""))}})}}],(n=null)&&xn(t.prototype,n),r&&xn(t,r),e}();function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return K()(t).map(function(t){return e.parseFromJSONObject(t)})}},{key:"parseFromJSONObject",value:function(e){return{id:w()(k()(e,"ID")),jiraKey:w()(k()(e,"JiraKey")),link:w()(k()(e,"TicketLink"))}}}],(n=null)&&Ln(t.prototype,n),r&&Ln(t,r),e}();function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fn(e,t,n[t])})}return e}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Bn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){qn(a,r,o,i,u,"next",e)}function u(e){qn(a,r,o,i,u,"throw",e)}i(void 0)})}}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,u=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw F;case 8:return s={id:w()(k()(u,"ID","")),uuid:w()(k()(u,"UUID","")),taskName:w()(k()(u,"TaskName","")),taskType:w()(k()(u,"TaskType","")),status:w()(k()(u,"Status","")),result:w()(k()(u,"Result","")),submitter:On.parseUserFromJSON(k()(u,"Submitter")),lockWhenComplete:Boolean(k()(u,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:w()(k()(u,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:w()(k()(u,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:w()(k()(u,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:H.parseQuestionsFromJSON({schemaJSON:w()(k()(u,"QuestionnaireData","")),answersJSON:w()(k()(u,"AnswerData",""))}),selectedComponents:Un.parseFromJSONOArray(k()(u,"SelectedComponents",[])),jiraTickets:Mn.parseFromJSONArray(k()(u,"JiraTickets",[])),isCurrentUserAnApprover:"true"===k()(u,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===k()(u,"IsTaskApprovalRequired",!1),riskResults:_.has(u,"RiskResultData")?JSON.parse(k()(u,"RiskResultData","[]")):"[]",taskRecommendations:_.has(u,"TaskRecommendationData")?JSON.parse(_.defaultTo(k()(u,"TaskRecommendationData","[]"),"[]")):"[]",productAspects:_.has(u,"ProductAspects")?JSON.parse(k()(u,"ProductAspects",[])):[],componentTarget:w()(k()(u,"ComponentTarget","")),hideWeightsAndScore:"true"===_.get(u,"HideWeightsAndScore","false"),isTaskCollborator:"true"===_.get(u,"IsTaskCollborator","false"),siblingSubmissions:Y.parseAlltaskSubmissionforQuestionnaire(u)},e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateTaskSubmissionData",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l,p,f,m,d,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Qn({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,u=n.secureToken,o.length===a.length){e.next=3;break}throw F;case 3:for(s=[],c=0;c<o.length;c++)l=o[c],p=a[c],f=window.btoa(unescape(encodeURIComponent(JSON.stringify(p)))),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(f,'",\n  SecureToken: "').concat(u||"",'"\n) {\n  UUID\n  Status\n}'),s.push(m);return d="\nmutation {\n  ".concat(s.join("\n"),"\n}\n"),e.next=8,Q.request({query:d,csrfToken:i});case 8:if(b=e.sent,k()(b,"data",null)){e.next=12;break}throw F;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"completeTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,u='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:u,csrfToken:a});case 4:if(s=e.sent,k()(s,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,k()(u,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStandaloneTask",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,Q.request({query:o});case 4:if(a=e.sent,i=k()(a,"data.readTask",null)){e.next=8;break}throw F;case 8:return u=Y.parseFromJSONObject(i),e.abrupt("return",u);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskSubmissionWithSelectedComponents",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,u='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:u,csrfToken:o});case 4:if(s=e.sent,k()(s,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(u=w()(k()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw F;case 8:return e.abrupt("return",{status:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyTaskSubmission",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(u=w()(k()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw F;case 8:return e.abrupt("return",{status:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskRecommendation",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a=n.taskRecommendations,i='\n  mutation {\n    updateTaskRecommendation(\n      UUID: "'.concat(r,'",\n      TaskRecommendationData: "').concat(window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),'"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(u=e.sent,(s=_.has(u,"TaskRecommendationData")?JSON.parse(k()(submissionJSONObject,"TaskRecommendationData","[]")):"[]")&&r){e.next=8;break}throw F;case 8:return e.abrupt("return",{taskRecommendationData:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTaskSubmissionList",value:function(){var e=Bn(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readTaskSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        Created\n        TaskName\n        QuestionnaireSubmission {\n          ProductName\n        }\n        Submitter {\n          FirstName\n          Surname\n        }\n        Status\n      }\n    }'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=k()(o,"data.readTaskSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map(function(e){var t={};return t.id=k()(e,"ID",""),t.uuid=k()(e,"UUID",""),t.created=k()(e,"Created",""),t.taskName=k()(e,"TaskName",""),t.productName=k()(e,"QuestionnaireSubmission.ProductName",""),t.submitterName=w()(k()(e,"Submitter.FirstName",""))+" "+w()(k()(e,"Submitter.Surname","")),t.status=k()(e,"Status",""),t}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],n&&Vn(t.prototype,n),r&&Vn(t,r),e}();function Jn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Kn(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Wn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Kn(a,r,o,i,u,"next",e)}function u(e){Kn(a,r,o,i,u,"throw",e)}i(void 0)})}}function Yn(e,t){return void 0===t&&(t=""),function(){var n=Wn(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,Cn.fetchSubmissionData(e,t);case 5:o=n.sent,r((a=o,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:a})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var a},n,this,[[2,9]])}));return function(e){return n.apply(this,arguments)}}()}function Gn(e){return function(){var t=Wn(regeneratorRuntime.mark(function t(n,r){var o,a,i,u,s,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=Pn.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),u=i.currentIndex,s=i.targetIndex,c=i.nonApplicableIndexes,p=i.complete,c.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:c}),s>u&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:s}),t.next=9,zn(r(),P.a.uniq([u].concat(Jn(c),[s])));case 9:p&&D.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}function zn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Wn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ee.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,Cn.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map(function(e){return r.questions[e].id}),answerDataList:n.map(function(e){return Pn.transformFromFullQuestionToData(r.questions[e])}),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[6,11]])}))).apply(this,arguments)}function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return!t||"object"!==Xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var or=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tr(this,nr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$n(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,a=e.username,i=e.logopath;return o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"top-banner"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"}))),o.a.createElement("div",{className:"logout-layout"},r&&o.a.createElement("div",{className:"logout-block"},o.a.createElement("span",{className:"username"},a),o.a.createElement(Ne,null))),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n))}}])&&er(n.prototype,a),i&&er(n,i),t}();or.defaultProps={title:"",subtitle:"",username:"",logopath:"",showLogoutButton:!0};var ar=or;function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){sr(e,t,n[t])})}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lr(this,pr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=ur({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=ur({},this.props.startState),t=e.title,n=e.siteConfig,r=e.keyInformation,a=e.user,i=ur({},this.props),u=i.questionnaireID,s=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(ar,{title:t,subtitle:n.siteTitle,username:a.name,logopath:n.logoPath}),o.a.createElement(gn,{keyInformation:r,user:a,onStartButtonClick:function(){s(u)}}),o.a.createElement(wt,{footerCopyrightText:n.footerCopyrightText})):null}}])&&cr(n.prototype,a),i&&cr(n,i),t}(),dr=Object(u.b)(function(e){return{startState:e.questionnaireState.startState}},function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return t=Wn(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cn.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o},t,this,[[0,7]])})),function(e){return t.apply(this,arguments)};var t}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return t=Wn(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return r=t.sent,t.next=6,Cn.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,D.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])})),function(e){return t.apply(this,arguments)};var t}(t))}}})(mr),br=n(28);function yr(e){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vr(e,t,n[t])})}return e}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,t){return!t||"object"!==yr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Er(e){return(Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var kr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gr(this,Er(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Or(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=hr({},this.props),t=e.question,n=e.onItemClick,r=e.index;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,". ",t.title))}},{key:"renderIcon",value:function(e){var t=hr({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:Pe.a}):a?r&&a?o.a.createElement("i",{className:"fas fa-check-circle success"}):o.a.createElement("i",{className:"fas fa-check-circle pending"}):o.a.createElement("i",{className:"fas fa-question-circle not-applicable"})}}])&&Sr(n.prototype,a),i&&Sr(n,i),t}();function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_r(this,Cr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wr(e,t,n[t])})}return e}({},this.props),t=e.questions,n=e.onItemClick;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"title"},"QUESTIONS:"),o.a.createElement("div",{className:"items"},t.map(function(e,t){return o.a.createElement(kr,{question:e,onItemClick:n,key:e.id,index:t})})))}}])&&Ar(n.prototype,a),i&&Ar(n,i),t}();function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(){return(Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return!t||"object"!==jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xr(this,Ur(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(on,Pr({},this.props,{classes:["DarkButton"].concat(Rr(this.props.classes))}))}}])&&Dr(n.prototype,a),i&&Dr(n,i),t}();Mr.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Qr=Mr,Fr=n(3),qr=n.n(Fr),Br=n(415),Vr=(n(647),n(403)),Hr=n.n(Vr);function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(){return(Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yr(e,t,n[t])})}return e}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return!t||"object"!==Jr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zr(this,Zr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=Wr({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t),o.a.createElement("div",{className:"saveText"},o.a.createElement(Hr.a,{className:"icon-blue"}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))}},{key:"renderActions",value:function(e){var t=Wr({},this.props).handleActionClick;if("action"===e.type){var n=P.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find(function(e){return e.isChose});return a&&a.message&&(r=o.a.createElement("div",{className:"message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),a?o.a.createElement("div",null,o.a.createElement("div",{className:"actions"},n.map(function(e){switch(e.isChose){case!0:return o.a.createElement(Qr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(dn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r):o.a.createElement("div",null,o.a.createElement("div",{className:"actions"},n.map(function(e,n){switch(n){case 0:return o.a.createElement(Qr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(dn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r)}}},{key:"renderInputsForm",value:function(e){var t=Wr({},this.props).handleFormSubmit;if("input"===e.type){var n=P.a.get(e,"inputs",null);if(!n)return null;var r={};return n.forEach(function(e){r[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(r[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(r[e.id]=e.defaultCheckboxValue)}),o.a.createElement(br.c,{initialValues:r,validate:function(e){var t={};return n.forEach(function(n){var r=Wr({},n),o=r.id,a=r.type,i=r.required,u=r.label,s=r.minLength,c=P.a.get(e,o,null);if(i&&(!c||"[]"===c))return t[o]="- Please enter a value for ".concat(u),void("radio"!==a&&"checkbox"!==a||(t[o]="- Please select an option for ".concat(u)));if(s>0&&c&&c.length<s)t[o]="- Please enter a value with at least ".concat(s," characters for ").concat(u);else if("email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(c)){if("date"===a||"release date"===a)qr()(c,"YYYY-MM-DD").isValid()||(t[o]="- Invalid date");"product aspects"!==a||!c||/^[0-9a-zA-Z\s\n]+$/i.test(c)||(t[o]="- Please enter alpha-numeric characters only.")}else t[o]="- Invalid email address"}),t},onSubmit:function(e,n){t(n,e)}},function(e){e.isSubmitting;var t=e.errors,r=e.touched,a=e.setFieldValue,i=e.values,u=[];return P.a.keys(t).filter(function(e){return Boolean(r[e])}).forEach(function(e){u[e]=t[e]}),o.a.createElement(br.b,null,o.a.createElement("table",null,o.a.createElement("tbody",null,n.map(function(e){var t=Wr({},e),n=t.id,r=t.type,s=t.label,c=t.placeholder,l=t.options,p=(t.defaultRadioButtonValue,t.defaultCheckboxValue,t.maxLength),f=Boolean(P.a.get(u,n,null)),m=[];return f&&m.push("error"),["text","email","url"].includes(r)?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,o.a.createElement(br.a,{type:r,name:n,className:m.join(" "),placeholder:c,maxLength:p>0?p:4096}),f&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"radio"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,l.length&&l.map(function(e,t){var r=P.a.toString(e.value)===P.a.toString(i[n]);return o.a.createElement("div",{key:t},o.a.createElement("label",null,o.a.createElement(br.a,{type:"radio",name:n,value:e.value,className:"radio",checked:r}),e.label))})),o.a.createElement("td",null,f&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"checkbox"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,l.length&&l.map(function(e,t){var r=i[n]?JSON.parse(i[n]):[],u=r.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",name:n,className:"checkbox",checked:u,onChange:function(t){t.target.checked?r.push(e.value):r.splice(r.indexOf(e.value),1),a(n,JSON.stringify(r))}}),e.label))})),o.a.createElement("td",null,f&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"date"===r||"release date"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,o.a.createElement(br.a,{name:n,render:function(e){var t=null,r=e.field.value||null;return r&&r.trim().length>0&&(t=qr()(r).toDate()),o.a.createElement(Br.a,{dateFormat:"dd-MM-yyyy",className:m.join(" "),selected:t,onChange:function(e){if(e){var t=qr()(e).format("YYYY-MM-DD");a(n,t)}else a(n,null)},placeholderText:c,dropdownMode:"scroll",withPortal:!0})}}),f&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):"textarea"===r||"product aspects"===r?o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"label"},o.a.createElement("label",null,s)),o.a.createElement("td",null,o.a.createElement(br.a,{name:n},function(e){var t=e.field;return o.a.createElement("textarea",Kr({},t,{className:m.join(" "),placeholder:c}))}),f&&o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1"}))):null}),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",null,o.a.createElement(Qr,{title:"Continue"}))),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",{className:"text-danger"},u&&P.a.keys(u).length>0&&o.a.createElement("div",null,"Whoops!",P.a.keys(u).map(function(e){return o.a.createElement("div",{className:"text-error",key:e},u[e])})))))))})}}}])&&Gr(n.prototype,a),i&&Gr(n,i),t}();function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){no(e,t,n[t])})}return e}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oo(e,t){return!t||"object"!==eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oo(this,ao(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleFormSubmit",value:function(e,t){var n=to({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=r.find(function(e){return!0===e.isCurrent});if(a){var i=to({},a);P.a.forIn(t,function(e,t){var n=i.inputs.findIndex(function(e){return e.id===t});n>=0&&P.a.set(i,"inputs.".concat(n,".data"),e)}),i.hasAnswer=!0,i.isApplicable=!0,o(i)}}},{key:"handleActionClick",value:function(e){var t=to({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=n.find(function(e){return!0===e.isCurrent});if(o){var a=to({},o);a.actions=a.actions.map(function(t){return t.isChose=t.id===e.id,t}),a.hasAnswer=!0,a.isApplicable=!0,r(a)}}},{key:"render",value:function(){var e=to({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=t.find(function(e){return!0===e.isCurrent}),a=t.findIndex(function(e){return e.id===r.id});return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement(Nr,{questions:t,onItemClick:n}),r&&o.a.createElement($r,{index:a,key:r.id,question:r,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this)})))}}])&&ro(n.prototype,a),i&&ro(n,i),t}();function so(e){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){lo(e,t,n[t])})}return e}function lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e,t){return!t||"object"!==so(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mo(e){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bo(e,t){return(bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fo(this,mo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bo(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=co({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=co({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,a=co({},this.props.submissionState),i=a.title,u=a.siteConfig,s=a.user,c=a.submission;return s&&c&&u?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==c.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(ar,{title:i,subtitle:u.siteTitle,username:s.name,logopath:u.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"The questionnaire is not in progress. Please check the summary screen.")),o.a.createElement(wt,{footerCopyrightText:u.footerCopyrightText})):s.id===c.submitter.id?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(ar,{title:i,subtitle:u.siteTitle,logopath:u.logoPath,username:s.name}),o.a.createElement(uo,{questions:c.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement(wt,{footerCopyrightText:u.footerCopyrightText})):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(ar,{title:i,subtitle:u.siteTitle,username:s.name,logopath:u.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"It appears this submission has not yet been submitted. Only the submitter can edit a submission and must submit before it can be reviewed.")),o.a.createElement(wt,{footerCopyrightText:u.footerCopyrightText})):null}}])&&po(n.prototype,a),i&&po(n,i),t}(),ho=Object(u.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Yn(t))},dispatchSaveAnsweredQuestionAction:function(t){var n,r;e((n=t,r=Wn(regeneratorRuntime.mark(function e(t,r){var o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=P.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,Ee.getCSRFToken();case 7:return i=e.sent,u=n.id,s=Pn.transformFromFullQuestionToData(n),e.prev=10,e.next=13,Cn.updateSubmissionData({submissionID:a,questionID:u,csrfToken:i,answerData:s});case 13:t(Gn(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}},e,this,[[10,16]])})),function(e,t){return r.apply(this,arguments)}))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return t=Wn(regeneratorRuntime.mark(function t(n,r){var o,a,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex(function(e){return e.isCurrent}))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((u=a.questions.findIndex(function(t){return t.id===e.id}))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:u}),t.next=15,zn(r(),[i,u]);case 15:case"end":return t.stop()}},t,this)})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(yo),vo=n(91),So=n.n(vo),go=n(130),Eo=n.n(go);function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ao(e){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _o(e,t){return(_o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Co=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wo(this,Ao(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_o(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ko(e,t,n[t])})}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map(function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))})))}},{key:"renderData",value:function(e){if(!e.isApplicable){return o.a.createElement("div",null,"(Not applicable)")}if(!e.hasAnswer){return o.a.createElement("div",null,"(Has no answer)")}if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=qr()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map(function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label)," ",o.a.createElement("span",null,"-")," ",o.a.createElement("span",null,n))})):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=P.a.head(e.actions.filter(function(e){return e.isChose}));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&To(n.prototype,a),i&&To(n,i),t}();function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Po(e,t){return!t||"object"!==Io(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ro(e){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Po(this,Ro(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){No(e,t,n[t])})}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,u=e.handleEditAnswerButtonClick;if(!t)return null;var s=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),c=o.a.createElement("div",{className:"buttons"},o.a.createElement(dn,{title:"EDIT ANSWERS",iconImage:So.a,classes:["button"],onClick:u}),o.a.createElement(dn,{title:"DOWNLOAD PDF",iconImage:Eo.a,classes:["button"],onClick:i}),o.a.createElement(Qr,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:Pn.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(dn,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return D.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&s,o.a.createElement(Co,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&c,"submitter"!==n&&l)}}])&&jo(n.prototype,a),i&&jo(n,i),t}(),Uo=n(189),Lo=n.n(Uo),Mo=n(405),Qo=n.n(Mo);function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&Fo(t.prototype,n),r&&Fo(t,r),e}();function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ho(e,t,n[t])})}return e}function Ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Wo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ko(a,r,o,i,u,"next",e)}function u(e){Ko(a,r,o,i,u,"throw",e)}i(void 0)})}}function Yo(e){return Go.apply(this,arguments)}function Go(){return(Go=Wo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.addEventListener("load",function(t){e(t.target.result)}),n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function zo(e){return Zo.apply(this,arguments)}function Zo(){return(Zo=Wo(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,Yo(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Xo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"generatePDF",value:function(){var e=Wo(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l,p,f,m,d,b,y,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vo({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteConfig,u=n.result,s=n.riskResults,l=[],p={questionnaireTitle:{bold:!0,fontSize:(c=12)+4,color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:c,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:c+2,color:"#004071"},questionHeading:{bold:!0}},f={fontSize:c},m={title:"".concat(a," - ").concat(o.name,".pdf")},d=Qo.a.pdfMake.vfs,Lo.a.vfs=d,e.next=10,zo(i.pdfHeaderImageLink);case 10:return b=e.sent,l.push({image:b,width:500,margin:[0,0,0,c]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,c/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*c]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,c]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,c/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*c]}),u&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,c]}),l.push({text:"".concat(u),margin:[0,0,0,2*c]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,c]}),r.forEach(function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,c/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=qr()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach(function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(qo.toString(n(e))),margin:[0,0,0,o?c:parseInt("".concat(c/3))]})}):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,c]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=P.a.head(e.actions.filter(function(e){return e.isChose}));l.push({text:r.label,margin:[0,0,0,c]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,c]});else l.push({text:"(Not applicable)",margin:[0,0,0,c]})}),"object"===Bo(s)&&s.length>0&&(y=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],s.forEach(function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),y.push([{text:e.riskName},e.weights,e.score,n])}),l.push({table:{headerRows:1,widths:[237,75,75,75],body:y},width:500,margin:[0,0,0,c]})),e.next=23,zo(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,c]}),e.prev=25,e.next=28,Lo.a.createPdf({info:m,content:l,styles:p,defaultStyle:f}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}},e,this,[[25,30]])}));return function(t){return e.apply(this,arguments)}}()},{key:"blobToDataURL",value:function(){var e=Wo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Jo(t.prototype,n),r&&Jo(t,r),e}();function $o(e){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ta(e,t,n[t])})}return e}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e,t){return!t||"object"!==$o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ia=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ra(this,oa(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=ea({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=ea({},this.props).secureToken,t=ea({},this.props.submissionState),n=t.title,r=t.siteConfig,a=t.user,i=t.submission,u=t.isCurrentUserApprover,s=t.isCurrentUserABusinessOwnerApprover;if(!a||!r)return null;var c="others";do{if(a.id===i.submitter.id){c="submitter";break}if(u){c="approver";break}if(s&&"waiting_for_approval"==i.status){c="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(ar,{title:n,subtitle:"Review Responses",username:a.name,logopath:r.logoPath}),o.a.createElement(xo,{siteTitle:r.siteTitle,viewAs:c,submission:i,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement(wt,{footerCopyrightText:r.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=ea({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&Xo.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=P.a.get(this.props.submissionState,"submission.submissionUUID","");e&&D.redirectToQuestionnaireEditing(e)}}])&&na(n.prototype,a),i&&na(n,i),t}(),ua=Object(u.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Yn(t))},dispatchSubmitQuestionnaire:function(){var t;e((t=Wn(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!Pn.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,Ee.getCSRFToken();case 11:return i=e.sent,e.next=14,Cn.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:u=e.sent,s=u.uuid,D.redirectToQuestionnaireSummary(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)}))}}})(ia);function sa(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function ca(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){sa(a,r,o,i,u,"next",e)}function u(e){sa(a,r,o,i,u,"throw",e)}i(void 0)})}}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchCurrentUser",value:function(){var e=ca(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}',e.next=3,Q.request({query:'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}'});case 3:if(t=e.sent,n=P.a.get(t,"data.readMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=On.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMembers",value:function(){var e=ca(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}',e.next=3,Q.request({query:'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}'});case 3:if(t=e.sent,n=P.a.get(t,"data.readMember",null)){e.next=7;break}throw new Error("Authenticate error");case 7:return r=On.parserMemberFromJSON(n),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&la(t.prototype,n),r&&la(t,r),e}();function fa(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function ma(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){fa(a,r,o,i,u,"next",e)}function u(e){fa(a,r,o,i,u,"throw",e)}i(void 0)})}}function da(){return function(){var e=ma(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pa.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e,t){return!t||"object"!==ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sa(e){return(Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ea=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),va(this,Sa(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ya(e,t,n[t])})}return e}({},this.props),t=e.riskResults,n=e.hideWeightsAndScore;return t&&0!==t.length?o.a.createElement("div",{className:"risk-result-container"},o.a.createElement("h4",null,"Risk Result"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk Name"),!n&&o.a.createElement("th",null,"Weights"),!n&&o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,t.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),!n&&o.a.createElement("td",null,e.weights),!n&&o.a.createElement("td",null,e.score),o.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))}))))):null}}])&&ha(n.prototype,a),i&&ha(n,i),t}();n(650);function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ka=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter(function(e){return"security risk assessment"===e.taskType&&"complete"===e.status}).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter(function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)}).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return o.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&Oa(t.prototype,n),r&&Oa(t,r),e}();function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aa(e,t){return!t||"object"!==Ta(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ca(e,t){return(Ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ia=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Aa(this,_a(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ca(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",o.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&wa(n.prototype,a),i&&wa(n,i),t}(),Na=n(407),ja=n.n(Na),Pa=n(406),Ra=n.n(Pa),Da=n(62),xa=n.n(Da),Ua=n(746),La=n(183);function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fa(e,t,n[t])})}return e}function Fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t){return!t||"object"!==Ma(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ja=function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},Ka=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ba(this,Va(t).call(this,e))).state={skipBoAndCisoApproval:!1,showModal:!1,selectedCollaborators:e.submission.collaborators},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(t,r["Component"]),n=t,(a=[{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter(function(e){return"risk questionnaire"===e.taskType});if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach(function(e,t){"selection"===e.taskType&&(n=!0)}),n}},{key:"handleAddCollaboratorsModalButtonClick",value:function(){this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators),this.handleCloseModalForCollaborators()}},{key:"handleOpenModalForCollaborators",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModalForCollaborators",value:function(){this.setState({showModal:!1}),this.setState({selectedCollaborators:this.props.submission.collaborators})}},{key:"handleChangeForCollaborators",value:function(e){this.setState({selectedCollaborators:e})}},{key:"render",value:function(){var e=Qa({},this.props),t=e.submission,n=e.viewAs,r=e.user,a=e.members;return t&&a?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h3",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?o.a.createElement(Ia,null):o.a.createElement("div",{className:"Summary"},this.renderSubmitterAndCollaboratorInfo(t,a),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(Ea,{riskResults:t.riskResults,hideWeightsAndScore:t.hideWeightsAndScore}),this.renderSkipCheckbox(t,n,r),this.renderButtons(t)):null}},{key:"renderCollboratorsModal",value:function(e,t){return o.a.createElement(xa.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".Summary")}},o.a.createElement("div",{className:"collaborator-model-title"},o.a.createElement("span",null,o.a.createElement("h3",null,"Add Collaborators")),o.a.createElement(Ua.a,{"aria-label":"close",component:"span",className:"collaborator-model-close icon-gray",onClick:this.handleCloseModalForCollaborators.bind(this)},o.a.createElement(Ra.a,null))),o.a.createElement("div",{className:"content"},"Start typing names, to add them as collaborators for your submission."),o.a.createElement("div",{className:"content"},o.a.createElement(La.a,{options:t,defaultValue:e.collaborators,isMulti:!0,maxMenuHeight:200,onChange:this.handleChangeForCollaborators.bind(this)})),o.a.createElement("div",null,o.a.createElement(Qr,{title:"Add",onClick:this.handleAddCollaboratorsModalButtonClick.bind(this)})))}},{key:"renderCollboratorsInfo",value:function(e,t){return o.a.createElement("div",null,o.a.createElement("h3",null,"Collaborators"),o.a.createElement("div",null,o.a.createElement("b",null,"Add people to help complete your submission.")),e.collaborators.length>0&&o.a.createElement("div",{className:"collaborators-name-container"},e.collaborators.map(function(e,t){var n=e.label;return o.a.createElement("div",{key:t},n)})),"submitter"===this.props.viewAs&&o.a.createElement("div",null,o.a.createElement("button",{className:"btn add-collaborators-btn",onClick:this.handleOpenModalForCollaborators.bind(this)},o.a.createElement(ja.a,{className:"icon-blue"}),"Add collaborators")),this.renderCollboratorsModal(e,t))}},{key:"renderSubmitterInfo",value:function(e){var t=e.submitter;return o.a.createElement("div",null,o.a.createElement("h3",null,"Request Information"),o.a.createElement("div",null,o.a.createElement("b",null,"Product Name:")," ",e.productName," "),o.a.createElement("div",null,o.a.createElement("b",null,"Submitted by:")," ",t.name),o.a.createElement("div",null,o.a.createElement("b",null,"Email:")," ",t.email),o.a.createElement("div",null,o.a.createElement("b",null,"Status:")," ",Ja(e.status)))}},{key:"renderSubmitterAndCollaboratorInfo",value:function(e,t){return o.a.createElement("div",null,o.a.createElement("div",{className:"card-group"},o.a.createElement("div",{className:"card mr-2 request-info"},this.renderSubmitterInfo(e)),o.a.createElement("div",{className:"card ml-2 request-info"},this.renderCollboratorsInfo(e,t))))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions,r=ka.isSRATaskFinalised(e.taskSubmissions);if(0===n.length)return null;var a=this.unfinishedTaskSubmissionMessage()?o.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return o.a.createElement("div",{className:"tasks"},o.a.createElement("h3",null,"Tasks"),a,r?ka.getSraIsFinalisedAlert():null,n.map(function(e){var n=e.uuid,r=e.taskName,i=e.taskType,u=e.status,s=e.approver,c=r+" ("+Ja(u)+")";"start"===u&&(c=r+" (Please complete me)"),"approved"!==u&&"denied"!==u||!s.name||(c=r+" (Not Approved by "+s.name+")");var l=Qa({},t.props).token,p=D.redirectToTaskSubmission(n,l,"urlString");"selection"===i&&(p=D.redirectToComponentSelectionSubmission(n,l,"urlString")),"security risk assessment"===i&&(p=D.redirectToSecurityRiskAssessment(n,l,"urlString")),"control validation audit"===i&&(p=D.redirectToControlValidationAudit(n,l,"urlString"));var f=o.a.createElement(ne.a,{to:p},c);return o.a.createElement("div",{key:n},a&&"security risk assessment"===i?null:f)}))}},{key:"renderButtons",value:function(e){var t=this,n=Qa({},this.props),r=n.user,a=n.viewAs,i=n.showNotApproveButton,u=n.token,s=n.handleSubmitButtonClick,c=n.handlePDFDownloadButtonClick,l=n.handleApproveButtonClick,p=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleNotApproveButtonClick,m=n.handleDenyButtonClick,d=n.handleEditButtonClick,b=o.a.createElement(dn,{title:"DOWNLOAD PDF",iconImage:Eo.a,classes:["button"],onClick:c}),y=r?o.a.createElement(dn,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return D.redirectToQuestionnaireReview(e.submissionUUID,u)}}):"";if("submitter"===a){var h=o.a.createElement(dn,{title:"EDIT ANSWERS",iconImage:So.a,classes:["button"],onClick:d}),v=o.a.createElement(Qr,{title:"SEND FOR APPROVAL",classes:["button"],disabled:Pn.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:s});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,h,b,v),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,h,b),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,b),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var S=o.a.createElement(dn,{title:"Assign to Me",classes:["button"],onClick:p}),g=o.a.createElement(Qr,{title:"APPROVE",classes:["button"],onClick:function(){return l(t.state.skipBoAndCisoApproval)}}),E=o.a.createElement(Qr,{title:"NOT APPROVED",classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}}),O=o.a.createElement(dn,{title:"DENY",classes:["button"],onClick:function(){return m(t.state.skipBoAndCisoApproval)}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,b),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,b,S),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,b),o.a.createElement("div",null,g,i?E:null,O)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,b),o.a.createElement("div",null,g,O))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,y,b),o.a.createElement("div",null))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=Ja(t.securityArchitect);"Approved"!=a&&"Not Approved"!=a||(a=n.firstName+" "+n.surname+" - "+a),"waiting_for_security_architect_approval"===e.status&&(a="Being Reviewed by "+n.firstName+" "+n.surname);var i=Ja(t.chiefInformationSecurityOfficer);"Pending"!==i&&"Not Required"!==i&&(i=r.firstName+" "+r.surname+" - "+i);var u=Ja(t.businessOwner);return"Pending"!==u&&"Not Required"!==u&&(u=e.businessOwnerApproverName+" - "+u),o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Approvals"),o.a.createElement("div",null,o.a.createElement("b",null,"Security Architect")," - ",a),o.a.createElement("div",null,o.a.createElement("b",null,"Chief Information Security Officer")," - ",i),o.a.createElement("div",null,o.a.createElement("b",null,"Business Owner")," - ",u))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"approvals"},o.a.createElement("h3",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}}),"  This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}}])&&qa(n.prototype,a),i&&qa(n,i),t}();Ka.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleApproveButtonClick:function(){},handleNotApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},handleCollaboratorAddButtonClick:function(){},viewAs:"others",showNotApproveButton:!1,token:"",user:null,members:null};var Wa=Ka;function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){za(e,t,n[t])})}return e}function za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xa(e,t){return!t||"object"!==Ya(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ei(e,t){return(ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ti=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Xa(this,$a(t).call(this))).state={showModal:!1},e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ei(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Ga({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken),this.props.dispatchLoadMembersAction()}},{key:"render",value:function(){var e=Ga({},this.props),t=e.secureToken,n=e.loadingState,r=e.members,a=Ga({},this.props.submissionState),i=(a.location,a.title),u=a.user,s=a.submission,c=a.isCurrentUserApprover,l=a.isCurrentUserABusinessOwnerApprover,p=a.siteConfig;if(!(u&&s&&p&&r))return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var f="others",m=!1;!u.isSA||u.isCISO||l||(m=!0);do{if(u.id===s.submitter.id){f="submitter";break}if(l&&"waiting_for_approval"==s.status){f="businessOwnerApprover";break}if(c){f="approver";break}}while(0);return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(ar,{title:i,subtitle:"Summary",username:u.name,logopath:p.logoPath}),o.a.createElement(Wa,{submission:s,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleNotApproveButtonClick:this.handleNotApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),handleCollaboratorAddButtonClick:this.handleCollaboratorAddButtonClick.bind(this),viewAs:f,user:u,token:t,members:r,showNotApproveButton:m}),o.a.createElement(wt,{footerCopyrightText:p.footerCopyrightText}),o.a.createElement(xa.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(Qr,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(dn,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=Ga({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),Xo.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=Ga({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Ga({},this.props).secureToken,n=Ga({},this.props.submissionState),r=n.user,o=n.submission,a=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&o&&(i&&"waiting_for_approval"==o.status?this.props.dispatchBusinessOwnerApproveSubmissionAction(o.submissionID,t):a&&this.props.dispatchApproveSubmissionAction(o.submissionID,e))}},{key:"handleNotApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(Ga({},this.props).secureToken,Ga({},this.props.submissionState)),n=t.user,r=t.submission,o=t.isCurrentUserApprover;t.isCurrentUserABusinessOwnerApprover;n&&r&&o&&this.props.dispatchNotApproveSubmissionAction(r.submissionID,e)}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Ga({},this.props).secureToken,n=Ga({},this.props.submissionState),r=n.user,o=n.submission,a=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&o&&(i&&"waiting_for_approval"==o.status?this.props.dispatchBusinessOwnerDenySubmissionAction(o.submissionID,t):a&&this.props.dispatchDenySubmissionAction(o.submissionID,e))}},{key:"handleAssignToMeButtonClick",value:function(){var e=Ga({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=Ga({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleCollaboratorAddButtonClick",value:function(e){var t=Ga({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchAddCollaboratorAction(r.submissionID,e)}}])&&Za(n.prototype,a),i&&Za(n,i),t}(),ni=Object(u.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState,members:e.memberState}},function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(Yn(t,n))},dispatchLoadMembersAction:function(){var t;e((t=ma(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pa.fetchMembers();case 3:n=e.sent,r={type:l.USER.LOAD_MEMBER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(e){return t.apply(this,arguments)}))},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return n=Wn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,u=i.uuid,r(Yn(u,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return n=Wn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,u=i.uuid,r(Yn(u,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return t=Wn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Yn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return t=Wn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,D.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return n=Wn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,u=i.uuid,r(Yn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return n=Wn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,u=i.uuid,r(Yn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchNotApproveSubmissionAction:function(t,n){e(function(e,t){return n=Wn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.NotApproveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,u=i.uuid,r(Yn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchAssignToMeAction:function(t){e(function(e){return t=Wn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Yn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddCollaboratorAction:function(t,n){e(function(e,t){return n=Wn(regeneratorRuntime.mark(function n(r,o){var a,i,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee.getCSRFToken();case 2:return a=n.sent,n.prev=3,n.next=6,Cn.addCollaborator(e,t,a);case 6:i=n.sent,u=i.uuid,r(Yn(u)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[3,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))}}})(ti),ri=n(408),oi=n.n(ri);function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ii(e,t,n[t])})}return e}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function si(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ui(a,r,o,i,u,"next",e)}function u(e){ui(a,r,o,i,u,"throw",e)}i(void 0)})}}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var li=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"loadAvailableComponents",value:function(){var e=si(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map(function(e){return Un.parseFromJSONObject(e)}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createJiraTickets",value:function(){var e=si(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ai({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map(function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')}),u="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,Q.request({query:u,csrfToken:a});case 5:if(s=e.sent,c=k()(s,"data",null)){e.next=9;break}throw F;case 9:return l=oi()(o.map(function(e){var t="createJiraTicket".concat(e),n=k()(c,t,null);return n?{id:w()(k()(n,"ID","")),jiraKey:w()(k()(n,"JiraKey","")),link:w()(k()(n,"TicketLink",""))}:null})),e.abrupt("return",l);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&ci(t.prototype,n),r&&ci(t,r),e}();function pi(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function fi(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){pi(a,r,o,i,u,"next",e)}function u(e){pi(a,r,o,i,u,"throw",e)}i(void 0)})}}function mi(){return function(){var e=fi(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function di(e,t){return function(){var n=fi(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function bi(e,t){return function(){var n=fi(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function yi(e){return function(){var t=fi(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function hi(e){return function(){var t=fi(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function vi(e){var t=e.selectedComponents.map(function(e){return e.isSaved=!0,e});return function(){var e=fi(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function Si(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function gi(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Ei(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){gi(a,r,o,i,u,"next",e)}function u(e){gi(a,r,o,i,u,"throw",e)}i(void 0)})}}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ki(e,t,n[t])})}return e}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ti(e){var t=Oi({},e),n=t.uuid,r=t.secureToken,o=t.type;return function(){var e=Ei(regeneratorRuntime.mark(function e(t){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return a=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=7,t(i);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(vi(a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),$.displayError(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}function wi(e){var t=Oi({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Ei(regeneratorRuntime.mark(function e(t,a){var i,u,s,c,p,f,m,d,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return a().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return u={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(u);case 6:if(o){e.next=24;break}return e.prev=7,e.t0=Hn,e.t1=i().uuid,e.t2=[n.id],e.t3=[Pn.transformFromFullQuestionToData(n)],e.next=14,Ee.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),$.displayError(e.t7);case 24:if(s=Pn.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),c=s.currentIndex,p=s.nonApplicableIndexes,f=s.targetIndex,m=s.complete,s.terminate,d=s.result,!(p.length>0)){e.next=29;break}return b={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:p},e.next=29,t(b);case 29:if(!(f>c)){e.next=33;break}return y={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:c,targetIndex:f}},e.next=33,t(y);case 33:if(o){e.next=42;break}return e.prev=34,e.next=37,Ni(i(),P.a.uniq([c].concat(Si(p),[f])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),$.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(_i({bypassNetwork:o,secureToken:r,result:d}));case 45:case"end":return e.stop()}},e,this,[[7,21],[34,39]])}));return function(t,n){return e.apply(this,arguments)}}()}function Ai(e){return function(){var t=Ei(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=o.componentSelectionState.selectedComponents.map(function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}}),t.prev=7,t.t0=Hn,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=14,Ee.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(_i());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:$.displayError(t.t6);case 29:case"end":return t.stop()}},t,this,[[7,24]])}));return function(e,n){return t.apply(this,arguments)}}()}function _i(){var e=Oi({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.result,o=e.taskSubmissionUUID,a=e.questionnaireUUID;return function(){var e=Ei(regeneratorRuntime.mark(function e(i,u){var s,c,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){return u().taskSubmissionState.taskSubmission},n){e.next=20;break}return e.prev=2,e.next=5,Ee.getCSRFToken();case 5:return c=e.sent,e.next=8,Hn.completeTaskSubmission({uuid:void 0===o?s().uuid:o,result:r||"",secureToken:t,csrfToken:c});case 8:return p=e.sent,f=p.uuid,e.next=12,i(Ti({uuid:f,secureToken:t}));case 12:void 0!==a&&D.redirectToQuestionnaireSummary(a,t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),$.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,i({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:r});case 22:case"end":return e.stop()}},e,this,[[2,15]])}));return function(t,n){return e.apply(this,arguments)}}()}function Ci(e){var t=Oi({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Ei(regeneratorRuntime.mark(function e(t,a){var i,u,s,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(u=i.questions,!((s=u.findIndex(function(e){return e.isCurrent}))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((c=u.findIndex(function(e){return e.id===n.id}))<0)){e.next=12;break}return e.abrupt("return");case 12:return p={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:s,targetIndex:c}},e.next=15,t(p);case 15:if(o){e.next=18;break}return e.next=18,Ni(i,P.a.uniq([s,c]),r);case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}function Ii(){var e=Oi({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.type;return function(){var e=Ei(regeneratorRuntime.mark(function e(o,a){var i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=28;break}return e.prev=4,e.t0=Hn,e.t1=i.uuid,e.next=9,Ee.getCSRFToken();case 9:return e.t2=e.sent,e.t3=t,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return u=e.sent,s=u.uuid,e.next=18,o(Ti({uuid:s,secureToken:t}));case 18:if("componentSelection"!==r){e.next=21;break}return e.next=21,o(vi(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),$.displayError(e.t5);case 26:e.next=29;break;case 28:o({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}},e,this,[[4,23]])}));return function(t,n){return e.apply(this,arguments)}}()}function Ni(e,t,n){return ji.apply(this,arguments)}function ji(){return(ji=Ei(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Hn,e.t1=t.uuid,e.t2=n.map(function(e){return t.questions[e].id}),e.t3=n.map(function(e){return Pn.transformFromFullQuestionToData(t.questions[e])}),e.next=7,Ee.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),$.displayError(e.t7.message);case 17:case"end":return e.stop()}},e,this,[[0,14]])}))).apply(this,arguments)}var Pi=n(132),Ri=n.n(Pi);function Di(e){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xi(){return(xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ui(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e,t){return!t||"object"!==Di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fi(e,t){return(Fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mi(this,Qi(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fi(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(on,xi({},this.props,{classes:["RedButton"].concat(Ui(this.props.classes))}))}}])&&Li(n.prototype,a),i&&Li(n,i),t}();qi.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Bi=qi,Vi=n(409),Hi=n.n(Vi),Ji=n(410),Ki=n.n(Ji),Wi=n(411),Yi=n.n(Wi),Gi=(n(674),n(379),n(184));function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xi(){return(Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eu(e,t){return!t||"object"!==zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tu(e){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nu(e,t){return(nu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ru=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=eu(this,(e=tu(t)).call.apply(e,[this].concat(a)))).state={showModal:!1,FormType:"Add",issueID:"0"},n.handleOpenModal=function(){n.setState({showModal:!0})},n.handleCloseModal=function(){n.setState({showModal:!1,issueID:0})},n.handleOpenAddRecommendationModal=function(){var e=1;if(n.props.taskRecommendations.length>0){var t=n.props.taskRecommendations.reduce(function(e,t){return e.id>t.id?e:t});t&&(e=t.id+1)}n.setState({showModal:!0,issueID:e,FormType:"Add"})},n.handleOpenEditRecommendationModal=function(e){n.setState({showModal:!0,issueID:e,FormType:"Edit"})},n.getFormInitialValues=function(){var e={id:n.state.issueID,title:"",description:"",recommendation:"",status:""};return"Edit"==n.state.FormType&&n.props.taskRecommendations.length>0&&0!=n.state.issueID&&(e=n.props.taskRecommendations.find(function(e){return e.id===n.state.issueID})),e},n.renderRecommendationform=function(){return o.a.createElement(br.c,{initialValues:n.getFormInitialValues(),validate:function(e){var t={};return e.title||(t.title="Please enter the issue title."),e.status||(t.status="Please enter the status."),e.description||(t.description="Please enter the issue description."),e.recommendation||(t.recommendation="Please enter the recommendation."),t},onSubmit:function(e,t){"Add"==n.state.FormType&&n.props.handleAddTaskRecommendationButtonClick(e),"Edit"==n.state.FormType&&n.props.handleEditTaskRecommendationButtonClick(e),n.handleCloseModal()},validateOnChange:!1,validateOnBlur:!1},function(e){e.isSubmitting;var t=e.errors,r=(e.touched,e.setFieldValue,e.values),a=e.handleChange,i=e.handleSubmit;return o.a.createElement(br.b,null,o.a.createElement("div",{className:"title-and-status-container"},o.a.createElement("div",{className:"title-field-container"},o.a.createElement("label",null,"Issue title",o.a.createElement(br.a,{type:"text",name:"title",className:t.title&&"input-error"}),t.title&&o.a.createElement("span",{className:"error"},t.title))),o.a.createElement("div",{className:"status-field-container"},o.a.createElement("label",null,"Status",o.a.createElement("select",{name:"status",value:r.status,onChange:a,className:t.status&&"input-error",style:{display:"block"}},o.a.createElement("option",{value:"",label:"Select"}),o.a.createElement("option",{value:"open",label:"Open"}),o.a.createElement("option",{value:"closed",label:"Closed"})),t.status&&o.a.createElement("span",{className:"error"},t.status)))),o.a.createElement("div",{className:"issue-container"},o.a.createElement("label",null,"Issue description",o.a.createElement(br.a,{name:"description"},function(e){var n=e.field;return o.a.createElement("textarea",Xi({},n,{className:t.description&&"input-error"}))}),t.description&&o.a.createElement("span",{className:"error"},t.description))),o.a.createElement("div",null,o.a.createElement("label",null,"Recommendation",o.a.createElement(br.a,{name:"recommendation"},function(e){var n=e.field;return o.a.createElement("textarea",Xi({},n,{className:t.recommendation&&"input-error"}))}),t.recommendation&&o.a.createElement("span",{className:"error"},t.recommendation))),o.a.createElement("div",{className:"buttons"},o.a.createElement(dn,{title:"Cancel",onClick:n.handleCloseModal}),"Add"==n.state.FormType&&o.a.createElement(Qr,{type:"button",title:"Add","data-flag":"action-add",onClick:i}),"Edit"==n.state.FormType&&o.a.createElement(Qr,{type:"button",title:"Save","data-flag":"action-add",onClick:i})))})},n.renderRecommendationModal=function(){return o.a.createElement("div",{className:"RecommendationModal"},o.a.createElement(xa.a,{isOpen:n.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".TaskSubmissionContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},"Add"==n.state.FormType?"Add Recommendation":"Edit Recommendation"),o.a.createElement("div",{className:"close-icon-container",onClick:n.handleCloseModal},o.a.createElement("img",{src:Yi.a}))),o.a.createElement("div",{className:"content"},n.renderRecommendationform())))},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nu(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Zi(e,t,n[t])})}return e}({},this.props),n=t.taskRecommendations,r=t.viewAs,a=t.status;return o.a.createElement("div",{className:"recommendation-container"},("approver"===r||n&&n.length>0)&&o.a.createElement("h4",null,"Approver's recommendations"),n&&n.length>0&&o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"recommendation_table_header"},o.a.createElement("th",{className:"issue-title-col"},"Issue title"),o.a.createElement("th",null,"Issue description"),o.a.createElement("th",null,"Recommendation"),o.a.createElement("th",null,"Status"),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("th",{className:"edit-col"}))),o.a.createElement("tbody",null,n.map(function(t,n){return o.a.createElement("tr",{key:n+1},o.a.createElement("td",null,t.title),o.a.createElement("td",null,t.description),o.a.createElement("td",null,t.recommendation),o.a.createElement("td",null,t.status),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("td",{className:"edit-col"},o.a.createElement("img",{className:"edit-icon",src:Ri.a,onClick:function(){return e.handleOpenEditRecommendationModal(t.id)}})))})))),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("div",{className:"add-recommendation-link",onClick:function(){return e.handleOpenAddRecommendationModal()}},o.a.createElement("img",{src:Ki.a})," Add recommendation"),this.renderRecommendationModal())}}])&&$i(n.prototype,a),i&&$i(n,i),t}();function ou(e){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){iu(e,t,n[t])})}return e}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function su(e,t){return!t||"object"!==ou(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cu(e){return(cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lu(e,t){return(lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),su(this,cu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lu(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=au({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,u=t.handleDenyButtonClick,s=t.handleSendBackForChangesButtonClick,c=t.handleAddTaskRecommendationButtonClick,l=t.handleEditTaskRecommendationButtonClick,p=t.editAnswers,f=t.showBackButton,m=t.showEditButton,d=t.canUpdateAnswers,b=t.viewAs,y=t.secureToken,h=o.a.createElement(ru,{taskRecommendations:n.taskRecommendations,viewAs:b,status:n.status,handleAddTaskRecommendationButtonClick:c,handleEditTaskRecommendationButtonClick:l}),v=f?o.a.createElement(Qr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(n.questionnaireSubmissionUUID,y)}}):null,S="risk questionnaire"===n.taskType&&ka.isSRATaskFinalised(n.siblingSubmissions),g=m&&!S?o.a.createElement(dn,{title:"Edit",onClick:p,iconImage:Ri.a}):null,E=["complete","waiting_for_approval","approved","denied"],O=E.indexOf(n.status)>-1?o.a.createElement(dn,{title:"PDF",iconImage:Hi.a,onClick:function(){return e.downloadPdf()}}):null,k=n.result&&E.indexOf(n.status)>-1?o.a.createElement("div",{className:"result"},o.a.createElement("h3",null,"Result:"),o.a.createElement("div",null,n.result)):null,T=n.riskResults&&E.indexOf(n.status)>-1?o.a.createElement(Ea,{riskResults:n.riskResults,hideWeightsAndScore:n.hideWeightsAndScore}):null,w="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(Qr,{title:"Approve",onClick:i,classes:["button"]}):null,A="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(dn,{title:"Send back for changes",onClick:s,classes:["button"]}):null,_="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(Bi,{title:"Not approved",onClick:u,classes:["button"]}):null,C=o.a.createElement("div",null,k,o.a.createElement("h4",null,"Summary"),o.a.createElement(Co,{questions:n.questions}),T,h);return d&&(C=o.a.createElement(uo,{questions:n.questions,saveAnsweredQuestion:r,onLeftBarItemClick:a})),o.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&o.a.createElement(Ia,null),"expired"!==n.status&&o.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!S)&&ka.getSraIsFinalisedAlert(),C,o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},g,O,v),o.a.createElement("div",{className:"buttons-right"},"approver"===b&&"waiting_for_approval"===n.status&&o.a.createElement("span",{className:"approver-action"},"Approver action: "),A,_,w))))}},{key:"downloadPdf",value:function(){var e=au({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&Xo.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults})}}])&&uu(n.prototype,a),i&&uu(n,i),t}();function fu(e){return(fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){du(e,t,n[t])})}return e}function du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yu(e,t){return!t||"object"!==fu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hu(e){return(hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vu(e,t){return(vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Su=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yu(this,hu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vu(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=mu({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=mu({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,u=e.dispatchEditAnswersAction,s=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.dispatchSendBackForChangesTaskSubmissionAction,e.dispatchAddTaskRecommendationAction,e.dispatchEditTaskRecommendationAction,e.secureToken);if(!n||!r||!t)return null;var c="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){c="submitter";break}if(r.isCurrentUserAnApprover){c="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),p=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l||r.isTaskCollborator),f=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||(l||r.isTaskCollborator)&&!r.lockWhenComplete);return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(ar,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(pu,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:u,showEditButton:f,canUpdateAnswers:p,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleAddTaskRecommendationButtonClick:this.handleAddTaskRecommendationButtonClick.bind(this),handleEditTaskRecommendationButtonClick:this.handleEditTaskRecommendationButtonClick.bind(this),showBackButton:!!r.questionnaireSubmissionUUID,viewAs:c,siteConfig:t,secureToken:s}),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=mu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=mu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchSendBackForChangesTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=mu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}},{key:"handleAddTaskRecommendationButtonClick",value:function(e){var t=mu({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchAddTaskRecommendationAction(o,e,a)}},{key:"handleEditTaskRecommendationButtonClick",value:function(e){var t=mu({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchEditTaskRecommendationAction(o,e,a)}}])&&bu(n.prototype,a),i&&bu(n,i),t}(),gu=Object(u.b)(function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(t,n){e(da()),e(Ft()),e(Ti({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(wi({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(Ci({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(Ii())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return t=Ei(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Hn.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(Ti({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return t=Ei(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Hn.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(Ti({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchSendBackForChangesTaskSubmissionAction:function(t){e(function(e){return t=Ei(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Hn.editTaskSubmission({uuid:e,csrfToken:o,secureToken:""});case 6:return t.sent.status,t.next=10,n(Ti({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=Ei(regeneratorRuntime.mark(function r(o,a){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n.push(t),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,Hn.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,o(Ti({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))},dispatchEditTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=Ei(regeneratorRuntime.mark(function r(o,a){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=n.map(function(e){return e.id===t.id?Oi({},n,t):e}),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,Hn.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,o(Ti({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))}}})(Su);function Eu(e){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ou(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ku(e,t){return!t||"object"!==Eu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wu(e,t){return(wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_u(e,t,n[t])})}return e}function _u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ku(this,Tu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wu(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Au({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Au({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,u=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var s="in_progress"===r.status||"start"===r.status,c="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(ar,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(pu,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:u,showEditButton:c,canUpdateAnswers:s,showBackButton:!1,siteConfig:t,currentUser:n}),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Ou(n.prototype,a),i&&Ou(n,i),t}(),Iu=Object(u.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(){var n=Au({},t).taskId;e(da()),e(Ft()),e(function(e){var t,n=Oi({},e).taskId;return t=Ei(regeneratorRuntime.mark(function e(t,r){var o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn.fetchStandaloneTask({taskId:n});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,t(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$.displayError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e,n){return t.apply(this,arguments)}}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(wi({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(Ci({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(Ii({bypassNetwork:!0}))}}})(Cu);function Nu(e){return(Nu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pu(e,t,n[t])})}return e}function Pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Du(e,t){return!t||"object"!==Nu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xu(e){return(xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uu(e,t){return(Uu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Du(this,xu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uu(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=ju({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return o.a.createElement("div",{className:"LeftBarItem"},o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(ju({},this.props).iconType){case"editing":return o.a.createElement("img",{src:Pe.a,alt:""});case"success":return o.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return o.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return o.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&Ru(n.prototype,a),i&&Ru(n,i),t}();function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter(function(t){return t.id===e}).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter(function(n){return n.id===e&&n.productAspect===t}).length>0:n.filter(function(t){return t.id===e}).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter(function(n){return n.id===e&&n.productAspect===t&&n.isSaved}).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter(function(t){return t.productAspect===e}).length>0}}],(n=null)&&Mu(t.prototype,n),r&&Mu(t,r),e}();function Fu(e){return(Fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bu(e,t,n[t])})}return e}function Bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hu(e,t){return!t||"object"!==Fu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ku(e,t){return(Ku=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Hu(this,Ju(t).call(this,e))).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ku(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=qu({},this.props),n=t.title,r=t.availableComponents,a=t.selectedComponents,i=t.removeComponent,u=t.addComponent,s=t.productAspects,c=t.componentTarget,l=qu({},this.state),p=l.filter,f=l.selectedProductAspect;return o.a.createElement("div",{className:"LeftBar"},s&&s.length>0&&o.a.createElement("div",{className:"product-aspect"},o.a.createElement("label",null,o.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),o.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=w()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:f},s.map(function(e,t){return o.a.createElement("option",{key:t,value:e},e)})))),o.a.createElement("div",{className:"title"},n),o.a.createElement("div",{className:"search"},o.a.createElement("i",{className:"fas fa-search"}),o.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=w()(t.target.value).trim();e.setState({filter:n})}})),o.a.createElement("div",{className:"items"},r.filter(function(e){return!p||e.name.toUpperCase().includes(p.toUpperCase())}).map(function(e){var t=Qu.isSelectedComponentExist(e.id,f,a),n=Qu.isComponentSaved(e.id,f,a,c)&&"JIRA Cloud"==c;return o.a.createElement(Lu,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,f):u(e.id,f)}})})))}}])&&Vu(n.prototype,a),i&&Vu(n,i),t}(),Yu=n(100);n(685);function Gu(e){return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Zu(e,t,n[t])})}return e}function Zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $u(e,t){return!t||"object"!==Gu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function es(e){return(es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ts(e,t){return(ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ns=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=$u(this,es(t).call(this,e))).state={isExpanded:!1,isImplementationEvidenceExpaned:!n.props.isCVATaskEditable},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ts(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"componentDidUpdate",value:function(e){e.isCVATaskEditable!==this.props.isCVATaskEditable&&this.setState({isImplementationEvidenceExpaned:!this.props.isCVATaskEditable})}},{key:"render",value:function(){var e=this,t=zu({},this.props),n=(t.id,t.name),r=t.description,a=t.implementationGuidance,i=t.implementationEvidence,u=t.className,s=t.showImplementationEvidence,c=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,p=zu({},this.state),f=p.isExpanded,m=p.isImplementationEvidenceExpaned;return o.a.createElement("div",{className:"ControlInfo "+u},n&&o.a.createElement("h5",null,n),r&&o.a.createElement("div",{className:"control-description"},o.a.createElement("span",null,o.a.createElement("b",null,"Description: ")),o.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),a&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!f})}},o.a.createElement("span",null,o.a.createElement("b",null,"Implementation Guidance "),o.a.createElement(Yu.Icon,{name:"".concat(f?"caret-up":"caret-down")}))),f&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),s&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},o.a.createElement("span",null,o.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),o.a.createElement(Yu.Icon,{name:"".concat(m?"caret-up":"caret-down")}))),m&&o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?o.a.createElement("div",null,o.a.createElement(Gi.a,{className:"implementation-evidence",initialValue:c,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):o.a.createElement("div",{className:"implementation-evidence"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:c.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&Xu(n.prototype,r),a&&Xu(n,a),t}();function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function as(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function is(e,t){return!t||"object"!==rs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function us(e){return(us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ss(e,t){return(ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),is(this,us(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ss(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){os(e,t,n[t])})}return e}({},this.props),t=e.id,n=e.name,r=e.description,a=e.removeComponent,i=e.childControls,u=e.isDisable;return o.a.createElement("div",{className:"ComponentInfo",key:t+n},o.a.createElement("h3",null,!u&&o.a.createElement("button",{onClick:function(e){e.preventDefault(),a()}},o.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),o.a.createElement("span",null," ",n))),o.a.createElement("p",null,r),i&&i.length>0&&o.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map(function(e,t){return o.a.createElement(ns,{key:t,id:e.id,name:e.name,description:e.description,implementationGuidance:e.implementationGuidance,className:"control-cs"})}))}}])&&as(n.prototype,r),a&&as(n,a),t}();function ls(e){return(ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fs(e,t,n[t])})}return e}function fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ds(e,t){return!t||"object"!==ls(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bs(e){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ys(e,t){return(ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hs=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ds(this,bs(t).call(this,e))).state={jiraKey:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ys(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=ps({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,u=t.addComponent,s=t.finishWithSelection,c=t.saveControls,l=t.extraButtons,p=t.componentTarget,f=t.productAspects,m=t.isStandaloneTask,d=ps({},this.state).jiraKey,b=f&&f.length>0&&r.length>0;return o.a.createElement("div",{className:"ComponentSelection"},o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(Wu,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:u,productAspects:f,componentTarget:p}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},"Selected Components"),o.a.createElement("div",{className:"selected-components"},b>0&&f.map(function(e,t){return o.a.createElement("div",{key:t},Qu.doescomponentExistForProductAspect(e,r)&&o.a.createElement("h4",{key:t},e),r.map(function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==p;if(t.productAspect===e)return o.a.createElement(cs,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})}))}),(void 0===f||""===f||0===f.length)&&r.map(function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==p;return o.a.createElement(cs,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})})))),o.a.createElement("div",{className:"buttons-wrapper"},o.a.createElement("div",{className:"extra-buttons"},l),o.a.createElement("div",null,r.length>0&&"JIRA Cloud"===p&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=w()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(Qr,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(d)}})),"Local"===p&&!m&&o.a.createElement(dn,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){c()}}),o.a.createElement(dn,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){s()}}))))}}])&&ms(n.prototype,a),i&&ms(n,i),t}();function vs(e){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Es(e,t){return!t||"object"!==vs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Os(e){return(Os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ks(e,t){return(ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ts=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Es(this,Os(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ks(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ss(e,t,n[t])})}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,a=e.componentTarget,i=e.productAspects,u=i&&i.length>0&&t.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),u>0&&i.map(function(e,n){return o.a.createElement("ul",{key:n},Qu.doescomponentExistForProductAspect(e,t)&&o.a.createElement("h5",{key:n},e),t.map(function(t,n){if(t.productAspect===e)return o.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)}))}),o.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map(function(e){return o.a.createElement("li",{key:e.id},e.name)}))),"JIRA Cloud"===a&&o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Created Jira Tickets"),o.a.createElement("ul",null,n.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))}))),o.a.createElement("div",{className:"buttons"},r))}}])&&gs(n.prototype,r),a&&gs(n,a),t}();function ws(e){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_s(e,t,n[t])})}return e}function _s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Is(e,t){return!t||"object"!==ws(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ns(e){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function js(e,t){return(js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ps=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Is(this,Ns(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&js(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,As({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=As({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,u=e.dispatchRemoveComponentAction,s=e.dispatchCreateJIRATicketsAction,c=e.viewMode,l=e.jiraTickets,p=e.componentTarget;if(!n||!t)return null;var f=null;switch(c){case"edit":f=o.a.createElement(hs,{availableComponents:r,selectedComponents:a,componentTarget:p,isStandaloneTask:!0,createJIRATickets:function(e){s(e)},removeComponent:function(e){u(e)},addComponent:function(e){i(e)},finishWithSelection:function(){D.redirectToHome()}});break;case"review":f=o.a.createElement(Ts,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(Qr,{title:"BACK TO HOME",onClick:function(){D.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(ar,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:n.name}),f,o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Cs(n.prototype,a),i&&Cs(n,i),t}(),Rs=Object(u.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}},function(e,t){return{dispatchLoadDataAction:function(){e(da()),e(Ft()),e(mi())},dispatchAddComponentAction:function(t){e(di(t))},dispatchRemoveComponentAction:function(t){e(bi(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return t=fi(regeneratorRuntime.mark(function t(n,r){var o,a,i,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,Ee.getCSRFToken();case 9:return i=t.sent,t.next=12,li.createJiraTickets({jiraKey:e,componentIDList:Dn()(a.map(function(e){return e.id})),csrfToken:i});case 12:return u=t.sent,t.next=15,n(hi(u));case 15:return t.next=17,n(yi("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),$.displayError(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Ps);function Ds(e){return(Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Us(e,t){return!t||"object"!==Ds(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ls(e){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ms(e,t){return(Ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Us(this,Ls(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ms(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&xs(n.prototype,a),i&&xs(n,i),t}();function Fs(e){return(Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bs(e,t){return!t||"object"!==Fs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vs(e){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hs(e,t){return(Hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ks(e,t,n[t])})}return e}function Ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ws=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bs(this,Vs(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hs(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Js({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Js({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,a=e.taskSubmission,i=e.availableComponents,u=e.selectedComponents,s=e.dispatchAddComponentAction,c=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,p=e.dispatchSaveLocalControlsAction,f=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!a||!t)return null;var d=parseInt(r.id)===parseInt(a.submitter.id)||r.isSA||a.isTaskCollborator,b=ka.isSRATaskFinalised(a.siblingSubmissions),y=("complete"===a.status||"waiting_for_approval"===a.status||"denied"===a.status)&&"submitted"===a.questionnaireSubmissionStatus&&d&&!a.lockWhenComplete,h=o.a.createElement(Qr,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(a.questionnaireSubmissionUUID,n)}}),v=y&&!b?o.a.createElement(dn,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:So.a}):null,S=null;switch(a.status){case"start":case"in_progress":if(d){S=o.a.createElement(hs,{availableComponents:i,selectedComponents:u,componentTarget:a.componentTarget,productAspects:a.productAspects,extraButtons:h,createJIRATickets:function(e){l(e)},saveControls:function(){p()},removeComponent:function(e,t){c(e,t)},addComponent:function(e,t){s(e,t)},finishWithSelection:function(){f()}});break}S=o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("br",null),o.a.createElement(Qs,null)),o.a.createElement("div",{className:"buttons"},h));break;case"complete":S=o.a.createElement("div",null,o.a.createElement("div",{className:"ComponentSelectionReview"},!!b&&ka.getSraIsFinalisedAlert()),o.a.createElement(Ts,{selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,buttons:[o.a.createElement("div",{key:"component-selection-review-button-container"},v,h)]}));break;case"expired":S=o.a.createElement(Ia,null)}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(ar,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:r.name}),S,o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}}])&&qs(n.prototype,a),i&&qs(n,i),t}(),Ys=Object(u.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}},function(e,t){return{dispatchLoadDataAction:function(){var n=Js({},t),r=n.uuid,o=n.secureToken;e(Ft()),e(da()),e(mi()),e(Ti({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(di(t,n))},dispatchRemoveComponentAction:function(t,n){e(bi(t,n))},dispatchCreateJIRATicketsAction:function(t){e(Ai(t))},dispatchSaveLocalControlsAction:function(){e(Ai(""))},dispatchFinishAction:function(){e(_i())},dispatchEditAnswersAction:function(){e(Ii({type:"componentSelection"}))}}})(Ws);function Gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,o,a){if("awaiting_security_architect_review"===e)return"Waiting for Security Architect Approval - unassigned";if("waiting_for_security_architect_approval"===e){if(n.id==t)return"Waiting for Security Architect Approval - assigned to me";if(n.id!==t)return"Waiting for Security Architect Approval - "+r}if("waiting_for_approval"===e){if("pending"===o&&"pending"===a)return"Waiting for Approval - Business Owner and Chief Information Security Officer";if("pending"!==o&&"pending"===a)return"Waiting for Approval - Business Owner"}return"approved"===e&&"pending"===o&&"approved"===a?"Approved - Chief Information Security Officer Approval Pending":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}}],(n=null)&&Gs(t.prototype,n),r&&Gs(t,r),e}();function Zs(e){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$s(e,t,n[t])})}return e}function $s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e,t){return!t||"object"!==Zs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rc(e,t){return(rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oc(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}var ac=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tc(this,nc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Xs({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Xs({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(ar,{title:"My Submission",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,qr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,zs.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement(wt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&ec(n.prototype,a),i&&ec(n,i),t}(),ic=Object(u.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(da());case 2:return t.next=4,e(function(){var e=Wn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Cn.fetchQuestionnaireSubmissionList(r.id,"my_submission_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(Ft());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){oc(a,r,o,i,u,"next",e)}function u(e){oc(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(ac);function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){cc(e,t,n[t])})}return e}function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pc(e,t){return!t||"object"!==uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mc(e,t){return(mc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dc(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}var bc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=pc(this,fc(t).call(this,e))).state={currentApprovalList:"QuestionnaireApproval"},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,sc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=sc({},this.props),n=t.currentUser,r=t.siteConfig,a=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,u=t.loadingState;return n&&a&&r&&i?u["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(ar,{title:"Awaiting Approvals",username:n.name,subtitle:r.siteTitle,logopath:r.logoPath}),o.a.createElement("div",{className:"container text-center tab-container"},o.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button mr-3 active":"tab-button mr-3",onClick:function(){return e.setState({currentApprovalList:"QuestionnaireApproval"})}},"Questionnaire Approvals"),o.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){return e.setState({currentApprovalList:"TaskApproval"})}},"Task Approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&yc(a,n),"TaskApproval"==this.state.currentApprovalList&&hc(i,n),o.a.createElement(wt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&lc(n.prototype,a),i&&lc(n,i),t}(),yc=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Business Owner"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Deliverable Release Date"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,qr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,zs.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,e.releaseDate?qr()(e.releaseDate).format("DD MMM YYYY"):""),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire."))},hc=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Task Name"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="#/task/submission/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,qr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.taskName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,zs.prettifyStatus(e.status,"",t,"","","")),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task."))},vc=Object(u.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(da());case 2:return t.next=4,e(function(){var e=Wn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Cn.fetchQuestionnaireSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(function(){var e=Ei(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Hn.fetchTaskSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:e.t0});case 16:$.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 6:return t.next=8,e(Ft());case 8:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){dc(a,r,o,i,u,"next",e)}function u(e){dc(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(bc);function Sc(e){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ec(e,t,n[t])})}return e}function Ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kc(e,t){return!t||"object"!==Sc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tc(e){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wc(e,t){return(wc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ac(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}var _c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kc(this,Tc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,gc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=gc({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(ar,{title:"My Products",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,qr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,zs.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement(wt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Oc(n.prototype,a),i&&Oc(n,i),t}(),Cc=Object(u.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(da());case 2:return t.next=4,e(function(){var e=Wn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Cn.fetchQuestionnaireSubmissionList(r.id,"my_product_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(Ft());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){Ac(a,r,o,i,u,"next",e)}function u(e){Ac(a,r,o,i,u,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(_c);function Ic(e){return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pc(e,t){return!t||"object"!==Ic(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rc(e){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dc(e,t){return(Dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pc(this,Rc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dc(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nc(e,t,n[t])})}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Likelihood Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&jc(n.prototype,a),i&&jc(n,i),t}();function Uc(e){return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qc(e,t){return!t||"object"!==Uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fc(e){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qc(e,t){return(qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qc(this,Fc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qc(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lc(e,t,n[t])})}return e}({},this.props).impactThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"ImapctLegend"},o.a.createElement("h3",null,"Impact Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"impact_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&Mc(n.prototype,a),i&&Mc(n,i),t}();var Vc=n(191),Hc=n.n(Vc);function Jc(e){return(Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t){return!t||"object"!==Jc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yc(e){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gc(e,t){return(Gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wc(this,Yc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gc(e,t)}(t,r["Component"]),n=t,(a=[{key:"renderTableHeader",value:function(){return o.a.createElement("tr",{key:"sra_header"},o.a.createElement("th",null,"Risk"),this.props.hasProductAspects&&o.a.createElement("th",null,"Product Aspect"),o.a.createElement("th",null,"Current Controls"),o.a.createElement("th",null,"Current Likelihood"),o.a.createElement("th",null,"Current Impact"),o.a.createElement("th",null,"Current Risk Rating"),o.a.createElement("th",null,"Recommended Treatments"))}},{key:"renderTableBody",value:function(){var e=this;return this.props.hasProductAspects?this.props.calculatedSRAData.map(function(t,n){return t.productAspects.map(function(n,r){var o={riskId:t.riskId,riskName:0==r?"".concat(t.riskName," (").concat(t.baseImpactScore,")"):null,riskDescription:0==r?t.description:null,components:n.components,currentLikelihood:n.currentLikelihood,currentImpact:n.currentImpact,currentRiskRating:n.currentRiskRating};return e.renderTableRow(o,n.productAspectName)})}):this.props.calculatedSRAData.map(function(t,n){var r={riskId:t.riskId,riskName:"".concat(t.riskName," (").concat(t.baseImpactScore,")"),riskDescription:t.description,components:t.riskDetail.components,currentLikelihood:t.riskDetail.currentLikelihood,currentImpact:t.riskDetail.currentImpact,currentRiskRating:t.riskDetail.currentRiskRating};return e.renderTableRow(r)})}},{key:"renderTableRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement("tr",{key:t+"_"+e.riskId},o.a.createElement("td",null,o.a.createElement("span",{style:{display:"block"}},e.riskName),o.a.createElement("small",{className:"text-muted"},e.riskDescription)),this.props.hasProductAspects&&t&&o.a.createElement("td",null,t),o.a.createElement("td",null,this.renderComponents(e.components,"Implemented")),o.a.createElement("td",null,this.renderCurrentLikelihood(e.currentLikelihood)),o.a.createElement("td",null,this.renderCurrentImapct(e.currentImpact)),o.a.createElement("td",{style:e.currentRiskRating.colour?{backgroundColor:e.currentRiskRating.colour}:null},this.renderCurrentRiskRating(e.currentRiskRating)),o.a.createElement("td",null,this.renderComponents(e.components,"Recommened")))}},{key:"renderComponents",value:function(e,t){var n=this;return e&&Array.isArray(e)&&0!=e.length?e.map(function(e,r){var a="Implemented"===t?e.implementedControls:e.recommendedControls;return o.a.createElement("div",{key:r+1},o.a.createElement("strong",{key:e.id},a.length>0?e.name:null),a.length>0&&n.renderControls(a,t))}):null}},{key:"renderControls",value:function(e,t){return e.map(function(e,n){var r=!1;return"Recommened"==t&&(Hc()(e.likelihoodPenalty)>0||Hc()(e.impactPenalty)>0)&&(r=!0),o.a.createElement("div",{key:n+1},o.a.createElement("span",{key:e.id,className:"".concat(r?"font-weight-bold control-title":"font-weight-normal control-title")},e.name,"  "),o.a.createElement("small",{className:"text-muted"},"( L: ",e.likelihoodWeight,", I: ",e.impactWeight,", LP: ",e.likelihoodPenalty,", IP: ",e.impactPenalty,")"))})}},{key:"renderCurrentLikelihood",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentImapct",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentRiskRating",value:function(e){return o.a.createElement("div",null,e.name)}},{key:"render",value:function(){return this.props.calculatedSRAData?o.a.createElement("div",{className:"RiskMatrix"},o.a.createElement("h3",null,"Your risk assessment results"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},this.renderTableHeader()),o.a.createElement("tbody",null,this.renderTableBody())))):null}}])&&Kc(n.prototype,a),i&&Kc(n,i),t}();function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t){return!t||"object"!==Zc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tl(e){return(tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nl(e,t){return(nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),el(this,tl(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nl(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xc(e,t,n[t])})}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"RiskRatingLegend"},o.a.createElement("h3",null,"Risk Rating Matix"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("p",{className:"impact-heading"},"Impact"),o.a.createElement("table",{className:"table table-sm table-bordered"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map(function(e,t){return o.a.createElement("th",{key:t},e)}))),o.a.createElement("tbody",null,e.tableRows.map(function(e,t){return o.a.createElement("tr",{key:"row_"+t},e.map(function(e,t){return o.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)}))}))))):null}}])&&$c(n.prototype,a),i&&$c(n,i),t}();function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){al(e,t,n[t])})}return e}function al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function il(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function ul(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){il(a,r,o,i,u,"next",e)}function u(e){il(a,r,o,i,u,"throw",e)}i(void 0)})}}function sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:function(){var e=ul(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ol({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,u=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw F;case 8:return s=JSON.parse(k()(u,"SecurityRiskAssessmentData","")),c={uuid:u&&u.UUID?u.UUID:"",taskName:w()(k()(u,"TaskName","")),status:w()(k()(u,"Status","")),submitterID:w()(k()(u,"Submitter.ID","")),isTaskCollborator:"true"===k()(u,"IsTaskCollborator","false"),questionnaireSubmissionUUID:w()(k()(u,"QuestionnaireSubmission.UUID","")),taskSubmissions:Y.parseAlltaskSubmissionforQuestionnaire(u),sraData:s},e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchImpactThreshold",value:function(){var e=ul(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readImpactThreshold",null)){e.next=7;break}throw F;case 7:return r=n.map(function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&sl(t.prototype,n),r&&sl(t,r),e}();function ll(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function pl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ll(a,r,o,i,u,"next",e)}function u(e){ll(a,r,o,i,u,"throw",e)}i(void 0)})}}function fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ml(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fl(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=pl(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,cl.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return o=e.sent,a={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:o},e.next=9,t(a);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:$.displayError(e.t0);case 16:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yl(e,t,n[t])})}return e}function yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vl(e,t){return!t||"object"!==dl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sl(e){return(Sl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gl(e,t){return(gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var El=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vl(this,Sl(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gl(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=bl({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=bl({},this.props),n=t.siteConfig,r=t.currentUser,a=t.securityRiskAssessmentData,i=t.secureToken,u=t.impactThresholdData;if(!r||!n||!a)return null;var s=bl({},a),c=s.uuid,l=(s.taskName,s.questionnaireSubmissionUUID),p=(s.submitterID,s.taskSubmissions),f=s.sraData,m=(s.status,ka.isSRATaskFinalised(p)),d=o.a.createElement(dn,{title:"BACK TO QUESTIONNAIRE SUMMARY",classes:["button ml-3"],onClick:function(){D.redirectToQuestionnaireSummary(l,i)}}),b=ka.isSiblingTaskPending(p),y=a.submitterID===r.id||a.isTaskCollborator,h=m||b||!y?null:o.a.createElement(Qr,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(c,i,l)}});return o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement(ar,{title:a.taskName,subtitle:n.siteTitle,username:r.name,logopath:n.logoPath}),"expired"===a.status&&o.a.createElement(Ia,null),"expired"!==a.status&&o.a.createElement("div",{className:"SecurityRiskAssessmentResult"},!!m&&ka.getSraIsFinalisedAlert(),o.a.createElement(zc,{calculatedSRAData:f.calculatedSRAData,hasProductAspects:f.hasProductAspects}),o.a.createElement(xc,{likelihoodThresholds:f.likelihoodThresholds}),o.a.createElement(Bc,{impactThresholds:u}),o.a.createElement(rl,{riskRatingThresholds:f.riskRatingThresholds}),o.a.createElement("div",{className:"buttons"},d,h)),o.a.createElement(wt,{footerCopyrightText:n.footerCopyrightText}))}}])&&hl(n.prototype,a),i&&hl(n,i),t}(),Ol=Object(u.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}},function(e,t){return{dispatchLoadDataAction:function(t,n){var r;e(da()),e(Ft()),e(ml({uuid:t,secureToken:n})),e((r=pl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cl.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return r.apply(this,arguments)}))},dispatchFinaliseAction:function(t,n,r){e(_i({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}})(El);function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tl(e,t,n[t])})}return e}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wl(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Al(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){wl(a,r,o,i,u,"next",e)}function u(e){wl(a,r,o,i,u,"throw",e)}i(void 0)})}}function _l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:function(){var e=Al(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kl({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,u=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw F;case 8:return s=JSON.parse(k()(u,"CVATaskData","[]")),Array.isArray(s)||(s=[]),c=s.length>0?Un.parseCVAFromJSONObject(s):s,l={id:w()(k()(u,"ID","")),status:w()(k()(u,"Status","")),uuid:w()(k()(u,"UUID","")),questionnaireSubmissionUUID:w()(k()(u,"QuestionnaireSubmission.UUID","")),taskName:w()(k()(u,"TaskName","")),selectedComponents:c,submitterID:w()(k()(u,"Submitter.ID","")),componentTarget:w()(k()(u,"CVATaskDataSource","")),isTaskCollborator:"true"===k()(u,"IsTaskCollborator","false"),productAspects:_.has(u,"ProductAspects")?JSON.parse(k()(u,"ProductAspects",[])):[],siblingSubmissions:Y.parseAlltaskSubmissionforQuestionnaire(u)},e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveControlValidationAuditData",value:function(){var e=Al(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kl({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,Q.request({query:u,csrfToken:a});case 5:if(s=e.sent,_.get(s,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw F;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reSyncWithJira",value:function(){var e=Al(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kl({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,u=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw F;case 8:return s=JSON.parse(k()(u,"CVATaskData","[]")),Array.isArray(s)||(s=[]),c=s.length>0?Un.parseCVAFromJSONObject(s):s,e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&_l(t.prototype,n),r&&_l(t,r),e}();function Il(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Nl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Il(a,r,o,i,u,"next",e)}function u(e){Il(a,r,o,i,u,"throw",e)}i(void 0)})}}function jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pl(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jl(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Nl(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,Cl.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return o=e.sent,a={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:o},e.next=11,t(a);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:$.displayError(e.t0);case 18:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t){return e.apply(this,arguments)}}()}function Rl(e){return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xl(e,t,n[t])})}return e}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ll(e,t){return!t||"object"!==Rl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ml(e){return(Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ql(e,t){return(Ql=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fl(e,t,n,r,o,a,i){try{var u=e[a](i),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function ql(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Fl(a,r,o,i,u,"next",e)}function u(e){Fl(a,r,o,i,u,"throw",e)}i(void 0)})}}var Bl=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ll(this,Ml(t).call(this,e))).state={isCVATaskEditable:!1,isSRATaskFinalised:!1,canEdit:!1},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ql(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=ql(regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,u,s,c,l,p,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Dl({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:try{a=Dl({},this.props),i=a.controlValidationAuditData,u=a.currentUser,s=i.submitterID===u.id,c=s||i.isTaskCollborator,l=ka.isSRATaskFinalised(i.siblingSubmissions),p=c&&!l,this.setState({canEdit:c,isSRATaskFinalised:l,isCVATaskEditable:p}),this.autoSaveCVATask=setInterval(ql(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,f.callAutoSaveCvaTaskApi();case 3:case"end":return e.stop()}},e,this)})),6e5)}catch(e){$.displayError(error)}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.autoSaveCVATask)}},{key:"callAutoSaveCvaTaskApi",value:function(){var e=Dl({},this.props),t=e.uuid,n=e.secureToken,r=e.dispatchSaveControlValidationAuditDataAction,o=e.controlValidationAuditData,a=e.cvaSelectedComponents;e.currentUser;r(t,a,o.questionnaireSubmissionUUID,n,!0)}},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;this.props.controlValidationAuditData.componentTarget;return t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?o.a.createElement("div",null,n.map(function(t){return e.renderComponent(t)})):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return o.a.createElement("div",null,e.map(function(e,r){var a=t.filter(function(t){return t.productAspect===e});return 0==a.length?null:o.a.createElement("div",{className:"mt-2",key:r},o.a.createElement("h4",null,e),a.map(function(e){return n.renderComponent(e)}))}))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,a=e.jiraTicketLink?o.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return o.a.createElement("div",{key:n},o.a.createElement("h5",null,e.name,a&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&o.a.createElement("span",null," - ",a)),r&&r.length>0&&r.map(function(n){return t.renderControl(n,e)}),!r||0==r.length&&o.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,a=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return o.a.createElement("div",{className:"my-0 container row",key:t},o.a.createElement("div",{className:"col-xs-2"},a.map(function(a,i){return o.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:a.value,defaultChecked:e.selectedOption===a.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:a.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),a.label)})),o.a.createElement("div",{className:"col-10"},o.a.createElement("label",{key:e.id},o.a.createElement("strong",null,e.name)),o.a.createElement(ns,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:this.state.isCVATaskEditable,updateEvidenceTextareaData:function(t){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return o.a.createElement("div",{className:"my-0",key:t},o.a.createElement("label",{className:"ml-2",key:e.id},o.a.createElement("span",null,o.a.createElement("strong",null,e.name)," - "),o.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=Dl({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,u=e.cvaSelectedComponents,s=e.dispatchReSyncWithJira;if(!n||!r||!t)return null;var c=this.state.isCVATaskEditable&&u.length>0?o.a.createElement(dn,{title:"SUBMIT",onClick:function(){return i(r.uuid,u,r.questionnaireSubmissionUUID,a,!1)}}):null,l=o.a.createElement(Qr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}),p=this.state.isCVATaskEditable&&"JIRA Cloud"==r.componentTarget&&u.length>0?o.a.createElement(Qr,{title:"RE SYNC WITH JIRA",onClick:function(){return s(r.uuid)}}):null;return o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement(ar,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),"expired"===r.status&&o.a.createElement(Ia,null),"expired"!==r.status&&o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"ControlValidationAuditForm"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!this.state.canEdit&&o.a.createElement(Qs,null),(this.state.canEdit||"complete"==r.status)&&o.a.createElement("div",null,!!this.state.isSRATaskFinalised&&ka.getSraIsFinalisedAlert(),this.renderCVAQuestionsForm())),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},o.a.createElement("div",null,c,p,l))),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Ul(n.prototype,a),i&&Ul(n,i),t}(),Vl=Object(u.b)(function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:(n=ql(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(Pl({uuid:n,secureToken:r})),e(da()),e(Ft())]);case 2:case"end":return t.stop()}},t,this)})),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o,a){e(function(e,t,n,r,o){return a=Nl(regeneratorRuntime.mark(function a(i){var u,s,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ee.getCSRFToken();case 3:return u=a.sent,a.next=6,Cl.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:u});case 6:return s=a.sent,c={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:s},a.next=10,i(c);case 10:o||D.redirectToQuestionnaireSummary(n,r),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),$.displayError(a.t0);case 16:case"end":return a.stop()}},a,this,[[0,13]])})),function(e){return a.apply(this,arguments)};var a}(t,n,r,o,a))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n,r;e((n=t,r=Nl(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}))},dispatchReSyncWithJira:function(t){e(function(e){return t=Nl(regeneratorRuntime.mark(function t(n){var r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,Ee.getCSRFToken();case 5:return r=t.sent,t.next=8,Cl.reSyncWithJira({uuid:e,csrfToken:r});case 8:return o=t.sent,a={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:o},t.next=12,n(a);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:$.displayError(t.t0);case 19:case"end":return t.stop()}},t,this,[[2,14]])})),function(e){return t.apply(this,arguments)};var t}(t))}};var n})(Bl),Hl=n(45);function Jl(e){return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wl(e,t){return!t||"object"!==Jl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yl(e){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gl(e,t){return(Gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wl(this,Yl(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gl(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"loading-spinner-page-overlay"},o.a.createElement("div",{className:"loading-spinner"},o.a.createElement(Yu.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&Kl(n.prototype,a),i&&Kl(n,i),t}(),Zl=n(749);function Xl(e){return(Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ep(e,t){return!t||"object"!==Xl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tp(e){return(tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function np(e,t){return(np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ep(this,tp(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&np(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.loading&&o.a.createElement(zl,null),o.a.createElement("main",null,o.a.createElement(s.a,null,o.a.createElement(c.a,{exact:!0,path:"/"},function(){return o.a.createElement(Yt,null)}),o.a.createElement(c.a,{path:"/questionnaire/start/:id"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(dr,{questionnaireID:t.params.id}))}),o.a.createElement(c.a,{path:"/questionnaire/submission/:hash"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ho,{submissionHash:t.params.hash}))}),o.a.createElement(c.a,{path:"/questionnaire/review/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Hl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ua,{submissionHash:t.params.hash,secureToken:r}))}),o.a.createElement(c.a,{path:"/questionnaire/summary/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Hl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ni,{submissionHash:t.params.hash,secureToken:r}))}),o.a.createElement(c.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Hl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(gu,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/tasks/standalone/:taskId"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Iu,{taskId:t.params.taskId}))}),o.a.createElement(c.a,{path:"/component-selection/standalone/:taskId"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Hl.parse)(n.search).componentTarget);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Rs,{taskId:t.params.taskId,componentTarget:r}))}),o.a.createElement(c.a,{path:"/component-selection/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Hl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ys,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/control-validation-audit/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Hl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Vl,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/security-risk-assessment/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Hl.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ol,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/MySubmissions"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ic,null))}),o.a.createElement(c.a,{path:"/AwaitingApprovals"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(vc,null))}),o.a.createElement(c.a,{path:"/MyProducts"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Cc,null))}))))}}])&&$l(n.prototype,a),i&&$l(n,i),t}(),op=Object(Zl.a)(Object(u.b)(function(e){return{loading:P.a.chain(e.loadingState).values().some(function(e){return e}).value()}},function(e,t){return{}})(rp)),ap=n(747),ip=n(15),up=(n(692),{title:"",subtitle:"",pillars:[],tasks:[]});function sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){cp(e,t,n[t])})}return e}function cp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lp={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},pp={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var fp=Object(ip.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lp,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pp,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex(function(e){return e.id===n.id});if(r<0)return e;var o=sp({},e);return P.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=sp({},t).targetIndex,u=a.questions.findIndex(function(e){return e.isCurrent});if(i<0||i>=a.questions.length)return e;var s=sp({},e);return P.a.set(s,"submission.questions.".concat(u,".isCurrent"),!1),P.a.set(s,"submission.questions.".concat(i,".isCurrent"),!0),s}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var c=e.submission;if(!c)return e;var p=sp({},e),f=t.nonApplicableIndexes;return f&&f.length>0&&f.forEach(function(e){var t=c.questions[e];t.isApplicable=!1,P.a.set(p,"submission.questions.".concat(e),t)}),p}return e}}),mp=n(92),dp=n.n(mp),bp=n(56),yp=n.n(bp);function hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vp={taskSubmission:null};function Sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gp={user:null};function Ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Op={siteConfig:null};var kp=n(413),Tp=n.n(kp);function wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ap(e,t,n[t])})}return e}function Ap(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _p={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Cp=Qu.isComponentExist,Ip=Qu.isSelectedComponentExist;function Np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jp(e,t,n[t])})}return e}function jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pp={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function Rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Dp(e,t,n[t])})}return e}function Dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xp={securityRiskAssessmentData:null,impactThresholdData:null};function Up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lp(e,t,n[t])})}return e}function Lp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mp={controlValidationAuditData:null,cvaSelectedComponents:[]};Qu.isSelectedComponentExist;function Qp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qp={members:null};var Bp=Object(ip.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:up,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:fp,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vp,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var r=t.payload,o=n.questions.findIndex(function(e){return e.id===r.id});if(o<0)return e;var a=dp()(e);return yp()(a,"taskSubmission.questions.".concat(o),r),a}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var i=dp()(e),u=t.payload;return u&&u.length>0&&u.forEach(function(e){var t=n.questions[e];t.isApplicable=!1,yp()(i,"taskSubmission.questions.".concat(e),t)}),i}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hp(e,t,n[t])})}return e}({},t.payload),c=s.currentIndex,p=s.targetIndex;if(p<0||p>=n.questions.length)return e;var f=dp()(e);return yp()(f,"taskSubmission.questions.".concat(c,".isCurrent"),!1),yp()(f,"taskSubmission.questions.".concat(p,".isCurrent"),!0),f}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var m=dp()(e);return yp()(m,"taskSubmission.status","complete"),t.payload&&yp()(m,"taskSubmission.result",t.payload),m}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var d=dp()(e);return yp()(d,"taskSubmission.status","in_progress"),yp()(d,"taskSubmission.result",null),d}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Sp(e,t,n[t])})}return e}({},e,{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Op,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ep(e,t,n[t])})}return e}({},e,{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_p,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS)return wp({},e,{availableComponents:t.payload});if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var n=t,r=n.payload.id,o=n.payload.productAspect;if(!Ip(r,o,e.selectedComponents)&&Cp(r,e.availableComponents)){var a=e.availableComponents.filter(function(e){return e.id===r}),i=Object.assign({},a[0]);return i.productAspect=o,wp({},e,{selectedComponents:Tp()(e.selectedComponents,i)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var u=t,s=u.payload.id,c=u.payload.productAspect;if(Ip(s,c,e.selectedComponents)&&Cp(s,e.availableComponents))return wp({},e,{selectedComponents:e.selectedComponents.filter(function(e){return e.id!==s||e.productAspect!==c})})}return t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS?wp({},e,{jiraTickets:t.payload}):t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE?wp({},e,{viewMode:t.payload}):t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS?wp({},e,{selectedComponents:t.payload}):e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pp,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?Np({},e,{awaitingApprovalList:t.payload}):t.type===l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?Np({},e,{awaitingApprovalTaskList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?Np({},e,{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?Np({},e,{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xp,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?Rp({},e,{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?Rp({},e,{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mp,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),Up({},e,{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.productAspect,i=t.payload.controlID,u=t.payload.componentID,s=t.payload.implementationEvidenceUserInput,c=Object(j.cloneDeep)(e.cvaSelectedComponents),p=[];if((p=""!==a?c.filter(function(e){return e.id==u&&e.productAspect==a}):c.filter(function(e){return e.id==u})).length>0){var f=p[0].controls.filter(function(e){return e.id==i});if(f.length>0)return f[0].selectedOption=o,f[0].implementationEvidenceUserInput=s,Up({},e,{cvaSelectedComponents:c})}}return t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS?Up({},e,{cvaSelectedComponents:t.payload}):t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA?Up({},e,{controlValidationAuditData:t.payload,cvaSelectedComponents:[]}):e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).type,n=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(t);if(!n)return e;var r=Fp(n,3);r[0];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qp(e,t,n[t])})}return e}({},e,Qp({},r[1],"REQUEST"===r[2]))},memberState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.LOAD_MEMBER:return t.payload;default:return e}}}),Vp=n(414),Hp=[p.a];var Jp=Object(ip.createStore)(Bp,Object(Vp.composeWithDevTools)(ip.applyMiddleware.apply(void 0,Hp)));function Kp(e){return(Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yp(e,t){return!t||"object"!==Kp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gp(e){return(Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zp(e,t){return(zp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xp(e,t,n[t])})}return e}function Xp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yp(this,Gp(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zp(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Zp({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Zp({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(ar,{title:n.taskName,subtitle:t.siteTitle,showLogoutButton:!1,logopath:t.logoPath}),o.a.createElement(pu,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Wp(n.prototype,a),i&&Wp(n,i),t}(),ef=Object(u.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(){var n=Zp({},t),r=n.uuid,o=n.secureToken;e(Ti({uuid:r,secureToken:o})),e(Ft())},dispatchSaveAnsweredQuestionAction:function(n){var r=Zp({},t).secureToken;e(wi({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=Zp({},t).secureToken;e(Ci({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=Zp({},t).secureToken;e(Ii({secureToken:n}))}}})($p);function tf(e){return(tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rf(e,t){return!t||"object"!==tf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function of(e){return(of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function af(e,t){return(af=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rf(this,of(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&af(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(s.a,null,o.a.createElement(c.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(Hl.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(ef,{uuid:t.params.uuid,secureToken:r.token||""}))}))))}}])&&nf(n.prototype,a),i&&nf(n,i),t}();window.addEventListener("load",function(){xa.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(ap.a,null,o.a.createElement(u.a,{store:Jp},o.a.createElement(op,null))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(ap.a,null,o.a.createElement(u.a,{store:Jp},o.a.createElement(uf,null))),t)})},88:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},91:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"}});
//# sourceMappingURL=main.bundle.js.map