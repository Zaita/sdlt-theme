!function(e){function t(t){for(var r,a,o=t[0],i=t[1],s=t[2],c=0,u=[];c<o.length;c++)a=o[c],I[a]&&u.push(I[a][0]),I[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(x&&x(t);u.length;)u.shift()();return N.push.apply(N,s||[]),n()}function n(){for(var e,t=0;t<N.length;t++){for(var n=N[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==I[o]&&(r=!1)}r&&(N.splice(t--,1),e=j(j.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!k[e]||!E[e])return;for(var n in E[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--v&&0===g&&w()}(e,t),r&&r(e,t)};var a,o=!0,i="05640ec30f429a574317",s=1e4,c={},u=[],l=[];function p(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:a!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:A,apply:C,status:function(e){if(!e)return m;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[e]};return a=void 0,t}var f=[],m="idle";function d(e){m=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var b,y,h,v=0,g=0,S={},E={},k={};function O(e){return+e+""===e?+e:e}function A(e){if("idle"!==m)throw new Error("check() is only allowed in idle status");return o=e,d("check"),(t=s,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=j.p+"hot/hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return d("idle"),null;E={},S={},k=e.c,h=e.h,d("prepare");var t=new Promise(function(e,t){b={resolve:e,reject:t}});for(var n in y={},I)T(n);return"prepare"===m&&0===g&&0===v&&w(),t});var t}function T(e){var t;k[e]?(E[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=j.p+"hot/hot-update.js",document.head.appendChild(t)):S[e]=!0}function w(){d("ready");var e=b;if(b=null,e)if(o)Promise.resolve().then(function(){return C(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(O(n));e.resolve(t)}}function C(t){if("ready"!==m)throw new Error("apply() is only allowed in ready status");var n,r,a,o,s;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var a=r.pop(),i=a.id,s=a.chain;if((o=_[i])&&!o.hot._selfAccepted){if(o.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(o.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var c=0;c<o.parents.length;c++){var u=o.parents[c],l=_[u];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(l.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),p(n[u],[i])):(delete n[u],t.push(u),r.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},b=[],v={},g=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var S in y)if(Object.prototype.hasOwnProperty.call(y,S)){var E;s=O(S);var A=!1,T=!1,w=!1,C="";switch((E=y[S]?l(s):{type:"disposed",moduleId:S}).chain&&(C="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(A=new Error("Aborted because of self decline: "+E.moduleId+C));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+C));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(A=new Error("Aborted because "+s+" is not accepted"+C));break;case"accepted":t.onAccepted&&t.onAccepted(E),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),w=!0;break;default:throw new Error("Unexception type "+E.type)}if(A)return d("abort"),Promise.reject(A);if(T)for(s in v[s]=y[s],p(b,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,s)&&(f[s]||(f[s]=[]),p(f[s],E.outdatedDependencies[s]));w&&(p(b,[E.moduleId]),v[s]=g)}var N,P=[];for(r=0;r<b.length;r++)s=b[r],_[s]&&_[s].hot._selfAccepted&&P.push({module:s,errorHandler:_[s].hot._selfAccepted});d("dispose"),Object.keys(k).forEach(function(e){!1===k[e]&&function(e){delete I[e]}(e)});for(var R,D,x=b.slice();x.length>0;)if(s=x.pop(),o=_[s]){var U={},L=o.hot._disposeHandlers;for(a=0;a<L.length;a++)(n=L[a])(U);for(c[s]=U,o.hot.active=!1,delete _[s],delete f[s],a=0;a<o.children.length;a++){var M=_[o.children[a]];M&&((N=M.parents.indexOf(s))>=0&&M.parents.splice(N,1))}}for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(o=_[s]))for(D=f[s],a=0;a<D.length;a++)R=D[a],(N=o.children.indexOf(R))>=0&&o.children.splice(N,1);for(s in d("apply"),i=h,v)Object.prototype.hasOwnProperty.call(v,s)&&(e[s]=v[s]);var F=null;for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(o=_[s])){D=f[s];var Q=[];for(r=0;r<D.length;r++)if(R=D[r],n=o.hot._acceptedDependencies[R]){if(-1!==Q.indexOf(n))continue;Q.push(n)}for(r=0;r<Q.length;r++){n=Q[r];try{n(D)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:D[r],error:e}),t.ignoreErrored||F||(F=e)}}}for(r=0;r<P.length;r++){var B=P[r];s=B.module,u=[s];try{j(s)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:n,originalError:e}),t.ignoreErrored||F||(F=n),F||(F=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||F||(F=e)}}return F?(d("fail"),Promise.reject(F)):(d("idle"),new Promise(function(e){e(b)}))}var _={},I={2:0},N=[];function j(t){if(_[t])return _[t].exports;var n=_[t]={i:t,l:!1,exports:{},hot:p(t),parents:(l=u,u=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=_[e];if(!t)return j;var n=function(n){return t.hot.active?(_[n]?-1===_[n].parents.indexOf(e)&&_[n].parents.push(e):(u=[e],a=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),j(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return j[e]},set:function(t){j[e]=t}}};for(var o in j)Object.prototype.hasOwnProperty.call(j,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,r(o));return n.e=function(e){return"ready"===m&&d("prepare"),g++,j.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===m&&(S[e]||T(e),0===g&&0===v&&w())}},n.t=function(e,t){return 1&t&&(e=n(e)),j.t(e,-2&t)},n}(t)),n.l=!0,n.exports}j.m=e,j.c=_,j.d=function(e,t,n){j.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},j.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},j.t=function(e,t){if(1&t&&(e=j(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(j.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)j.d(n,r,function(t){return e[t]}.bind(null,r));return n},j.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(t,"a",t),t},j.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},j.p="/resources/themes/sdlt/dist/img/",j.h=function(){return i};var P=window.webpackJsonp=window.webpackJsonp||[],R=P.push.bind(P);P.push=t,P=P.slice();for(var D=0;D<P.length;D++)t(P[D]);var x=R;N.push([431,0]),n()}({104:function(e,t,n){e.exports=n.p+"../img/9480e88b542db6f375b12f4016ad3cf1.svg"},108:function(e,t,n){e.exports=n.p+"../img/e5dfac45674afc1ceaa06543fe8459f8.svg"},133:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},136:function(e,t,n){e.exports=n.p+"../img/99de1aaa8b5b87899363a95004d73fd3.svg"},137:function(e,t,n){e.exports=n.p+"../img/8c940e4f505b38895423737310f1fb6c.svg"},186:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},191:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},193:function(e,t,n){e.exports=n.p+"../img/de677722d74728fea0aa7cb12a510519.svg"},392:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},393:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},394:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},395:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},397:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},398:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},399:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},400:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"},401:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},402:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},406:function(e,t,n){e.exports=n.p+"../img/9198e472a6c8367f8732e615d77f5cba.svg"},407:function(e,t,n){e.exports=n.p+"../img/0c865019e25308a0cb171f68cadd01bc.svg"},408:function(e,t,n){e.exports=n.p+"../img/c67b16dbdf2cbda4870d66a28b326761.svg"},409:function(e,t,n){e.exports=n.p+"../img/b12b0e8b32fffee92478e00d635ffd41.svg"},412:function(e,t,n){e.exports=n.p+"../img/253fcb80900dd1752b22f7607d2c75bb.svg"},414:function(e,t,n){e.exports=n.p+"../img/1f41b999d8c492059354357358576c11.svg"},415:function(e,t,n){e.exports=n.p+"../img/5026d4f7013eb6750fe473b8b1f857fc.svg"},416:function(e,t,n){e.exports=n.p+"../img/0440ba3e3faedab93471760cf52fdf4b.svg"},417:function(e,t,n){e.exports=n.p+"../img/b4059ba2a80c6df051a8c5e3a0db180b.svg"},421:function(e,t,n){e.exports=n.p+"../img/9f61063964aa72748e2ad460ce525fdf.svg"},422:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},431:function(e,t,n){n(197),e.exports=n(745)},61:function(e,t,n){e.exports=n.p+"../img/e5ade74409af1721ad1dfcadb7f04aee.svg"},656:function(e,t,n){var r={"./af":249,"./af.js":249,"./ar":250,"./ar-dz":251,"./ar-dz.js":251,"./ar-kw":252,"./ar-kw.js":252,"./ar-ly":253,"./ar-ly.js":253,"./ar-ma":254,"./ar-ma.js":254,"./ar-sa":255,"./ar-sa.js":255,"./ar-tn":256,"./ar-tn.js":256,"./ar.js":250,"./az":257,"./az.js":257,"./be":258,"./be.js":258,"./bg":259,"./bg.js":259,"./bm":260,"./bm.js":260,"./bn":261,"./bn.js":261,"./bo":262,"./bo.js":262,"./br":263,"./br.js":263,"./bs":264,"./bs.js":264,"./ca":265,"./ca.js":265,"./cs":266,"./cs.js":266,"./cv":267,"./cv.js":267,"./cy":268,"./cy.js":268,"./da":269,"./da.js":269,"./de":270,"./de-at":271,"./de-at.js":271,"./de-ch":272,"./de-ch.js":272,"./de.js":270,"./dv":273,"./dv.js":273,"./el":274,"./el.js":274,"./en-SG":275,"./en-SG.js":275,"./en-au":276,"./en-au.js":276,"./en-ca":277,"./en-ca.js":277,"./en-gb":278,"./en-gb.js":278,"./en-ie":279,"./en-ie.js":279,"./en-il":280,"./en-il.js":280,"./en-nz":281,"./en-nz.js":281,"./eo":282,"./eo.js":282,"./es":283,"./es-do":284,"./es-do.js":284,"./es-us":285,"./es-us.js":285,"./es.js":283,"./et":286,"./et.js":286,"./eu":287,"./eu.js":287,"./fa":288,"./fa.js":288,"./fi":289,"./fi.js":289,"./fo":290,"./fo.js":290,"./fr":291,"./fr-ca":292,"./fr-ca.js":292,"./fr-ch":293,"./fr-ch.js":293,"./fr.js":291,"./fy":294,"./fy.js":294,"./ga":295,"./ga.js":295,"./gd":296,"./gd.js":296,"./gl":297,"./gl.js":297,"./gom-latn":298,"./gom-latn.js":298,"./gu":299,"./gu.js":299,"./he":300,"./he.js":300,"./hi":301,"./hi.js":301,"./hr":302,"./hr.js":302,"./hu":303,"./hu.js":303,"./hy-am":304,"./hy-am.js":304,"./id":305,"./id.js":305,"./is":306,"./is.js":306,"./it":307,"./it-ch":308,"./it-ch.js":308,"./it.js":307,"./ja":309,"./ja.js":309,"./jv":310,"./jv.js":310,"./ka":311,"./ka.js":311,"./kk":312,"./kk.js":312,"./km":313,"./km.js":313,"./kn":314,"./kn.js":314,"./ko":315,"./ko.js":315,"./ku":316,"./ku.js":316,"./ky":317,"./ky.js":317,"./lb":318,"./lb.js":318,"./lo":319,"./lo.js":319,"./lt":320,"./lt.js":320,"./lv":321,"./lv.js":321,"./me":322,"./me.js":322,"./mi":323,"./mi.js":323,"./mk":324,"./mk.js":324,"./ml":325,"./ml.js":325,"./mn":326,"./mn.js":326,"./mr":327,"./mr.js":327,"./ms":328,"./ms-my":329,"./ms-my.js":329,"./ms.js":328,"./mt":330,"./mt.js":330,"./my":331,"./my.js":331,"./nb":332,"./nb.js":332,"./ne":333,"./ne.js":333,"./nl":334,"./nl-be":335,"./nl-be.js":335,"./nl.js":334,"./nn":336,"./nn.js":336,"./pa-in":337,"./pa-in.js":337,"./pl":338,"./pl.js":338,"./pt":339,"./pt-br":340,"./pt-br.js":340,"./pt.js":339,"./ro":341,"./ro.js":341,"./ru":342,"./ru.js":342,"./sd":343,"./sd.js":343,"./se":344,"./se.js":344,"./si":345,"./si.js":345,"./sk":346,"./sk.js":346,"./sl":347,"./sl.js":347,"./sq":348,"./sq.js":348,"./sr":349,"./sr-cyrl":350,"./sr-cyrl.js":350,"./sr.js":349,"./ss":351,"./ss.js":351,"./sv":352,"./sv.js":352,"./sw":353,"./sw.js":353,"./ta":354,"./ta.js":354,"./te":355,"./te.js":355,"./tet":356,"./tet.js":356,"./tg":357,"./tg.js":357,"./th":358,"./th.js":358,"./tl-ph":359,"./tl-ph.js":359,"./tlh":360,"./tlh.js":360,"./tr":361,"./tr.js":361,"./tzl":362,"./tzl.js":362,"./tzm":363,"./tzm-latn":364,"./tzm-latn.js":364,"./tzm.js":363,"./ug-cn":365,"./ug-cn.js":365,"./uk":366,"./uk.js":366,"./ur":367,"./ur.js":367,"./uz":368,"./uz-latn":369,"./uz-latn.js":369,"./uz.js":368,"./vi":370,"./vi.js":370,"./x-pseudo":371,"./x-pseudo.js":371,"./yo":372,"./yo.js":372,"./zh-cn":373,"./zh-cn.js":373,"./zh-hk":374,"./zh-hk.js":374,"./zh-tw":375,"./zh-tw.js":375};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=656},666:function(e,t){},690:function(e,t){},745:function(e,t,n){"use strict";n.r(t);n(432),n(434),n(435),n(438),n(439),n(440),n(152),n(443),n(444),n(446),n(447),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(480),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(505),n(506),n(507),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(216),n(521),n(523),n(524),n(525),n(526),n(527),n(528),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569);var r=n(0),a=n.n(r),o=n(25),i=n.n(o),s=n(9),c=n(765),u=n(762),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE",ADD_COLLABORATOR:"QUESTIONNAIRE/ADD_COLLABORATOR"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION:"TASK/LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE",ADD_TASK_RECOMMENDATION:"TASK/ADD_RECOMMENDATION"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER",LOAD_MEMBER:"USER/LOAD_MEMBER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},p=n(44),f=n(191),m=n.n(f),d=n(392),b=n.n(d),y=n(393),h=n.n(y),v=n(394),g=n.n(v),S=n(395),E=n.n(S),k=n(3),O=n.n(k),A=n(5),T=n.n(A),w=n(396),C=n.n(w),I=n(132),N=n.n(I),j=n(2),P=n.n(j);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/task/submission/".concat(e);if(t&&(r="/task/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/security-risk-assessment/submission/".concat(e);if(t&&(r="/security-risk-assessment/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/control-validation-audit/submission/".concat(e);if(t&&(r="/control-validation-audit/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&R(t.prototype,n),r&&R(t,r),e}();function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"request",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=x({},t),r=n.query,a=n.variables,o=n.csrfToken,i={},o&&(i["X-CSRF-TOKEN"]=o),s={query:C()(r),variables:a},e.next=6,N.a.request({url:"/graphql",method:"post",data:s,headers:i});case 6:if(c=e.sent,u=c.data,!(l=P.a.get(u,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,s,"next",e)}function s(e){L(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&M(t.prototype,n),r&&M(t,r),e}(),Q=new Error("There is an error when fetching data..."),B=new Error("There is an error when parsing data...");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){q(e,t,n[t])})}return e}({},e),n=t.schemaJSON,r=t.answersJSON,a=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw B;return t}(n),o=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&P.a.keys(t).forEach(function(e){n[P.a.toString(e)]=t[e]}),n}(r),i=function(e){var t="";return P.a.keys(e).forEach(function(n){var r=e[n];!t&&Boolean(P.a.get(r,"isCurrent",!1))&&(t=n)}),t}(o);return a.map(function(e,t){var n=P.a.toString(P.a.get(e,"ID","")),r=Boolean(P.a.get(o,"".concat(n,".hasAnswer"),!1)),a=Boolean(P.a.get(o,"".concat(n,".isApplicable"),!0)),s=!1;s=i?i===n:0===t;var c=null,u=null,l=r?P.a.get(o,"".concat(n,".inputs"),[]):[],p=r?P.a.get(o,"".concat(n,".actions"),[]):[],f=P.a.get(e,"AnswerInputFields",[]),m=P.a.get(e,"AnswerActionFields",[]);f&&Array.isArray(f)&&f.length>0&&(c=f.map(function(e){var t=P.a.toString(P.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox");["text","email","textarea","rich text editor","service register","information classification","dropdown","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=P.a.toString(P.a.get(e,"ID","")),r={id:n,label:P.a.toString(P.a.get(e,"Label","")),type:t,required:Boolean(P.a.toInteger(P.a.get(e,"Required",!1))),minLength:Number.parseInt(P.a.toString(P.a.get(e,"MinLength",0))),maxLength:Number.parseInt(P.a.toString(P.a.get(e,"MaxLength",0))),placeholder:P.a.toString(P.a.get(e,"PlaceHolder","")),options:P.a.has(e,"MultiChoiceAnswer")?JSON.parse(P.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:P.a.has(e,"MultiChoiceSingleAnswerDefault")?P.a.toString(P.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:P.a.has(e,"MultiChoiceMultipleAnswerDefault")?P.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var a=P.a.head(l.filter(function(e){return e.id===n}));if(a){var o=P.a.toString(P.a.get(a,"data",null));o&&(r.data=o)}}return r})),m&&Array.isArray(m)&&m.length>0&&(u=m.map(function(e){var t=P.a.toString(P.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=P.a.toString(P.a.get(e,"ID","")),r={id:n,label:P.a.toString(P.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=P.a.toString(P.a.get(e,"Message",""))),"goto"===t&&(r.goto=P.a.toString(P.a.get(e,"GotoID",""))),"finish"===t&&(r.result=P.a.toString(P.a.get(e,"Result","")));var a=P.a.toString(P.a.get(e,"TaskID",""));if(r.taskID=a,p&&Array.isArray(p)&&p.length>0){var o=P.a.head(p.filter(function(e){return e.id===n}));if(o){var i=Boolean(P.a.get(o,"isChose",!1));r.isChose=i}}return r}));var d={id:n,title:P.a.toString(P.a.get(e,"Title","")),heading:P.a.toString(P.a.get(e,"QuestionHeading","")),description:P.a.toString(P.a.get(e,"Description","")),type:P.a.toString(P.a.get(e,"AnswerFieldType","")).toLowerCase(),isCurrent:s,hasAnswer:r,isApplicable:a};if(P.a.isEmpty(P.a.get(d,"heading"))){var b=P.a.toString(P.a.get(e,"Question",""));P.a.set(d,"heading",b)}return c&&(d.inputs=c),u&&(d.actions=u),d})}}],(n=null)&&V(t.prototype,n),r&&V(t,r),e}(),J=n(53),K=n.n(J);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=T()(O()(e,"ID","")),n=T()(O()(e,"Name","")),r=T()(O()(e,"ComponentTarget","")),a=T()(O()(e,"TaskType",""));switch(a){case"questionnaire":case"selection":break;default:a="questionnaire"}var o=[],i=T()(O()(e,"QuestionsDataJSON",""));return i&&(o=H.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:a,componentTarget:r,questions:o}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?K()(t).map(function(e){return{name:T()(O()(e,"Name")),value:T()(O()(e,"Value")),operator:T()(O()(e,"Operator")),colour:T()(O()(e,"Colour"))}}):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=O()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===O()(e,"Submission.TaskType","")?[]:t?t.map(function(e){return{uuid:T()(O()(e,"UUID")),taskType:T()(O()(e,"TaskType")),status:T()(O()(e,"Status"))}}):[]}},{key:"parseServiceRegister",value:function(e){return e.map(function(e){return{value:T()(O()(e,"ID")),label:T()(O()(e,"ServiceName"))}})}}],(n=null)&&Y(t.prototype,n),r&&Y(t,r),e}();function G(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchHomeData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw Q;case 7:return r=n[0],a=T()(O()(r,"Title","")),o=T()(O()(r,"Subtitle","")),i=O()(r,"Pillars",[]),s=this.parsePillars(i),c=O()(r,"Tasks",[]),u=this.parseTasks(c),e.abrupt("return",{title:a,subtitle:o,pillars:s,tasks:u});case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){G(o,r,a,i,s,"next",e)}function s(e){G(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map(function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=b.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=g.a;break;case"risk_questionnaire":t=E.a}return{title:T()(O()(e,"Label","")),disabled:Boolean(O()(e,"Disabled",!0)),questionnaireID:T()(O()(e,"Questionnaire.0.ID","")),icon:t}}):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach(function(e){var n=W.parseFromJSONObject(e);t.push(n)}),t}}],n&&z(t.prototype,n),r&&z(t,r),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&X(t.prototype,n),r&&X(t,r),e}();function ee(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function te(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,s,"next",e)}function s(e){ee(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}var ne=n(761);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,se(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(ae(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),a.a.createElement(ne.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},a.a.createElement("div",{className:"icon"},a.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),a.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&oe(n.prototype,o),i&&oe(n,i),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,de(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=["TaskButton"].concat(pe(this.props.classes));return a.a.createElement(ne.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&fe(n.prototype,o),i&&fe(n,i),t}(),he=n(397),ve=n.n(he);function ge(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"getCSRFToken",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=P.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ge(o,r,a,i,s,"next",e)}function s(e){ge(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Se(t.prototype,n),r&&Se(t,r),e}();function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),we(this,Ce(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ae(e,t,n[t])})}return e}({},this.props).classes;return a.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},a.a.createElement("div",null,a.a.createElement("img",{src:ve.a}),"Log Out"))}},{key:"logout",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Oe(o,r,a,i,s,"next",e)}function s(e){Oe(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Te(n.prototype,o),i&&Te(n,i),t}();Ie.defaultProps={classes:[]};var Ne=Ie,je=n(133),Pe=n.n(je);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Me(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}({},this.props).classes;return a.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},a.a.createElement("div",null,a.a.createElement("img",{src:Pe.a}),"My Submissions"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){De(o,r,a,i,s,"next",e)}function s(e){De(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ue(n.prototype,o),i&&Ue(n,i),t}();Qe.defaultProps={classes:[]};var Be=Qe,qe=n(398),Ve=n.n(qe);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),We(this,Ge(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ke(e,t,n[t])})}return e}({},this.props).classes;return a.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},a.a.createElement("div",null,a.a.createElement("img",{src:Ve.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Je(o,r,a,i,s,"next",e)}function s(e){Je(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ye(n.prototype,o),i&&Ye(n,i),t}();Ze.defaultProps={classes:[]};var Xe=Ze,$e=n(399),et=n.n($e);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,it(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}({},this.props).classes;return a.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},a.a.createElement("div",null,a.a.createElement("img",{src:et.a}),"My Products"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){nt(o,r,a,i,s,"next",e)}function s(e){nt(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&at(n.prototype,o),i&&at(n,i),t}();ct.defaultProps={classes:[]};var ut=ct;function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ft(e,t,n[t])})}return e}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,bt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=pt({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,o=e.tasks,i=pt({},this.props.siteConfig).logoPath;return a.a.createElement("div",{className:"Home"},a.a.createElement(Ne,{classes:["clearfix","float-right","mt-5","mr-4"]}),a.a.createElement(Be,{classes:["clearfix","float-right","mt-5","mr-1"]}),a.a.createElement(Xe,{classes:["clearfix","float-right","mt-5","mr-1"]}),a.a.createElement(ut,{classes:["clearfix","float-right","mt-5","mr-1"]}),a.a.createElement("div",{className:"layout"},a.a.createElement("a",{href:"/"},a.a.createElement("img",{src:i,className:"logo"})),a.a.createElement("h1",null,t),a.a.createElement("h2",null,n),a.a.createElement("div",{className:"pillars"},a.a.createElement("div",{className:"row"},r.map(function(e,t){return a.a.createElement(ue,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})}))),a.a.createElement("div",{className:"tasks"},o.map(function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),a.a.createElement(ye,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})}))))}}])&&mt(n.prototype,o),i&&mt(n,i),t}();function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var At=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Et(this,kt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){gt(e,t,n[t])})}return e}({},this.props).footerCopyrightText;return a.a.createElement("footer",{className:"Footer"},a.a.createElement("div",null,e))}}])&&St(n.prototype,o),i&&St(n,i),t}();At.defaultProps={footerCopyrightText:""};var Tt=At,wt=n(186),Ct=n.n(wt),_t=n(400),It=n.n(_t),Nt=n(401),jt=n.n(Nt),Pt=n(402),Rt=n.n(Pt);function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:T()(O()(t,"Title")||"NZTA SDLT"),footerCopyrightText:T()(O()(t,"FooterCopyrightText","")||n),logoPath:T()(O()(t,"LogoPath","")||It.a),homePageBackgroundImagePath:T()(O()(t,"HomePageBackgroundImagePath","")||Ct.a),pdfHeaderImageLink:T()(O()(t,"PdfHeaderImageLink","")||jt.a),pdfFooterImageLink:T()(O()(t,"PdfFooterImageLink","")||Rt.a),securityTeamEmail:T()(O()(t,"SecurityTeamEmail")||"")}}}],(n=null)&&Dt(t.prototype,n),r&&Dt(t,r),e}();function Ut(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSiteConfig",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}"});case 3:return t=e.sent,n=P.a.get(t,"data.readSiteConfig.0",null),r=xt.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ut(o,r,a,i,s,"next",e)}function s(e){Ut(o,r,a,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Lt(t.prototype,n),r&&Lt(t,r),e}();function Ft(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Qt(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ft(o,r,a,i,s,"next",e)}function s(e){Ft(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ht(this,Jt(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qt(e,t,n[t])})}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?a.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},a.a.createElement(ht,{homeState:n,siteConfig:t}),a.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Vt(n.prototype,o),i&&Vt(n,i),t}(),Wt=Object(s.b)(function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadHomeDataAction:function(){e(te()),e(Qt())}}})(Yt),Gt=n(39),zt=n.n(Gt);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),en(this,tn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xt(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,o=e.onClick,i=e.iconImage,s=e.rightIconImage,c=null,u=null;return i&&(c=a.a.createElement("img",{src:i})),s&&(u=a.a.createElement("img",{className:"img-right",src:s})),a.a.createElement("button",{className:zt()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():o(e)}},c,t,u)}}])&&$t(n.prototype,o),i&&$t(n,i),t}();rn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var an=rn;function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ln(this,pn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(an,sn({},this.props,{classes:["LightButton"].concat(cn(this.props.classes))}))}}])&&un(n.prototype,o),i&&un(n,i),t}();mn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var dn=mn;function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hn(this,vn(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return a.a.createElement("div",{className:"Start"},a.a.createElement("div",{className:"start-form"},a.a.createElement("div",{className:"info-box"},a.a.createElement("div",{className:"key-info-title"},"Key Information:"),a.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),a.a.createElement("div",{className:"user-info"},a.a.createElement("div",{className:"info-line"},a.a.createElement("b",null,"Your Name: "),a.a.createElement("span",null,n.name)),a.a.createElement("div",{className:"info-line"},a.a.createElement("b",null,"Email Address: "),a.a.createElement("span",null,n.email))),a.a.createElement("div",{className:"actions"},a.a.createElement(dn,{title:"START",onClick:r})))))}}])&&yn(n.prototype,o),i&&yn(n,i),t}();function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=O()(t,"FirstName")?T()(O()(t,"FirstName",""))+" "+T()(O()(t,"Surname","")):"";return{id:T()(O()(t,"ID")),name:n,email:O()(t,"Email"),isSA:"true"===T()(O()(t,"IsSA")),isCISO:"true"===T()(O()(t,"IsCISO")),isCertificationAuthority:"true"===T()(O()(t,"IsCertificationAuthority")),isAccreditationAuthority:"true"===T()(O()(t,"IsAccreditationAuthority"))}}},{key:"parserMemberFromJSON",value:function(e){return K()(e).map(function(e){var t=O()(e,"FirstName")?T()(O()(e,"FirstName",""))+" "+T()(O()(e,"Surname","")):"";return{value:O()(e,"ID"),label:t}})}},{key:"parserCollaboratorsFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return K()(t).map(function(e){var t=O()(e,"Name")?T()(O()(e,"Name","")):"";return{value:O()(e,"ID"),label:t}})}}],(n=null)&&En(t.prototype,n),r&&En(t,r),e}();function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){An(e,t,n[t])})}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function wn(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Tn(o,r,a,i,s,"next",e)}function s(e){Tn(o,r,a,i,s,"throw",e)}i(void 0)})}}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"createInProgressSubmission",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.questionnaireID,a=n.csrfToken,o="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=P.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw Q;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStartData",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readMember(Type: "Current")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: '.concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,F.request({query:n});case 3:if(r=e.sent,a=P.a.get(r,"data.readMember.0",null),o=P.a.get(r,"data.readQuestionnaire",null),i=P.a.get(r,"data.readSiteConfig.0",null),a&&o&&i){e.next=9;break}throw Q;case 9:return e.abrupt("return",{title:P.a.get(o,"Name",""),siteConfig:xt.parseSiteConfigFromJSON(i),subtitle:P.a.get(i,"Title",""),questionnaireID:P.a.get(o,"ID",""),keyInformation:P.a.get(o,"KeyInformation",""),user:kn.parseUserFromJSON(a)});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSubmissionData",value:function(){var e=wn(regeneratorRuntime.mark(function e(t,n){var r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsCertificationAuthority\n    IsAccreditationAuthority\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    BusinessOwnerAcknowledgementText\n    CertificationAuthorityAcknowledgementText\n    AccreditationAuthorityAcknowledgementText\n    IsCertificationAndAccreditationTaskExists\n    ProductAspects\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    RiskResultData,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      IsTaskApprovalRequired\n      TimeToComplete\n      TimeToReview\n      CanTaskCreateNewTasks\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    AccreditationAuthorityApprover{\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprovalStatus\n    AccreditationAuthorityApprovalStatus\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n    Created\n    ReleaseDate\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    SecurityTeamEmail\n  }\n}'),e.next=3,F.request({query:r});case 3:if(a=e.sent,o=P.a.get(a,"data.readMember.0",{}),i=P.a.get(a,"data.readQuestionnaireSubmission.0",{}),s=P.a.get(a,"data.readSiteConfig.0",null),o&&i&&s){e.next=9;break}throw Q;case 9:return c={title:P.a.toString(P.a.get(i,"Questionnaire.Name","")),siteConfig:xt.parseSiteConfigFromJSON(s),user:kn.parseUserFromJSON(o),isCurrentUserApprover:"true"===P.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===P.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(P.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),hideWeightsAndScore:"true"===P.a.get(i,"HideWeightsAndScore","false"),questionnaireID:P.a.toString(P.a.get(i,"Questionnaire.ID","")),questionnaireTitle:P.a.toString(P.a.get(i,"Questionnaire.Name","")),submissionID:P.a.toString(P.a.get(i,"ID","")),submissionUUID:P.a.toString(P.a.get(i,"UUID","")),submissionToken:P.a.toString(P.a.get(i,"ApprovalLinkToken","")),productName:P.a.toString(P.a.get(i,"ProductName","")),submitter:{id:P.a.toString(P.a.get(i,"User.ID")),name:P.a.toString(P.a.get(i,"SubmitterName","")),email:P.a.toString(P.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:P.a.toString(P.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:P.a.toString(P.a.get(i,"CisoApprovalStatus","")),businessOwner:P.a.toString(P.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:P.a.toString(P.a.get(i,"SecurityArchitectApprovalStatus","")),certificationAuthority:P.a.toString(P.a.get(i,"CertificationAuthorityApprovalStatus","")),accreditationAuthority:P.a.toString(P.a.get(i,"AccreditationAuthorityApprovalStatus",""))},securityArchitectApprover:{firstName:P.a.toString(P.a.get(i,"SecurityArchitectApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{firstName:P.a.toString(P.a.get(i,"CisoApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"CisoApprover.Surname",""))},certificationAuthorityApprover:{firstName:P.a.toString(P.a.get(i,"CertificationAuthorityApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"CertificationAuthorityApprover.Surname",""))},accreditationAuthorityApprover:{firstName:P.a.toString(P.a.get(i,"AccreditationAuthorityApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"AccreditationAuthorityApprover.Surname",""))},questions:H.parseQuestionsFromJSON({schemaJSON:P.a.toString(P.a.get(i,"QuestionnaireData","")),answersJSON:P.a.toString(P.a.get(i,"AnswerData",""))}),businessOwnerApproverName:P.a.toString(P.a.get(i,"BusinessOwnerApproverName","")),businessOwnerAcknowledgementText:P.a.toString(P.a.get(i,"BusinessOwnerAcknowledgementText","")),certificationAuthorityAcknowledgementText:P.a.toString(P.a.get(i,"CertificationAuthorityAcknowledgementText","")),accreditationAuthorityAcknowledgementText:P.a.toString(P.a.get(i,"AccreditationAuthorityAcknowledgementText","")),isCertificationAndAccreditationTaskExists:"true"===P.a.get(i,"IsCertificationAndAccreditationTaskExists","false"),taskSubmissions:P.a.toArray(P.a.get(i,"TaskSubmissions",[])).map(function(e){return{uuid:P.a.toString(P.a.get(e,"UUID","")),taskName:P.a.toString(P.a.get(e,"TaskName","")),taskType:P.a.toString(P.a.get(e,"TaskType","")),status:P.a.toString(P.a.get(e,"Status","")),approver:kn.parseUserFromJSON(P.a.get(e,"TaskApprover")),isTaskApprovalRequired:"true"===P.a.get(e,"IsTaskApprovalRequired","false"),timeToComplete:P.a.toString(P.a.get(e,"TimeToComplete","")),timeToReview:P.a.toString(P.a.get(e,"TimeToReview","")),canTaskCreateNewTasks:"true"===P.a.get(e,"CanTaskCreateNewTasks","false")}}),collaborators:kn.parserCollaboratorsFromJSON(P.a.get(i,"CollaboratorList",[])),riskResults:P.a.has(i,"RiskResultData")?JSON.parse(P.a.get(i,"RiskResultData","[]")):"[]",created:P.a.toString(P.a.get(i,"Created","")),releaseDate:P.a.toString(P.a.get(i,"ReleaseDate","")),productAspects:P.a.has(i,"ProductAspects")?JSON.parse(P.a.get(i,"ProductAspects","[]")):"[]"}},e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateSubmissionData",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.questionID,o=n.answerData,i=n.csrfToken,s=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(a,'", AnswerData: "').concat(s,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,F.request({query:c,csrfToken:i});case 5:if(u=e.sent,P.a.get(u,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw Q;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateSubmissionData",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=On({},t),r=n.submissionID,a=n.questionIDList,o=n.answerDataList,i=n.csrfToken,a.length===o.length){e.next=3;break}throw Q;case 3:for(s=[],c=0;c<a.length;c++)u=a[c],l=o[c],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),f="\nupdateQuestion".concat(u,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(u,'", AnswerData: "').concat(p,'") {\n  ID\n  AnswerData\n}'),s.push(f);return m="\nmutation {\n  ".concat(s.join("\n"),"\n}\n"),e.next=8,F.request({query:m,csrfToken:i});case 8:if(d=e.sent,P.a.get(d,"data",null)){e.next=12;break}throw Q;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaire",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),s&&c){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaireForApproval",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),s&&c){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),s&&c){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmission",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.csrfToken,o=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(o,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=P.a.toString(P.a.get(s,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),u=P.a.toString(P.a.get(s,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),c&&u){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmission",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.csrfToken,o=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(o,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=P.a.toString(P.a.get(s,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),u=P.a.toString(P.a.get(s,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),c&&u){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editQuestionnaireSubmission",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),s&&c){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateQuestionnaireStatusToSendBackForChanges",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.csrfToken,o='\nmutation {\n updateQuestionnaireStatusToSendBackForChanges(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.UUID",null)),s&&c){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchQuestionnaireSubmissionList",value:function(){var e=wn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readQuestionnaireSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        QuestionnaireStatus\n        QuestionnaireName\n        Created\n        ProductName\n        ReleaseDate\n        BusinessOwnerApproverName\n        SubmitterName\n        SecurityArchitectApprover {\n          FirstName\n          Surname\n          ID\n        }\n        CisoApprovalStatus\n        BusinessOwnerApprovalStatus\n      }\n    }'),e.next=3,F.request({query:r});case 3:if(a=e.sent,o=P.a.get(a,"data.readQuestionnaireSubmission",[]),Array.isArray(o)){e.next=7;break}throw"error";case 7:return e.abrupt("return",o.map(function(e){var t={};return t.id=P.a.get(e,"ID",""),t.uuid=P.a.get(e,"UUID",""),t.status=P.a.get(e,"QuestionnaireStatus",""),t.productName=P.a.get(e,"ProductName",""),t.questionnaireName=P.a.get(e,"QuestionnaireName",""),t.created=P.a.get(e,"Created",""),t.releaseDate=P.a.get(e,"ReleaseDate",""),t.businessOwner=P.a.get(e,"BusinessOwnerApproverName",""),t.submitterName=P.a.get(e,"SubmitterName",""),t.SecurityArchitectApprover=P.a.toString(P.a.get(e,"SecurityArchitectApprover.FirstName","")+" "+P.a.get(e,"SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=P.a.get(e,"SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=P.a.get(e,"CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=P.a.get(e,"BusinessOwnerApprovalStatus",""),t[""],t}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.csrfToken,o=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(o,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=P.a.toString(P.a.get(s,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),u=P.a.toString(P.a.get(s,"data.updateQuestionnaireStatusToApproved.UUID",null)),c&&u){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=wn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=On({},t),r=n.submissionID,a=n.csrfToken,o=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(o,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,c=P.a.toString(P.a.get(s,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),u=P.a.toString(P.a.get(s,"data.updateQuestionnaireStatusToDenied.UUID",null)),c&&u){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addCollaborator",value:function(){var e=wn(regeneratorRuntime.mark(function e(t,n,r){var a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n&&n.length>0&&(a=n.map(function(e){return P.a.get(e,"value","")})),o=window.btoa(JSON.stringify(a)),i='mutation {\n     addCollaborator(ID: "'.concat(t,'", SelectedCollaborator: "').concat(o,'") {\n       UUID\n     }\n    }'),e.next=6,F.request({query:i,csrfToken:r});case 6:if(s=e.sent,c=P.a.toString(P.a.get(s,"data.addCollaborator.UUID",null))){e.next=10;break}throw Q;case 10:return e.abrupt("return",{uuid:c});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"grantCertification",value:function(){var e=wn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     grantCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=P.a.toString(P.a.get(a,"data.grantCertification.UUID",null))){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"denyCertification",value:function(){var e=wn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=P.a.toString(P.a.get(a,"data.denyCertification.UUID",null))){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"issueAccreditation",value:function(){var e=wn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     issueAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=P.a.toString(P.a.get(a,"data.issueAccreditation.UUID",null))){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"denyAccreditation",value:function(){var e=wn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(a=e.sent,o=P.a.toString(P.a.get(a,"data.denyAccreditation.UUID",null))){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:o});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],n&&Cn(t.prototype,n),r&&Cn(t,r),e}();function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nn(e,t,n[t])})}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map(function(e){var t=e.data;return t&&P.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}})),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map(function(e){return{id:e.id,isChose:e.isChose}})),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach(function(e){var n=In({},e),r=n.hasAnswer,a=n.isApplicable;!r&&a&&(t=!0)}),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach(function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)}),t}},{key:"getDataUpdateIntent",value:function(e){var t=In({},e),n=t.answeredQuestion,r=t.questions,a=r.findIndex(function(e){return e.id===n.id}),o=a===r.length-1,i={currentIndex:a,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type||"display"===n.type)return o?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var s=n.actions.find(function(e){return e.isChose});if(!s)throw new Error("This question does not have any chosen action!");if("finish"===s.type){for(var c=i.currentIndex+1;c<r.length;c++)i.nonApplicableIndexes.push(c);i.result=s.result||"",i.complete=!0}if("message"===s.type&&(i.terminate=!0),"continue"!==s.type||o||(i.targetIndex=i.currentIndex+1),"goto"===s.type){var u=s.goto;if(i.targetIndex=r.findIndex(function(e){return e.id===u}),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return o&&!i.terminate&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&jn(t.prototype,n),r&&jn(t,r),e}(),Rn=n(187),Dn=n.n(Rn);function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return K()(t).map(function(t){var n=e.parseFromJSONObject(O()(t,"SecurityComponent"));return n.productAspect=T()(O()(t,"ProductAspect","")),n})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(O()(e,"ID","")),name:T()(O()(e,"Name","")),description:T()(O()(e,"Description")),controls:(O()(e,"Controls")||[]).map(function(e){return{id:T()(O()(e,"ID","")),name:T()(O()(e,"Name","")),description:T()(O()(e,"Description","")),implementationGuidance:T()(O()(e,"ImplementationGuidance",""))}})}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map(function(e){return{id:T()(O()(e,"id","")),name:T()(O()(e,"name","")),productAspect:T()(O()(e,"productAspect","")),controls:(O()(e,"controls")||[]).map(function(e){return{id:T()(O()(e,"id","")),name:T()(O()(e,"name","")),selectedOption:T()(O()(e,"selectedOption","")),description:T()(O()(e,"description","")),implementationGuidance:T()(O()(e,"implementationGuidance","")),implementationEvidence:T()(O()(e,"implementationEvidence","")),implementationEvidenceUserInput:T()(O()(e,"implementationEvidenceUserInput",""))}}),jiraTicketLink:T()(O()(e,"jiraTicketLink",""))}})}}],(n=null)&&xn(t.prototype,n),r&&xn(t,r),e}();function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return K()(t).map(function(t){return e.parseFromJSONObject(t)})}},{key:"parseFromJSONObject",value:function(e){return{id:T()(O()(e,"ID")),jiraKey:T()(O()(e,"JiraKey")),link:T()(O()(e,"TicketLink"))}}}],(n=null)&&Ln(t.prototype,n),r&&Ln(t,r),e}();function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qn(e,t,n[t])})}return e}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function qn(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Bn(o,r,a,i,s,"next",e)}function s(e){Bn(o,r,a,i,s,"throw",e)}i(void 0)})}}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    RiskProfileData\n    ResultForCertificationAndAccreditation\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    IsDisplayPreventMessage\n    PreventMessage\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n    InformationClassificationTaskResult\n  }\n  readServiceInventory {\n    ID\n    ServiceName\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null),c=O()(i,"data.readServiceInventory",null),s){e.next=9;break}throw Q;case 9:return u={id:T()(O()(s,"ID","")),uuid:T()(O()(s,"UUID","")),taskName:T()(O()(s,"TaskName","")),taskType:T()(O()(s,"TaskType","")),status:T()(O()(s,"Status","")),result:T()(O()(s,"Result","")),informationClassificationTaskResult:T()(O()(s,"InformationClassificationTaskResult","")),submitter:kn.parseUserFromJSON(O()(s,"Submitter")),lockWhenComplete:Boolean(O()(s,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:T()(O()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:T()(O()(s,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:T()(O()(s,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:H.parseQuestionsFromJSON({schemaJSON:T()(O()(s,"QuestionnaireData","")),answersJSON:T()(O()(s,"AnswerData",""))}),selectedComponents:Un.parseFromJSONOArray(O()(s,"SelectedComponents",[])),jiraTickets:Mn.parseFromJSONArray(O()(s,"JiraTickets",[])),isCurrentUserAnApprover:"true"===O()(s,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===O()(s,"IsTaskApprovalRequired",!1),riskResults:_.has(s,"RiskResultData")?JSON.parse(O()(s,"RiskResultData","[]")):"[]",taskRecommendations:_.has(s,"TaskRecommendationData")?JSON.parse(_.defaultTo(O()(s,"TaskRecommendationData","[]"),"[]")):"[]",productAspects:_.has(s,"ProductAspects")?JSON.parse(O()(s,"ProductAspects",[])):[],componentTarget:T()(O()(s,"ComponentTarget","")),hideWeightsAndScore:"true"===_.get(s,"HideWeightsAndScore","false"),isTaskCollborator:"true"===_.get(s,"IsTaskCollborator","false"),isDisplayPreventMessage:"true"===_.get(s,"IsDisplayPreventMessage","false"),preventMessage:T()(O()(s,"PreventMessage","")),siblingSubmissions:W.parseAlltaskSubmissionforQuestionnaire(s),serviceRegister:W.parseServiceRegister(c),riskProfileData:_.has(s,"RiskProfileData")?JSON.parse(O()(s,"RiskProfileData",[])):[],resultForCertificationAndAccreditation:_.has(s,"ResultForCertificationAndAccreditation")?JSON.parse(O()(s,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",u);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchResultForCertificationAndAccreditation",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    ID\n    UUID\n    ResultForCertificationAndAccreditation\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw Q;case 8:return c={id:T()(O()(s,"ID","")),uuid:T()(O()(s,"UUID","")),resultForCertificationAndAccreditation:_.has(s,"ResultForCertificationAndAccreditation")?JSON.parse(O()(s,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateTaskSubmissionData",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Fn({},t),r=n.uuid,a=n.questionIDList,o=n.answerDataList,i=n.csrfToken,s=n.secureToken,a.length===o.length){e.next=3;break}throw Q;case 3:for(c=[],u=0;u<a.length;u++)l=a[u],p=o[u],f=window.btoa(unescape(encodeURIComponent(JSON.stringify(p)))),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(f,'",\n  SecureToken: "').concat(s||"",'"\n) {\n  UUID\n  Status\n\n}'),c.push(m);return d="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,F.request({query:d,csrfToken:i});case 8:if(b=e.sent,O()(b,"data",null)){e.next=12;break}throw Q;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"completeTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn({},t),r=n.uuid,a=n.result,o=n.csrfToken,i=n.secureToken,s='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(a,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:s,csrfToken:o});case 4:if(c=e.sent,O()(c,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn({},t),r=n.uuid,a=n.csrfToken,o=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,O()(s,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStandaloneTask",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn({},t),r=n.taskId,a='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,F.request({query:a});case 4:if(o=e.sent,i=O()(o,"data.readTask",null)){e.next=8;break}throw Q;case 8:return s=W.parseFromJSONObject(i),e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskSubmissionWithSelectedComponents",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn({},t),r=n.uuid,a=n.csrfToken,o=n.components,i=n.jiraKey,s='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(o)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:s,csrfToken:a});case 4:if(c=e.sent,O()(c,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn({},t),r=n.uuid,a=n.csrfToken,o='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,(s=T()(O()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw Q;case 8:return e.abrupt("return",{status:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn({},t),r=n.uuid,a=n.csrfToken,o='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,(s=T()(O()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw Q;case 8:return e.abrupt("return",{status:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskRecommendation",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fn({},t),r=n.uuid,a=n.csrfToken,o=n.taskRecommendations,i='\n  mutation {\n    updateTaskRecommendation(\n      UUID: "'.concat(r,'",\n      TaskRecommendationData: "').concat(window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),'"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }'),e.next=4,F.request({query:i,csrfToken:a});case 4:if(s=e.sent,(c=_.has(s,"TaskRecommendationData")?JSON.parse(O()(submissionJSONObject,"TaskRecommendationData","[]")):"[]")&&r){e.next=8;break}throw Q;case 8:return e.abrupt("return",{taskRecommendationData:c});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTaskSubmissionList",value:function(){var e=qn(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readTaskSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        Created\n        TaskName\n        QuestionnaireSubmission {\n          ProductName\n        }\n        Submitter {\n          FirstName\n          Surname\n        }\n        Status\n      }\n    }'),e.next=3,F.request({query:r});case 3:if(a=e.sent,o=O()(a,"data.readTaskSubmission",[]),Array.isArray(o)){e.next=7;break}throw"error";case 7:return e.abrupt("return",o.map(function(e){var t={};return t.id=O()(e,"ID",""),t.uuid=O()(e,"UUID",""),t.created=O()(e,"Created",""),t.taskName=O()(e,"TaskName",""),t.productName=O()(e,"QuestionnaireSubmission.ProductName",""),t.submitterName=T()(O()(e,"Submitter.FirstName",""))+" "+T()(O()(e,"Submitter.Surname","")),t.status=O()(e,"Status",""),t}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],n&&Vn(t.prototype,n),r&&Vn(t,r),e}();function Jn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Kn(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Yn(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Kn(o,r,a,i,s,"next",e)}function s(e){Kn(o,r,a,i,s,"throw",e)}i(void 0)})}}function Wn(e,t){return void 0===t&&(t=""),function(){var n=Yn(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,_n.fetchSubmissionData(e,t);case 5:a=n.sent,r((o=a,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:o})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var o},n,this,[[2,9]])}));return function(e){return n.apply(this,arguments)}}()}function Gn(e){return function(){var t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i,s,c,u,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=Pn.getDataUpdateIntent({answeredQuestion:e,questions:o.questions}),s=i.currentIndex,c=i.targetIndex,u=i.nonApplicableIndexes,p=i.complete,u.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:u}),c>s&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=9,zn(r(),P.a.uniq([s].concat(Jn(u),[c])));case 9:p&&D.redirectToQuestionnaireReview(o.submissionUUID);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}function zn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Yn(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ee.getCSRFToken();case 5:return a=e.sent,e.prev=6,e.next=9,_n.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map(function(e){return r.questions[e].id}),answerDataList:n.map(function(e){return Pn.transformFromFullQuestionToData(r.questions[e])}),csrfToken:a});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[6,11]])}))).apply(this,arguments)}function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return!t||"object"!==Xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ar=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tr(this,nr(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$n(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,o=e.username,i=e.logopath;return a.a.createElement("header",{className:"Header"},a.a.createElement("div",{className:"top-banner"},a.a.createElement("a",{href:"/"},a.a.createElement("img",{src:i,className:"logo"}))),a.a.createElement("div",{className:"logout-layout"},r&&a.a.createElement("div",{className:"logout-block"},a.a.createElement("span",{className:"username"},o),a.a.createElement(Ne,null))),a.a.createElement("h1",null,t),a.a.createElement("h2",null,n))}}])&&er(n.prototype,o),i&&er(n,i),t}();ar.defaultProps={title:"",subtitle:"",username:"",logopath:"",showLogoutButton:!0};var or=ar;function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){cr(e,t,n[t])})}return e}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lr(this,pr(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=sr({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=sr({},this.props.startState),t=e.title,n=e.siteConfig,r=e.keyInformation,o=e.user,i=sr({},this.props),s=i.questionnaireID,c=i.dispatchCreateInProgressSubmissionAction;return o?a.a.createElement("div",{className:"StartContainer"},a.a.createElement(or,{title:t,subtitle:n.siteTitle,username:o.name,logopath:n.logoPath}),a.a.createElement(Sn,{keyInformation:r,user:o,onStartButtonClick:function(){c(s)}}),a.a.createElement(Tt,{footerCopyrightText:n.footerCopyrightText})):null}}])&&ur(n.prototype,o),i&&ur(n,i),t}(),dr=Object(s.b)(function(e){return{startState:e.questionnaireState.startState}},function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_n.fetchStartData(e);case 3:r=t.sent,n((a=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:a})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var a},t,this,[[0,7]])})),function(e){return t.apply(this,arguments)};var t}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return r=t.sent,t.next=6,_n.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:a=t.sent,D.redirectToQuestionnaireEditing(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])})),function(e){return t.apply(this,arguments)};var t}(t))}}})(mr),br=n(28),yr=n(406),hr=n.n(yr),vr=n(407),gr=n.n(vr),Sr=n(408),Er=n.n(Sr),kr=n(409),Or=n.n(kr);function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wr(e,t,n[t])})}return e}function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e,t){return!t||"object"!==Ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_r(this,Ir(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=Tr({},this.props),t=e.question,n=e.onItemClick,r=e.index;return a.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),a.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,".  ",t.title))}},{key:"renderIcon",value:function(e){var t=Tr({},e),n=t.isCurrent,r=t.hasAnswer,o=t.isApplicable;return n?a.a.createElement("img",{src:hr.a}):o?r&&o?a.a.createElement("img",{src:Er.a}):a.a.createElement("img",{src:gr.a}):a.a.createElement("img",{src:Or.a})}}])&&Cr(n.prototype,o),i&&Cr(n,i),t}();function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return!t||"object"!==Pr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xr(this,Ur(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rr(e,t,n[t])})}return e}({},this.props),t=e.questions,n=e.onItemClick;return a.a.createElement("div",{className:"LeftBar"},a.a.createElement("div",{className:"items"},t.map(function(e,t){return a.a.createElement(jr,{question:e,onItemClick:n,key:e.id,index:t})})))}}])&&Dr(n.prototype,o),i&&Dr(n,i),t}();function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(){return(Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Br(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t){return!t||"object"!==Fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vr(this,Hr(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(an,Qr({},this.props,{classes:["DarkButton"].concat(Br(this.props.classes))}))}}])&&qr(n.prototype,o),i&&qr(n,i),t}();Kr.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Yr=Kr,Wr=n(4),Gr=n.n(Wr),zr=n(426),Zr=(n(658),n(108)),Xr=n.n(Zr),$r=n(193),ea=n.n($r),ta=(n(180),n(379),n(102)),na=(n(662),n(664),n(101)),ra=n(93),aa=n.n(ra),oa=n(94),ia=n.n(oa),sa=n(95),ca=n.n(sa),ua=n(104),la=n.n(ua),pa=n(136),fa=n.n(pa),ma=n(137),da=n.n(ma),ba=n(412),ya=n.n(ba),ha=n(61),va=n.n(ha),ga=(n(666),n(62)),Sa=n.n(ga);function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oa(){return(Oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t){return!t||"object"!==Ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ca(e,t){return(Ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _a=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Ta(this,(e=wa(t)).call.apply(e,[this].concat(o)))).state={showModal:!1,FormType:"Add",issueID:"0"},n.handleOpenModal=function(){n.setState({showModal:!0})},n.handleCloseModal=function(){n.setState({showModal:!1,issueID:0})},n.handleOpenAddRecommendationModal=function(){var e=1;if(n.props.taskRecommendations.length>0){var t=n.props.taskRecommendations.reduce(function(e,t){return e.id>t.id?e:t});t&&(e=t.id+1)}n.setState({showModal:!0,issueID:e,FormType:"Add"})},n.handleOpenEditRecommendationModal=function(e){n.setState({showModal:!0,issueID:e,FormType:"Edit"})},n.getFormInitialValues=function(){var e={id:n.state.issueID,title:"",description:"",recommendation:"",status:""};return"Edit"==n.state.FormType&&n.props.taskRecommendations.length>0&&0!=n.state.issueID&&(e=n.props.taskRecommendations.find(function(e){return e.id===n.state.issueID})),e},n.renderRecommendationform=function(){return a.a.createElement(br.c,{initialValues:n.getFormInitialValues(),validate:function(e){var t={};return e.title||(t.title="Please enter the issue title."),e.status||(t.status="Please enter the status."),e.description||(t.description="Please enter the issue description."),e.recommendation||(t.recommendation="Please enter the recommendation."),t},onSubmit:function(e,t){"Add"==n.state.FormType&&n.props.handleAddTaskRecommendationButtonClick(e),"Edit"==n.state.FormType&&n.props.handleEditTaskRecommendationButtonClick(e),n.handleCloseModal()},validateOnChange:!1,validateOnBlur:!1},function(e){e.isSubmitting;var t=e.errors,r=(e.touched,e.setFieldValue,e.values),o=e.handleChange,i=e.handleSubmit;return a.a.createElement(br.b,null,a.a.createElement("div",{className:"title-and-status-container"},a.a.createElement("div",{className:"title-field-container"},a.a.createElement("label",null,"Issue title",a.a.createElement(br.a,{type:"text",name:"title",className:t.title&&"input-error"}),t.title&&a.a.createElement("span",{className:"error"},t.title))),a.a.createElement("div",{className:"status-field-container"},a.a.createElement("label",null,"Status",a.a.createElement("select",{name:"status",value:r.status,onChange:o,className:t.status&&"input-error",style:{display:"block"}},a.a.createElement("option",{value:"",label:"Select"}),a.a.createElement("option",{value:"open",label:"Open"}),a.a.createElement("option",{value:"closed",label:"Closed"})),t.status&&a.a.createElement("span",{className:"error"},t.status)))),a.a.createElement("div",{className:"issue-container"},a.a.createElement("label",null,"Issue description",a.a.createElement(br.a,{name:"description"},function(e){var n=e.field;return a.a.createElement("textarea",Oa({},n,{className:t.description&&"input-error"}))}),t.description&&a.a.createElement("span",{className:"error"},t.description))),a.a.createElement("div",null,a.a.createElement("label",null,"Recommendation",a.a.createElement(br.a,{name:"recommendation"},function(e){var n=e.field;return a.a.createElement("textarea",Oa({},n,{className:t.recommendation&&"input-error"}))}),t.recommendation&&a.a.createElement("span",{className:"error"},t.recommendation))),a.a.createElement("div",{className:"buttons"},a.a.createElement(dn,{title:"Cancel",onClick:n.handleCloseModal}),"Add"==n.state.FormType&&a.a.createElement(Yr,{type:"button",title:"Add","data-flag":"action-add",onClick:i}),"Edit"==n.state.FormType&&a.a.createElement(Yr,{type:"button",title:"Save","data-flag":"action-add",onClick:i})))})},n.renderRecommendationModal=function(){return a.a.createElement("div",{className:"RecommendationModal"},a.a.createElement(Sa.a,{isOpen:n.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".TaskSubmissionContainer")}},a.a.createElement("div",{className:"modal-header"},a.a.createElement("span",{className:"header-title"},"Add"==n.state.FormType?"Add Recommendation":"Edit Recommendation"),a.a.createElement("div",{className:"close-icon-container",onClick:n.handleCloseModal},a.a.createElement("img",{src:ya.a}))),a.a.createElement("div",{className:"content"},n.renderRecommendationform())))},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ca(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ka(e,t,n[t])})}return e}({},this.props),n=t.taskRecommendations,r=t.viewAs,o=t.status;return a.a.createElement("div",{className:"recommendation-container"},("approver"===r&&"waiting_for_approval"===o||n&&n.length>0)&&a.a.createElement("h4",null,"Approver's recommendations"),n&&n.length>0&&a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"recommendation_table_header"},a.a.createElement("th",{className:"issue-title-col"},"Issue title"),a.a.createElement("th",null,"Issue description"),a.a.createElement("th",null,"Recommendation"),a.a.createElement("th",null,"Status"),"approver"===r&&"waiting_for_approval"===o&&a.a.createElement("th",{className:"edit-col"}))),a.a.createElement("tbody",null,n.map(function(t,n){return a.a.createElement("tr",{key:n+1},a.a.createElement("td",null,t.title),a.a.createElement("td",null,t.description),a.a.createElement("td",null,t.recommendation),a.a.createElement("td",null,t.status),"approver"===r&&"waiting_for_approval"===o&&a.a.createElement("td",{className:"edit-col"},a.a.createElement("img",{className:"edit-icon",src:va.a,onClick:function(){return e.handleOpenEditRecommendationModal(t.id)}})))})))),"approver"===r&&"waiting_for_approval"===o&&a.a.createElement("div",{className:"add-recommendation-link",onClick:function(){return e.handleOpenAddRecommendationModal()}},a.a.createElement("img",{src:da.a})," Add recommendation"),this.renderRecommendationModal())}}])&&Aa(n.prototype,o),i&&Aa(n,i),t}();function Ia(e){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ja(e,t,n[t])})}return e}function ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ra(e,t){return!t||"object"!==Ia(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ua=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ra(this,Da(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Na({},this.props.resultForCertificationAndAccreditation);e.organisationName,e.serviceName,e.createdAt,e.securityArchitectName,e.businessOwnerName,e.productName,e.productDescription,e.accreditationLevel,e.accreditationDescription,e.accreditationType,e.accreditationPeriod,e.accreditationRenewalRecommendations,e.classificationLevel,e.riskProfileData,e.tasks,e.taskRecommendations,e.reportLogo}},{key:"render",value:function(){var e=Na({},this.props.resultForCertificationAndAccreditation),t=e.organisationName,n=e.serviceName,r=e.createdAt,o=e.securityArchitectName,i=e.businessOwnerName,s=e.productName,c=e.productDescription,u=e.accreditationLevel,l=e.accreditationDescription,p=e.accreditationType,f=e.accreditationPeriod,m=e.accreditationRenewalRecommendations,d=e.classificationLevel,b=e.riskProfileData,y=e.tasks,h=e.taskRecommendations,v=e.reportLogo;return a.a.createElement("div",{className:"certification-and-accreditation-report-container"},a.a.createElement("div",{className:"about-report-container"},a.a.createElement("div",{className:"report-heading"},a.a.createElement("div",{className:"report-heading-left-container"},a.a.createElement("h3",null,n),a.a.createElement("p",{className:"certification-accreditation-memo-heading"},"Certification and Accreditation Memo for ",t)),a.a.createElement("div",{className:"report-heading-right-container"},this.props.isDisplayReportLogo&&a.a.createElement("img",{src:v}))),a.a.createElement("div",{className:"report-intro-container"},a.a.createElement("p",{className:"report-intro"},"Prepared at ",r," by ",o),a.a.createElement("p",{className:"report-intro"},"Delivered to ",i," as part of the ",s," delivery."))),a.a.createElement("div",{className:"about-product-container sub-container"},a.a.createElement("h5",null,"About ",s),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:c}})),a.a.createElement("div",{className:"certificate-recommendation-container sub-container"},a.a.createElement("h5",null,"Certification Recommendation"),a.a.createElement("p",{className:"intro-container"},"It has been recommended by ",o," that this change ",s," be certified against ",u," with an accreditation level of: ",p," for a period of no longer than ",f,"."),a.a.createElement("p",null,"Re-certification after this period should be conditional on the following post go-live remediations being resolved:"),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:m}})),a.a.createElement("div",{className:"information-classification-container sub-container"},a.a.createElement("h5",null,"Information Classification"),a.a.createElement("p",{className:"intro-container"},"This memo certifies ",n," has been endorsed to store, transmit and receive data to an Information Classification up to ",d,".")),a.a.createElement("div",{className:"certificate-scope-container sub-container"},a.a.createElement("h5",null,"Certification Scope"),a.a.createElement("p",{className:"intro-container"},"This certification is a ",u," level certification for ",n,". It covers ",n," and the following dependencies only."),a.a.createElement("div",{className:"certificate-scope-description",dangerouslySetInnerHTML:{__html:l}})),a.a.createElement("div",{className:"risk-profile-container sub-container"},a.a.createElement("h5",null,"Risk Profile"),a.a.createElement("p",{className:"intro-container"},"After completing a risk assessment process, it was determined that the residual risk ratings for this delivery are:"),this.renderRiskProfile(b)),a.a.createElement("div",{className:"recommendation-container sub-container"},a.a.createElement("h5",null,"Recommendations against ",s),this.renderTaskRecommendation(h)),a.a.createElement("div",{className:"task-container sub-container"},a.a.createElement("h5",null,"Tasks Completed"),a.a.createElement("p",{className:"intro-container"},"The certification of ",n," for ",s," was completed after ",t," completed the following assurance activities:"),this.renderTaskTable(y)))}},{key:"renderRiskProfile",value:function(e){var t=this;if(e&&void 0!==e){var n=JSON.parse(e);return a.a.createElement("div",{className:"risk-container"},n.isDisplayMessage&&a.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map(function(e,n){return a.a.createElement("div",{key:n},a.a.createElement("div",{className:"product-aspect-container"},e[0]),t.renderRiskProfileTable(e[1]))}),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result))}}},{key:"renderRiskProfileTable",value:function(e){return e&&0!=e.length?a.a.createElement("div",{className:"risk-profile-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"risk_profile_table_header"},a.a.createElement("th",null,"Risk category"),a.a.createElement("th",null,"Current risk rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.riskName),a.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))})))):""}},{key:"renderTaskRecommendation",value:function(e){var t=this;if(e&&void 0!==e)return 0==e.length?a.a.createElement("div",{className:"intro-container"},"No recommendation available."):a.a.createElement("div",null,e.map(function(e,n){var r=e.taskName,o=e.taskApproverName,i=e.taskRecommendationData;return a.a.createElement("div",{key:n},a.a.createElement("p",{className:"intro-container"},"Recommendations from: ",a.a.createElement("b",null,r)," by ",o),t.renderRecommendationTable(i))}))}},{key:"renderRecommendationTable",value:function(e){var t=JSON.parse(e);return a.a.createElement("div",{className:"recommendation-table-container"},t&&t.length>0&&a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"recommendation_table_header"},a.a.createElement("th",{className:"issue-title-col"},"Issue title"),a.a.createElement("th",null,"Issue description"),a.a.createElement("th",null,"Recommendation"))),a.a.createElement("tbody",null,t.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.title),a.a.createElement("td",null,e.description),a.a.createElement("td",null,e.recommendation))}))))}},{key:"renderTaskTable",value:function(e){if(e&&void 0!==e)return a.a.createElement("div",{className:"task-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"task_table_header"},a.a.createElement("th",null,"Task"),a.a.createElement("th",null,"Approved by"),a.a.createElement("th",null,"Task status"))),a.a.createElement("tbody",null,e.map(function(e,t){var n=e.taskName,r=e.taskApproverName,o=e.taskStatus,i=fa.a;"in_progress"==o&&(i=la.a),"waiting_for_approval"==o&&(i=ca.a),"approved"!=o&&"complete"!=o||(i=aa.a),"denied"==o&&(i=ia.a);var s=r;return s||(s="No approval needed"),a.a.createElement("tr",{key:t},a.a.createElement("td",{className:""},n),a.a.createElement("td",null,s),a.a.createElement("td",null,a.a.createElement("img",{className:"task-status-icon",src:i}),a.a.createElement("span",{className:"task-status"}," ",function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}(o))))}))))}}])&&Pa(n.prototype,o),i&&Pa(n,i),t}();function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(){return(Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qa(e,t,n[t])})}return e}function Qa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qa(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Va(e){return(Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ja=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qa(this,Va(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){"Review"==this.props.question.title&&this.props.loadResultForCertificationAndAccreditation()}},{key:"render",value:function(){var e=Fa({},this.props),t=e.question,n=e.index;return a.a.createElement("div",{className:"QuestionForm"},a.a.createElement("div",{className:"heading"},n+1,". ",t.heading),a.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t),this.renderDisplayField(t))}},{key:"renderDisplayField",value:function(e){if("display"===e.type)return"Risk Profile"==e.title?this.renderRiskProfile():"Review"==e.title?this.renderReview():void 0}},{key:"renderReview",value:function(){var e=Fa({},this.props),t=e.resultForCertificationAndAccreditation,n=e.handleTaskSaveDraftButtonClick,r=e.handleNextButtonClickForDisplayField;return a.a.createElement("div",null,a.a.createElement("div",{className:"review-container"},a.a.createElement(Ua,{resultForCertificationAndAccreditation:t,isDisplayReportLogo:!1})),a.a.createElement("div",{className:"buttons review-button-container"},a.a.createElement("div",{className:"buttons-left"}),a.a.createElement("div",{className:"buttons-right"},a.a.createElement(dn,{title:"Save draft",onClick:function(){n()}}),a.a.createElement(Yr,{title:"Submit",onClick:function(){r()}})),a.a.createElement("div",null)))}},{key:"renderRiskProfile",value:function(){var e=this,t=Fa({},this.props),n=t.riskProfileData,r=t.handleNextButtonClickForDisplayField;return a.a.createElement("div",{className:"risk-profile-container"},n.isDisplayMessage&&a.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map(function(t,n){return a.a.createElement("div",{key:n},a.a.createElement("div",{className:"product-aspect-container"},t[0]),e.renderRiskProfileTable(t[1]))}),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result),a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:Xr.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),a.a.createElement("div",{className:"button-container"},a.a.createElement(Yr,{title:"Next",rightIconImage:ea.a,onClick:function(){r()}}))))}},{key:"renderRiskProfileTable",value:function(e){return a.a.createElement("div",{className:"risk-profile-table-container"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"risk_profile_table_header"},a.a.createElement("th",null,"Risk category"),a.a.createElement("th",null,"Current risk rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,e.riskName),a.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))}))))}},{key:"renderActions",value:function(e){var t=Fa({},this.props).handleActionClick;if("action"===e.type){var n=P.a.get(e,"actions",null);if(!n)return null;var r=null,o=n.find(function(e){return e.isChose});return o&&o.message&&(r=a.a.createElement("div",{className:"action-message"},a.a.createElement("b",null,"Message:"),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o.message}}))),o?a.a.createElement("div",{className:"field-container"},a.a.createElement("div",{className:"actions"},n.map(function(e){switch(e.isChose){case!0:return a.a.createElement(Yr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return a.a.createElement(dn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r,a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:Xr.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))))):a.a.createElement("div",{className:"field-container"},a.a.createElement("div",{className:"actions"},n.map(function(e,n){switch(n){case 0:return a.a.createElement(Yr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return a.a.createElement(dn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r,a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:Xr.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))))}}},{key:"renderInputsForm",value:function(e){var t=Fa({},this.props),n=t.handleFormSubmit,r=t.serviceRegister,o=t.informationClassificationTaskResult;if("input"===e.type){var i=P.a.get(e,"inputs",null);if(!i)return null;var s={};return i.forEach(function(e){s[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(s[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(s[e.id]=e.defaultCheckboxValue),"information classification"==e.type&&null===e.data&&o&&(s[e.id]=o)}),a.a.createElement(br.c,{initialValues:s,validate:function(e){var t={};return i.forEach(function(n){var r=Fa({},n),a=r.id,o=r.type,i=r.required,s=r.label,c=r.minLength,u=P.a.get(e,a,null),l=s||"field";if(i&&(!u||"[]"===u))return t[a]="Please enter a value for ".concat(l),void("radio"!==o&&"checkbox"!==o&&"service register"!==o||(t[a]="Please select an option for ".concat(l)));if(c>0&&u&&u.length<c)t[a]="Please enter a value with at least ".concat(c," characters for ").concat(l);else if("email"!==o||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(u)){if("date"===o||"release date"===o)Gr()(u,"YYYY-MM-DD").isValid()||(t[a]="Invalid date");"product aspects"!==o||!u||/^[0-9a-zA-Z\s\n]+$/i.test(u)||(t[a]="Please enter alpha-numeric characters only.")}else t[a]="Invalid email address"}),t},onSubmit:function(e,t){n(t,e)}},function(e){var t=e.handleChange,n=(e.isSubmitting,e.errors),o=e.touched,c=e.setFieldValue,u=e.values,l=[];return P.a.keys(n).filter(function(e){return Boolean(o[e])}).forEach(function(e){l[e]=n[e]}),a.a.createElement(br.b,{className:"scroller"},i.map(function(e){var n=Fa({},e),o=n.id,i=n.type,p=n.label,f=n.placeholder,m=n.options,d=(n.defaultRadioButtonValue,n.defaultCheckboxValue,n.maxLength),b=n.required,y=P.a.get(l,o,null),h=Boolean(y),v=[];if(h&&v.push("error"),["text","email","url"].includes(i))return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(br.a,{type:i,name:o,className:v.join(" "),placeholder:f,maxLength:d>0?d:4096})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("radio"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",{className:h?"radio-container-error radio-container":"radio-container"},m.length&&m.map(function(e,t){var n=P.a.toString(e.value)===P.a.toString(u[o]);return a.a.createElement("div",{key:t,className:"Accreditation level"===p?"accreditation-level-option radio-option":"radio-option"},a.a.createElement("label",{className:"radio-label"},a.a.createElement(br.a,{type:"radio",name:o,value:e.value,className:"radio",checked:n}),e.label))})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("checkbox"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",{className:h?"checkbox-container-error checkbox-container":"checkbox-container"},m.length&&m.map(function(e,t){var n=u[o]?JSON.parse(u[o]):[],r=n.includes(e.value);return a.a.createElement("div",{key:t},a.a.createElement("label",{className:"checkbox-label"},a.a.createElement("input",{type:"checkbox",name:o,className:"checkbox",checked:r,onChange:function(t){t.target.checked?n.push(e.value):n.splice(n.indexOf(e.value),1),c(o,JSON.stringify(n))}}),e.label))})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("date"===i||"release date"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(br.a,{name:o,render:function(e){var t=null,n=e.field.value||null;return n&&n.trim().length>0&&(t=Gr()(n).toDate()),a.a.createElement(zr.a,{dateFormat:"dd-MM-yyyy",className:v.join(" "),selected:t,onChange:function(e){if(e){var t=Gr()(e).format("YYYY-MM-DD");c(o,t)}else c(o,null)},placeholderText:f,dropdownMode:"scroll",withPortal:!0})}})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)));if("textarea"===i||"product aspects"===i)return a.a.createElement("div",{key:o,className:"field-container"},a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(br.a,{name:o},function(e){var t=e.field;return a.a.createElement("textarea",Ma({},t,{className:v.join(" "),placeholder:f}))}),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y))));if("rich text editor"===i)return a.a.createElement("div",{key:o,className:"field-container"},p&&a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",null,a.a.createElement(ta.a,{className:"implementation-evidence",initialValue:s[o],init:{selector:"textarea",height:"280",menubar:!1,plugins:"lists advlist",toolbar:"+ removeformat bold italic underline strikethrough bullist numlist",statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(e){t({target:{name:o,value:e.target.getContent()}})}}),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y))));if("service register"===i||"dropdown"===i||"information classification"===i){var g=r;return"service register"!==i&&(g=m.map(function(e){return{value:e.value,label:e.label}})),a.a.createElement("div",{key:o,className:"field-container"},p&&a.a.createElement("div",{className:"label"},a.a.createElement("label",{className:b>0?"required":""},p)),a.a.createElement("div",{className:"dropdown-container"},a.a.createElement(na.a,{name:o,options:g,defaultValue:s[o]&&g.find(function(e){return e.value===JSON.parse(s[o]).value})?JSON.parse(s[o]):"",classNamePrefix:"react-select",className:h?"react-select-error":"",maxMenuHeight:250,placeholder:"Select",onChange:function(e){t({target:{name:o,value:JSON.stringify(e)}})}})),h&&a.a.createElement("div",{className:"error-message-container",key:"error_"+o},a.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),a.a.createElement("span",{className:"error-message"},y)))}return null}),a.a.createElement("div",{className:"bottom-container"},a.a.createElement("div",{className:"message-container"},a.a.createElement("span",null,a.a.createElement("img",{src:Xr.a}),a.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),a.a.createElement("div",{className:"button-container"},a.a.createElement(Yr,{title:"Next",rightIconImage:ea.a}))))})}}}])&&Ba(n.prototype,o),i&&Ba(n,i),t}();function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wa(e,t,n[t])})}return e}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t){return!t||"object"!==Ka(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Za(e){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xa(e,t){return(Xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),za(this,Za(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xa(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleFormSubmit",value:function(e,t){var n=Ya({},this.props),r=n.questions,a=n.saveAnsweredQuestion,o=r.find(function(e){return!0===e.isCurrent});if(o){var i=Ya({},o);P.a.forIn(t,function(e,t){var n=i.inputs.findIndex(function(e){return e.id===t});n>=0&&P.a.set(i,"inputs.".concat(n,".data"),e)}),i.hasAnswer=!0,i.isApplicable=!0,a(i)}}},{key:"handleActionClick",value:function(e){var t=Ya({},this.props),n=t.questions,r=t.saveAnsweredQuestion,a=n.find(function(e){return!0===e.isCurrent});if(a){var o=Ya({},a);o.actions=o.actions.map(function(t){return t.isChose=t.id===e.id,t}),o.hasAnswer=!0,o.isApplicable=!0,r(o)}}},{key:"handleNextButtonClickForDisplayField",value:function(){var e=Ya({},this.props),t=e.questions,n=e.saveAnsweredQuestion,r=t.find(function(e){return!0===e.isCurrent});if(r){var a=Ya({},r);a.hasAnswer=!0,a.isApplicable=!0,n(a)}}},{key:"render",value:function(){var e=Ya({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=e.serviceRegister,o=e.informationClassificationTaskResult,i=e.riskProfileData,s=e.resultForCertificationAndAccreditation,c=e.handleTaskSaveDraftButtonClick,u=(e.handleTaskSubmitButtonClick,e.loadResultForCertificationAndAccreditation),l=t.find(function(e){return!0===e.isCurrent}),p=t.findIndex(function(e){return e.id===l.id});return a.a.createElement("div",{className:"Questionnaire mx-1"},a.a.createElement("div",{className:"major"},a.a.createElement("div",{className:"title"},"Questions"),a.a.createElement("div",{className:"form-container"},a.a.createElement(Mr,{questions:t,onItemClick:n}),l&&a.a.createElement(Ja,{index:p,key:l.id,question:l,serviceRegister:r,riskProfileData:i,resultForCertificationAndAccreditation:s,loadResultForCertificationAndAccreditation:u,informationClassificationTaskResult:o,handleTaskSaveDraftButtonClick:c,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this),handleNextButtonClickForDisplayField:this.handleNextButtonClickForDisplayField.bind(this)}))))}}])&&Ga(n.prototype,o),i&&Ga(n,i),t}();function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){no(e,t,n[t])})}return e}function no(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t){return!t||"object"!==eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var so=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ao(this,oo(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=to({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=to({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,o=to({},this.props.submissionState),i=o.title,s=o.siteConfig,c=o.user,u=o.submission;return c&&u&&s?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==u.status?a.a.createElement("div",{className:"QuestionnaireContainer"},a.a.createElement(or,{title:i,subtitle:s.siteTitle,username:c.name,logopath:s.logoPath}),a.a.createElement("div",{className:"questionnaire-message"},a.a.createElement("h4",null,"The questionnaire is not in progress. Please check the summary screen.")),a.a.createElement(Tt,{footerCopyrightText:s.footerCopyrightText})):c.id===u.submitter.id?a.a.createElement("div",{className:"QuestionnaireContainer"},a.a.createElement(or,{title:i,subtitle:s.siteTitle,logopath:s.logoPath,username:c.name}),a.a.createElement($a,{questions:u.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),a.a.createElement(Tt,{footerCopyrightText:s.footerCopyrightText})):a.a.createElement("div",{className:"QuestionnaireContainer"},a.a.createElement(or,{title:i,subtitle:s.siteTitle,username:c.name,logopath:s.logoPath}),a.a.createElement("div",{className:"questionnaire-message"},a.a.createElement("h4",null,"It appears this submission has not yet been submitted. Only the submitter can edit a submission and must submit before it can be reviewed.")),a.a.createElement(Tt,{footerCopyrightText:s.footerCopyrightText})):null}}])&&ro(n.prototype,o),i&&ro(n,i),t}(),co=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Wn(t))},dispatchSaveAnsweredQuestionAction:function(t){var n,r;e((n=t,r=Yn(regeneratorRuntime.mark(function e(t,r){var a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),a=r(),o=P.a.get(a,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,Ee.getCSRFToken();case 7:return i=e.sent,s=n.id,c=Pn.transformFromFullQuestionToData(n),e.prev=10,e.next=13,_n.updateSubmissionData({submissionID:o,questionID:s,csrfToken:i,answerData:c});case 13:t(Gn(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}},e,this,[[10,16]])})),function(e,t){return r.apply(this,arguments)}))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=o.questions.findIndex(function(e){return e.isCurrent}))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((s=o.questions.findIndex(function(t){return t.id===e.id}))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:s}),t.next=15,zn(r(),[i,s]);case 15:case"end":return t.stop()}},t,this)})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(so),uo=n(91),lo=n.n(uo);function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t){return!t||"object"!==po(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ho(e,t){return(ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bo(this,yo(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ho(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fo(e,t,n[t])})}return e}({},this.props).questions;return a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement("div",{className:"questions"},t.map(function(t,n,r){var o=e.renderData(t);return a.a.createElement("div",{className:"row",key:t.id},a.a.createElement("div",{className:"col"},a.a.createElement("b",null,n+1,". ",t.heading)),a.a.createElement("div",{className:"vertical-divider"}),a.a.createElement("div",{className:"col"},o))})))}},{key:"renderData",value:function(e){if(!e.isApplicable){return a.a.createElement("div",null,"(Not applicable)")}if(!e.hasAnswer){return a.a.createElement("div",null,"(Has no answer)")}if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=Gr()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),a=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=a.join(", ")}return t};return e.inputs.length>1?a.a.createElement("div",null,e.inputs.map(function(e){var n=t(e);return a.a.createElement("div",{key:e.id},a.a.createElement("b",null,e.label),"",a.a.createElement("span",null,"-"),"",a.a.createElement("span",null,n))})):a.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=P.a.head(e.actions.filter(function(e){return e.isChose}));return a.a.createElement("div",null,n&&a.a.createElement("div",null,n.label))}}}])&&mo(n.prototype,o),i&&mo(n,i),t}();function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oo(e){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ao(e,t){return(Ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var To=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ko(this,Oo(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ao(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){So(e,t,n[t])})}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,o=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,s=e.handleEditAnswerButtonClick;if(!t)return null;var c=a.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),u=a.a.createElement("div",{className:"buttons"},a.a.createElement(dn,{title:"Edit",iconImage:va.a,classes:["button"],onClick:s}),a.a.createElement(dn,{title:"PDF",iconImage:lo.a,classes:["button"],onClick:i}),a.a.createElement(Yr,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:Pn.existsUnansweredQuestion(t.questions),onClick:o})),l=a.a.createElement("div",{className:"buttons"},a.a.createElement(dn,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return D.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return a.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&c,a.a.createElement(vo,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&u,"submitter"!==n&&l)}}])&&Eo(n.prototype,o),i&&Eo(n,i),t}(),wo=n(195),Co=n.n(wo),_o=n(413),Io=n.n(_o);function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&No(t.prototype,n),r&&No(t,r),e}();function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Do(e,t,n[t])})}return e}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uo(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Lo(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Uo(o,r,a,i,s,"next",e)}function s(e){Uo(o,r,a,i,s,"throw",e)}i(void 0)})}}function Mo(e){return Fo.apply(this,arguments)}function Fo(){return(Fo=Lo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.addEventListener("load",function(t){e(t.target.result)}),n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Qo(e){return Bo.apply(this,arguments)}function Bo(){return(Bo=Lo(regeneratorRuntime.mark(function e(t){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,Mo(r);case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var qo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"generatePDF",value:function(){var e=Lo(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l,p,f,m,d,b,y,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ro({},t),r=n.questions,a=n.submitter,o=n.questionnaireTitle,i=n.siteConfig,s=n.result,c=n.riskResults,l=[],p={questionnaireTitle:{bold:!0,fontSize:(u=12)+4,color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:u,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:u+2,color:"#004071"},questionHeading:{bold:!0}},f={fontSize:u},m={title:"".concat(o," - ").concat(a.name,".pdf")},d=Io.a.pdfMake.vfs,Co.a.vfs=d,e.next=10,Qo(i.pdfHeaderImageLink);case 10:return b=e.sent,l.push({image:b,width:500,margin:[0,0,0,u]}),l.push({text:o,style:"questionnaireTitle",margin:[0,0,0,u/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*u]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"Name: ".concat(a.name),style:"questionHeading",margin:[0,0,0,u/2]}),l.push({text:"Email: ".concat(a.email),margin:[0,0,0,2*u]}),s&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"".concat(s),margin:[0,0,0,2*u]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,u]}),r.forEach(function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,u/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Gr()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),a=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=a.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach(function(e,t,r){var a=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(jo.toString(n(e))),margin:[0,0,0,a?u:parseInt("".concat(u/3))]})}):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,u]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=P.a.head(e.actions.filter(function(e){return e.isChose}));l.push({text:r.label,margin:[0,0,0,u]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,u]});else l.push({text:"(Not applicable)",margin:[0,0,0,u]})}),"object"===Po(c)&&c.length>0&&(y=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],c.forEach(function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),y.push([{text:e.riskName},e.weights,e.score,n])}),l.push({table:{headerRows:1,widths:[237,75,75,75],body:y},width:500,margin:[0,0,0,u]})),e.next=23,Qo(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,u]}),e.prev=25,e.next=28,Co.a.createPdf({info:m,content:l,styles:p,defaultStyle:f}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}},e,this,[[25,30]])}));return function(t){return e.apply(this,arguments)}}()},{key:"blobToDataURL",value:function(){var e=Lo(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&xo(t.prototype,n),r&&xo(t,r),e}();function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Jo(e,t,n[t])})}return e}function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(e,t){return!t||"object"!==Vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Go(e,t){return(Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yo(this,Wo(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Go(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Ho({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Ho({},this.props).secureToken,t=Ho({},this.props.submissionState),n=t.title,r=t.siteConfig,o=t.user,i=t.submission,s=t.isCurrentUserApprover,c=t.isCurrentUserABusinessOwnerApprover;if(!o||!r)return null;var u="others";do{if(o.id===i.submitter.id){u="submitter";break}if(s){u="approver";break}if(c&&"waiting_for_approval"==i.status){u="businessOwnerApprover";break}}while(0);return a.a.createElement("div",{className:"ReviewContainer"},a.a.createElement(or,{title:n,subtitle:"Review Responses",username:o.name,logopath:r.logoPath}),a.a.createElement(To,{siteTitle:r.siteTitle,viewAs:u,submission:i,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),a.a.createElement(Tt,{footerCopyrightText:r.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=Ho({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&qo.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=P.a.get(this.props.submissionState,"submission.submissionUUID","");e&&D.redirectToQuestionnaireEditing(e)}}])&&Ko(n.prototype,o),i&&Ko(n,i),t}(),Zo=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Wn(t))},dispatchSubmitQuestionnaire:function(){var t;e((t=Yn(regeneratorRuntime.mark(function e(t,n){var r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),a=r.questionnaireState.submissionState,o=a.submission){e.next=6;break}return e.abrupt("return");case 6:if(!Pn.existsUnansweredQuestion(o.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,Ee.getCSRFToken();case 11:return i=e.sent,e.next=14,_n.submitQuestionnaire({submissionID:o.submissionID,csrfToken:i});case 14:s=e.sent,c=s.uuid,D.redirectToQuestionnaireSummary(c),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)}))}}})(zo);function Xo(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function $o(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Xo(o,r,a,i,s,"next",e)}function s(e){Xo(o,r,a,i,s,"throw",e)}i(void 0)})}}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ti=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchCurrentUser",value:function(){var e=$o(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}',e.next=3,F.request({query:'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}'});case 3:if(t=e.sent,n=P.a.get(t,"data.readMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=kn.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMembers",value:function(){var e=$o(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}',e.next=3,F.request({query:'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}'});case 3:if(t=e.sent,n=P.a.get(t,"data.readMember",null)){e.next=7;break}throw new Error("Authenticate error");case 7:return r=kn.parserMemberFromJSON(n),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&ei(t.prototype,n),r&&ei(t,r),e}();function ni(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function ri(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ni(o,r,a,i,s,"next",e)}function s(e){ni(o,r,a,i,s,"throw",e)}i(void 0)})}}function ai(){return function(){var e=ri(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ti.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ii(){return(ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function si(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ui(e,t){return!t||"object"!==oi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ui(this,li(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement(an,ii({},this.props,{classes:["RedButton"].concat(si(this.props.classes))}))}}])&&ci(n.prototype,o),i&&ci(n,i),t}();fi.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var mi=fi,di=n(414),bi=n.n(di),yi=n(415),hi=n.n(yi),vi=n(416),gi=n.n(vi),Si=n(417),Ei=n.n(Si);function ki(e){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ti(e,t){return!t||"object"!==ki(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ci(e,t){return(Ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ti(this,wi(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ci(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Oi(e,t,n[t])})}return e}({},this.props),t=e.riskResults,n=e.hideWeightsAndScore;return t&&0!==t.length?a.a.createElement("div",{className:"risk-result-container"},a.a.createElement("h4",null,"Risk Result"),a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:""},a.a.createElement("tr",{key:"risk_table_header"},a.a.createElement("th",null,"Risk Name"),!n&&a.a.createElement("th",null,"Weights"),!n&&a.a.createElement("th",null,"Score"),a.a.createElement("th",null,"Rating"))),a.a.createElement("tbody",null,t.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.riskName),!n&&a.a.createElement("td",null,e.weights),!n&&a.a.createElement("td",null,e.score),a.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))}))))):null}}])&&Ai(n.prototype,o),i&&Ai(n,i),t}();n(690);function Ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ni=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter(function(e){return"security risk assessment"===e.taskType&&"complete"===e.status}).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter(function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)}).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return a.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&Ii(t.prototype,n),r&&Ii(t,r),e}();function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ri(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xi(e,t){return(xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ui=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ri(this,Di(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xi(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",a.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&Pi(n.prototype,o),i&&Pi(n,i),t}(),Li=n(419),Mi=n.n(Li),Fi=n(763);function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qi(e,t,n[t])})}return e}function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hi(e,t){return!t||"object"!==Qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yi=function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},Wi=function(e,t){if(e)return"pending"==e?"Awaiting approval":"not_required"==e?"Not required":"approved"==e&&"Certification Authority"==t?"Certification granted":"denied"==e&&"Certification Authority"==t?"Certification denied":"approved"==e&&"Accreditation Authority"==t?"Accreditation issued":"denied"==e&&"Accreditation Authority"==t?"Accreditation denied":"denied"==e?"Not approved":Yi(e)},Gi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Hi(this,Ji(t).call(this,e))).state={skipBoAndCisoApproval:!1,enableApproveButton:!0,showModal:!1,selectedCollaborators:e.submission.collaborators},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){""!==this.getAcknowledgeText()&&this.setState({enableApproveButton:!1})}},{key:"getAcknowledgeText",value:function(){if(this.props.submission.isCertificationAndAccreditationTaskExists){if("businessOwnerApprover"===this.props.viewAs&&this.props.submission.businessOwnerAcknowledgementText)return this.props.submission.businessOwnerAcknowledgementText;if("approver"===this.props.viewAs){if(this.props.user.isCertificationAuthority&&this.props.submission.certificationAuthorityAcknowledgementText)return this.props.submission.certificationAuthorityAcknowledgementText;if(this.props.user.isAccreditationAuthority&&this.props.submission.accreditationAuthorityAcknowledgementText)return this.props.submission.accreditationAuthorityAcknowledgementText}}return""}},{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter(function(e){return"risk questionnaire"===e.taskType});if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach(function(e,t){"selection"===e.taskType&&(n=!0)}),n}},{key:"handleAddCollaboratorsModalButtonClick",value:function(){this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators),this.handleCloseModalForCollaborators()}},{key:"handleOpenModalForCollaborators",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModalForCollaborators",value:function(){this.setState({showModal:!1}),this.setState({selectedCollaborators:this.props.submission.collaborators})}},{key:"handleChangeForCollaborators",value:function(e){this.setState({selectedCollaborators:e})}},{key:"render",value:function(){var e=Bi({},this.props),t=e.submission,n=e.viewAs,r=e.user,o=e.members;return t&&o?"in_progress"===t.status&&"submitter"===n?a.a.createElement("div",{className:"Summary"},a.a.createElement("h4",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?a.a.createElement(Ui,null):a.a.createElement("div",{className:"Summary"},a.a.createElement("h3",null,"Submission details"),this.renderSubmissionDetails(t),this.renderCollboratorsAndComponentsInfo(t,o),this.renderTasks(t),this.renderApprovals(t),a.a.createElement(_i,{riskResults:t.riskResults,hideWeightsAndScore:t.hideWeightsAndScore}),this.renderSkipCheckbox(t,n,r),this.renderAcknowledgements(t,n,r),this.renderButtons(t)):null}},{key:"renderCollboratorsModal",value:function(e,t){return a.a.createElement(Sa.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".Summary")}},a.a.createElement("div",{className:"collaborator-model-title"},a.a.createElement("span",null,a.a.createElement("h4",null,"Add Collaborators")),a.a.createElement(Fi.a,{"aria-label":"close",component:"span",className:"collaborator-model-close icon-gray",onClick:this.handleCloseModalForCollaborators.bind(this)},a.a.createElement(Mi.a,null))),a.a.createElement("div",{className:"content"},"Start typing names, to add them as collaborators for your submission."),a.a.createElement("div",{className:"content"},a.a.createElement(na.a,{options:t,defaultValue:e.collaborators,isMulti:!0,maxMenuHeight:200,onChange:this.handleChangeForCollaborators.bind(this)})),a.a.createElement("div",null,a.a.createElement(Yr,{title:"Add",onClick:this.handleAddCollaboratorsModalButtonClick.bind(this)})))}},{key:"renderSubmissionDetails",value:function(e){var t=e.submitter,n=Yi(e.status),r=ca.a;"Submitted"==n&&Pn.existsIncompleteTaskSubmission(e.taskSubmissions)?(n="Tasks to complete",r=hi.a):"Submitted"!=n||Pn.existsIncompleteTaskSubmission(e.taskSubmissions)||(n="Ready to submit",r=bi.a),"In progress"==n&&(r=la.a),"Approved"==n&&(r=aa.a),"Denied"==n&&(r=ia.a);var o=e.productName;return""==o&&(o="Product Name: Please add a product name"),a.a.createElement("div",{className:"submission-details-container"},a.a.createElement("div",{className:"submission-detail-left-container"},a.a.createElement("div",null,a.a.createElement("span",{className:"product-name"},o)),a.a.createElement("span",null,e.questionnaireTitle),a.a.createElement("div",{className:"submitter-name-created-date-row"},a.a.createElement("span",{className:"submission-details-label"},"Submission created: "),a.a.createElement("span",{className:"submission-details-data"},Gr()(e.created).format("DD/MM/YYYY"))),a.a.createElement("div",null,a.a.createElement("span",{className:"submission-details-label"},"Go live date: "),a.a.createElement("span",{className:"submission-details-data"},e.releaseDate?Gr()(e.releaseDate).format("DD/MM/YYYY"):""))),a.a.createElement("div",{className:"submission-detail-right-container"},a.a.createElement("div",null,a.a.createElement("span",{className:"submission-status"},a.a.createElement("img",{src:r}),n)),a.a.createElement("div",{className:"submitter-name-created-date-row"},a.a.createElement("span",{className:"submission-details-label"},"Submitted by: "),a.a.createElement("span",{className:"submission-details-data"},t.name)),a.a.createElement("div",null,a.a.createElement("span",{className:"submission-details-label"},"Email: "),a.a.createElement("span",{className:"submission-details-data"},t.email))))}},{key:"renderCollboratorsInfo",value:function(e,t){return a.a.createElement("div",{className:"collaborators-container"},a.a.createElement("h4",null,"Collaborators"),a.a.createElement("div",{className:"collaborator-message"},"You can add people to help complete your submission. Please contact the",a.a.createElement("a",{href:"mailto:"+this.props.securityTeamEmail},"security team"),"for more information."),e.collaborators.length>0&&a.a.createElement("div",null,e.collaborators.map(function(e,t){var n=e.label;return a.a.createElement("div",{className:"collaborator-name",key:t},n)})),"submitter"===this.props.viewAs&&a.a.createElement("div",null,a.a.createElement("button",{className:"btn add-collaborators-btn",onClick:this.handleOpenModalForCollaborators.bind(this)},a.a.createElement("img",{src:da.a})," Add collaborators")),this.renderCollboratorsModal(e,t))}},{key:"renderComponentsInfo",value:function(e){var t=e.productAspects;return a.a.createElement("div",{className:t.length>0?"components-container":"hide-components-container"},a.a.createElement("h4",null,"Components"),a.a.createElement("div",null,"Please specify if there are multiple components impacted for this submission. This will help group your tasks per component."),a.a.createElement("div",null,t.map(function(e,t){return a.a.createElement("div",{className:"component-name",key:t},e)})))}},{key:"renderCollboratorsAndComponentsInfo",value:function(e,t){return a.a.createElement("div",{className:"collaborators-components-container"},this.renderCollboratorsInfo(e,t),this.renderComponentsInfo(e))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions;if(0===n.length)return null;var r=this.unfinishedTaskSubmissionMessage()?a.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return a.a.createElement("div",{className:"tasks-container"},a.a.createElement("h4",null,"Tasks"),a.a.createElement("div",{className:"task-instruction-message"},"Please complete the tasks below. Note the tasks marked with a red asterisk (",a.a.createElement("span",{className:"multiple-tasks-created"},"*"),") may create new tasks, depending on your answers."),r,a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:"task-thead"},a.a.createElement("tr",{key:"task-table-header"},a.a.createElement("th",null,"Task"),a.a.createElement("th",{className:"completion-time-col"},"Time to complete"),a.a.createElement("th",null,"Approved by"),a.a.createElement("th",null,"Time to review"),a.a.createElement("th",null,"Task status"),a.a.createElement("th",null))),a.a.createElement("tbody",null,n.map(function(e){var n=e.uuid,o=e.taskName,i=e.taskType,s=e.status,c=e.approver,u=e.isTaskApprovalRequired,l=e.timeToComplete,p=e.timeToReview,f=e.canTaskCreateNewTasks,m=fa.a;"start"==s&&(s="To do"),"in_progress"==s&&(m=la.a),"waiting_for_approval"==s&&(m=ca.a),"approved"!=s&&"complete"!=s||(m=aa.a),"denied"==s&&(m=ia.a);var d=Bi({},t.props).token,b=D.redirectToTaskSubmission(n,d,"urlString");"selection"===i&&(b=D.redirectToComponentSelectionSubmission(n,d,"urlString")),"security risk assessment"===i&&(b=D.redirectToSecurityRiskAssessment(n,d,"urlString")),"control validation audit"===i&&(b=D.redirectToControlValidationAudit(n,d,"urlString"));var y=a.a.createElement(ne.a,{to:b},a.a.createElement("img",{src:gi.a})),h="";return h=u?c.name:"No approval needed",a.a.createElement("tr",{key:n},a.a.createElement("td",{className:"task-table-title-data"},o,f?a.a.createElement("span",{className:"multiple-tasks-created"}," *"):null),a.a.createElement("td",null,l),a.a.createElement("td",null,h),a.a.createElement("td",null,p),a.a.createElement("td",null,a.a.createElement("img",{src:m}),a.a.createElement("span",{className:"task-status"},Yi(s))),a.a.createElement("td",null,r&&"security risk assessment"===i?null:y))})))))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,o=e.certificationAuthorityApprover,i=e.accreditationAuthorityApprover,s=Wi(t.securityArchitect),c="Unassigned";n.firstName&&(c=n.firstName+" "+n.surname);var u=Wi(t.chiefInformationSecurityOfficer),l="Unassigned";r.firstName&&(l=r.firstName+" "+r.surname);var p=Wi(t.businessOwner),f=[{role:"Security Architect",name:c,status:s},{role:"Chief Information Security Officer",name:l,status:u},{role:"Business Owner",name:e.businessOwnerApproverName?e.businessOwnerApproverName:"Unassigned",status:p}];if(this.props.submission.isCertificationAndAccreditationTaskExists){var m=Wi(t.certificationAuthority,"Certification Authority"),d="Unassigned";o.firstName&&(d=o.firstName+" "+o.surname);var b=Wi(t.accreditationAuthority,"Accreditation Authority"),y="Unassigned";i.firstName&&(y=i.firstName+" "+i.surname),f.push({role:"Certification Authority",name:d,status:m},{role:"Accreditation Authority",name:y,status:b})}return a.a.createElement("div",{className:"submission-approval-container"},a.a.createElement("h4",null,"Submission approvals"),a.a.createElement("div",{className:"table-responsive table-continer"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:"submission-approval-thead"},a.a.createElement("tr",{key:"approval_table_header"},a.a.createElement("th",null,"Role"),a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Approval status"))),a.a.createElement("tbody",null,f.map(function(e,t){var n=e.status,r=ca.a;return"Approved"!=n&&"Certification granted"!=n&&"Accreditation issued"!=n||(r=aa.a),"Not approved"!=n&&"Certification denied"!=n&&"Accreditation denied"!=n&&"Not required"!=n||(r=ia.a),a.a.createElement("tr",{key:t+1},a.a.createElement("td",{className:"table-title-data"},e.role),a.a.createElement("td",{className:"Unassigned"==e.name?"unassigned-approver":""},e.name),a.a.createElement("td",null,a.a.createElement("img",{src:r}),a.a.createElement("span",{className:"approval-status"}," ",n," ")))})))))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?a.a.createElement("div",{className:"sub-container"},a.a.createElement("h4",null,"Skip Business Owner and CISO approval"),a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}})," This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}},{key:"renderAcknowledgements",value:function(e,t,n){var r=this;if(!e.isCertificationAndAccreditationTaskExists)return null;var o=this.getAcknowledgeText();return""!==o?a.a.createElement("div",{className:"acknowledgement-container"},a.a.createElement("h4",null,"Acknowledgements"),a.a.createElement("div",{className:"sub-container"},a.a.createElement("div",{className:"form-check"},a.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:this.state.enableApproveButton,onChange:function(e){r.setState({enableApproveButton:e.target.checked})}}),a.a.createElement("label",{className:"form-check-label"},o)))):null}},{key:"renderButtons",value:function(e){var t=this,n=Bi({},this.props),r=n.user,o=n.viewAs,i=(n.showNotApproveButton,n.token),s=n.handleSubmitButtonClick,c=n.handlePDFDownloadButtonClick,u=n.handleSendBackForChangesButtonClick,l=n.handleApproveButtonClick,p=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,m=n.handleEditButtonClick,d=n.handleGrantCertificationButtonClick,b=n.handleDenyCertificationButtonClick,y=n.handleIssueAccreditationButtonClick,h=n.handleDenyAccreditationButtonClick,v=a.a.createElement(dn,{title:"PDF",iconImage:lo.a,classes:["button"],onClick:c}),g=r?a.a.createElement(dn,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return D.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===o){var S=a.a.createElement(dn,{title:"Edit",iconImage:va.a,classes:["button"],onClick:m}),E=a.a.createElement(Yr,{title:"Submit for approval",iconImage:Ei.a,classes:["button"],disabled:Pn.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:s});return"submitted"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},S,v),a.a.createElement("div",{className:"buttons-right"},E)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,S,v),a.a.createElement("div",null)):a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,v),a.a.createElement("div",null))}if("approver"===o||"businessOwnerApprover"===o){var k=a.a.createElement(dn,{title:"Assign to Me",classes:["button"],onClick:p}),O=(a.a.createElement(dn,{title:"Send back for changes",classes:["button"],onClick:function(){return u()}}),"Approve");r.isSA&&(O="Endorsed"),r.isCISO&&(O="Recommend Approval"),"businessOwnerApprover"===o&&(O="Accept risks and approve");var A=a.a.createElement(Yr,{title:O,classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return l(t.state.skipBoAndCisoApproval)}}),T="Not approved";r.isSA&&(T="Not endorsed"),r.isCISO&&(T="Recommend Rejection");var w=a.a.createElement(mi,{title:T,classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}}),C=a.a.createElement(Yr,{title:"Grant Certification",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return d()}}),_=a.a.createElement(mi,{title:"Deny Certification",classes:["button"],onClick:function(){return b()}}),I=a.a.createElement(Yr,{title:"Issue Accreditation",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return y()}}),N=a.a.createElement(mi,{title:"Deny Accreditation",classes:["button"],onClick:function(){return h()}});return"submitted"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,g,v),a.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},k),a.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),w,A)):!r.isCertificationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_certification"!==e.status?!r.isAccreditationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_accreditation"!==e.status?a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),w,A)):a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),N,I)):a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:"buttons-left"},g,v),a.a.createElement("div",{className:"buttons-right"},a.a.createElement("span",{className:"approver-action"},"Approver action: "),_,C))}return a.a.createElement("div",{className:"buttons"},a.a.createElement("div",null,g,v),a.a.createElement("div",null))}}])&&Vi(n.prototype,o),i&&Vi(n,i),t}();Gi.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleSendBackForChangesButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},handleCollaboratorAddButtonClick:function(){},handleGrantCertificationButtonClick:function(){},handleDenyCertificationButtonClick:function(){},handleIssueAccreditationButtonClick:function(){},handleDenyAccreditationButtonClick:function(){},viewAs:"others",showNotApproveButton:!1,token:"",user:null,members:null,securityTeamEmail:""};var zi=Gi;function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$i(e,t,n[t])})}return e}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ts(e,t){return!t||"object"!==Zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ns(e){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rs(e,t){return(rs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var as=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ts(this,ns(t).call(this))).state={showModal:!1},e}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rs(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Xi({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken),this.props.dispatchLoadMembersAction()}},{key:"render",value:function(){var e=Xi({},this.props),t=e.secureToken,n=e.loadingState,r=e.members,o=Xi({},this.props.submissionState),i=(o.location,o.title),s=o.user,c=o.submission,u=o.isCurrentUserApprover,l=o.isCurrentUserABusinessOwnerApprover,p=o.siteConfig;if(!(s&&c&&p&&r))return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var f="others",m=!1;!s.isSA||s.isCISO||l||(m=!0);do{if(s.id===c.submitter.id){f="submitter";break}if(l&&"waiting_for_approval"==c.status){f="businessOwnerApprover";break}if(u){f="approver";break}}while(0);return a.a.createElement("div",{className:"SummaryContainer"},a.a.createElement(or,{title:i,subtitle:"Summary",username:s.name,logopath:p.logoPath}),a.a.createElement(zi,{submission:c,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),handleCollaboratorAddButtonClick:this.handleCollaboratorAddButtonClick.bind(this),handleGrantCertificationButtonClick:this.handleGrantCertificationButtonClick.bind(this),handleDenyCertificationButtonClick:this.handleDenyCertificationButtonClick.bind(this),handleIssueAccreditationButtonClick:this.handleIssueAccreditationButtonClick.bind(this),handleDenyAccreditationButtonClick:this.handleDenyAccreditationButtonClick.bind(this),viewAs:f,user:s,token:t,members:r,showNotApproveButton:m,securityTeamEmail:p.securityTeamEmail}),a.a.createElement(Tt,{footerCopyrightText:p.footerCopyrightText}),a.a.createElement(Sa.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},a.a.createElement("h3",null,"Are you sure you want to edit this submission?"),a.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),a.a.createElement("div",null,a.a.createElement(Yr,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),a.a.createElement(dn,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=Xi({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),qo.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=Xi({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Xi({},this.props).secureToken,n=Xi({},this.props.submissionState),r=n.user,a=n.submission,o=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&a&&(i&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerApproveSubmissionAction(a.submissionID,t):o&&this.props.dispatchApproveSubmissionAction(a.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Xi({},this.props).secureToken,n=Xi({},this.props.submissionState),r=n.user,a=n.submission,o=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&a&&(i&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerDenySubmissionAction(a.submissionID,t):o&&this.props.dispatchDenySubmissionAction(a.submissionID,e))}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=Xi({},this.props.submissionState),t=e.user,n=e.submission,r=e.isCurrentUserApprover;t&&n&&r&&this.props.dispatchSendBackForChangesSubmissionAction(n.submissionID)}},{key:"handleAssignToMeButtonClick",value:function(){var e=Xi({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=Xi({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleCollaboratorAddButtonClick",value:function(e){var t=Xi({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchAddCollaboratorAction(r.submissionID,e)}},{key:"handleGrantCertificationButtonClick",value:function(){var e=Xi({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchGrantCertificationAction(n.submissionID)}},{key:"handleDenyCertificationButtonClick",value:function(){var e=Xi({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyCertificationAction(n.submissionID)}},{key:"handleIssueAccreditationButtonClick",value:function(){var e=Xi({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchIssueAccreditationAction(n.submissionID)}},{key:"handleDenyAccreditationButtonClick",value:function(){var e=Xi({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyAccreditationAction(n.submissionID)}}])&&es(n.prototype,o),i&&es(n,i),t}(),os=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState,members:e.memberState}},function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(Wn(t,n))},dispatchLoadMembersAction:function(){var t;e((t=ri(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ti.fetchMembers();case 3:n=e.sent,r={type:l.USER.LOAD_MEMBER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(e){return t.apply(this,arguments)}))},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,_n.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:o,secureToken:t});case 6:i=n.sent,s=i.uuid,r(Wn(s,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,_n.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:o,secureToken:t});case 6:i=n.sent,s=i.uuid,r(Wn(s,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,_n.submitQuestionnaireForApproval({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,_n.editQuestionnaireSubmission({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,D.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,_n.approveQuestionnaireSubmission({submissionID:e,csrfToken:o,skipBoAndCisoApproval:t});case 6:i=n.sent,s=i.uuid,r(Wn(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return o=n.sent,n.next=6,_n.denyQuestionnaireSubmission({submissionID:e,csrfToken:o,skipBoAndCisoApproval:t});case 6:i=n.sent,s=i.uuid,r(Wn(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSendBackForChangesSubmissionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,_n.updateQuestionnaireStatusToSendBackForChanges({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAssignToMeAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,_n.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:a});case 6:o=t.sent,i=o.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddCollaboratorAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,a){var o,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee.getCSRFToken();case 2:return o=n.sent,n.prev=3,n.next=6,_n.addCollaborator(e,t,o);case 6:i=n.sent,s=i.uuid,r(Wn(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[3,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchGrantCertificationAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,_n.grantCertification(e,a);case 6:o=t.sent,i=o.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyCertificationAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,_n.denyCertification(e,a);case 6:o=t.sent,i=o.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchIssueAccreditationAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,_n.issueAccreditation(e,a);case 6:o=t.sent,i=o.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyAccreditationAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return a=t.sent,t.prev=3,t.next=6,_n.denyAccreditation(e,a);case 6:o=t.sent,i=o.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(as),is=n(420),ss=n.n(is);function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){us(e,t,n[t])})}return e}function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ls(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function ps(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ls(o,r,a,i,s,"next",e)}function s(e){ls(o,r,a,i,s,"throw",e)}i(void 0)})}}function fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ms=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"loadAvailableComponents",value:function(){var e=ps(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map(function(e){return Un.parseFromJSONObject(e)}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createJiraTickets",value:function(){var e=ps(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=cs({},t),r=n.jiraKey,a=n.componentIDList,o=n.csrfToken,i=a.map(function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')}),s="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,F.request({query:s,csrfToken:o});case 5:if(c=e.sent,u=O()(c,"data",null)){e.next=9;break}throw Q;case 9:return l=ss()(a.map(function(e){var t="createJiraTicket".concat(e),n=O()(u,t,null);return n?{id:T()(O()(n,"ID","")),jiraKey:T()(O()(n,"JiraKey","")),link:T()(O()(n,"TicketLink",""))}:null})),e.abrupt("return",l);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&fs(t.prototype,n),r&&fs(t,r),e}();function ds(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function bs(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ds(o,r,a,i,s,"next",e)}function s(e){ds(o,r,a,i,s,"throw",e)}i(void 0)})}}function ys(){return function(){var e=bs(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ms.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function hs(e,t){return function(){var n=bs(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(a);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function vs(e,t){return function(){var n=bs(regeneratorRuntime.mark(function n(r){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(a);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function gs(e){return function(){var t=bs(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function Ss(e){return function(){var t=bs(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function Es(e){var t=e.selectedComponents.map(function(e){return e.isSaved=!0,e});return function(){var e=bs(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function ks(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Os(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function As(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Os(o,r,a,i,s,"next",e)}function s(e){Os(o,r,a,i,s,"throw",e)}i(void 0)})}}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ws(e,t,n[t])})}return e}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e){var t=Ts({},e),n=t.uuid,r=t.secureToken,a=t.type;return function(){var e=As(regeneratorRuntime.mark(function e(t){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return o=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:o},e.next=7,t(i);case 7:if("componentSelection"!==a){e.next=10;break}return e.next=10,t(Es(o));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),$.displayError(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}function _s(e){var t=Ts({},e),n=t.answeredQuestion,r=t.secureToken,a=t.bypassNetwork;return function(){var e=As(regeneratorRuntime.mark(function e(t,o){var i,s,c,u,p,f,m,d,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return o().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return s={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(s);case 6:if(a){e.next=24;break}return e.prev=7,e.t0=Hn,e.t1=i().uuid,e.t2=[n.id],e.t3=[Pn.transformFromFullQuestionToData(n)],e.next=14,Ee.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),$.displayError(e.t7);case 24:if(c=Pn.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),u=c.currentIndex,p=c.nonApplicableIndexes,f=c.targetIndex,m=c.complete,c.terminate,d=c.result,!(p.length>0)){e.next=29;break}return b={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:p},e.next=29,t(b);case 29:if(!(f>u)){e.next=33;break}return y={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:u,targetIndex:f}},e.next=33,t(y);case 33:if(a){e.next=42;break}return e.prev=34,e.next=37,Rs(i(),P.a.uniq([u].concat(ks(p),[f])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),$.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(Ns({bypassNetwork:a,secureToken:r,result:d}));case 45:case"end":return e.stop()}},e,this,[[7,21],[34,39]])}));return function(t,n){return e.apply(this,arguments)}}()}function Is(e){return function(){var t=As(regeneratorRuntime.mark(function t(n,r){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=a.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=a.componentSelectionState.selectedComponents.map(function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:o.id}}),t.prev=7,t.t0=Hn,t.t1=e,t.t2=i,t.t3=o.uuid,t.next=14,Ee.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(Ns());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:$.displayError(t.t6);case 29:case"end":return t.stop()}},t,this,[[7,24]])}));return function(e,n){return t.apply(this,arguments)}}()}function Ns(){var e=Ts({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.result,a=e.taskSubmissionUUID,o=e.questionnaireUUID;return function(){var e=As(regeneratorRuntime.mark(function e(i,s){var c,u,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=function(){return s().taskSubmissionState.taskSubmission},n){e.next=20;break}return e.prev=2,e.next=5,Ee.getCSRFToken();case 5:return u=e.sent,e.next=8,Hn.completeTaskSubmission({uuid:void 0===a?c().uuid:a,result:r||"",secureToken:t,csrfToken:u});case 8:return p=e.sent,f=p.uuid,e.next=12,i(Cs({uuid:f,secureToken:t}));case 12:void 0!==o&&D.redirectToQuestionnaireSummary(o,t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),$.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,i({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:r});case 22:case"end":return e.stop()}},e,this,[[2,15]])}));return function(t,n){return e.apply(this,arguments)}}()}function js(e){var t=Ts({},e),n=t.targetQuestion,r=t.secureToken,a=t.bypassNetwork;return function(){var e=As(regeneratorRuntime.mark(function e(t,o){var i,s,c,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(s=i.questions,!((c=s.findIndex(function(e){return e.isCurrent}))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((u=s.findIndex(function(e){return e.id===n.id}))<0)){e.next=12;break}return e.abrupt("return");case 12:return p={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:c,targetIndex:u}},e.next=15,t(p);case 15:if(a){e.next=18;break}return e.next=18,Rs(i,P.a.uniq([c,u]),r);case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}function Ps(){var e=Ts({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.type;return function(){var e=As(regeneratorRuntime.mark(function e(a,o){var i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=28;break}return e.prev=4,e.t0=Hn,e.t1=i.uuid,e.next=9,Ee.getCSRFToken();case 9:return e.t2=e.sent,e.t3=t,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return s=e.sent,c=s.uuid,e.next=18,a(Cs({uuid:c,secureToken:t}));case 18:if("componentSelection"!==r){e.next=21;break}return e.next=21,a(Es(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),$.displayError(e.t5);case 26:e.next=29;break;case 28:a({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}},e,this,[[4,23]])}));return function(t,n){return e.apply(this,arguments)}}()}function Rs(e,t,n){return Ds.apply(this,arguments)}function Ds(){return(Ds=As(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Hn,e.t1=t.uuid,e.t2=n.map(function(e){return t.questions[e].id}),e.t3=n.map(function(e){return Pn.transformFromFullQuestionToData(t.questions[e])}),e.next=7,Ee.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),$.displayError(e.t7.message);case 17:case"end":return e.stop()}},e,this,[[0,14]])}))).apply(this,arguments)}var xs=n(421),Us=n.n(xs);function Ls(e){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Fs(e,t,n[t])})}return e}function Fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bs(e,t){return!t||"object"!==Ls(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qs(e){return(qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vs(e,t){return(Vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bs(this,qs(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vs(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=Ms({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,o=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,s=t.handleDenyButtonClick,c=t.handleSendBackForChangesButtonClick,u=t.handleAddTaskRecommendationButtonClick,l=t.handleEditTaskRecommendationButtonClick,p=t.loadResultForCertificationAndAccreditation,f=t.editAnswers,m=t.showBackLink,d=t.showEditButton,b=t.canUpdateAnswers,y=t.viewAs,h=(t.secureToken,a.a.createElement(_a,{taskRecommendations:n.taskRecommendations,viewAs:y,status:n.status,handleAddTaskRecommendationButtonClick:u,handleEditTaskRecommendationButtonClick:l})),v=m?a.a.createElement("div",{className:"back-link",onClick:function(){return e.sendBackToQestionnaire()}},a.a.createElement("img",{src:Us.a}),"Back"):null,g=d&&"certification and accreditation"!==n.taskType?a.a.createElement(dn,{title:"Edit",onClick:f,iconImage:va.a}):null,S=["complete","waiting_for_approval","approved","denied"],E=S.indexOf(n.status)>-1?a.a.createElement(dn,{title:"PDF",iconImage:lo.a,onClick:function(){return e.downloadPdf()}}):null,k=n.result&&S.indexOf(n.status)>-1?a.a.createElement("div",{className:"result-container"},a.a.createElement("h4",null,"Result"),a.a.createElement("div",{className:"result"},n.result)):null,O=n.riskResults&&S.indexOf(n.status)>-1?a.a.createElement(_i,{riskResults:n.riskResults,hideWeightsAndScore:n.hideWeightsAndScore}):null,A="approver"===y&&"waiting_for_approval"===n.status?a.a.createElement(Yr,{title:"Approve",onClick:i,classes:["button"]}):null,T="approver"===y&&"waiting_for_approval"===n.status?a.a.createElement(dn,{title:"Send back for changes",onClick:c,classes:["button"]}):null,w="approver"===y&&"waiting_for_approval"===n.status?a.a.createElement(mi,{title:"Not approved",onClick:s,classes:["button"]}):null,C=a.a.createElement("div",null,k,a.a.createElement("h4",null,"Summary"),"certification and accreditation"!==n.taskType&&a.a.createElement(vo,{questions:n.questions}),!n.isDisplayPreventMessage&&"certification and accreditation"===n.taskType&&a.a.createElement("div",{className:"task-review-container"},a.a.createElement(Ua,{resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,isDisplayReportLogo:!0})),O,h);return"certification and accreditation"===n.taskType&&n.isDisplayPreventMessage?C=a.a.createElement("div",{className:"prevent-message-container alert alert-danger",dangerouslySetInnerHTML:{__html:n.preventMessage}}):b&&(C=a.a.createElement($a,{questions:n.questions,serviceRegister:n.serviceRegister,informationClassificationTaskResult:n.informationClassificationTaskResult,riskProfileData:n.riskProfileData,resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,loadResultForCertificationAndAccreditation:p,saveAnsweredQuestion:r,onLeftBarItemClick:o,handleTaskSaveDraftButtonClick:this.handleTaskSaveDraftButtonClick.bind(this)})),a.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&a.a.createElement(Ui,null),"expired"!==n.status&&a.a.createElement("div",null,v,C,a.a.createElement("div",{className:"buttons ".concat("approver"!=y?"buttons-hideborder":"")},a.a.createElement("div",{className:"buttons-left"},g,E),a.a.createElement("div",{className:"buttons-right"},"approver"===y&&"waiting_for_approval"===n.status&&a.a.createElement("span",{className:"approver-action"},"Approver action: "),T,w,A))))}},{key:"downloadPdf",value:function(){var e=Ms({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&qo.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults})}},{key:"handleTaskSaveDraftButtonClick",value:function(){this.sendBackToQestionnaire()}},{key:"sendBackToQestionnaire",value:function(){D.redirectToQuestionnaireSummary(this.props.taskSubmission.questionnaireSubmissionUUID,this.props.secureToken)}}])&&Qs(n.prototype,o),i&&Qs(n,i),t}();function Js(e){return(Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ys(e,t,n[t])})}return e}function Ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gs(e,t){return!t||"object"!==Js(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zs(e){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zs(e,t){return(Zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gs(this,zs(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zs(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=Ks({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=Ks({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,o=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,s=e.dispatchEditAnswersAction,c=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.dispatchSendBackForChangesTaskSubmissionAction,e.dispatchAddTaskRecommendationAction,e.dispatchEditTaskRecommendationAction,e.secureToken);if(!n||!r||!t)return null;var u="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){u="submitter";break}if(r.isCurrentUserAnApprover){u="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),p=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l||r.isTaskCollborator),f=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||(l||r.isTaskCollborator)&&!r.lockWhenComplete);return a.a.createElement("div",{className:"TaskSubmissionContainer"},a.a.createElement(or,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),a.a.createElement(Hs,{taskSubmission:r,saveAnsweredQuestion:o,moveToPreviousQuestion:i,editAnswers:s,showEditButton:f,canUpdateAnswers:p,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleAddTaskRecommendationButtonClick:this.handleAddTaskRecommendationButtonClick.bind(this),handleEditTaskRecommendationButtonClick:this.handleEditTaskRecommendationButtonClick.bind(this),loadResultForCertificationAndAccreditation:this.loadResultForCertificationAndAccreditation.bind(this),showBackLink:!!r.questionnaireSubmissionUUID,viewAs:u,siteConfig:t,secureToken:c}),a.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=Ks({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=Ks({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchSendBackForChangesTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=Ks({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}},{key:"handleAddTaskRecommendationButtonClick",value:function(e){var t=Ks({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,a=t.uuid,o=t.taskRecommendations;(n||a||r||o)&&this.props.dispatchAddTaskRecommendationAction(a,e,o)}},{key:"handleEditTaskRecommendationButtonClick",value:function(e){var t=Ks({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,a=t.uuid,o=t.taskRecommendations;(n||a||r||o)&&this.props.dispatchEditTaskRecommendationAction(a,e,o)}},{key:"loadResultForCertificationAndAccreditation",value:function(){var e=Ks({},this.props),t=e.uuid;(0,e.dispatchLoadResultForCertificationAndAccreditation)(t,e.secureToken)}}])&&Ws(n.prototype,o),i&&Ws(n,i),t}(),$s=Object(s.b)(function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(t,n){e(ai()),e(Qt()),e(Cs({uuid:t,secureToken:n}))},dispatchLoadResultForCertificationAndAccreditation:function(t,n){e(function(e){var t,n=Ts({},e),r=n.uuid,a=n.secureToken;return t=As(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn.fetchResultForCertificationAndAccreditation({uuid:r,secureToken:a});case 3:return n=e.sent,o={type:l.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION,payload:n},e.next=7,t(o);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return t.apply(this,arguments)}}({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(_s({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(js({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(Ps())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return t=As(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,Hn.approveTaskSubmission({uuid:e,csrfToken:a});case 6:return t.sent.status,t.next=10,n(Cs({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return t=As(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,Hn.denyTaskSubmission({uuid:e,csrfToken:a});case 6:return t.sent.status,t.next=10,n(Cs({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchSendBackForChangesTaskSubmissionAction:function(t){e(function(e){return t=As(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return a=t.sent,t.next=6,Hn.editTaskSubmission({uuid:e,csrfToken:a,secureToken:""});case 6:return t.sent.status,t.next=10,n(Cs({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=As(regeneratorRuntime.mark(function r(a,o){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n.push(t),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,Hn.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,a(Cs({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))},dispatchEditTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=As(regeneratorRuntime.mark(function r(a,o){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=n.map(function(e){return e.id===t.id?Ts({},n,t):e}),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,Hn.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,a(Cs({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))}}})(Xs);function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e,t){return!t||"object"!==ec(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rc(e){return(rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ac(e,t){return(ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ic(e,t,n[t])})}return e}function ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),nc(this,rc(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ac(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,oc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=oc({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,o=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,s=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var c="in_progress"===r.status||"start"===r.status,u="complete"===r.status;return a.a.createElement("div",{className:"TaskSubmissionContainer"},a.a.createElement(or,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),a.a.createElement(Hs,{taskSubmission:r,saveAnsweredQuestion:o,moveToPreviousQuestion:i,editAnswers:s,showEditButton:u,canUpdateAnswers:c,showBackButton:!1,siteConfig:t,currentUser:n}),a.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}}])&&tc(n.prototype,o),i&&tc(n,i),t}(),cc=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(){var n=oc({},t).taskId;e(ai()),e(Qt()),e(function(e){var t,n=Ts({},e).taskId;return t=As(regeneratorRuntime.mark(function e(t,r){var a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn.fetchStandaloneTask({taskId:n});case 3:return a=e.sent,o={id:"",uuid:"",taskName:a.name,taskType:"questionnaire",status:"in_progress",result:"",questions:a.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:o},e.next=8,t(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$.displayError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e,n){return t.apply(this,arguments)}}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(_s({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(js({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(Ps({bypassNetwork:!0}))}}})(sc);function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pc(e,t,n[t])})}return e}function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t){return!t||"object"!==uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bc(e,t){return(bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mc(this,dc(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bc(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=lc({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return a.a.createElement("div",{className:"LeftBarItem"},a.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(lc({},this.props).iconType){case"editing":return a.a.createElement("img",{src:Pe.a,alt:""});case"success":return a.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return a.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return a.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&fc(n.prototype,o),i&&fc(n,i),t}();function hc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter(function(t){return t.id===e}).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter(function(n){return n.id===e&&n.productAspect===t}).length>0:n.filter(function(t){return t.id===e}).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter(function(n){return n.id===e&&n.productAspect===t&&n.isSaved}).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter(function(t){return t.productAspect===e}).length>0}}],(n=null)&&hc(t.prototype,n),r&&hc(t,r),e}();function gc(e){return(gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ec(e,t,n[t])})}return e}function Ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oc(e,t){return!t||"object"!==gc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tc(e,t){return(Tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Oc(this,Ac(t).call(this,e))).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tc(e,t)}(t,r["Component"]),n=t,(o=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=Sc({},this.props),n=t.title,r=t.availableComponents,o=t.selectedComponents,i=t.removeComponent,s=t.addComponent,c=t.productAspects,u=t.componentTarget,l=Sc({},this.state),p=l.filter,f=l.selectedProductAspect;return a.a.createElement("div",{className:"LeftBar"},c&&c.length>0&&a.a.createElement("div",{className:"product-aspect"},a.a.createElement("label",null,a.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),a.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=T()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:f},c.map(function(e,t){return a.a.createElement("option",{key:t,value:e},e)})))),a.a.createElement("div",{className:"title"},n),a.a.createElement("div",{className:"search"},a.a.createElement("i",{className:"fas fa-search"}),a.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=T()(t.target.value).trim();e.setState({filter:n})}})),a.a.createElement("div",{className:"items"},r.filter(function(e){return!p||e.name.toUpperCase().includes(p.toUpperCase())}).map(function(e){var t=vc.isSelectedComponentExist(e.id,f,o),n=vc.isComponentSaved(e.id,f,o,u)&&"JIRA Cloud"==u;return a.a.createElement(yc,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,f):s(e.id,f)}})})))}}])&&kc(n.prototype,o),i&&kc(n,i),t}(),Cc=n(106);function _c(e){return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nc(e,t,n[t])})}return e}function Nc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pc(e,t){return!t||"object"!==_c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rc(e){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dc(e,t){return(Dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pc(this,Rc(t).call(this,e))).state={isExpanded:!1,isImplementationEvidenceExpaned:!n.props.isCVATaskEditable},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dc(e,t)}(t,a.a.Component),n=t,(r=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"componentDidUpdate",value:function(e){e.isCVATaskEditable!==this.props.isCVATaskEditable&&this.setState({isImplementationEvidenceExpaned:!this.props.isCVATaskEditable})}},{key:"render",value:function(){var e=this,t=Ic({},this.props),n=(t.id,t.name),r=t.description,o=t.implementationGuidance,i=t.implementationEvidence,s=t.className,c=t.showImplementationEvidence,u=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,p=Ic({},this.state),f=p.isExpanded,m=p.isImplementationEvidenceExpaned;return a.a.createElement("div",{className:"ControlInfo "+s},n&&a.a.createElement("h5",null,n),r&&a.a.createElement("div",{className:"control-description"},a.a.createElement("span",null,a.a.createElement("b",null,"Description: ")),a.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),o&&a.a.createElement("div",{className:"implementation-Guidance"},a.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!f})}},a.a.createElement("span",null,a.a.createElement("b",null,"Implementation Guidance "),a.a.createElement(Cc.Icon,{name:"".concat(f?"caret-up":"caret-down")}))),f&&a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}})),c&&a.a.createElement("div",{className:"implementation-Guidance"},a.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},a.a.createElement("span",null,a.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),a.a.createElement(Cc.Icon,{name:"".concat(m?"caret-up":"caret-down")}))),m&&a.a.createElement("div",null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?a.a.createElement("div",null,a.a.createElement(ta.a,{className:"implementation-evidence",initialValue:u,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):a.a.createElement("div",{className:"implementation-evidence"},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:u.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&jc(n.prototype,r),o&&jc(n,o),t}();function Uc(e){return(Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fc(e,t){return!t||"object"!==Uc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qc(e){return(Qc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bc(e,t){return(Bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fc(this,Qc(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bc(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lc(e,t,n[t])})}return e}({},this.props),t=e.id,n=e.name,r=e.description,o=e.removeComponent,i=e.childControls,s=e.isDisable;return a.a.createElement("div",{className:"ComponentInfo",key:t+n},a.a.createElement("h3",null,!s&&a.a.createElement("button",{onClick:function(e){e.preventDefault(),o()}},a.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),a.a.createElement("span",null," ",n))),a.a.createElement("p",null,r),i&&i.length>0&&a.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map(function(e,t){return a.a.createElement(xc,{key:t,id:e.id,name:e.name,description:e.description,implementationGuidance:e.implementationGuidance,className:"control-cs"})}))}}])&&Mc(n.prototype,r),o&&Mc(n,o),t}();function Vc(e){return(Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Jc(e,t,n[t])})}return e}function Jc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yc(e,t){return!t||"object"!==Vc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wc(e){return(Wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gc(e,t){return(Gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Yc(this,Wc(t).call(this,e))).state={jiraKey:""},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gc(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this,t=Hc({},this.props),n=t.availableComponents,r=t.selectedComponents,o=t.createJIRATickets,i=t.removeComponent,s=t.addComponent,c=t.finishWithSelection,u=t.saveControls,l=t.extraButtons,p=t.componentTarget,f=t.productAspects,m=t.isStandaloneTask,d=Hc({},this.state).jiraKey,b=f&&f.length>0&&r.length>0;return a.a.createElement("div",{className:"ComponentSelection"},a.a.createElement("div",{className:"main-wrapper"},a.a.createElement(wc,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:s,productAspects:f,componentTarget:p}),a.a.createElement("div",{className:"main-content"},a.a.createElement("div",{className:"heading"},"Selected Components"),a.a.createElement("div",{className:"selected-components"},b>0&&f.map(function(e,t){return a.a.createElement("div",{key:t},vc.doescomponentExistForProductAspect(e,r)&&a.a.createElement("h4",{key:t},e),r.map(function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==p;if(t.productAspect===e)return a.a.createElement(qc,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})}))}),(void 0===f||""===f||0===f.length)&&r.map(function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==p;return a.a.createElement(qc,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})})))),a.a.createElement("div",{className:"buttons-wrapper"},a.a.createElement("div",{className:"extra-buttons"},l),a.a.createElement("div",null,r.length>0&&"JIRA Cloud"===p&&a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=T()(t.target.value).trim();e.setState({jiraKey:n})}}),a.a.createElement(Yr,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){o(d)}})),"Local"===p&&!m&&a.a.createElement(dn,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){u()}}),a.a.createElement(dn,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){c()}}))))}}])&&Kc(n.prototype,o),i&&Kc(n,i),t}();function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eu(e,t){return!t||"object"!==Zc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tu(e){return(tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nu(e,t){return(nu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ru=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eu(this,tu(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nu(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xc(e,t,n[t])})}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,o=e.componentTarget,i=e.productAspects,s=i&&i.length>0&&t.length>0;return a.a.createElement("div",{className:"ComponentSelectionReview"},a.a.createElement("div",{className:"section"},a.a.createElement("h4",null,"Selected Components"),s>0&&i.map(function(e,n){return a.a.createElement("ul",{key:n},vc.doescomponentExistForProductAspect(e,t)&&a.a.createElement("h5",{key:n},e),t.map(function(t,n){if(t.productAspect===e)return a.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)}))}),a.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map(function(e){return a.a.createElement("li",{key:e.id},e.name)}))),"JIRA Cloud"===o&&a.a.createElement("div",{className:"section"},a.a.createElement("h4",null,"Created Jira Tickets"),a.a.createElement("ul",null,n.map(function(e){return a.a.createElement("li",{key:e.id},a.a.createElement("a",{href:e.link,target:"_blank"},e.link))}))),a.a.createElement("div",{className:"buttons"},r))}}])&&$c(n.prototype,r),o&&$c(n,o),t}();function au(e){return(au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){iu(e,t,n[t])})}return e}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cu(e,t){return!t||"object"!==au(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uu(e){return(uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lu(e,t){return(lu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cu(this,uu(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lu(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,ou({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=ou({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,o=e.selectedComponents,i=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,c=e.dispatchCreateJIRATicketsAction,u=e.viewMode,l=e.jiraTickets,p=e.componentTarget;if(!n||!t)return null;var f=null;switch(u){case"edit":f=a.a.createElement(zc,{availableComponents:r,selectedComponents:o,componentTarget:p,isStandaloneTask:!0,createJIRATickets:function(e){c(e)},removeComponent:function(e){s(e)},addComponent:function(e){i(e)},finishWithSelection:function(){D.redirectToHome()}});break;case"review":f=a.a.createElement(ru,{selectedComponents:o,jiraTickets:l},a.a.createElement("div",{className:"buttons"},a.a.createElement(Yr,{title:"BACK TO HOME",onClick:function(){D.redirectToHome()}})))}return a.a.createElement("div",{className:"ComponentSelectionContainer"},a.a.createElement(or,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:n.name}),f,a.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}}])&&su(n.prototype,o),i&&su(n,i),t}(),fu=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}},function(e,t){return{dispatchLoadDataAction:function(){e(ai()),e(Qt()),e(ys())},dispatchAddComponentAction:function(t){e(hs(t))},dispatchRemoveComponentAction:function(t){e(vs(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return t=bs(regeneratorRuntime.mark(function t(n,r){var a,o,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(a=r(),o=a.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,Ee.getCSRFToken();case 9:return i=t.sent,t.next=12,ms.createJiraTickets({jiraKey:e,componentIDList:Dn()(o.map(function(e){return e.id})),csrfToken:i});case 12:return s=t.sent,t.next=15,n(Ss(s));case 15:return t.next=17,n(gs("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),$.displayError(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(pu),mu=n(422),du=n.n(mu);function bu(e){return(bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hu(e,t){return!t||"object"!==bu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vu(e){return(vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gu(e,t){return(gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Su=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hu(this,vu(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gu(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&yu(n.prototype,o),i&&yu(n,i),t}();function Eu(e){return(Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ou(e,t){return!t||"object"!==Eu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Au(e){return(Au=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tu(e,t){return(Tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cu(e,t,n[t])})}return e}function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ou(this,Au(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tu(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,wu({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=wu({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,o=e.taskSubmission,i=e.availableComponents,s=e.selectedComponents,c=e.dispatchAddComponentAction,u=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,p=e.dispatchSaveLocalControlsAction,f=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!o||!t)return null;var d=parseInt(r.id)===parseInt(o.submitter.id)||r.isSA||o.isTaskCollborator,b=("complete"===o.status||"waiting_for_approval"===o.status||"denied"===o.status)&&"submitted"===o.questionnaireSubmissionStatus&&d&&!o.lockWhenComplete,y=a.a.createElement(Yr,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(o.questionnaireSubmissionUUID,n)}}),h=b?a.a.createElement(dn,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:du.a}):null,v=null;switch(o.status){case"start":case"in_progress":if(d){v=a.a.createElement(zc,{availableComponents:i,selectedComponents:s,componentTarget:o.componentTarget,productAspects:o.productAspects,extraButtons:y,createJIRATickets:function(e){l(e)},saveControls:function(){p()},removeComponent:function(e,t){u(e,t)},addComponent:function(e,t){c(e,t)},finishWithSelection:function(){f()}});break}v=a.a.createElement("div",{className:"ComponentSelectionReview"},a.a.createElement("div",{className:"section"},a.a.createElement("h4",null,"Selected Components"),a.a.createElement("br",null),a.a.createElement(Su,null)),a.a.createElement("div",{className:"buttons"},y));break;case"complete":v=a.a.createElement("div",null,a.a.createElement(ru,{selectedComponents:o.selectedComponents,jiraTickets:o.jiraTickets,componentTarget:o.componentTarget,productAspects:o.productAspects,buttons:[a.a.createElement("div",{key:"component-selection-review-button-container"},h,y)]}));break;case"expired":v=a.a.createElement(Ui,null)}return a.a.createElement("div",{className:"ComponentSelectionContainer"},a.a.createElement(or,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:r.name}),v,a.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}}])&&ku(n.prototype,o),i&&ku(n,i),t}(),Iu=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}},function(e,t){return{dispatchLoadDataAction:function(){var n=wu({},t),r=n.uuid,a=n.secureToken;e(Qt()),e(ai()),e(ys()),e(Cs({uuid:r,secureToken:a,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(hs(t,n))},dispatchRemoveComponentAction:function(t,n){e(vs(t,n))},dispatchCreateJIRATicketsAction:function(t){e(Is(t))},dispatchSaveLocalControlsAction:function(){e(Is(""))},dispatchFinishAction:function(){e(Ns())},dispatchEditAnswersAction:function(){e(Ps({type:"componentSelection"}))}}})(_u);function Nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ju=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,a,o){if("awaiting_security_architect_review"===e)return"Waiting for Security Architect Approval - unassigned";if("waiting_for_security_architect_approval"===e){if(n.id==t)return"Waiting for Security Architect Approval - assigned to me";if(n.id!==t)return"Waiting for Security Architect Approval - "+r}if("waiting_for_approval"===e){if("pending"===a&&"pending"===o)return"Waiting for Approval - Business Owner and Chief Information Security Officer";if("pending"!==a&&"pending"===o)return"Waiting for Approval - Business Owner"}return"approved"===e&&"pending"===a&&"approved"===o?"Approved - Chief Information Security Officer Approval Pending":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}}],(n=null)&&Nu(t.prototype,n),r&&Nu(t,r),e}();function Pu(e){return(Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Du(e,t,n[t])})}return e}function Du(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uu(e,t){return!t||"object"!==Pu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mu(e,t){return(Mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fu(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var Qu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Uu(this,Lu(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Ru({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Ru({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,o=e.loadingState;return t&&n&&r?o["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement(or,{title:"My Submission",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-bordered table-hover"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",{className:"text-center"},"Date Created"),a.a.createElement("th",{className:"text-center"},"Pillar"),a.a.createElement("th",{className:"text-center"},"Product Name"),a.a.createElement("th",{className:"text-center"},"Status"),a.a.createElement("th",{className:"text-center"},"Actions"))),a.a.createElement("tbody",null,e.map(function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,Gr()(e.created).format("DD MMM YYYY")),a.a.createElement("td",null,e.questionnaireName),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,ju.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),a.a.createElement("td",null,a.a.createElement("a",{href:n},"View")))}))))):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),a.a.createElement(Tt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&xu(n.prototype,o),i&&xu(n,i),t}(),Bu=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(ai());case 2:return t.next=4,e(function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,_n.fetchQuestionnaireSubmissionList(r.id,"my_submission_list");case 8:a=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:a}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(Qt());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(e){Fu(o,r,a,i,s,"next",e)}function s(e){Fu(o,r,a,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(Qu);function qu(e){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Hu(e,t,n[t])})}return e}function Hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ku(e,t){return!t||"object"!==qu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wu(e,t){return(Wu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gu(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var zu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ku(this,Yu(t).call(this,e))).state={currentApprovalList:"QuestionnaireApproval"},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wu(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Vu({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=Vu({},this.props),n=t.currentUser,r=t.siteConfig,o=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,s=t.loadingState;return n&&o&&r&&i?s["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement(or,{title:"Awaiting Approvals",username:n.name,subtitle:r.siteTitle,logopath:r.logoPath}),a.a.createElement("div",{className:"container text-center tab-container"},a.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button mr-3 active":"tab-button mr-3",onClick:function(){return e.setState({currentApprovalList:"QuestionnaireApproval"})}},"Questionnaire Approvals"),a.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){return e.setState({currentApprovalList:"TaskApproval"})}},"Task Approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&Zu(o,n),"TaskApproval"==this.state.currentApprovalList&&Xu(i,n),a.a.createElement(Tt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Ju(n.prototype,o),i&&Ju(n,i),t}(),Zu=function(e,t){return e.length?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-bordered table-hover"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",{className:"text-center"},"Date Created"),a.a.createElement("th",{className:"text-center"},"Product Name"),a.a.createElement("th",{className:"text-center"},"Business Owner"),a.a.createElement("th",{className:"text-center"},"Submitter"),a.a.createElement("th",{className:"text-center"},"Status"),a.a.createElement("th",{className:"text-center"},"Deliverable Release Date"),a.a.createElement("th",{className:"text-center"},"Actions"))),a.a.createElement("tbody",null,e.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,Gr()(e.created).format("DD MMM YYYY")),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,e.businessOwner),a.a.createElement("td",null,e.submitterName),a.a.createElement("td",null,ju.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),a.a.createElement("td",null,e.releaseDate?Gr()(e.releaseDate).format("DD MMM YYYY"):""),a.a.createElement("td",null,a.a.createElement("a",{href:n},"View")))}))))):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire."))},Xu=function(e,t){return e.length?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-bordered table-hover"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",{className:"text-center"},"Date Created"),a.a.createElement("th",{className:"text-center"},"Task Name"),a.a.createElement("th",{className:"text-center"},"Product Name"),a.a.createElement("th",{className:"text-center"},"Submitter"),a.a.createElement("th",{className:"text-center"},"Status"),a.a.createElement("th",{className:"text-center"},"Actions"))),a.a.createElement("tbody",null,e.map(function(e){var n="#/task/submission/"+e.uuid;return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,Gr()(e.created).format("DD MMM YYYY")),a.a.createElement("td",null,e.taskName),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,e.submitterName),a.a.createElement("td",null,ju.prettifyStatus(e.status,"",t,"","","")),a.a.createElement("td",null,a.a.createElement("a",{href:n},"View")))}))))):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task."))},$u=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(ai());case 2:return t.next=4,e(function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return e.prev=5,e.next=8,_n.fetchQuestionnaireSubmissionList(r.id,"awaiting_approval_list");case 8:a=e.sent,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:a}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(function(){var e=As(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Hn.fetchTaskSubmissionList(r.id,"awaiting_approval_list");case 8:a=e.sent,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:a}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:e.t0});case 16:$.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 6:return t.next=8,e(Qt());case 8:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(e){Gu(o,r,a,i,s,"next",e)}function s(e){Gu(o,r,a,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(zu);function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nl(e,t,n[t])})}return e}function nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t){return!t||"object"!==el(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function il(e,t){return(il=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sl(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}var cl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),al(this,ol(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&il(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,tl({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=tl({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,o=e.loadingState;return t&&n&&r?o["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:a.a.createElement("div",{className:"AnswersPreview"},a.a.createElement(or,{title:"My Products",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-bordered table-hover"},a.a.createElement("thead",null,a.a.createElement("tr",{key:"submission_table_header"},a.a.createElement("th",{className:"text-center"},"Date Created"),a.a.createElement("th",{className:"text-center"},"Product Name"),a.a.createElement("th",{className:"text-center"},"Submitter"),a.a.createElement("th",{className:"text-center"},"Status"),a.a.createElement("th",{className:"text-center"},"Actions"))),a.a.createElement("tbody",null,e.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return a.a.createElement("tr",{key:e.id},a.a.createElement("td",null,Gr()(e.created).format("DD MMM YYYY")),a.a.createElement("td",null,e.productName),a.a.createElement("td",null,e.submitterName),a.a.createElement("td",null,ju.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),a.a.createElement("td",null,a.a.createElement("a",{href:n},"View")))}))))):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),a.a.createElement(Tt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&rl(n.prototype,o),i&&rl(n,i),t}(),ul=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(ai());case 2:return t.next=4,e(function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,_n.fetchQuestionnaireSubmissionList(r.id,"my_product_list");case 8:a=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:a}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(Qt());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(e){sl(o,r,a,i,s,"next",e)}function s(e){sl(o,r,a,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(cl);function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ml(e,t){return!t||"object"!==ll(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dl(e){return(dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bl(e,t){return(bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ml(this,dl(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bl(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pl(e,t,n[t])})}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?a.a.createElement("div",{className:"LikelihoodLegend"},a.a.createElement("h3",null,"Likelihood Legend"),a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-sm"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{key:"likelihood_legend_header"},a.a.createElement("th",null,"Threshold"),a.a.createElement("th",null,"Rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.operator+e.value),a.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&fl(n.prototype,o),i&&fl(n,i),t}();function hl(e){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sl(e,t){return!t||"object"!==hl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function El(e){return(El=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kl(e,t){return(kl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ol=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sl(this,El(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kl(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vl(e,t,n[t])})}return e}({},this.props).impactThresholds;return e&&0!==e.length?a.a.createElement("div",{className:"ImapctLegend"},a.a.createElement("h3",null,"Impact Legend"),a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table table-sm"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{key:"impact_legend_header"},a.a.createElement("th",null,"Threshold"),a.a.createElement("th",null,"Rating"))),a.a.createElement("tbody",null,e.map(function(e,t){return a.a.createElement("tr",{key:t+1},a.a.createElement("td",null,e.operator+e.value),a.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&gl(n.prototype,o),i&&gl(n,i),t}();var Al=n(196),Tl=n.n(Al);function wl(e){return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _l(e,t){return!t||"object"!==wl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Il(e){return(Il=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nl(e,t){return(Nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_l(this,Il(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nl(e,t)}(t,r["Component"]),n=t,(o=[{key:"renderTableHeader",value:function(){return a.a.createElement("tr",{key:"sra_header"},a.a.createElement("th",null,"Risk"),this.props.hasProductAspects&&a.a.createElement("th",null,"Product Aspect"),a.a.createElement("th",null,"Current Controls"),a.a.createElement("th",null,"Current Likelihood"),a.a.createElement("th",null,"Current Impact"),a.a.createElement("th",null,"Current Risk Rating"),a.a.createElement("th",null,"Recommended Treatments"))}},{key:"renderTableBody",value:function(){var e=this;return this.props.hasProductAspects?this.props.calculatedSRAData.map(function(t,n){return t.productAspects.map(function(n,r){var a={riskId:t.riskId,riskName:0==r?"".concat(t.riskName," (").concat(t.baseImpactScore,")"):null,riskDescription:0==r?t.description:null,components:n.components,currentLikelihood:n.currentLikelihood,currentImpact:n.currentImpact,currentRiskRating:n.currentRiskRating};return e.renderTableRow(a,n.productAspectName)})}):this.props.calculatedSRAData.map(function(t,n){var r={riskId:t.riskId,riskName:"".concat(t.riskName," (").concat(t.baseImpactScore,")"),riskDescription:t.description,components:t.riskDetail.components,currentLikelihood:t.riskDetail.currentLikelihood,currentImpact:t.riskDetail.currentImpact,currentRiskRating:t.riskDetail.currentRiskRating};return e.renderTableRow(r)})}},{key:"renderTableRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a.a.createElement("tr",{key:t+"_"+e.riskId},a.a.createElement("td",null,a.a.createElement("span",{style:{display:"block"}},e.riskName),a.a.createElement("small",{className:"text-muted"},e.riskDescription)),this.props.hasProductAspects&&t&&a.a.createElement("td",null,t),a.a.createElement("td",null,this.renderComponents(e.components,"Implemented")),a.a.createElement("td",null,this.renderCurrentLikelihood(e.currentLikelihood)),a.a.createElement("td",null,this.renderCurrentImapct(e.currentImpact)),a.a.createElement("td",{style:e.currentRiskRating.colour?{backgroundColor:e.currentRiskRating.colour}:null},this.renderCurrentRiskRating(e.currentRiskRating)),a.a.createElement("td",null,this.renderComponents(e.components,"Recommened")))}},{key:"renderComponents",value:function(e,t){var n=this;return e&&Array.isArray(e)&&0!=e.length?e.map(function(e,r){var o="Implemented"===t?e.implementedControls:e.recommendedControls;return a.a.createElement("div",{key:r+1},a.a.createElement("strong",{key:e.id},o.length>0?e.name:null),o.length>0&&n.renderControls(o,t))}):null}},{key:"renderControls",value:function(e,t){return e.map(function(e,n){var r=!1;return"Recommened"==t&&(Tl()(e.likelihoodPenalty)>0||Tl()(e.impactPenalty)>0)&&(r=!0),a.a.createElement("div",{key:n+1},a.a.createElement("span",{key:e.id,className:"".concat(r?"font-weight-bold control-title":"font-weight-normal control-title")},e.name," "),a.a.createElement("small",{className:"text-muted"},"( L: ",e.likelihoodWeight,", I: ",e.impactWeight,", LP: ",e.likelihoodPenalty,", IP: ",e.impactPenalty,")"))})}},{key:"renderCurrentLikelihood",value:function(e){return a.a.createElement("div",null,a.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),a.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentImapct",value:function(e){return a.a.createElement("div",null,a.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),a.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentRiskRating",value:function(e){return a.a.createElement("div",null,e.name)}},{key:"render",value:function(){return this.props.calculatedSRAData?a.a.createElement("div",{className:"RiskMatrix"},a.a.createElement("h3",null,"Your risk assessment results"),a.a.createElement("div",{className:"table-responsive"},a.a.createElement("table",{className:"table"},a.a.createElement("thead",{className:"thead-light"},this.renderTableHeader()),a.a.createElement("tbody",null,this.renderTableBody())))):null}}])&&Cl(n.prototype,o),i&&Cl(n,i),t}();function Pl(e){return(Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xl(e,t){return!t||"object"!==Pl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ul(e){return(Ul=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ll(e,t){return(Ll=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ml=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xl(this,Ul(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ll(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rl(e,t,n[t])})}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?a.a.createElement("div",{className:"RiskRatingLegend"},a.a.createElement("h3",null,"Risk Rating Matix"),a.a.createElement("div",{className:"table-responsive"},a.a.createElement("p",{className:"impact-heading"},"Impact"),a.a.createElement("table",{className:"table table-sm table-bordered"},a.a.createElement("thead",{className:"thead-light"},a.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map(function(e,t){return a.a.createElement("th",{key:t},e)}))),a.a.createElement("tbody",null,e.tableRows.map(function(e,t){return a.a.createElement("tr",{key:"row_"+t},e.map(function(e,t){return a.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)}))}))))):null}}])&&Dl(n.prototype,o),i&&Dl(n,i),t}();function Fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ql(e,t,n[t])})}return e}function Ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bl(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function ql(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Bl(o,r,a,i,s,"next",e)}function s(e){Bl(o,r,a,i,s,"throw",e)}i(void 0)})}}function Vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:function(){var e=ql(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fl({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw Q;case 8:return c=JSON.parse(O()(s,"SecurityRiskAssessmentData","")),u={uuid:s&&s.UUID?s.UUID:"",taskName:T()(O()(s,"TaskName","")),status:T()(O()(s,"Status","")),submitterID:T()(O()(s,"Submitter.ID","")),isTaskCollborator:"true"===O()(s,"IsTaskCollborator","false"),questionnaireSubmissionUUID:T()(O()(s,"QuestionnaireSubmission.UUID","")),taskSubmissions:W.parseAlltaskSubmissionforQuestionnaire(s),sraData:c},e.abrupt("return",u);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchImpactThreshold",value:function(){var e=ql(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}",e.next=3,F.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=O()(t,"data.readImpactThreshold",null)){e.next=7;break}throw Q;case 7:return r=n.map(function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&Vl(t.prototype,n),r&&Vl(t,r),e}();function Jl(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Kl(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Jl(o,r,a,i,s,"next",e)}function s(e){Jl(o,r,a,i,s,"throw",e)}i(void 0)})}}function Yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wl(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Yl(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Kl(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,Hl.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return a=e.sent,o={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:a},e.next=9,t(o);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:$.displayError(e.t0);case 16:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}function Gl(e){return(Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Zl(e,t,n[t])})}return e}function Zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $l(e,t){return!t||"object"!==Gl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ep(e){return(ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tp(e,t){return(tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var np=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$l(this,ep(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tp(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=zl({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=zl({},this.props),n=t.siteConfig,r=t.currentUser,o=t.securityRiskAssessmentData,i=t.secureToken,s=t.impactThresholdData;if(!r||!n||!o)return null;var c=zl({},o),u=c.uuid,l=(c.taskName,c.questionnaireSubmissionUUID),p=(c.submitterID,c.taskSubmissions),f=c.sraData,m=(c.status,Ni.isSRATaskFinalised(p),a.a.createElement(dn,{title:"BACK TO QUESTIONNAIRE SUMMARY",classes:["button ml-3"],onClick:function(){D.redirectToQuestionnaireSummary(l,i)}})),d=Ni.isSiblingTaskPending(p),b=o.submitterID===r.id||o.isTaskCollborator,y=!d&&b?a.a.createElement(Yr,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(u,i,l)}}):null;return a.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},a.a.createElement(or,{title:o.taskName,subtitle:n.siteTitle,username:r.name,logopath:n.logoPath}),"expired"===o.status&&a.a.createElement(Ui,null),"expired"!==o.status&&a.a.createElement("div",{className:"SecurityRiskAssessmentResult"},a.a.createElement(jl,{calculatedSRAData:f.calculatedSRAData,hasProductAspects:f.hasProductAspects}),a.a.createElement(yl,{likelihoodThresholds:f.likelihoodThresholds}),a.a.createElement(Ol,{impactThresholds:s}),a.a.createElement(Ml,{riskRatingThresholds:f.riskRatingThresholds}),a.a.createElement("div",{className:"buttons"},m,y)),a.a.createElement(Tt,{footerCopyrightText:n.footerCopyrightText}))}}])&&Xl(n.prototype,o),i&&Xl(n,i),t}(),rp=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}},function(e,t){return{dispatchLoadDataAction:function(t,n){var r;e(ai()),e(Qt()),e(Wl({uuid:t,secureToken:n})),e((r=Kl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hl.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return r.apply(this,arguments)}))},dispatchFinaliseAction:function(t,n,r){e(Ns({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}})(np);function ap(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){op(e,t,n[t])})}return e}function op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ip(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function sp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){ip(o,r,a,i,s,"next",e)}function s(e){ip(o,r,a,i,s,"throw",e)}i(void 0)})}}function cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var up=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:function(){var e=sp(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ap({},t),r=n.uuid,a=n.secureToken,o='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,F.request({query:o});case 4:if(i=e.sent,s=O()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw Q;case 8:return c=JSON.parse(O()(s,"CVATaskData","[]")),Array.isArray(c)||(c=[]),u=c.length>0?Un.parseCVAFromJSONObject(c):c,l={id:T()(O()(s,"ID","")),status:T()(O()(s,"Status","")),uuid:T()(O()(s,"UUID","")),questionnaireSubmissionUUID:T()(O()(s,"QuestionnaireSubmission.UUID","")),taskName:T()(O()(s,"TaskName","")),selectedComponents:u,submitterID:T()(O()(s,"Submitter.ID","")),componentTarget:T()(O()(s,"CVATaskDataSource","")),isTaskCollborator:"true"===O()(s,"IsTaskCollborator","false"),productAspects:_.has(s,"ProductAspects")?JSON.parse(O()(s,"ProductAspects",[])):[],siblingSubmissions:W.parseAlltaskSubmissionforQuestionnaire(s)},e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveControlValidationAuditData",value:function(){var e=sp(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ap({},t),r=n.uuid,a=n.controlData,o=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,F.request({query:s,csrfToken:o});case 5:if(c=e.sent,_.get(c,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw Q;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reSyncWithJira",value:function(){var e=sp(regeneratorRuntime.mark(function e(t){var n,r,a,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ap({},t),r=n.uuid,a=n.csrfToken,o='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,F.request({query:o,csrfToken:a});case 4:if(i=e.sent,s=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw Q;case 8:return c=JSON.parse(O()(s,"CVATaskData","[]")),Array.isArray(c)||(c=[]),u=c.length>0?Un.parseCVAFromJSONObject(c):c,e.abrupt("return",u);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&cp(t.prototype,n),r&&cp(t,r),e}();function lp(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function pp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){lp(o,r,a,i,s,"next",e)}function s(e){lp(o,r,a,i,s,"throw",e)}i(void 0)})}}function fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mp(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fp(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=pp(regeneratorRuntime.mark(function e(t){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,up.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return a=e.sent,o={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:a},e.next=11,t(o);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:$.displayError(e.t0);case 18:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t){return e.apply(this,arguments)}}()}function dp(e){return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yp(e,t,n[t])})}return e}function yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t){return!t||"object"!==dp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gp(e){return(gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sp(e,t){return(Sp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ep(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function kp(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ep(o,r,a,i,s,"next",e)}function s(e){Ep(o,r,a,i,s,"throw",e)}i(void 0)})}}var Op=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=vp(this,gp(t).call(this,e))).state={isCVATaskEditable:!1,canEdit:!1},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sp(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=kp(regeneratorRuntime.mark(function e(){var t,n,r,a,o,i,s,c,u,l,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=bp({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,a=t.secureToken,e.next=3,r(n,a);case 3:try{o=bp({},this.props),i=o.controlValidationAuditData,s=o.currentUser,c=i.submitterID===s.id,u=c||i.isTaskCollborator,l=u,this.setState({canEdit:u,isCVATaskEditable:l}),this.autoSaveCVATask=setInterval(kp(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return e.next=3,p.callAutoSaveCvaTaskApi();case 3:case"end":return e.stop()}},e,this)})),6e5)}catch(e){$.displayError(error)}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.autoSaveCVATask)}},{key:"callAutoSaveCvaTaskApi",value:function(){var e=bp({},this.props),t=e.uuid,n=e.secureToken,r=e.dispatchSaveControlValidationAuditDataAction,a=e.controlValidationAuditData,o=e.cvaSelectedComponents;e.currentUser;r(t,o,a.questionnaireSubmissionUUID,n,!0)}},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;this.props.controlValidationAuditData.componentTarget;return t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?a.a.createElement("div",null,n.map(function(t){return e.renderComponent(t)})):a.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return a.a.createElement("div",null,e.map(function(e,r){var o=t.filter(function(t){return t.productAspect===e});return 0==o.length?null:a.a.createElement("div",{className:"mt-2",key:r},a.a.createElement("h4",null,e),o.map(function(e){return n.renderComponent(e)}))}))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,o=e.jiraTicketLink?a.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return a.a.createElement("div",{key:n},a.a.createElement("h5",null,e.name,o&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&a.a.createElement("span",null," - ",o)),r&&r.length>0&&r.map(function(n){return t.renderControl(n,e)}),!r||0==r.length&&a.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,o=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return a.a.createElement("div",{className:"my-0 container row",key:t},a.a.createElement("div",{className:"col-xs-2"},o.map(function(o,i){return a.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},a.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:o.value,defaultChecked:e.selectedOption===o.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:o.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),o.label)})),a.a.createElement("div",{className:"col-10"},a.a.createElement("label",{key:e.id},a.a.createElement("strong",null,e.name)),a.a.createElement(xc,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:this.state.isCVATaskEditable,updateEvidenceTextareaData:function(t){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return a.a.createElement("div",{className:"my-0",key:t},a.a.createElement("label",{className:"ml-2",key:e.id},a.a.createElement("span",null,a.a.createElement("strong",null,e.name)," - "),a.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=bp({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,o=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,s=e.cvaSelectedComponents,c=e.dispatchReSyncWithJira;if(!n||!r||!t)return null;var u=this.state.isCVATaskEditable&&s.length>0?a.a.createElement(dn,{title:"SUBMIT",onClick:function(){return i(r.uuid,s,r.questionnaireSubmissionUUID,o,!1)}}):null,l=a.a.createElement(Yr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,o)}}),p=this.state.isCVATaskEditable&&"JIRA Cloud"==r.componentTarget&&s.length>0?a.a.createElement(Yr,{title:"RE SYNC WITH JIRA",onClick:function(){return c(r.uuid)}}):null;return a.a.createElement("div",{className:"ControlValidationAuditContainer"},a.a.createElement(or,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),"expired"===r.status&&a.a.createElement(Ui,null),"expired"!==r.status&&a.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},a.a.createElement("div",{className:"ControlValidationAuditForm"},a.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!this.state.canEdit&&a.a.createElement(Su,null),(this.state.canEdit||"complete"==r.status)&&a.a.createElement("div",null,this.renderCVAQuestionsForm())),a.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},a.a.createElement("div",null,u,p,l))),a.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText}))}}])&&hp(n.prototype,o),i&&hp(n,i),t}(),Ap=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:(n=kp(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(mp({uuid:n,secureToken:r})),e(ai()),e(Qt())]);case 2:case"end":return t.stop()}},t,this)})),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,a,o){e(function(e,t,n,r,a){return o=pp(regeneratorRuntime.mark(function o(i){var s,c,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Ee.getCSRFToken();case 3:return s=o.sent,o.next=6,up.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:s});case 6:return c=o.sent,u={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:c},o.next=10,i(u);case 10:a||D.redirectToQuestionnaireSummary(n,r),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(0),$.displayError(o.t0);case 16:case"end":return o.stop()}},o,this,[[0,13]])})),function(e){return o.apply(this,arguments)};var o}(t,n,r,a,o))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n,r;e((n=t,r=pp(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}))},dispatchReSyncWithJira:function(t){e(function(e){return t=pp(regeneratorRuntime.mark(function t(n){var r,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,Ee.getCSRFToken();case 5:return r=t.sent,t.next=8,up.reSyncWithJira({uuid:e,csrfToken:r});case 8:return a=t.sent,o={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:a},t.next=12,n(o);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:$.displayError(t.t0);case 19:case"end":return t.stop()}},t,this,[[2,14]])})),function(e){return t.apply(this,arguments)};var t}(t))}};var n})(Op),Tp=n(45);function wp(e){return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _p(e,t){return!t||"object"!==wp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ip(e){return(Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Np(e,t){return(Np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_p(this,Ip(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Np(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"loading-spinner-page-overlay"},a.a.createElement("div",{className:"loading-spinner"},a.a.createElement(Cc.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&Cp(n.prototype,o),i&&Cp(n,i),t}(),Pp=n(766);function Rp(e){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xp(e,t){return!t||"object"!==Rp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Up(e){return(Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lp(e,t){return(Lp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xp(this,Up(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lp(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",null,this.props.loading&&a.a.createElement(jp,null),a.a.createElement("main",null,a.a.createElement(c.a,null,a.a.createElement(u.a,{exact:!0,path:"/"},function(){return a.a.createElement(Wt,null)}),a.a.createElement(u.a,{path:"/questionnaire/start/:id"},function(e){var t=e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(dr,{questionnaireID:t.params.id}))}),a.a.createElement(u.a,{path:"/questionnaire/submission/:hash"},function(e){var t=e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(co,{submissionHash:t.params.hash}))}),a.a.createElement(u.a,{path:"/questionnaire/review/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Tp.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Zo,{submissionHash:t.params.hash,secureToken:r}))}),a.a.createElement(u.a,{path:"/questionnaire/summary/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Tp.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(os,{submissionHash:t.params.hash,secureToken:r}))}),a.a.createElement(u.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Tp.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement($s,{uuid:t.params.uuid,secureToken:r}))}),a.a.createElement(u.a,{path:"/tasks/standalone/:taskId"},function(e){var t=e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(cc,{taskId:t.params.taskId}))}),a.a.createElement(u.a,{path:"/component-selection/standalone/:taskId"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Tp.parse)(n.search).componentTarget);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(fu,{taskId:t.params.taskId,componentTarget:r}))}),a.a.createElement(u.a,{path:"/component-selection/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Tp.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Iu,{uuid:t.params.uuid,secureToken:r}))}),a.a.createElement(u.a,{path:"/control-validation-audit/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Tp.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Ap,{uuid:t.params.uuid,secureToken:r}))}),a.a.createElement(u.a,{path:"/security-risk-assessment/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(Tp.parse)(n.search).token);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(rp,{uuid:t.params.uuid,secureToken:r}))}),a.a.createElement(u.a,{path:"/MySubmissions"},function(e){e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Bu,null))}),a.a.createElement(u.a,{path:"/AwaitingApprovals"},function(e){e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement($u,null))}),a.a.createElement(u.a,{path:"/MyProducts"},function(e){e.match;return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(ul,null))}))))}}])&&Dp(n.prototype,o),i&&Dp(n,i),t}(),Fp=Object(Pp.a)(Object(s.b)(function(e){return{loading:P.a.chain(e.loadingState).values().some(function(e){return e}).value()}},function(e,t){return{}})(Mp)),Qp=n(764),Bp=n(15),qp=(n(709),{title:"",subtitle:"",pillars:[],tasks:[]});function Vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Hp(e,t,n[t])})}return e}function Hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jp={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},Kp={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var Yp=Object(Bp.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jp,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kp,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex(function(e){return e.id===n.id});if(r<0)return e;var a=Vp({},e);return P.a.set(a,"submission.questions.".concat(r),n),a}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var o=e.submission;if(!o)return e;var i=Vp({},t).targetIndex,s=o.questions.findIndex(function(e){return e.isCurrent});if(i<0||i>=o.questions.length)return e;var c=Vp({},e);return P.a.set(c,"submission.questions.".concat(s,".isCurrent"),!1),P.a.set(c,"submission.questions.".concat(i,".isCurrent"),!0),c}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var u=e.submission;if(!u)return e;var p=Vp({},e),f=t.nonApplicableIndexes;return f&&f.length>0&&f.forEach(function(e){var t=u.questions[e];t.isApplicable=!1,P.a.set(p,"submission.questions.".concat(e),t)}),p}return e}}),Wp=n(77),Gp=n.n(Wp),zp=n(46),Zp=n.n(zp);function Xp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$p(e,t,n[t])})}return e}function $p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ef={taskSubmission:null};function tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nf={user:null};function rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var af={siteConfig:null};var of=n(424),sf=n.n(of);function cf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){uf(e,t,n[t])})}return e}function uf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lf={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},pf=vc.isComponentExist,ff=vc.isSelectedComponentExist;function mf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){df(e,t,n[t])})}return e}function df(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bf={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hf(e,t,n[t])})}return e}function hf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vf={securityRiskAssessmentData:null,impactThresholdData:null};function gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Sf(e,t,n[t])})}return e}function Sf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ef={controlValidationAuditData:null,cvaSelectedComponents:[]};vc.isSelectedComponentExist;function kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Of(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Af={members:null};var Tf=Object(Bp.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:Yp,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ef,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION){if(!n)return e;var r=Xp({},t.payload).resultForCertificationAndAccreditation,a=Gp()(e);return Zp()(a,"taskSubmission.resultForCertificationAndAccreditation",r),a}if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var o=t.payload,i=n.questions.findIndex(function(e){return e.id===o.id});if(i<0)return e;var s=Gp()(e);return Zp()(s,"taskSubmission.questions.".concat(i),o),s}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var c=Gp()(e),u=t.payload;return u&&u.length>0&&u.forEach(function(e){var t=n.questions[e];t.isApplicable=!1,Zp()(c,"taskSubmission.questions.".concat(e),t)}),c}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var p=Xp({},t.payload),f=p.currentIndex,m=p.targetIndex;if(m<0||m>=n.questions.length)return e;var d=Gp()(e);return Zp()(d,"taskSubmission.questions.".concat(f,".isCurrent"),!1),Zp()(d,"taskSubmission.questions.".concat(m,".isCurrent"),!0),d}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var b=Gp()(e);return Zp()(b,"taskSubmission.status","complete"),t.payload&&Zp()(b,"taskSubmission.result",t.payload),b}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var y=Gp()(e);return Zp()(y,"taskSubmission.status","in_progress"),Zp()(y,"taskSubmission.result",null),y}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){tf(e,t,n[t])})}return e}({},e,{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:af,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rf(e,t,n[t])})}return e}({},e,{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lf,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS)return cf({},e,{availableComponents:t.payload});if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var n=t,r=n.payload.id,a=n.payload.productAspect;if(!ff(r,a,e.selectedComponents)&&pf(r,e.availableComponents)){var o=e.availableComponents.filter(function(e){return e.id===r}),i=Object.assign({},o[0]);return i.productAspect=a,cf({},e,{selectedComponents:sf()(e.selectedComponents,i)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var s=t,c=s.payload.id,u=s.payload.productAspect;if(ff(c,u,e.selectedComponents)&&pf(c,e.availableComponents))return cf({},e,{selectedComponents:e.selectedComponents.filter(function(e){return e.id!==c||e.productAspect!==u})})}return t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS?cf({},e,{jiraTickets:t.payload}):t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE?cf({},e,{viewMode:t.payload}):t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS?cf({},e,{selectedComponents:t.payload}):e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bf,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?mf({},e,{awaitingApprovalList:t.payload}):t.type===l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?mf({},e,{awaitingApprovalTaskList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?mf({},e,{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?mf({},e,{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vf,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?yf({},e,{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?yf({},e,{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ef,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),gf({},e,{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var a=t.payload.selectedOption,o=t.payload.productAspect,i=t.payload.controlID,s=t.payload.componentID,c=t.payload.implementationEvidenceUserInput,u=Object(j.cloneDeep)(e.cvaSelectedComponents),p=[];if((p=""!==o?u.filter(function(e){return e.id==s&&e.productAspect==o}):u.filter(function(e){return e.id==s})).length>0){var f=p[0].controls.filter(function(e){return e.id==i});if(f.length>0)return f[0].selectedOption=a,f[0].implementationEvidenceUserInput=c,gf({},e,{cvaSelectedComponents:u})}}return t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS?gf({},e,{cvaSelectedComponents:t.payload}):t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA?gf({},e,{controlValidationAuditData:t.payload,cvaSelectedComponents:[]}):e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).type,n=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(t);if(!n)return e;var r=Of(n,3);r[0];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){kf(e,t,n[t])})}return e}({},e,kf({},r[1],"REQUEST"===r[2]))},memberState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Af,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.LOAD_MEMBER:return t.payload;default:return e}}}),wf=n(425),Cf=[p.a];var _f=Object(Bp.createStore)(Tf,Object(wf.composeWithDevTools)(Bp.applyMiddleware.apply(void 0,Cf)));function If(e){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jf(e,t){return!t||"object"!==If(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pf(e){return(Pf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rf(e,t){return(Rf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Df(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xf(e,t,n[t])})}return e}function xf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),jf(this,Pf(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rf(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){(0,Df({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Df({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,o=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?a.a.createElement("div",{className:"TaskSubmissionContainer"},a.a.createElement(or,{title:n.taskName,subtitle:t.siteTitle,showLogoutButton:!1,logopath:t.logoPath}),a.a.createElement(Hs,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:o,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),a.a.createElement(Tt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Nf(n.prototype,o),i&&Nf(n,i),t}(),Lf=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(){var n=Df({},t),r=n.uuid,a=n.secureToken;e(Cs({uuid:r,secureToken:a})),e(Qt())},dispatchSaveAnsweredQuestionAction:function(n){var r=Df({},t).secureToken;e(_s({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=Df({},t).secureToken;e(js({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=Df({},t).secureToken;e(Ps({secureToken:n}))}}})(Uf);function Mf(e){return(Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ff(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qf(e,t){return!t||"object"!==Mf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bf(e){return(Bf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qf(e,t){return(qf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qf(this,Bf(t).apply(this,arguments))}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qf(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("main",null,a.a.createElement(c.a,null,a.a.createElement(u.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(Tp.parse)(n.search);return a.a.createElement("div",{className:"gray-bg"},a.a.createElement(Lf,{uuid:t.params.uuid,secureToken:r.token||""}))}))))}}])&&Ff(n.prototype,o),i&&Ff(n,i),t}();window.addEventListener("load",function(){Sa.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(a.a.createElement(Qp.a,null,a.a.createElement(s.a,{store:_f},a.a.createElement(Fp,null))),e);var t=document.getElementById("vendor-app");t&&i.a.render(a.a.createElement(Qp.a,null,a.a.createElement(s.a,{store:_f},a.a.createElement(Vf,null))),t)})},91:function(e,t,n){e.exports=n.p+"../img/dab319c4a5240b45e9eacf3657dabef9.svg"},93:function(e,t,n){e.exports=n.p+"../img/49c23560990f01bdb9dbb0aca57ebc16.svg"},94:function(e,t,n){e.exports=n.p+"../img/00e771ee64f774bb995c8301a0276310.svg"},95:function(e,t,n){e.exports=n.p+"../img/7f858504e1409f70135d863bcb581914.svg"}});
//# sourceMappingURL=main.bundle.js.map