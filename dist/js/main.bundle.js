!function(e){function t(t){for(var r,o,a=t[0],i=t[1],c=t[2],s=0,u=[];s<a.length;s++)o=a[s],Object.prototype.hasOwnProperty.call(I,o)&&I[o]&&u.push(I[o][0]),I[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(B&&B(t);u.length;)u.shift()();return N.push.apply(N,c||[]),n()}function n(){for(var e,t=0;t<N.length;t++){for(var n=N[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==I[a]&&(r=!1)}r&&(N.splice(t--,1),e=R(R.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!S[e])return;for(var n in S[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--v&&0===g&&A()}(e,t),r&&r(e,t)};var o,a=!0,i="d2669929526042f12f64",c={},s=[],u=[];function l(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(y={})[t]=e[t],m("ready");break;case"ready":C(t);break;case"prepare":case"check":case"dispose":case"apply":(h=h||[]).push(t)}},check:k,apply:j,status:function(e){if(!e)return f;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var t=p.indexOf(e);t>=0&&p.splice(t,1)},data:c[t]};return o=void 0,n}var p=[],f="idle";function m(e){f=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var d,y,b,h,v=0,g=0,O={},S={},E={};function w(e){return+e+""===e?+e:e}function k(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return a=e,m("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=R.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m(P()?"ready":"idle"),null;S={},O={},E=e.c,b=e.h,m("prepare");var t=new Promise((function(e,t){d={resolve:e,reject:t}}));for(var n in y={},I)T(n);return"prepare"===f&&0===g&&0===v&&A(),t}));var t}function T(e){var t;E[e]?(S[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=R.p+"hot/hot-update.js",document.head.appendChild(t)):O[e]=!0}function A(){m("ready");var e=d;if(d=null,e)if(a)Promise.resolve().then((function(){return j(a)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(w(n));e.resolve(t)}}function j(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function t(n){var r,a,u,l,p;function f(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),a=o.id,i=o.chain;if((l=_[a])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var c=0;c<l.parents.length;c++){var s=l.parents[c],u=_[s];if(u){if(u.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([s]),moduleId:a,parentId:s};-1===t.indexOf(s)&&(u.hot._acceptedDependencies[a]?(n[s]||(n[s]=[]),d(n[s],[a])):(delete n[s],t.push(s),r.push({chain:i.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}P();var v={},g=[],O={},S=function(){console.warn("[HMR] unexpected require("+T.moduleId+") to disposed module")};for(var k in y)if(Object.prototype.hasOwnProperty.call(y,k)){var T;p=w(k),T=y[k]?f(p):{type:"disposed",moduleId:k};var A=!1,j=!1,C=!1,N="";switch(T.chain&&(N="\nUpdate propagation: "+T.chain.join(" -> ")),T.type){case"self-declined":n.onDeclined&&n.onDeclined(T),n.ignoreDeclined||(A=new Error("Aborted because of self decline: "+T.moduleId+N));break;case"declined":n.onDeclined&&n.onDeclined(T),n.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+T.moduleId+" in "+T.parentId+N));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(T),n.ignoreUnaccepted||(A=new Error("Aborted because "+p+" is not accepted"+N));break;case"accepted":n.onAccepted&&n.onAccepted(T),j=!0;break;case"disposed":n.onDisposed&&n.onDisposed(T),C=!0;break;default:throw new Error("Unexception type "+T.type)}if(A)return m("abort"),Promise.reject(A);if(j)for(p in O[p]=y[p],d(g,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,p)&&(v[p]||(v[p]=[]),d(v[p],T.outdatedDependencies[p]));C&&(d(g,[T.moduleId]),O[p]=S)}var D,x=[];for(a=0;a<g.length;a++)p=g[a],_[p]&&_[p].hot._selfAccepted&&O[p]!==S&&!_[p].hot._selfInvalidated&&x.push({module:p,parents:_[p].parents.slice(),errorHandler:_[p].hot._selfAccepted});m("dispose"),Object.keys(E).forEach((function(e){!1===E[e]&&function(e){delete I[e]}(e)}));var U,B,L=g.slice();for(;L.length>0;)if(p=L.pop(),l=_[p]){var M={},F=l.hot._disposeHandlers;for(u=0;u<F.length;u++)(r=F[u])(M);for(c[p]=M,l.hot.active=!1,delete _[p],delete v[p],u=0;u<l.children.length;u++){var q=_[l.children[u]];q&&((D=q.parents.indexOf(p))>=0&&q.parents.splice(D,1))}}for(p in v)if(Object.prototype.hasOwnProperty.call(v,p)&&(l=_[p]))for(B=v[p],u=0;u<B.length;u++)U=B[u],(D=l.children.indexOf(U))>=0&&l.children.splice(D,1);m("apply"),void 0!==b&&(i=b,b=void 0);for(p in y=void 0,O)Object.prototype.hasOwnProperty.call(O,p)&&(e[p]=O[p]);var Q=null;for(p in v)if(Object.prototype.hasOwnProperty.call(v,p)&&(l=_[p])){B=v[p];var H=[];for(a=0;a<B.length;a++)if(U=B[a],r=l.hot._acceptedDependencies[U]){if(-1!==H.indexOf(r))continue;H.push(r)}for(a=0;a<H.length;a++){r=H[a];try{r(B)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:p,dependencyId:B[a],error:e}),n.ignoreErrored||Q||(Q=e)}}}for(a=0;a<x.length;a++){var V=x[a];p=V.module,s=V.parents,o=p;try{R(p)}catch(e){if("function"==typeof V.errorHandler)try{V.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:t,originalError:e}),n.ignoreErrored||Q||(Q=t),Q||(Q=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:p,error:e}),n.ignoreErrored||Q||(Q=e)}}if(Q)return m("fail"),Promise.reject(Q);if(h)return t(n).then((function(e){return g.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return m("idle"),new Promise((function(e){e(g)}))}(t=t||{})}function P(){if(h)return y||(y={}),h.forEach(C),h=void 0,!0}function C(t){Object.prototype.hasOwnProperty.call(y,t)||(y[t]=e[t])}var _={},I={2:0},N=[];function R(t){if(_[t])return _[t].exports;var n=_[t]={i:t,l:!1,exports:{},hot:l(t),parents:(u=s,s=[],u),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=_[e];if(!t)return R;var n=function(n){return t.hot.active?(_[n]?-1===_[n].parents.indexOf(e)&&_[n].parents.push(e):(s=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),R(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return R[e]},set:function(t){R[e]=t}}};for(var a in R)Object.prototype.hasOwnProperty.call(R,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===f&&m("prepare"),g++,R.e(e).then(t,(function(e){throw t(),e}));function t(){g--,"prepare"===f&&(O[e]||T(e),0===g&&0===v&&A())}},n.t=function(e,t){return 1&t&&(e=n(e)),R.t(e,-2&t)},n}(t)),n.l=!0,n.exports}R.m=e,R.c=_,R.d=function(e,t,n){R.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},R.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},R.t=function(e,t){if(1&t&&(e=R(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(R.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)R.d(n,r,function(t){return e[t]}.bind(null,r));return n},R.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return R.d(t,"a",t),t},R.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},R.p="/resources/themes/sdlt/dist/img/",R.h=function(){return i};var D=window.webpackJsonp=window.webpackJsonp||[],x=D.push.bind(D);D.push=t,D=D.slice();for(var U=0;U<D.length;U++)t(D[U]);var B=x;N.push([637,0]),n()}({100:function(e,t,n){e.exports=n.p+"../img/de677722d74728fea0aa7cb12a510519.svg"},1066:function(e,t){},1109:function(e,t,n){"use strict";n.r(t);n(638),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(657),n(658),n(659),n(660),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(674),n(218),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(686),n(687),n(688),n(690),n(691),n(692),n(364),n(693),n(694),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(705),n(706),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(716),n(717),n(719),n(720),n(721),n(722),n(723),n(724),n(726),n(728),n(729),n(730),n(731),n(732),n(733),n(734),n(735),n(736),n(737),n(738),n(739),n(740),n(741),n(742),n(743),n(744),n(745),n(746),n(747),n(748),n(749),n(750),n(751),n(753),n(754),n(766),n(767),n(768),n(769),n(770),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(296),n(786),n(787),n(788),n(789),n(790),n(792),n(793),n(794),n(795),n(796),n(390),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(811),n(813),n(814),n(815),n(816),n(817),n(818),n(819),n(820),n(821),n(822),n(823),n(824),n(825),n(826),n(828),n(829),n(830),n(831),n(832),n(833),n(834),n(835),n(836),n(837),n(838),n(839),n(840),n(843),n(844),n(845),n(846),n(847),n(848),n(849),n(850),n(851),n(853),n(854),n(855),n(856),n(857),n(858),n(859),n(860),n(861),n(862),n(863),n(864),n(865),n(867),n(869),n(870),n(871),n(873),n(874),n(877),n(878),n(879),n(882),n(883),n(884),n(887),n(888),n(889);var r=n(0),o=n.n(r),a=n(17),i=n.n(a),c=n(20),s=n(42),u={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE",ADD_COLLABORATOR:"QUESTIONNAIRE/ADD_COLLABORATOR"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION:"TASK/LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE",ADD_TASK_RECOMMENDATION:"TASK/ADD_RECOMMENDATION"},PAGINATION:{FETCH_NEXT_PAGE:"PAGINATION/FETCH_NEXT_PAGE",FETCH_PREV_PAGE:"PAGINATION/FETCH_PREV_PAGE",FETCH_FIRST_PAGE:"PAGINATION/FETCH_FIRST_PAGE",FETCH_LAST_PAGE:"PAGINATION/FETCH_LAST_PAGE",SET_SELECTED_ROWS:"PAGINATION/SET_SELECTED_ROWS",RESET_PAGINATION:"PAGINATION/RESET"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD",UPDATE_CVA_CONTROL_STATUS:"SRA/UPDATE_CVA_CONTROL_STATUS",UPDATE_CVA_CONTROL_DETAIL_DATA:"SRA/UPDATE_CVA_CONTROL_DETAIL_DATA"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER",LOAD_MEMBER:"USER/LOAD_MEMBER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},l=n(337),p=n.n(l),f=n(586),m=n.n(f),d=n(587),y=n.n(d),b=n(588),h=n.n(b),v=n(589),g=n.n(v),O=n(3),S=n.n(O),E=n(8),w=n.n(E),k=n(590),T=n.n(k),A=n(243),j=n.n(A),P=n(1),C=n.n(P);function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="/task/submission/".concat(e);if(t&&r?o="/task/submission/".concat(e,"?token=").concat(t,"&component=").concat(r):t?o="/task/submission/".concat(e,"?token=").concat(t):r&&(o="/task/submission/".concat(e,"?component=").concat(r)),"urlString"==n)return o;window.location.href="/#".concat(o)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="/security-risk-assessment/submission/".concat(e);if(t&&r?o="/security-risk-assessment/submission/".concat(e,"?token=").concat(t,"&component=").concat(r):t?o="/security-risk-assessment/submission/".concat(e,"?token=").concat(t):r&&(o="/security-risk-assessment/submission/".concat(e,"?component=").concat(r)),"urlString"==n)return o;window.location.href="/#".concat(o)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o="/control-validation-audit/submission/".concat(e);if(t&&r?o="/control-validation-audit/submission/".concat(e,"?token=").concat(t,"&component=").concat(r):t?o="/control-validation-audit/submission/".concat(e,"?token=").concat(t):r&&(o="/control-validation-audit/submission/".concat(e,"?component=").concat(r)),"urlString"==n)return o;window.location.href="/#".concat(o)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}},{key:"redirectToApprovals",value:function(){window.location.href="#/AwaitingApprovals"}},{key:"redirectToSubmissions",value:function(){window.location.href="#/MySubmissions"}}],(n=null)&&I(t.prototype,n),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"request",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),c={query:T()(r),variables:o},e.next=6,j.a.request({url:"/graphql",method:"post",data:c,headers:i});case 6:if(s=e.sent,u=s.data,!(l=C.a.get(u,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){U(a,n,r,i,c,"next",e)}function c(e){U(a,n,r,i,c,"throw",e)}i(void 0)}))},function(e){return a.apply(this,arguments)})}],n&&B(t.prototype,n),r&&B(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),M=new Error("There is an error when fetching data..."),F=new Error("There is an error when parsing data...");function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw F;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&C.a.keys(t).forEach((function(e){n[C.a.toString(e)]=t[e]})),n}(r),i=function(e){var t="";return C.a.keys(e).forEach((function(n){var r=e[n];!t&&Boolean(C.a.get(r,"isCurrent",!1))&&(t=n)})),t}(a);return o.map((function(e,t){var n=C.a.toString(C.a.get(e,"ID","")),r=Boolean(C.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(C.a.get(a,"".concat(n,".isApplicable"),!0)),c=!1;c=i?i===n:0===t;var s=null,u=null,l=r?C.a.get(a,"".concat(n,".inputs"),[]):[],p=r?C.a.get(a,"".concat(n,".actions"),[]):[],f=C.a.get(e,"AnswerInputFields",[]),m=C.a.get(e,"AnswerActionFields",[]);f&&Array.isArray(f)&&f.length>0&&(s=f.map((function(e){var t=C.a.toString(C.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox"),["text","email","textarea","rich text editor","service register","information classification","dropdown","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=C.a.toString(C.a.get(e,"ID","")),r={id:n,label:C.a.toString(C.a.get(e,"Label","")),type:t,required:Boolean(C.a.toInteger(C.a.get(e,"Required",!1))),minLength:Number.parseInt(C.a.toString(C.a.get(e,"MinLength",0))),maxLength:Number.parseInt(C.a.toString(C.a.get(e,"MaxLength",0))),placeholder:C.a.toString(C.a.get(e,"PlaceHolder","")),options:C.a.has(e,"MultiChoiceAnswer")?JSON.parse(C.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:C.a.has(e,"MultiChoiceSingleAnswerDefault")?C.a.toString(C.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:C.a.has(e,"MultiChoiceMultipleAnswerDefault")?C.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=C.a.head(l.filter((function(e){return e.id===n})));if(o){var a=C.a.toString(C.a.get(o,"data",null));a&&(r.data=a)}}return r}))),m&&Array.isArray(m)&&m.length>0&&(u=m.map((function(e){var t=C.a.toString(C.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=C.a.toString(C.a.get(e,"ID","")),r={id:n,label:C.a.toString(C.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=C.a.toString(C.a.get(e,"Message",""))),"goto"===t&&(r.goto=C.a.toString(C.a.get(e,"GotoID",""))),"finish"===t&&(r.result=C.a.toString(C.a.get(e,"Result","")));var o=C.a.toString(C.a.get(e,"TaskID",""));if(r.taskID=o,p&&Array.isArray(p)&&p.length>0){var a=C.a.head(p.filter((function(e){return e.id===n})));if(a){var i=Boolean(C.a.get(a,"isChose",!1));r.isChose=i}}return r})));var d={id:n,title:C.a.toString(C.a.get(e,"Title","")),heading:C.a.toString(C.a.get(e,"QuestionHeading","")),description:C.a.toString(C.a.get(e,"Description","")),type:C.a.toString(C.a.get(e,"AnswerFieldType","")).toLowerCase(),isCurrent:c,hasAnswer:r,isApplicable:o};if(C.a.isEmpty(C.a.get(d,"heading"))){var y=C.a.toString(C.a.get(e,"Question",""));C.a.set(d,"heading",y)}return s&&(d.inputs=s),u&&(d.actions=u),d}))}}],(n=null)&&H(t.prototype,n),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),J=n(111),K=n.n(J);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=w()(S()(e,"ID","")),n=w()(S()(e,"Name","")),r=w()(S()(e,"ComponentTarget","")),o=w()(S()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=w()(S()(e,"QuestionsDataJSON",""));return i&&(a=V.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?K()(t).map((function(e){return{name:w()(S()(e,"Name")),value:w()(S()(e,"Value")),operator:w()(S()(e,"Operator")),colour:w()(S()(e,"Colour"))}})):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=S()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===S()(e,"Submission.TaskType","")?[]:t?t.map((function(e){return{uuid:w()(S()(e,"UUID")),taskType:w()(S()(e,"TaskType")),status:w()(S()(e,"Status"))}})):[]}},{key:"parseServiceRegister",value:function(e){return e.map((function(e){return{value:w()(S()(e,"ID")),label:w()(S()(e,"ServiceName"))}}))}}],(n=null)&&Y(t.prototype,n),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function W(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchHomeData",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,L.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=S()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw M;case 7:return r=n[0],o=w()(S()(r,"Title","")),a=w()(S()(r,"Subtitle","")),i=S()(r,"Pillars",[]),c=this.parsePillars(i),s=S()(r,"Tasks",[]),u=this.parseTasks(s),e.abrupt("return",{title:o,subtitle:a,pillars:c,tasks:u});case 15:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){W(a,n,r,i,c,"next",e)}function c(e){W(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map((function(e){var t=p.a;switch(e.Type){case"proof_of_concept":t=p.a;break;case"software_as_service":t=m.a;break;case"product_project_or_solution":t=y.a;break;case"feature_or_bug_fix":t=h.a;break;case"risk_questionnaire":t=g.a}return{title:w()(S()(e,"Label","")),disabled:Boolean(S()(e,"Disabled",!0)),questionnaireID:w()(S()(e,"Questionnaire.0.ID","")),icon:t}})):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach((function(e){var n=G.parseFromJSONObject(e);t.push(n)})),t}}],n&&z(t.prototype,n),r&&z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&Z(t.prototype,n),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ee(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function te(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.fetchHomeData();case 3:n=e.sent,r={type:u.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),X.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ee(a,r,o,i,c,"next",e)}function c(e){ee(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}var ne=n(38);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(i,e);var t,n,r,a=ue(i);function i(){return ie(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(oe(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(ne.c,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&ce(t.prototype,n),r&&ce(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){if(t&&("object"===me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(i,e);var t,n,r,a=ge(i);function i(){return be(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=["TaskButton"].concat(de(this.props.classes));return o.a.createElement(ne.c,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&he(t.prototype,n),r&&he(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),we=n(592),ke=n.n(we);function Te(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"getCSRFToken",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=C.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){Te(a,n,r,i,c,"next",e)}function c(e){Te(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&Ae(t.prototype,n),r&&Ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Be(e);if(t){var o=Be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(s,e);var t,n,r,a,i,c=xe(s);function s(){return Ne(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:ke.a}),"Log out"))}},{key:"logout",value:(a=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ce(o,n,r,i,c,"next",e)}function c(e){Ce(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&Re(t.prototype,n),r&&Re(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);Le.defaultProps={classes:[]};var Me=Le,Fe=n(593),qe=n.n(Fe);function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}function ze(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(s,e);var t,n,r,a,i,c=We(s);function s(){return Ke(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),n=t.classes,r=t.showApprovalBreadcrumb,a=!1;return("#/AwaitingApprovals"==window.location.hash||r)&&(a=!0),o.a.createElement("button",{className:"HeaderButton ".concat(n.join(" ")).concat(a?"active":""),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:qe.a}),"Approvals"))}},{key:"awaitingApprovals",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){He(o,n,r,i,c,"next",e)}function c(e){He(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&Ye(t.prototype,n),r&&Ye(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);Ze.defaultProps={classes:[]};var Xe=Ze,et=n(594),tt=n.n(et);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pt(e);if(t){var o=pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&st(e,t)}(s,e);var t,n,r,a,i,c=ut(s);function s(){return it(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),n=t.classes,r=t.showSubmissionBreadcrumb,a=!1;return("#/MySubmissions"==window.location.hash||r)&&(a=!0),o.a.createElement("button",{className:"HeaderButton ".concat(n.join(" ")).concat(a?"active":""),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:tt.a}),"Submissions"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){rt(o,n,r,i,c,"next",e)}function c(e){rt(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&ct(t.prototype,n),r&&ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);ft.defaultProps={classes:[]};var mt=ft,dt=n(595),yt=n.n(dt);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tt(e);if(t){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kt(this,n)}}function kt(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}(s,e);var t,n,r,a,i,c=wt(s);function s(){return Ot(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes,n=!1;return"#/"==window.location.hash&&(n=!0),o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")).concat(n?"active":""),onClick:function(){e.homepage()}},o.a.createElement("div",null,o.a.createElement("img",{src:yt.a,className:"home-icon"}),"Home"))}},{key:"homepage",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="/";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){ht(o,n,r,i,c,"next",e)}function c(e){ht(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&St(t.prototype,n),r&&St(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);At.defaultProps={classes:[]};var jt=At,Pt=n(1154),Ct=n(1176),_t=n(339),It=n.n(_t);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qt(e);if(t){var o=qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(e,t){if(t&&("object"===Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qt,Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}(i,e);var t,n,r,a=Mt(i);function i(){var e;Ut(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).getApprovalsBreadcrumb=function(e){return e?o.a.createElement(Pt.a,{onClick:function(){return N.redirectToApprovals()}},"My approvals"):o.a.createElement(Pt.a,{onClick:function(){return N.redirectToSubmissions()}},"My submissions")},e.getProductNameBreadcrumb=function(t,n){if(!n)return o.a.createElement(Pt.a,{onClick:function(){return e.sendBackToQuestionnaireSummaryPage()}},t||"Product")},e.getSraBreadcrumb=function(){return o.a.createElement(Pt.a,{onClick:function(){return e.sendBackToSecurityRiskAssessment()}},e.props.sraTaskName)},e.getCvaBreadcrumb=function(){return o.a.createElement(Pt.a,{onClick:function(){return e.sendBackToControlValidationAudit()}},e.props.cvaTaskName)},e}return t=i,(n=[{key:"sendBackToQuestionnaireSummaryPage",value:function(){N.redirectToQuestionnaireSummary(this.props.questionnaireSubmissionUUID)}},{key:"sendBackToSecurityRiskAssessment",value:function(){var e=Dt({},this.props),t=e.sraTaskSubmissionUUID,n=e.secureToken,r=e.component;N.redirectToSecurityRiskAssessment(t,n,"redirect",r)}},{key:"sendBackToControlValidationAudit",value:function(){var e=Dt({},this.props),t=e.cvaTaskSubmissionUUID,n=e.secureToken,r=e.component;N.redirectToControlValidationAudit(t,n,"redirect",r)}},{key:"render",value:function(){var e=this.props,t=e.match.path,n=e.productName,r=e.showApprovalBreadcrumb,a=e.isTaskApprover;return o.a.createElement(Ct.a,{separator:o.a.createElement(It.a,{fontSize:"inherit"}),"aria-label":"breadcrumb"},o.a.createElement(Pt.a,{onClick:function(){return N.redirectToHome()}},"Home"),"/questionnaire/summary/:hash"==t||"/task/submission/:uuid"==t||"/security-risk-assessment/submission/:uuid"==t||"/control-validation-audit/submission/:uuid"==t||"/component-selection/submission/:uuid"==t||"/control-detail-page/"==t?this.getApprovalsBreadcrumb(r):null,"/task/submission/:uuid"==t||"/security-risk-assessment/submission/:uuid"==t||"/control-validation-audit/submission/:uuid"==t||"/component-selection/submission/:uuid"==t||"/control-detail-page/"==t?this.getProductNameBreadcrumb(n,a):null,!this.props.comingFrom&&o.a.createElement(Ct.a,{separator:o.a.createElement(It.a,{fontSize:"inherit"}),"aria-label":"breadcrumb"}),"sra"==this.props.comingFrom&&this.getSraBreadcrumb(),"cva"==this.props.comingFrom&&this.getCvaBreadcrumb())}}])&&Bt(t.prototype,n),r&&Bt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Vt=Object(s.g)(Ht);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xt(e);if(t){var o=Xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zt(this,n)}}function Zt(e,t){if(t&&("object"===Jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zt(e,t)}(i,e);var t,n,r,a=$t(i);function i(){return Gt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.pageTitle,n=e.logopath,r=e.showLogoutButton,a=e.productName,i=e.isTaskApprover,c=e.questionnaireSubmissionUUID,s=e.showApprovalBreadcrumb,u=e.showSubmissionBreadcrumb,l=e.subHeaderImagePath,p=e.component,f=e.sraTaskSubmissionUUID,m=e.cvaTaskSubmissionUUID,d=e.comingFrom,y=e.sraTaskName,b=e.cvaTaskName,h=!1;return"#/"==window.location.hash&&(h=!0),o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"main-header"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:n,className:"logo"})),o.a.createElement("div",{className:"header-buttons"},o.a.createElement(jt,null),o.a.createElement(mt,{showSubmissionBreadcrumb:u}),o.a.createElement(Xe,{showApprovalBreadcrumb:s}),r&&o.a.createElement(Me,null))),h?o.a.createElement("div",{className:"homepage-subheader",style:{backgroundImage:'url("'.concat(l,'")')}}):o.a.createElement("div",{className:"breadcrumbs-subheader"},o.a.createElement(Vt,{productName:a,questionnaireSubmissionUUID:c,showApprovalBreadcrumb:s,isTaskApprover:i,sraTaskSubmissionUUID:f,cvaTaskSubmissionUUID:m,comingFrom:d,sraTaskName:y,cvaTaskName:b,component:p}),o.a.createElement("h1",null,""!==p?"".concat(t," (").concat(p,")"):t)))}}])&&Wt(t.prototype,n),r&&Wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);en.defaultProps=(Yt(Qt={pageTitle:"",logopath:"",showLogoutButton:!0,productName:"",isTaskApprover:!1,showApprovalBreadcrumb:!1,showSubmissionBreadcrumb:!1,subHeaderImagePath:"",component:"",sraTaskName:"",questionnaireSubmissionUUID:"",cvaTaskSubmissionUUID:"",sraTaskSubmissionUUID:"",comingFrom:""},"sraTaskName",""),Yt(Qt,"cvaTaskName",""),Qt);var tn=en;function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){an(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fn(e);if(t){var o=fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn(this,n)}}function pn(e,t){if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&un(e,t)}(i,e);var t,n,r,a=ln(i);function i(){return cn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=on({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks,i=on({},this.props.siteConfig),c=i.logoPath,s=i.homePageSubHeaderImagePath;return o.a.createElement("div",{className:"Home"},o.a.createElement(tn,{logopath:c,subHeaderImagePath:s}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:c,className:"homepage-layout-logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map((function(e,t){return o.a.createElement(fe,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})})))),o.a.createElement("div",{className:"tasks"},a.map((function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(Ee,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})})))))}}])&&sn(t.prototype,n),r&&sn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=En(e);if(t){var o=En(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(e,t){if(t&&("object"===dn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gn(e,t)}(i,e);var t,n,r,a=On(i);function i(){return hn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).footerCopyrightText;return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,e))}}])&&vn(t.prototype,n),r&&vn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);wn.defaultProps={footerCopyrightText:""};var kn=wn,Tn=n(324),An=n.n(Tn),jn=n(596),Pn=n.n(jn),Cn=n(597),_n=n.n(Cn),In=n(598),Nn=n.n(In),Rn=n(599),Dn=n.n(Rn);function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:w()(S()(t,"Title")||"NZTA SDLT"),footerCopyrightText:w()(S()(t,"FooterCopyrightText","")||n),logoPath:w()(S()(t,"LogoPath","")||Pn.a),homePageBackgroundImagePath:w()(S()(t,"HomePageBackgroundImagePath","")||An.a),pdfHeaderImageLink:w()(S()(t,"PdfHeaderImageLink","")||_n.a),pdfFooterImageLink:w()(S()(t,"PdfFooterImageLink","")||Nn.a),securityTeamEmail:w()(S()(t,"SecurityTeamEmail")||""),homePageSubHeaderImagePath:w()(S()(t,"HomePageSubHeaderImagePath","")||Dn.a)}}}],(n=null)&&xn(t.prototype,n),r&&xn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bn(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSiteConfig",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,L.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    HomePageSubHeaderImagePath\n  }\n}"});case 3:return t=e.sent,n=C.a.get(t,"data.readSiteConfig.0",null),r=Un.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){Bn(a,n,r,i,c,"next",e)}function c(e){Bn(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&Ln(t.prototype,n),r&&Ln(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fn(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function qn(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mn.fetchSiteConfig();case 3:n=e.sent,r={type:u.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),X.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Fn(a,r,o,i,c,"next",e)}function c(e){Fn(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zn(e);if(t){var o=zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn(this,n)}}function Wn(e,t){if(t&&("object"===Qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yn(e,t)}(i,e);var t,n,r,a=Gn(i);function i(){return Jn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){Vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},o.a.createElement(mn,{homeState:n,siteConfig:t}),o.a.createElement(kn,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Kn(t.prototype,n),r&&Kn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Zn=Object(c.b)((function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadHomeDataAction:function(){e(te()),e(qn())}}}))($n),Xn=n(72),er=n.n(Xn),tr=n(325),nr=n.n(tr);function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pr(e);if(t){var o=pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lr(this,n)}}function lr(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sr(e,t)}(i,e);var t,n,r,a=ur(i);function i(){return ir(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){ar(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,c=e.rightIconImage,s=null,u=null;return i&&(s=o.a.createElement("img",{src:i})),c&&(u=o.a.createElement("img",{className:"img-right",src:c})),o.a.createElement("button",{className:nr()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},s,t,u)}}])&&cr(t.prototype,n),r&&cr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);fr.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var mr=fr;function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function br(e){return function(e){if(Array.isArray(e))return hr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Or(e,t){return(Or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wr(e);if(t){var o=wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){if(t&&("object"===dr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Or(e,t)}(i,e);var t,n,r,a=Sr(i);function i(){return vr(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(mr,yr({},this.props,{classes:["DarkButton"].concat(br(this.props.classes))}))}}])&&gr(t.prototype,n),r&&gr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);kr.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Tr=kr,Ar=n(100),jr=n.n(Ar);function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dr(e);if(t){var o=Dr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rr(this,n)}}function Rr(e,t){if(t&&("object"===Pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xr=o.a.createElement(ne.c,{to:"/"},o.a.createElement("div",{className:"back-link"},o.a.createElement("img",{src:er.a}),"Back")),Ur=o.a.createElement("div",{className:"submission-date"},o.a.createElement("p",null,(new Date).toLocaleDateString())),Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ir(e,t)}(i,e);var t,n,r,a=Nr(i);function i(){return Cr(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.title,n=e.keyInformation,r=e.user,a=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},xr,o.a.createElement("span",{className:"submission-title"},t),Ur,o.a.createElement("div",{className:"submission-detail-container"},o.a.createElement("div",{className:"submitter-name"},o.a.createElement("span",{className:"submission-details-label"},"Submitted by: "),o.a.createElement("span",{className:"submission-details-data"},r.name)),o.a.createElement("div",null,o.a.createElement("span",{className:"submission-details-label"},"Email: "),o.a.createElement("span",{className:"submission-details-data"},r.email))),o.a.createElement("div",{className:"key-info-title"},"Key information"),o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:n}})),o.a.createElement("div",{className:"actions"},o.a.createElement(Tr,{className:"start-button",title:"Start",rightIconImage:jr.a,onClick:a}))))}}])&&_r(t.prototype,n),r&&_r(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=S()(t,"FirstName")?w()(S()(t,"FirstName",""))+" "+w()(S()(t,"Surname","")):"";return{id:w()(S()(t,"ID")),name:n,email:S()(t,"Email"),isSA:"true"===w()(S()(t,"IsSA")),isCISO:"true"===w()(S()(t,"IsCISO")),isCertificationAuthority:"true"===w()(S()(t,"IsCertificationAuthority")),isAccreditationAuthority:"true"===w()(S()(t,"IsAccreditationAuthority"))}}},{key:"parserMemberFromJSON",value:function(e){return K()(e).map((function(e){var t=S()(e,"FirstName")?w()(S()(e,"FirstName",""))+" "+w()(S()(e,"Surname","")):"";return{value:S()(e,"ID"),label:t}}))}},{key:"parserCollaboratorsFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return K()(t).map((function(e){var t=S()(e,"Name")?w()(S()(e,"Name","")):"";return{value:S()(e,"ID"),label:t}}))}}],(n=null)&&Lr(t.prototype,n),r&&Lr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){Qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Vr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Hr(a,r,o,i,c,"next",e)}function c(e){Hr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Kr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,s,u,l,p,f,m,d,y,b,h,v,g,O,S,E,w;return t=e,n=null,r=[{key:"createInProgressSubmission",value:(w=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,L.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw M;case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),function(e){return w.apply(this,arguments)})},{key:"fetchStartData",value:(E=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readMember(Type: "Current")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: '.concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,L.request({query:n});case 3:if(r=e.sent,o=C.a.get(r,"data.readMember.0",null),a=C.a.get(r,"data.readQuestionnaire",null),i=C.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw M;case 9:return e.abrupt("return",{title:C.a.get(a,"Name",""),siteConfig:Un.parseSiteConfigFromJSON(i),subtitle:C.a.get(i,"Title",""),questionnaireID:C.a.get(a,"ID",""),keyInformation:C.a.get(a,"KeyInformation",""),user:Mr.parseUserFromJSON(o)});case 10:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)})},{key:"fetchSubmissionData",value:(S=Vr(regeneratorRuntime.mark((function e(t,n,r){var o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o='\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsCertificationAuthority\n    IsAccreditationAuthority\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    BusinessOwnerAcknowledgementText\n    CertificationAuthorityAcknowledgementText\n    AccreditationAuthorityAcknowledgementText\n    IsCertificationAndAccreditationTaskExists\n    ProductAspects\n    User {\n      ID\n    }\n    SubmitterName\n    SubmitterEmail\n    QuestionnaireStatus\n    BusinessOwnerApproverName\n    RiskResultData\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      IsTaskApprovalRequired\n      TimeToComplete\n      TimeToReview\n      CanTaskCreateNewTasks\n      CreateOnceInstancePerComponent\n      AnswerData\n      ResultForCertificationAndAccreditation\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    AccreditationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprovalStatus\n    AccreditationAuthorityApprovalStatus\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n    Created\n    ReleaseDate\n    IsBusinessOwner\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    SecurityTeamEmail\n  }\n}'),e.next=3,L.request({query:o});case 3:if(a=e.sent,i=C.a.get(a,"data.readMember.0",{}),c=C.a.get(a,"data.readQuestionnaireSubmission.0",{}),s=C.a.get(a,"data.readSiteConfig.0",null),i&&c&&s){e.next=9;break}throw M;case 9:return u={title:C.a.toString(C.a.get(c,"Questionnaire.Name","")),siteConfig:Un.parseSiteConfigFromJSON(s),user:Mr.parseUserFromJSON(i),isCurrentUserApprover:"true"===C.a.get(c,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===C.a.get(c,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(C.a.get(c,"ApprovalOverrideBySecurityArchitect",!1)),questionnaireID:C.a.toString(C.a.get(c,"Questionnaire.ID","")),questionnaireTitle:C.a.toString(C.a.get(c,"Questionnaire.Name","")),submissionID:C.a.toString(C.a.get(c,"ID","")),submissionUUID:C.a.toString(C.a.get(c,"UUID","")),submissionToken:C.a.toString(C.a.get(c,"ApprovalLinkToken","")),productName:C.a.toString(C.a.get(c,"ProductName","")),submitter:{id:C.a.toString(C.a.get(c,"User.ID")),name:C.a.toString(C.a.get(c,"SubmitterName","")),email:C.a.toString(C.a.get(c,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:C.a.toString(C.a.get(c,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:C.a.toString(C.a.get(c,"CisoApprovalStatus","")),businessOwner:C.a.toString(C.a.get(c,"BusinessOwnerApprovalStatus","")),securityArchitect:C.a.toString(C.a.get(c,"SecurityArchitectApprovalStatus","")),certificationAuthority:C.a.toString(C.a.get(c,"CertificationAuthorityApprovalStatus","")),accreditationAuthority:C.a.toString(C.a.get(c,"AccreditationAuthorityApprovalStatus",""))},securityArchitectApprover:{firstName:C.a.toString(C.a.get(c,"SecurityArchitectApprover.FirstName","")),surname:C.a.toString(C.a.get(c,"SecurityArchitectApprover.Surname",""))},cisoApprover:{firstName:C.a.toString(C.a.get(c,"CisoApprover.FirstName","")),surname:C.a.toString(C.a.get(c,"CisoApprover.Surname",""))},certificationAuthorityApprover:{firstName:C.a.toString(C.a.get(c,"CertificationAuthorityApprover.FirstName","")),surname:C.a.toString(C.a.get(c,"CertificationAuthorityApprover.Surname",""))},accreditationAuthorityApprover:{firstName:C.a.toString(C.a.get(c,"AccreditationAuthorityApprover.FirstName","")),surname:C.a.toString(C.a.get(c,"AccreditationAuthorityApprover.Surname",""))},questions:V.parseQuestionsFromJSON({schemaJSON:C.a.toString(C.a.get(c,"QuestionnaireData","")),answersJSON:C.a.toString(C.a.get(c,"AnswerData",""))}),businessOwnerApproverName:C.a.toString(C.a.get(c,"BusinessOwnerApproverName","")),businessOwnerAcknowledgementText:C.a.toString(C.a.get(c,"BusinessOwnerAcknowledgementText","")),certificationAuthorityAcknowledgementText:C.a.toString(C.a.get(c,"CertificationAuthorityAcknowledgementText","")),accreditationAuthorityAcknowledgementText:C.a.toString(C.a.get(c,"AccreditationAuthorityAcknowledgementText","")),isCertificationAndAccreditationTaskExists:"true"===C.a.get(c,"IsCertificationAndAccreditationTaskExists","false"),taskSubmissions:C.a.toArray(C.a.get(c,"TaskSubmissions",[])).map((function(e){return{uuid:C.a.toString(C.a.get(e,"UUID","")),taskName:C.a.toString(C.a.get(e,"TaskName","")),taskType:C.a.toString(C.a.get(e,"TaskType","")),status:C.a.toString(C.a.get(e,"Status","")),approver:Mr.parseUserFromJSON(C.a.get(e,"TaskApprover")),isTaskApprovalRequired:"true"===C.a.get(e,"IsTaskApprovalRequired","false"),timeToComplete:C.a.toString(C.a.get(e,"TimeToComplete","")),timeToReview:C.a.toString(C.a.get(e,"TimeToReview","")),answerData:C.a.toString(C.a.get(e,"AnswerData","")),canTaskCreateNewTasks:"true"===C.a.get(e,"CanTaskCreateNewTasks","false"),createOnceInstancePerComponent:Boolean(C.a.get(e,"CreateOnceInstancePerComponent",!1)),resultForCertificationAndAccreditation:C.a.get(e,"ResultForCertificationAndAccreditation","[]")}})),collaborators:Mr.parserCollaboratorsFromJSON(C.a.get(c,"CollaboratorList",[])),riskResults:C.a.has(c,"RiskResultData")?JSON.parse(C.a.get(c,"RiskResultData","[]")):"[]",created:C.a.toString(C.a.get(c,"Created","")),releaseDate:C.a.toString(C.a.get(c,"ReleaseDate","")),productAspects:C.a.has(c,"ProductAspects")?JSON.parse(C.a.get(c,"ProductAspects","[]")):"[]",isBusinessOwner:"true"===C.a.get(c,"IsBusinessOwner","false")}},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),function(e,t,n){return S.apply(this,arguments)})},{key:"updateSubmissionData",value:(O=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,c=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(c,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,L.request({query:s,csrfToken:i});case 5:if(u=e.sent,C.a.get(u,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw M;case 9:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)})},{key:"batchUpdateSubmissionData",value:(g=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qr({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw M;case 3:for(c=[],s=0;s<o.length;s++)u=o[s],l=a[s],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),f="\nupdateQuestion".concat(u,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(u,'", AnswerData: "').concat(p,'") {\n  ID\n  AnswerData\n}'),c.push(f);return m="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,L.request({query:m,csrfToken:i});case 8:if(d=e.sent,C.a.get(d,"data",null)){e.next=12;break}throw M;case 12:case"end":return e.stop()}}),e)}))),function(e){return g.apply(this,arguments)})},{key:"submitQuestionnaire",value:(v=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,L.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})},{key:"submitQuestionnaireForApproval",value:(h=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,L.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:(b=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,L.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)})},{key:"approveQuestionnaireSubmission",value:(y=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,L.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),u=C.a.toString(C.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),s&&u){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"denyQuestionnaireSubmission",value:(d=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,L.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),u=C.a.toString(C.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),s&&u){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"editQuestionnaireSubmission",value:(m=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,L.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"updateQuestionnaireStatusToSendBackForChanges",value:(f=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSendBackForChanges(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,L.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.QuestionnaireStatus",null)),s=C.a.toString(C.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.UUID",null)),c&&s){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"fetchQuestionnaireSubmissionList",value:(p=Vr(regeneratorRuntime.mark((function e(t,n,r,o){var a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='query {\n      paginatedReadQuestionnaireSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(o,") {\n        edges {\n          node {\n            ID\n            UUID\n            QuestionnaireStatus\n            QuestionnaireName\n            Created\n            ProductName\n            ReleaseDate\n            BusinessOwnerApproverName\n            SubmitterName\n            SecurityArchitectApprover {\n              FirstName\n              Surname\n              ID\n            }\n            CisoApprovalStatus\n            BusinessOwnerApprovalStatus\n          }\n        }\n        pageInfo {\n          hasNextPage,\n          hasPreviousPage,\n          totalCount\n        }\n      }\n    }"),e.next=3,L.request({query:a});case 3:if(i=e.sent,c=C.a.get(i,"data.paginatedReadQuestionnaireSubmissions.edges",[]),s=C.a.get(i,"data.paginatedReadQuestionnaireSubmissions.pageInfo",[]),Array.isArray(c)){e.next=8;break}throw"error";case 8:return u={totalCount:C.a.get(s,"totalCount",0),hasNextPage:Boolean(C.a.get(s,"hasNextPage",!1)),hasPreviousPage:Boolean(C.a.get(s,"hasPreviousPage",!1))},l=c.map((function(e){var t={};return t.id=C.a.get(e,"node.ID",""),t.uuid=C.a.get(e,"node.UUID",""),t.status=C.a.get(e,"node.QuestionnaireStatus",""),t.productName=C.a.get(e,"node.ProductName",""),t.questionnaireName=C.a.get(e,"node.QuestionnaireName",""),t.created=C.a.get(e,"node.Created",""),t.releaseDate=C.a.get(e,"node.ReleaseDate",""),t.businessOwner=C.a.get(e,"node.BusinessOwnerApproverName",""),t.submitterName=C.a.get(e,"node.SubmitterName",""),t.SecurityArchitectApprover=C.a.toString(C.a.get(e,"node.SecurityArchitectApprover.FirstName","")+" "+C.a.get(e,"node.SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=C.a.get(e,"node.SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=C.a.get(e,"node.CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=C.a.get(e,"node.BusinessOwnerApprovalStatus",""),t[""],t})),e.abrupt("return",{questionnaireSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return p.apply(this,arguments)})},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:(l=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,L.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),u=C.a.toString(C.a.get(c,"data.updateQuestionnaireStatusToApproved.UUID",null)),s&&u){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:(u=Vr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,L.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),u=C.a.toString(C.a.get(c,"data.updateQuestionnaireStatusToDenied.UUID",null)),s&&u){e.next=9;break}throw M;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"addCollaborator",value:(s=Vr(regeneratorRuntime.mark((function e(t,n,r){var o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],n&&n.length>0&&(o=n.map((function(e){return C.a.get(e,"value","")}))),a=window.btoa(JSON.stringify(o)),i='mutation {\n     addCollaborator(ID: "'.concat(t,'", SelectedCollaborator: "').concat(a,'") {\n       UUID\n     }\n    }'),e.next=6,L.request({query:i,csrfToken:r});case 6:if(c=e.sent,s=C.a.toString(C.a.get(c,"data.addCollaborator.UUID",null))){e.next=10;break}throw M;case 10:return e.abrupt("return",{uuid:s});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n){return s.apply(this,arguments)})},{key:"grantCertification",value:(c=Vr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     grantCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,L.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=C.a.toString(C.a.get(o,"data.grantCertification.UUID",null))){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"denyCertification",value:(i=Vr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,L.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=C.a.toString(C.a.get(o,"data.denyCertification.UUID",null))){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"issueAccreditation",value:(a=Vr(regeneratorRuntime.mark((function e(t,n,r){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o='mutation {\n      issueAccreditation(ID: "'.concat(t,'", AccreditationPeriod: "').concat(r,'") {\n       UUID\n     }\n    }'),e.next=3,L.request({query:o,csrfToken:n});case 3:if(a=e.sent,i=C.a.toString(C.a.get(a,"data.issueAccreditation.UUID",null))){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:i});case 8:case"end":return e.stop()}}),e)}))),function(e,t,n){return a.apply(this,arguments)})},{key:"denyAccreditation",value:(o=Vr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,L.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=C.a.toString(C.a.get(o,"data.denyAccreditation.UUID",null))){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&Jr(t.prototype,n),r&&Jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map((function(e){var t=e.data;return t&&C.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}}))),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map((function(e){return{id:e.id,isChose:e.isChose}}))),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach((function(e){var n=Gr({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)})),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach((function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)})),t}},{key:"getDataUpdateIntent",value:function(e){var t=Gr({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex((function(e){return e.id===n.id})),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type||"display"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var c=n.actions.find((function(e){return e.isChose}));if(!c)throw new Error("This question does not have any chosen action!");if("finish"===c.type){for(var s=i.currentIndex+1;s<r.length;s++)i.nonApplicableIndexes.push(s);i.result=c.result||"",i.complete=!0}if("message"===c.type&&(i.terminate=!0),"continue"!==c.type||a||(i.targetIndex=i.currentIndex+1),"goto"===c.type){var u=c.goto;if(i.targetIndex=r.findIndex((function(e){return e.id===u})),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&!i.terminate&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&zr(t.prototype,n),r&&zr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Zr=n(326),Xr=n.n(Zr);function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var to=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return K()(t).map((function(t){var n=e.parseFromJSONObject(S()(t,"SecurityComponent"));return n.productAspect=w()(S()(t,"ProductAspect","")),n}))}},{key:"parseFromJSONObject",value:function(e){return{id:w()(S()(e,"ID","")),name:w()(S()(e,"Name","")),description:w()(S()(e,"Description")),controls:(S()(e,"Controls")||[]).map((function(e){return{id:w()(S()(e,"ID","")),name:w()(S()(e,"Name","")),description:w()(S()(e,"Description","")),implementationGuidance:w()(S()(e,"ImplementationGuidance",""))}}))}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map((function(e){return{id:w()(S()(e,"id","")),name:w()(S()(e,"name","")),productAspect:w()(S()(e,"productAspect","")),controls:(S()(e,"controls")||[]).map((function(e){return{id:w()(S()(e,"id","")),name:w()(S()(e,"name","")),selectedOption:w()(S()(e,"selectedOption","")),evalutionRating:w()(S()(e,"evalutionRating","")),description:w()(S()(e,"description","")),implementationGuidance:w()(S()(e,"implementationGuidance","")),implementationEvidence:w()(S()(e,"implementationEvidence","")),implementationEvidenceUserInput:w()(S()(e,"implementationEvidenceUserInput","")),auditMethodUserInput:w()(S()(e,"auditMethodUserInput","")),auditNotesAndFindingsUserInput:w()(S()(e,"auditNotesAndFindingsUserInput","")),auditRecommendationsUserInput:w()(S()(e,"auditRecommendationsUserInput","")),riskCategories:(S()(e,"riskCategories")||[]).map((function(e){return{id:w()(S()(e,"id","")),name:w()(S()(e,"name",""))}})),isKeyControl:Boolean(S()(e,"isKeyControl",!1)),controlOwnerDetails:(S()(e,"controlOwnerDetails")||[]).map((function(e){return{name:w()(S()(e,"name","")),email:w()(S()(e,"email","")),team:w()(S()(e,"team",""))}})),implementationEvidenceHelpText:w()(S()(e,"implementationEvidenceHelpText","")),implementationAuditHelpText:w()(S()(e,"implementationAuditHelpText",""))}})),jiraTicketLink:w()(S()(e,"jiraTicketLink",""))}}))}}],(n=null)&&eo(t.prototype,n),r&&eo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ro=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return K()(t).map((function(t){return e.parseFromJSONObject(t)}))}},{key:"parseFromJSONObject",value:function(e){return{id:w()(S()(e,"ID")),jiraKey:w()(S()(e,"JiraKey")),link:w()(S()(e,"TicketLink"))}}}],(n=null)&&no(t.prototype,n),r&&no(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function co(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function so(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){co(a,r,o,i,c,"next",e)}function c(e){co(a,r,o,i,c,"throw",e)}i(void 0)}))}}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,s,u,l,p,f,m,d;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:(d=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d,y,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ao({},t),r=n.uuid,o=n.secureToken,a=n.component,i='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    RiskProfileData\n    ResultForCertificationAndAccreditation\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    CreateOnceInstancePerComponent\n    RiskResultData\n    IsDisplayPreventMessage\n    PreventMessage\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    InformationClassificationTaskResult\n    ControlSetSelectionTaskHelpText\n  }\n  readServiceInventory {\n    ID\n    ServiceName\n  }\n}'),e.next=4,L.request({query:i});case 4:if(c=e.sent,s=S()(c,"data.readTaskSubmission.0",null),u=S()(c,"data.readServiceInventory",null),s){e.next=9;break}throw M;case 9:return l=w()(S()(s,"AnswerData","")),p=w()(S()(s,"Status","")),f=p,a&&l&&(m=JSON.parse(l)).length>0&&(d=m.find((function(e){return e.productAspect===a})))&&(l=JSON.stringify(d.result),f=d.status),y=_.has(s,"RiskResultData")?JSON.parse(S()(s,"RiskResultData","[]")):"[]",a&&y&&y.length>0&&(b=y.find((function(e){return e.productAspect===a})))&&(y=b.riskResult),h={id:w()(S()(s,"ID","")),uuid:w()(S()(s,"UUID","")),taskName:w()(S()(s,"TaskName","")),taskType:w()(S()(s,"TaskType","")),taskStatusForComponent:f,status:p,result:w()(S()(s,"Result","")),informationClassificationTaskResult:w()(S()(s,"InformationClassificationTaskResult","")),submitter:Mr.parseUserFromJSON(S()(s,"Submitter")),lockWhenComplete:Boolean(S()(s,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:w()(S()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:w()(S()(s,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:w()(S()(s,"QuestionnaireSubmission.QuestionnaireStatus","")),questionnaireSubmissionProductName:w()(S()(s,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===S()(s,"QuestionnaireSubmission.IsBusinessOwner","false"),questions:V.parseQuestionsFromJSON({schemaJSON:w()(S()(s,"QuestionnaireData","")),answersJSON:l}),selectedComponents:to.parseFromJSONOArray(S()(s,"SelectedComponents",[])),jiraTickets:ro.parseFromJSONArray(S()(s,"JiraTickets",[])),isCurrentUserAnApprover:"true"===S()(s,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===S()(s,"IsTaskApprovalRequired",!1),riskResults:y,taskRecommendations:_.has(s,"TaskRecommendationData")?JSON.parse(_.defaultTo(S()(s,"TaskRecommendationData","[]"),"[]")):"[]",productAspects:_.has(s,"ProductAspects")?JSON.parse(S()(s,"ProductAspects",[])):[],componentTarget:w()(S()(s,"ComponentTarget","")),isTaskCollborator:"true"===_.get(s,"IsTaskCollborator","false"),isDisplayPreventMessage:"true"===_.get(s,"IsDisplayPreventMessage","false"),createOnceInstancePerComponent:Boolean(S()(s,"CreateOnceInstancePerComponent",!1)),preventMessage:w()(S()(s,"PreventMessage","")),siblingSubmissions:G.parseAlltaskSubmissionforQuestionnaire(s),serviceRegister:G.parseServiceRegister(u),riskProfileData:_.has(s,"RiskProfileData")?JSON.parse(S()(s,"RiskProfileData",[])):[],resultForCertificationAndAccreditation:_.has(s,"ResultForCertificationAndAccreditation")?JSON.parse(S()(s,"ResultForCertificationAndAccreditation",[])):[],controlSetSelectionTaskHelpText:w()(S()(s,"ControlSetSelectionTaskHelpText",""))},e.abrupt("return",h);case 17:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"fetchResultForCertificationAndAccreditation",value:(m=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ao({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    ResultForCertificationAndAccreditation\n  }\n}'),e.next=4,L.request({query:a});case 4:if(i=e.sent,c=S()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw M;case 8:return s={id:w()(S()(c,"ID","")),uuid:w()(S()(c,"UUID","")),resultForCertificationAndAccreditation:_.has(c,"ResultForCertificationAndAccreditation")?JSON.parse(S()(c,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"batchUpdateTaskSubmissionData",value:(f=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ao({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,c=n.secureToken,s=n.component,o.length===a.length){e.next=3;break}throw M;case 3:for(u=[],l=0;l<o.length;l++)p=o[l],f=a[l],m=window.btoa(unescape(encodeURIComponent(JSON.stringify(f)))),d="\nupdateQuestion".concat(p,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(p,'",\n  AnswerData: "').concat(m,'",\n  SecureToken: "').concat(c||"",'",\n  Component: "').concat(s||"",'",\n) {\n  UUID\n  Status\n\n}'),u.push(d);return y="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,L.request({query:y,csrfToken:i});case 8:if(b=e.sent,S()(b,"data",null)){e.next=12;break}throw M;case 12:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"completeTaskSubmission",value:(p=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ao({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,c=n.component,s='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'", Component: "').concat(c||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,L.request({query:s,csrfToken:a});case 4:if(u=e.sent,S()(u,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"editTaskSubmission",value:(l=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ao({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i=n.component,c='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'", Component: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,L.request({query:c,csrfToken:o});case 4:if(s=e.sent,S()(s,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"fetchStandaloneTask",value:(u=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ao({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,L.request({query:o});case 4:if(a=e.sent,i=S()(a,"data.readTask",null)){e.next=8;break}throw M;case 8:return c=G.parseFromJSONObject(i),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"updateTaskSubmissionWithSelectedComponents",value:(s=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ao({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,c='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,L.request({query:c,csrfToken:o});case 4:if(s=e.sent,S()(s,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw M;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"approveTaskSubmission",value:(c=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ao({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,L.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=w()(S()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw M;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"denyTaskSubmission",value:(i=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ao({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,L.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=w()(S()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw M;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"updateTaskRecommendation",value:(a=so(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ao({},t),r=n.uuid,o=n.csrfToken,a=n.taskRecommendations,i='\n  mutation {\n    updateTaskRecommendation(\n      UUID: "'.concat(r,'",\n      TaskRecommendationData: "').concat(window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),'"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }'),e.next=4,L.request({query:i,csrfToken:o});case 4:if(c=e.sent,(s=_.has(c,"TaskRecommendationData")?JSON.parse(S()(submissionJSONObject,"TaskRecommendationData","[]")):"[]")&&r){e.next=8;break}throw M;case 8:return e.abrupt("return",{taskRecommendationData:s});case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchTaskSubmissionList",value:(o=so(regeneratorRuntime.mark((function e(t,n,r,o){var a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='query {\n      paginatedReadTaskSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(o,") {\n        edges {\n          node {\n            ID\n            UUID\n            Created\n            TaskName\n            QuestionnaireSubmission {\n              ProductName\n            }\n            Submitter {\n              FirstName\n              Surname\n            }\n            Status\n          }\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          totalCount\n        }\n      }\n    }"),e.next=3,L.request({query:a});case 3:if(i=e.sent,c=S()(i,"data.paginatedReadTaskSubmissions.edges",[]),s=S()(i,"data.paginatedReadTaskSubmissions.pageInfo",[]),Array.isArray(c)){e.next=8;break}throw"error";case 8:return u={totalCount:S()(s,"totalCount",0),hasNextPage:Boolean(S()(s,"hasNextPage",!1)),hasPreviousPage:Boolean(S()(s,"hasPreviousPage",!1))},l=c.map((function(e){var t={};return t.id=S()(e,"node.ID",""),t.uuid=S()(e,"node.UUID",""),t.created=S()(e,"node.Created",""),t.taskName=S()(e,"node.TaskName",""),t.productName=S()(e,"node.QuestionnaireSubmission.ProductName",""),t.submitterName=w()(S()(e,"node.Submitter.FirstName",""))+" "+w()(S()(e,"node.Submitter.Surname","")),t.status=S()(e,"node.Status",""),t})),e.abrupt("return",{taskSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return o.apply(this,arguments)})}],n&&uo(t.prototype,n),r&&uo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function po(e){return function(e){if(Array.isArray(e))return fo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mo(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function yo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){mo(a,r,o,i,c,"next",e)}function c(e){mo(a,r,o,i,c,"throw",e)}i(void 0)}))}}function bo(e,t){return void 0===t&&(t=""),function(){var n=yo(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,Kr.fetchSubmissionData(e,t);case 5:o=n.sent,r((a=o,{type:u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:a})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var a}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}function ho(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n,r){var o,a,i,c,s,l,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=$r.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),c=i.currentIndex,s=i.targetIndex,l=i.nonApplicableIndexes,p=i.complete,l.length>0&&n({type:u.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:l}),s>c&&n({type:u.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:s}),t.next=9,go(r(),C.a.uniq([c].concat(po(l),[s])));case 9:p&&N.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function vo(e,t){return function(){var n=yo(regeneratorRuntime.mark((function n(r,o){var a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:u.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return n.prev=5,n.next=8,Kr.fetchQuestionnaireSubmissionList(a.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:u.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:u.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:n.t0});case 16:ErrorUtil.displayError(n.t0);case 17:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t){return n.apply(this,arguments)}}()}function go(e,t){return Oo.apply(this,arguments)}function Oo(){return(Oo=yo(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,je.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,Kr.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map((function(e){return r.questions[e].id})),answerDataList:n.map((function(e){return $r.transformFromFullQuestionToData(r.questions[e])})),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}function So(e){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){ko(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function To(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_o(e);if(t){var o=_o(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Co(this,n)}}function Co(e,t){if(t&&("object"===So(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jo(e,t)}(i,e);var t,n,r,a=Po(i);function i(){return To(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=wo({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=wo({},this.props.startState),t=e.title,n=e.siteConfig,r=e.keyInformation,a=e.user,i=wo({},this.props),c=i.questionnaireID,s=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(tn,{pageTitle:"New submission",logopath:n.logoPath,showSubmissionBreadcrumb:!0}),o.a.createElement(Br,{keyInformation:r,user:a,title:t,onStartButtonClick:function(){s(c)}}),o.a.createElement(kn,{footerCopyrightText:n.footerCopyrightText})):null}}])&&Ao(t.prototype,n),r&&Ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),No=Object(c.b)((function(e){return{startState:e.questionnaireState.startState}}),(function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kr.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return r=t.sent,t.next=6,Kr.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,N.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Io),Ro=n(62),Do=n(253),xo=n.n(Do),Uo=n(254),Bo=n.n(Uo),Lo=n(255),Mo=n.n(Lo),Fo=n(256),qo=n.n(Fo);function Qo(e){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(n),!0).forEach((function(t){Jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Go(e,t){return(Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$o(e);if(t){var o=$o(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zo(this,n)}}function zo(e,t){if(t&&("object"===Qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Go(e,t)}(i,e);var t,n,r,a=Wo(i);function i(){return Ko(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Vo({},this.props),t=e.question,n=e.onItemClick,r=e.index,a=e.component;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t,a)}},r+1,".  ",t.title))}},{key:"renderIcon",value:function(e){var t=Vo({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:xo.a}):a?r&&a?o.a.createElement("img",{src:Mo.a}):o.a.createElement("img",{src:Bo.a}):o.a.createElement("img",{src:qo.a})}}])&&Yo(t.prototype,n),r&&Yo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ca(e);if(t){var o=ca(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ia(this,n)}}function ia(e,t){if(t&&("object"===Xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ca(e){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oa(e,t)}(i,e);var t,n,r,a=aa(i);function i(){return na(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.questions,n=e.onItemClick,r=e.component;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"items"},t.map((function(e,t){return o.a.createElement("div",null,o.a.createElement(Zo,{question:e,onItemClick:n,key:e.id,index:t,component:r}))}))))}}])&&ra(t.prototype,n),r&&ra(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(){return(la=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pa(e){return function(e){if(Array.isArray(e))return fa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fa(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=va(e);if(t){var o=va(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ha(this,n)}}function ha(e,t){if(t&&("object"===ua(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function va(e){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ga=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ya(e,t)}(i,e);var t,n,r,a=ba(i);function i(){return ma(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(mr,la({},this.props,{classes:["LightButton"].concat(pa(this.props.classes))}))}}])&&da(t.prototype,n),r&&da(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);ga.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Oa=ga,Sa=n(5),Ea=n.n(Sa),wa=n(602),ka=n.n(wa),Ta=(n(983),n(202)),Aa=n.n(Ta),ja=(n(313),n(314),n(137)),Pa=(n(989),n(991),n(87)),Ca=n(129),_a=n.n(Ca),Ia=n(170),Na=n.n(Ia),Ra=n(115),Da=n.n(Ra),xa=n(200),Ua=n.n(xa),Ba=n(257),La=n.n(Ba),Ma=n(258),Fa=n.n(Ma),qa=n(127),Qa=n.n(qa),Ha=n(128),Va=n.n(Ha),Ja=(n(993),n(60)),Ka=n.n(Ja);function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function za(){return(za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xa(e,t){return(Xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ni(e);if(t){var o=ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ti(this,n)}}function ti(e,t){if(t&&("object"===Ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xa(e,t)}(i,e);var t,n,r,a=ei(i);function i(){var e;$a(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={showModal:!1,FormType:"Add",issueID:"0"},e.handleOpenModal=function(){e.setState({showModal:!0})},e.handleCloseModal=function(){e.setState({showModal:!1,issueID:0})},e.handleOpenAddRecommendationModal=function(){var t=1;if(e.props.taskRecommendations.length>0){var n=e.props.taskRecommendations.reduce((function(e,t){return e.id>t.id?e:t}));n&&(t=n.id+1)}e.setState({showModal:!0,issueID:t,FormType:"Add"})},e.handleOpenEditRecommendationModal=function(t){e.setState({showModal:!0,issueID:t,FormType:"Edit"})},e.getFormInitialValues=function(){var t={id:e.state.issueID,title:"",description:"",recommendation:"",status:""};return"Edit"==e.state.FormType&&e.props.taskRecommendations.length>0&&0!=e.state.issueID&&(t=e.props.taskRecommendations.find((function(t){return t.id===e.state.issueID}))),t},e.renderRecommendationform=function(){return o.a.createElement(Ro.c,{initialValues:e.getFormInitialValues(),validate:function(e){var t={};return e.title||(t.title="Please enter the issue title."),e.status||(t.status="Please enter the status."),e.description||(t.description="Please enter the issue description."),e.recommendation||(t.recommendation="Please enter the recommendation."),t},onSubmit:function(t,n){"Add"==e.state.FormType&&e.props.handleAddTaskRecommendationButtonClick(t),"Edit"==e.state.FormType&&e.props.handleEditTaskRecommendationButtonClick(t),e.handleCloseModal()},validateOnChange:!1,validateOnBlur:!1},(function(t){t.isSubmitting;var n=t.errors,r=(t.touched,t.setFieldValue,t.values),a=t.handleChange,i=t.handleSubmit;return o.a.createElement(Ro.b,null,o.a.createElement("div",{className:"title-and-status-container"},o.a.createElement("div",{className:"title-field-container"},o.a.createElement("label",null,"Issue title",o.a.createElement(Ro.a,{type:"text",name:"title",className:n.title&&"input-error"}),n.title&&o.a.createElement("span",{className:"error"},n.title))),o.a.createElement("div",{className:"status-field-container"},o.a.createElement("label",null,"Status",o.a.createElement("select",{name:"status",value:r.status,onChange:a,className:n.status&&"input-error",style:{display:"block"}},o.a.createElement("option",{value:"",label:"Select"}),o.a.createElement("option",{value:"open",label:"Open"}),o.a.createElement("option",{value:"closed",label:"Closed"})),n.status&&o.a.createElement("span",{className:"error"},n.status)))),o.a.createElement("div",{className:"issue-container"},o.a.createElement("label",null,"Issue description",o.a.createElement(Ro.a,{name:"description"},(function(e){var t=e.field;return o.a.createElement("textarea",za({},t,{className:n.description&&"input-error"}))})),n.description&&o.a.createElement("span",{className:"error"},n.description))),o.a.createElement("div",null,o.a.createElement("label",null,"Recommendation",o.a.createElement(Ro.a,{name:"recommendation"},(function(e){var t=e.field;return o.a.createElement("textarea",za({},t,{className:n.recommendation&&"input-error"}))})),n.recommendation&&o.a.createElement("span",{className:"error"},n.recommendation))),o.a.createElement("div",{className:"buttons"},o.a.createElement(Oa,{title:"Cancel",onClick:e.handleCloseModal}),"Add"==e.state.FormType&&o.a.createElement(Tr,{type:"button",title:"Add","data-flag":"action-add",onClick:i}),"Edit"==e.state.FormType&&o.a.createElement(Tr,{type:"button",title:"Save","data-flag":"action-add",onClick:i})))}))},e.renderRecommendationModal=function(){return o.a.createElement("div",{className:"RecommendationModal"},o.a.createElement(Ka.a,{isOpen:e.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".TaskSubmissionContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},"Add"==e.state.FormType?"Add Recommendation":"Edit Recommendation"),o.a.createElement("div",{className:"close-icon-container",onClick:e.handleCloseModal},o.a.createElement("img",{src:Qa.a}))),o.a.createElement("div",{className:"content"},e.renderRecommendationform())))},e}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){Wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),n=t.taskRecommendations,r=t.viewAs,a=t.status;return o.a.createElement("div",{className:"recommendation-container"},("approver"===r&&"waiting_for_approval"===a||n&&n.length>0)&&o.a.createElement("h4",null,"Approver's recommendations"),n&&n.length>0&&o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"recommendation_table_header"},o.a.createElement("th",{className:"issue-title-col"},"Issue title"),o.a.createElement("th",null,"Issue description"),o.a.createElement("th",null,"Recommendation"),o.a.createElement("th",null,"Status"),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("th",{className:"edit-col"}))),o.a.createElement("tbody",null,n.map((function(t,n){return o.a.createElement("tr",{key:n+1},o.a.createElement("td",null,t.title),o.a.createElement("td",null,t.description),o.a.createElement("td",null,t.recommendation),o.a.createElement("td",null,t.status),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("td",{className:"edit-col"},o.a.createElement("img",{className:"edit-icon",src:Va.a,onClick:function(){return e.handleOpenEditRecommendationModal(t.id)}})))}))))),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("div",{className:"add-recommendation-link",onClick:function(){return e.handleOpenAddRecommendationModal()}},o.a.createElement("img",{src:Fa.a})," Add recommendation"),this.renderRecommendationModal())}}])&&Za(t.prototype,n),r&&Za(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function oi(e){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ai(Object(n),!0).forEach((function(t){ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function li(e,t){return(li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mi(e);if(t){var o=mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fi(this,n)}}function fi(e,t){if(t&&("object"===oi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&li(e,t)}(i,e);var t,n,r,a=pi(i);function i(){return si(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=ii({},this.props.resultForCertificationAndAccreditation);e.organisationName,e.serviceName,e.createdAt,e.securityArchitectName,e.businessOwnerName,e.productName,e.productDescription,e.accreditationLevel,e.accreditationDescription,e.accreditationType,e.accreditationPeriod,e.accreditationRenewalRecommendations,e.classificationLevel,e.riskProfileData,e.tasks,e.taskRecommendations,e.reportLogo}},{key:"render",value:function(){var e=ii({},this.props.resultForCertificationAndAccreditation),t=e.organisationName,n=e.serviceName,r=e.createdAt,a=e.securityArchitectName,i=e.businessOwnerName,c=e.productName,s=e.productDescription,u=e.accreditationLevel,l=e.accreditationDescription,p=e.accreditationType,f=e.accreditationPeriod,m=e.accreditationRenewalRecommendations,d=e.classificationLevel,y=e.riskProfileData,b=e.tasks,h=e.taskRecommendations,v=e.reportLogo;return o.a.createElement("div",{className:"certification-and-accreditation-report-container"},o.a.createElement("div",{className:"about-report-container"},o.a.createElement("div",{className:"report-heading"},o.a.createElement("div",{className:"report-heading-left-container"},o.a.createElement("h3",null,n),o.a.createElement("p",{className:"certification-accreditation-memo-heading"},"Certification and Accreditation Memo for ",t)),o.a.createElement("div",{className:"report-heading-right-container"},this.props.isDisplayReportLogo&&o.a.createElement("img",{src:v}))),o.a.createElement("div",{className:"report-intro-container"},o.a.createElement("p",{className:"report-intro"},"Prepared at ",r," by ",a),o.a.createElement("p",{className:"report-intro"},"Delivered to ",i," as part of the ",c," delivery."))),o.a.createElement("div",{id:"certificate-container"},o.a.createElement("div",{className:"about-product-container sub-container"},o.a.createElement("h5",null,"About ",c),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}})),o.a.createElement("div",{className:"certificate-recommendation-container sub-container"},o.a.createElement("h5",null,"Certification Recommendation"),o.a.createElement("p",{className:"intro-container"},"It has been recommended by ",a," that this change ",c," be certified against ",u," with an accreditation level of: ",p," for a period of no longer than ",f,"."),o.a.createElement("p",null,"Re-certification after this period should be conditional on the following post go-live remediations being resolved:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:m}})),o.a.createElement("div",{className:"information-classification-container sub-container"},o.a.createElement("h5",null,"Information Classification"),o.a.createElement("p",{className:"intro-container"},"This memo certifies ",n," has been endorsed to store, transmit and receive data to an Information Classification up to ",d,".")),o.a.createElement("div",{className:"certificate-scope-container sub-container"},o.a.createElement("h5",null,"Certification Scope"),o.a.createElement("p",{className:"intro-container"},"This certification is a ",u," level certification for ",n,". It covers ",n," and the following dependencies only."),o.a.createElement("div",{className:"certificate-scope-description",dangerouslySetInnerHTML:{__html:l}}))),o.a.createElement("div",{className:"risk-profile-container sub-container"},o.a.createElement("div",{id:"risk-profile"},o.a.createElement("h5",{className:"pdf-pagebreak-before"},"Risk Profile"),o.a.createElement("p",{className:"intro-container"},"After completing a risk assessment process, it was determined that the residual risk ratings for this delivery are:")),this.renderRiskProfile(y)),o.a.createElement("div",{id:"recommendations-table",className:"recommendation-container sub-container"},o.a.createElement("h5",null,"Recommendations against ",c),this.renderTaskRecommendation(h)),o.a.createElement("div",{id:"task-container",className:"task-container sub-container"},o.a.createElement("h5",null,"Tasks Completed"),o.a.createElement("p",{className:"intro-container"},"The certification of ",n," for ",c," was completed after ",t," completed the following assurance activities:"),this.renderTaskTable(b)))}},{key:"renderRiskProfile",value:function(e){var t=this;if(e&&void 0!==e){var n=JSON.parse(e);return o.a.createElement("div",{id:"risk-container",className:"risk-container"},n.isDisplayMessage&&o.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map((function(e,n){return o.a.createElement("div",{key:n},o.a.createElement("div",{className:"product-aspect-container"},e[0]),t.renderRiskProfileTable(e[1]))})),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result))}}},{key:"renderRiskProfileTable",value:function(e){return e&&0!=e.length?o.a.createElement("div",{className:"risk-profile-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_profile_table_header"},o.a.createElement("th",null,"Risk category"),o.a.createElement("th",null,"Current risk rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))}))))):""}},{key:"renderTaskRecommendation",value:function(e){var t=this;if(e&&void 0!==e)return 0==e.length?o.a.createElement("div",{className:"intro-container"},"No recommendation available."):o.a.createElement("div",null,e.map((function(e,n){var r=e.taskName,a=e.taskApproverName,i=e.taskRecommendationData;return o.a.createElement("div",{key:n},o.a.createElement("p",{className:"intro-container"},"Recommendations from: ",o.a.createElement("b",null,r)," by ",a),t.renderRecommendationTable(i))})))}},{key:"renderRecommendationTable",value:function(e){var t=JSON.parse(e);return o.a.createElement("div",{className:"recommendation-table-container"},t&&t.length>0&&o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"recommendation_table_header"},o.a.createElement("th",{className:"issue-title-col"},"Issue title"),o.a.createElement("th",null,"Issue description"),o.a.createElement("th",null,"Recommendation"))),o.a.createElement("tbody",null,t.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.title),o.a.createElement("td",null,e.description),o.a.createElement("td",null,e.recommendation))})))))}},{key:"renderTaskTable",value:function(e){if(e&&void 0!==e)return o.a.createElement("div",{className:"task-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"task_table_header"},o.a.createElement("th",null,"Task"),o.a.createElement("th",null,"Approved by"),o.a.createElement("th",null,"Task status"))),o.a.createElement("tbody",null,e.map((function(e,t){var n=e.taskName,r=e.taskApproverName,a=e.taskStatus,i=La.a;"in_progress"==a&&(i=Ua.a),"waiting_for_approval"==a&&(i=Da.a),"approved"!=a&&"complete"!=a||(i=_a.a),"denied"==a&&(i=Na.a);var c=r;return c||(c="No approval needed"),o.a.createElement("tr",{key:t},o.a.createElement("td",{className:""},n),o.a.createElement("td",null,c),o.a.createElement("td",null,o.a.createElement("img",{className:"task-status-icon",src:i}),o.a.createElement("span",{className:"task-status"}," ",function(e){if(e)return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}(a))))})))))}}])&&ui(t.prototype,n),r&&ui(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function yi(e){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bi(){return(bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){gi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,t){return(Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ti(e);if(t){var o=Ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ki(this,n)}}function ki(e,t){if(t&&("object"===yi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ei(e,t)}(i,e);var t,n,r,a=wi(i);function i(){var e;Oi(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).isInitialRiskAssessmentInformation=function(){return"risk questionnaire"==vi({},e.props).taskSubmissionTaskType},e}return t=i,(n=[{key:"componentDidMount",value:function(){"Review"==this.props.question.title&&this.props.loadResultForCertificationAndAccreditation()}},{key:"render",value:function(){var e=this,t=vi({},this.props),n=t.question,r=t.index;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.isInitialRiskAssessmentInformation()?"QuestionForm initial-risk-impact-assessment":"QuestionForm"},this.renderInitialRiskImpactAssessmentInformation(n,r),this.renderDefaultQuestionForm(n,r),this.renderActions(n),this.renderInputsForm(n),this.renderDisplayField(n)),o.a.createElement(o.a.Fragment,null,this.renderInitialRiskImpactAssessmentAction(n)))}},{key:"renderDefaultQuestionForm",value:function(e,t){if(!this.isInitialRiskAssessmentInformation())return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"heading"},t+1,". ",e.heading),o.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.description}}))}},{key:"renderInitialRiskImpactAssessmentInformation",value:function(e,t){if(this.isInitialRiskAssessmentInformation())return o.a.createElement(o.a.Fragment,null,0!==t&&o.a.createElement("div",{className:"heading"},t+1,". ",e.heading),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:e.description}}))}},{key:"renderInitialRiskImpactAssessmentAction",value:function(e){var t=vi({},this.props),n=t.handleActionClick;if(t.questionnaireTitle,this.isInitialRiskAssessmentInformation()){var r=C.a.get(e,"actions",null);return r?o.a.createElement("div",{className:"information actions"},r.map((function(e){return o.a.createElement(Tr,{className:"start-button",key:e.id,title:"Start",rightIconImage:jr.a,onClick:function(){return n(e)}})}))):null}}},{key:"renderDisplayField",value:function(e){if("display"===e.type)return"Risk Profile"==e.title?this.renderRiskProfile():"Review"==e.title?this.renderReview():void 0}},{key:"renderReview",value:function(){var e=vi({},this.props),t=e.resultForCertificationAndAccreditation,n=e.handleTaskSaveDraftButtonClick,r=e.handleNextButtonClickForDisplayField;return o.a.createElement("div",null,o.a.createElement("div",{className:"review-container"},o.a.createElement(di,{resultForCertificationAndAccreditation:t,isDisplayReportLogo:!1})),o.a.createElement("div",{className:"buttons review-button-container"},o.a.createElement("div",{className:"buttons-left"}),o.a.createElement("div",{className:"buttons-right"},o.a.createElement(Oa,{title:"Save draft",onClick:function(){n()}}),o.a.createElement(Tr,{title:"Submit",onClick:function(){r()}})),o.a.createElement("div",null)))}},{key:"renderRiskProfile",value:function(){var e=this,t=vi({},this.props),n=t.riskProfileData,r=t.handleNextButtonClickForDisplayField;return o.a.createElement("div",{className:"risk-profile-container"},n.isDisplayMessage&&o.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map((function(t,n){return o.a.createElement("div",{key:n},o.a.createElement("div",{className:"product-aspect-container"},t[0]),e.renderRiskProfileTable(t[1]))})),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:Aa.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),o.a.createElement("div",{className:"button-container"},o.a.createElement(Tr,{title:"Next",rightIconImage:jr.a,onClick:function(){r()}}))))}},{key:"renderRiskProfileTable",value:function(e){return o.a.createElement("div",{className:"risk-profile-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_profile_table_header"},o.a.createElement("th",null,"Risk category"),o.a.createElement("th",null,"Current risk rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))})))))}},{key:"renderActions",value:function(e){var t=vi({},this.props).handleActionClick;if(!this.isInitialRiskAssessmentInformation()&&"action"===e.type){var n=C.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find((function(e){return e.isChose}));return a&&a.message&&(r=o.a.createElement("div",{className:"action-message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),a?o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map((function(e){switch(e.isChose){case!0:return o.a.createElement(Tr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Oa,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:Aa.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))))):o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map((function(e,n){switch(n){case 0:return o.a.createElement(Tr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Oa,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:Aa.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))))}}},{key:"renderInputsForm",value:function(e){var t=vi({},this.props),n=t.handleFormSubmit,r=t.serviceRegister,a=t.informationClassificationTaskResult;if("input"===e.type){var i=C.a.get(e,"inputs",null);if(!i)return null;var c={};return i.forEach((function(e){c[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(c[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(c[e.id]=e.defaultCheckboxValue),"information classification"==e.type&&null===e.data&&a&&(c[e.id]=a)})),o.a.createElement(Ro.c,{initialValues:c,validate:function(e){var t={};return i.forEach((function(n){var r=vi({},n),o=r.id,a=r.type,i=r.required,c=r.label,s=r.minLength,u=C.a.get(e,o,null),l=c||"field";if(i&&(!u||"[]"===u))return t[o]="Please enter a value for ".concat(l),void("radio"!==a&&"checkbox"!==a&&"service register"!==a||(t[o]="Please select an option for ".concat(l)));s>0&&u&&u.length<s?t[o]="Please enter a value with at least ".concat(s," characters for ").concat(l):"email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(u)?("date"!==a&&"release date"!==a||Ea()(u,"YYYY-MM-DD").isValid()||(t[o]="Invalid date"),"product aspects"!==a||!u||/^[0-9a-zA-Z\s\n]+$/i.test(u)||(t[o]="Please enter alpha-numeric characters only.")):t[o]="Invalid email address"})),t},onSubmit:function(e,t){n(t,e)}},(function(e){var t=e.handleChange,n=(e.isSubmitting,e.errors),a=e.touched,s=e.setFieldValue,u=e.values,l=[];return C.a.keys(n).filter((function(e){return Boolean(a[e])})).forEach((function(e){l[e]=n[e]})),o.a.createElement(Ro.b,{className:"scroller"},i.map((function(e){var n=vi({},e),a=n.id,i=n.type,p=n.label,f=n.placeholder,m=n.options,d=(n.defaultRadioButtonValue,n.defaultCheckboxValue,n.maxLength),y=n.required,b=C.a.get(l,a,null),h=Boolean(b),v=[];if(h&&v.push("error"),["text","email","url"].includes(i))return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(Ro.a,{type:i,name:a,className:v.join(" "),placeholder:f,maxLength:d>0?d:4096})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("radio"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",{className:h?"radio-container-error radio-container":"radio-container"},m.length&&m.map((function(e,t){var n=C.a.toString(e.value)===C.a.toString(u[a]);return o.a.createElement("div",{key:t,className:"Accreditation level"===p?"accreditation-level-option radio-option":"radio-option"},o.a.createElement("label",{className:"radio-label"},o.a.createElement(Ro.a,{type:"radio",name:a,value:e.value,className:"radio",checked:n}),e.label))}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("checkbox"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",{className:h?"checkbox-container-error checkbox-container":"checkbox-container"},m.length&&m.map((function(e,t){var n=u[a]?JSON.parse(u[a]):[],r=n.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("label",{className:"checkbox-label"},o.a.createElement("input",{type:"checkbox",name:a,className:"checkbox",checked:r,onChange:function(t){t.target.checked?n.push(e.value):n.splice(n.indexOf(e.value),1),s(a,JSON.stringify(n))}}),e.label))}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("date"===i||"release date"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(Ro.a,{name:a},(function(e){var t=null,n=e.field.value||null;return n&&n.trim().length>0&&(t=Ea()(n).toDate()),o.a.createElement(ka.a,{dateFormat:"dd-MM-yyyy",className:v.join(" "),selected:t,onChange:function(e){if(e){var t=Ea()(e).format("YYYY-MM-DD");s(a,t)}else s(a,null)},placeholderText:f,dropdownMode:"scroll",withPortal:!0})}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("textarea"===i||"product aspects"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(Ro.a,{name:a},(function(e){var t=e.field;return o.a.createElement("textarea",bi({},t,{className:v.join(" "),placeholder:f}))})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b))));if("rich text editor"===i)return o.a.createElement("div",{key:a,className:"field-container"},p&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(ja.a,{className:"implementation-evidence",initialValue:c[a],init:{selector:"textarea",height:"280",menubar:!1,plugins:"lists advlist",toolbar:"+ removeformat bold italic underline strikethrough bullist numlist",statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(e){t({target:{name:a,value:e.target.getContent()}})}}),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b))));if("service register"===i||"dropdown"===i||"information classification"===i){var g=r;return"service register"!==i&&(g=m.map((function(e){return{value:e.value,label:e.label}}))),o.a.createElement("div",{key:a,className:"field-container"},p&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},p)),o.a.createElement("div",{className:"dropdown-container"},o.a.createElement(Pa.a,{name:a,options:g,defaultValue:c[a]&&g.find((function(e){return e.value===JSON.parse(c[a]).value}))?JSON.parse(c[a]):"",classNamePrefix:"react-select",className:h?"react-select-error":"",maxMenuHeight:250,placeholder:"Select",onChange:function(e){t({target:{name:a,value:JSON.stringify(e)}})}})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)))}return null})),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:Aa.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),o.a.createElement("div",{className:"button-container"},o.a.createElement(Tr,{title:"Next",rightIconImage:jr.a}))))}))}}}])&&Si(t.prototype,n),r&&Si(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){_i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ri(e,t){return(Ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ui(e);if(t){var o=Ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xi(this,n)}}function xi(e,t){if(t&&("object"===ji(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ri(e,t)}(i,e);var t,n,r,a=Di(i);function i(){return Ii(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"handleFormSubmit",value:function(e,t){var n=Ci({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=n.component,i=r.find((function(e){return!0===e.isCurrent}));if(i){var c=Ci({},i);C.a.forIn(t,(function(e,t){var n=c.inputs.findIndex((function(e){return e.id===t}));n>=0&&C.a.set(c,"inputs.".concat(n,".data"),e)})),c.hasAnswer=!0,c.isApplicable=!0,o(c,a)}}},{key:"handleActionClick",value:function(e){var t=Ci({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=t.component,a=n.find((function(e){return!0===e.isCurrent}));if(a){var i=Ci({},a);i.actions=i.actions.map((function(t){return t.isChose=t.id===e.id,t})),i.hasAnswer=!0,i.isApplicable=!0,r(i,o)}}},{key:"handleNextButtonClickForDisplayField",value:function(){var e=Ci({},this.props),t=e.questions,n=e.saveAnsweredQuestion,r=t.find((function(e){return!0===e.isCurrent}));if(r){var o=Ci({},r);o.hasAnswer=!0,o.isApplicable=!0,n(o)}}},{key:"render",value:function(){var e=Ci({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=e.serviceRegister,a=e.informationClassificationTaskResult,i=e.riskProfileData,c=e.resultForCertificationAndAccreditation,s=e.handleTaskSaveDraftButtonClick,u=(e.handleTaskSubmitButtonClick,e.loadResultForCertificationAndAccreditation),l=e.component,p=e.questionnaireTitle,f=e.taskSubmissionTaskType,m=t.find((function(e){return!0===e.isCurrent})),d=t.findIndex((function(e){return e.id===m.id})),y="risk questionnaire"==f;return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement("div",{className:"title"},0===d&&y?"Key information":"Questions"),o.a.createElement("div",{className:0===d&&y?"key-information-form-container":"form-container"},function(){if(0!==d||!y)return o.a.createElement(sa,{questions:t,onItemClick:n,component:l})}(),m&&o.a.createElement(Ai,{taskSubmissionTaskType:f,index:d,key:m.id,question:m,questionnaireTitle:p,serviceRegister:r,riskProfileData:i,resultForCertificationAndAccreditation:c,loadResultForCertificationAndAccreditation:u,informationClassificationTaskResult:a,handleTaskSaveDraftButtonClick:s,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this),handleNextButtonClickForDisplayField:this.handleNextButtonClickForDisplayField.bind(this)}))))}}])&&Ni(t.prototype,n),r&&Ni(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Li(e){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yi(e);if(t){var o=Yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ki(this,n)}}function Ki(e,t){if(t&&("object"===Li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yi(e){return(Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vi(e,t)}(i,e);var t,n,r,a=Ji(i);function i(){return Qi(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Fi({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Fi({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,a=Fi({},this.props.submissionState),i=a.title,c=a.siteConfig,s=a.user,u=a.submission;return s&&u&&c?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==u.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(tn,{pageTitle:i,logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"The questionnaire is not in progress. Please check the summary screen.")),o.a.createElement(kn,{footerCopyrightText:c.footerCopyrightText})):s.id===u.submitter.id?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(tn,{pageTitle:"New submission",logopath:c.logoPath,showSubmissionBreadcrumb:!0}),o.a.createElement(Bi,{questions:u.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement(kn,{footerCopyrightText:c.footerCopyrightText})):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(tn,{pageTitle:"New submission",logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"It appears this submission has not yet been submitted. Only the submitter can edit a submission and must submit before it can be reviewed.")),o.a.createElement(kn,{footerCopyrightText:c.footerCopyrightText})):null}}])&&Hi(t.prototype,n),r&&Hi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Wi=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(bo(t))},dispatchSaveAnsweredQuestionAction:function(t){var n;e((n=t,function(){var e=yo(regeneratorRuntime.mark((function e(t,r){var o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:u.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=C.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,je.getCSRFToken();case 7:return i=e.sent,c=n.id,s=$r.transformFromFullQuestionToData(n),e.prev=10,e.next=13,Kr.updateSubmissionData({submissionID:a,questionID:c,csrfToken:i,answerData:s});case 13:t(ho(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex((function(e){return e.isCurrent})))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((c=a.questions.findIndex((function(t){return t.id===e.id})))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:u.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=15,go(r(),[i,c]);case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Gi),zi=n(166),$i=n.n(zi);function Zi(e){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rc(e,t){return(rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ic(e);if(t){var o=ic(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ac(this,n)}}function ac(e,t){if(t&&("object"===Zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rc(e,t)}(i,e);var t,n,r,a=oc(i);function i(){return tc(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){ec(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map((function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))}))))}},{key:"renderData",value:function(e){if(!e.isApplicable)return o.a.createElement("div",null,"(Not applicable)");if(!e.hasAnswer)return o.a.createElement("div",null,"(Has no answer)");if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=Ea()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map((function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label),"",o.a.createElement("span",null,"-"),"",o.a.createElement("span",null,n))}))):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=C.a.head(e.actions.filter((function(e){return e.isChose})));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&nc(t.prototype,n),r&&nc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function sc(e){return(sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mc(e,t){return(mc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bc(e);if(t){var o=bc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yc(this,n)}}function yc(e,t){if(t&&("object"===sc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function bc(e){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mc(e,t)}(i,e);var t,n,r,a=dc(i);function i(){return pc(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){lc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,c=e.handleEditAnswerButtonClick;if(!t)return null;var s=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),u=o.a.createElement("div",{className:"buttons"},o.a.createElement(Oa,{title:"Edit",iconImage:Va.a,classes:["button"],onClick:c}),o.a.createElement(Oa,{title:"PDF",iconImage:$i.a,classes:["button"],onClick:i}),o.a.createElement(Tr,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:$r.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(Oa,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return N.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&s,o.a.createElement(cc,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&u,"submitter"!==n&&l)}}])&&fc(t.prototype,n),r&&fc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),vc=n(203),gc=n.n(vc),Oc=n(343),Sc=n.n(Oc);function Ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&Ec(t.prototype,n),r&&Ec(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),kc=n(270),Tc=n.n(kc),Ac=n(204),jc=n.n(Ac);function Pc(e){return(Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){Ic(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rc(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Dc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Rc(a,r,o,i,c,"next",e)}function c(e){Rc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function xc(e){return Uc.apply(this,arguments)}function Uc(){return(Uc=Dc(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.addEventListener("load",(function(t){e(t.target.result)})),n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bc(e){return Lc.apply(this,arguments)}function Lc(){return(Lc=Dc(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,xc(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i;return t=e,n=null,r=[{key:"downloadCertificate",value:(i=Dc(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sc.a.pdfMake.vfs,gc.a.vfs=n,r=_c({},t),o=r.siteConfig,a={defaultStyles:{h5:{fontSize:10,marginTop:10},h3:{fontSize:12},p:{margin:[0,1,0,5]}}},e.next=6,Bc(o.pdfHeaderImageLink);case 6:return i=e.sent,e.next=9,Tc()(document.getElementById("risk-container"),{scale:3}).then((function(e){return e.toDataURL("image/jpeg",1)}));case 9:return c=e.sent,e.next=12,Tc()(document.getElementById("recommendations-table"),{scale:3}).then((function(e){return e.toDataURL("image/jpeg",1)}));case 12:return s=e.sent,e.next=15,Tc()(document.getElementById("task-container"),{scale:3}).then((function(e){return e.toDataURL("image/jpeg",1)}));case 15:return u=e.sent,l=jc()(document.getElementsByClassName("report-heading-left-container")[0].innerHTML,a),p=jc()(document.getElementsByClassName("report-intro-container")[0].innerHTML,a),f=jc()(document.getElementById("certificate-container").innerHTML,a),m=jc()(document.getElementById("risk-profile").innerHTML,a),d={pageSize:"A4",pageMargins:[50,70,50,40],header:{image:i,alignment:"center",width:500},content:[l,p,f,m,{image:c,fit:[750,750],margin:[0,0,0,20]},{image:s,fit:[750,750],margin:[0,0,0,20]},{image:u,fit:[750,750],margin:[0,0,0,20]}],pageBreakBefore:function(e){return e.style&&e.style.indexOf("pdf-pagebreak-before")>-1},defaultStyle:{fontSize:9}},y={title:"Certification & Accreditation Report.pdf"},e.prev=22,e.next=25,gc.a.createPdf(d).download(y.title);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(22),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 30:case"end":return e.stop()}}),e,null,[[22,27]])}))),function(e){return i.apply(this,arguments)})},{key:"generatePDF",value:(a=Dc(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d,y,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_c({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteConfig,c=n.result,s=n.riskResults,l=[],p={questionnaireTitle:{bold:!0,fontSize:4+(u=12),color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:u,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:u+2,color:"#004071"},questionHeading:{bold:!0}},f={fontSize:u},m={title:"".concat(a," - ").concat(o.name,".pdf")},d=Sc.a.pdfMake.vfs,gc.a.vfs=d,e.next=10,Bc(i.pdfHeaderImageLink);case 10:return y=e.sent,l.push({image:y,width:500,margin:[0,0,0,u]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,u/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*u]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,u/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*u]}),c&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"".concat(c),margin:[0,0,0,2*u]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,u]}),r.forEach((function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,u/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Ea()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach((function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(wc.toString(n(e))),margin:[0,0,0,o?u:parseInt("".concat(u/3))]})})):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,u]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=C.a.head(e.actions.filter((function(e){return e.isChose})));l.push({text:r.label,margin:[0,0,0,u]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,u]});else l.push({text:"(Not applicable)",margin:[0,0,0,u]})})),"object"===Pc(s)&&s.length>0&&(b=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],s.forEach((function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),b.push([{text:e.riskName},e.weights,e.score,n])})),l.push({table:{headerRows:1,widths:[237,75,75,75],body:b},width:500,margin:[0,0,0,u]})),e.next=23,Bc(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,u]}),e.prev=25,e.next=28,gc.a.createPdf({info:m,content:l,styles:p,defaultStyle:f}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}}),e,null,[[25,30]])}))),function(e){return a.apply(this,arguments)})},{key:"blobToDataURL",value:(o=Dc(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Nc(t.prototype,n),r&&Nc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fc(e){return(Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(n),!0).forEach((function(t){Hc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kc(e,t){return(Kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wc(e);if(t){var o=Wc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gc(this,n)}}function Gc(e,t){if(t&&("object"===Fc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wc(e){return(Wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kc(e,t)}(i,e);var t,n,r,a=Yc(i);function i(){return Vc(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Qc({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Qc({},this.props).secureToken,t=Qc({},this.props.submissionState),n=(t.title,t.siteConfig),r=t.user,a=t.submission,i=t.isCurrentUserApprover,c=t.isCurrentUserABusinessOwnerApprover;if(!r||!n)return null;var s="others";do{if(r.id===a.submitter.id){s="submitter";break}if(i){s="approver";break}if(c&&"waiting_for_approval"==a.status){s="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(tn,{pageTitle:"Review responses",logopath:n.logoPath}),o.a.createElement(hc,{siteTitle:n.siteTitle,viewAs:s,submission:a,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement(kn,{footerCopyrightText:n.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=Qc({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&Mc.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=C.a.get(this.props.submissionState,"submission.submissionUUID","");e&&N.redirectToQuestionnaireEditing(e)}}])&&Jc(t.prototype,n),r&&Jc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),$c=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(bo(t))},dispatchSubmitQuestionnaire:function(){e(function(){var e=yo(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!$r.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,je.getCSRFToken();case 11:return i=e.sent,e.next=14,Kr.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:c=e.sent,s=c.uuid,N.redirectToQuestionnaireSummary(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(zc);function Zc(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Xc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Zc(a,r,o,i,c,"next",e)}function c(e){Zc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ts=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchCurrentUser",value:(a=Xc(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,L.request({query:'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsAccreditationAuthority\n    IsCertificationAuthority\n  }\n}'});case 3:if(t=e.sent,n=C.a.get(t,"data.readMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=Mr.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"fetchMembers",value:(o=Xc(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,L.request({query:'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}'});case 3:if(t=e.sent,n=C.a.get(t,"data.readMember",null)){e.next=7;break}throw new Error("Authenticate error");case 7:return r=Mr.parserMemberFromJSON(n),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&es(t.prototype,n),r&&es(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ns(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function rs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ns(a,r,o,i,c,"next",e)}function c(e){ns(a,r,o,i,c,"throw",e)}i(void 0)}))}}function os(){return function(){var e=rs(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ts.fetchCurrentUser();case 3:n=e.sent,r={type:u.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),X.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function as(e){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function is(){return(is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function cs(e){return function(e){if(Array.isArray(e))return ss(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ss(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function us(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ps(e,t){return(ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ds(e);if(t){var o=ds(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ms(this,n)}}function ms(e,t){if(t&&("object"===as(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ds(e){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ys=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ps(e,t)}(i,e);var t,n,r,a=fs(i);function i(){return us(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(mr,is({},this.props,{classes:["RedButton"].concat(cs(this.props.classes))}))}}])&&ls(t.prototype,n),r&&ls(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);ys.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var bs=ys,hs=n(605),vs=n.n(hs),gs=n(606),Os=n.n(gs),Ss=n(112),Es=n.n(Ss),ws=n(607),ks=n.n(ws);function Ts(e){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ps(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _s(e,t){return(_s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Is(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rs(e);if(t){var o=Rs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ns(this,n)}}function Ns(e,t){if(t&&("object"===Ts(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rs(e){return(Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_s(e,t)}(i,e);var t,n,r,a=Is(i);function i(){return Ps(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?As(Object(n),!0).forEach((function(t){js(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).riskResults;return e&&0!==e.length?o.a.createElement("div",{className:"risk-result-container"},o.a.createElement("h4",null,"Initial Risk Rating"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk"),o.a.createElement("th",null,"Initial Rating"),o.a.createElement("th",null,"Description"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:"#"+e.colour,width:"10%",color:"#000000"}},e.rating),o.a.createElement("td",{style:{width:"59%"}},e.description))})))))):null}}])&&Cs(t.prototype,n),r&&Cs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);n(1066);function xs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Us=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter((function(e){return"security risk assessment"===e.taskType&&"complete"===e.status})).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter((function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)})).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return o.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&xs(t.prototype,n),r&&xs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bs(e){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ls(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fs(e,t){return(Fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hs(e);if(t){var o=Hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qs(this,n)}}function Qs(e,t){if(t&&("object"===Bs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hs(e){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fs(e,t)}(i,e);var t,n,r,a=qs(i);function i(){return Ls(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",o.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&Ms(t.prototype,n),r&&Ms(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Js=n(608),Ks=n.n(Js),Ys=n(1116);function Gs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ws(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zs=function(e){e.approvedBy,e.prettifyStatus,e.getRedirectUrlForTask;var t=e.unfinshedRQTaskMessage,n=e.taskTableData,a=e.uuid,i=e.component,c=e.tasks,s=(e.token,Gs(Object(r.useState)(!1),2)),u=s[0],l=s[1];return o.a.createElement(o.a.Fragment,{key:"".concat(i,"_").concat(a)},o.a.createElement("tr",{className:"tr-accordion",onClick:function(){l(!u)}},o.a.createElement("td",{colSpan:6},o.a.createElement("div",{className:"task-table-title-data"},o.a.createElement("img",{alt:"chevron",className:u?"td-chevron rotate":"td-chevron",src:Es.a}),i))),c.map((function(e){return n(e,t,u?"tr-expanded":"tr-hidden",i)})))};function $s(e){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xs(e,t){return(Xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nu(e);if(t){var o=nu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tu(this,n)}}function tu(e,t){if(t&&("object"===$s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nu(e){return(nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iu=function(e){if(e)return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},cu=function(e,t){if(e)return"pending"==e?"Awaiting approval":"not_required"==e?"Not required":"approved"==e&&"Certification Authority"==t?"Certification granted":"denied"==e&&"Certification Authority"==t?"Certification denied":"approved"==e&&"Accreditation Authority"==t?"Accreditation issued":"denied"==e&&"Accreditation Authority"==t?"Accreditation denied":"denied"==e?"Not approved":iu(e)},su=function(e,t,n,r){var o=N.redirectToTaskSubmission(e,t,"urlString",r);return"selection"===n&&(o=N.redirectToComponentSelectionSubmission(e,t,"urlString",r)),"security risk assessment"===n&&(o=N.redirectToSecurityRiskAssessment(e,t,"urlString",r)),"control validation audit"===n&&(o=N.redirectToControlValidationAudit(e,t,"urlString",r)),o},uu=function(e){var t=La.a;return"in_progress"==e&&(t=Ua.a),"waiting_for_approval"==e&&(t=Da.a),"approved"!=e&&"complete"!=e||(t=_a.a),"denied"==e&&(t=Na.a),t},lu=function(e,t,n,r){var a=ou({},e),i=a.uuid,c=a.token,s=a.taskName,u=a.taskType,l=a.status,p=a.approver,f=a.isTaskApprovalRequired,m=a.timeToComplete,d=a.timeToReview,y=a.canTaskCreateNewTasks,b=o.a.createElement(ne.c,{to:su(i,c,u,r)},o.a.createElement("img",{src:Es.a}));return o.a.createElement("tr",{key:i,className:r?n:""},o.a.createElement(o.a.Fragment,null,o.a.createElement("td",{className:r?"tr-taskName":"task-table-title-data"},s,y?o.a.createElement("span",{className:"multiple-tasks-created"}," *"):null),o.a.createElement("td",null,m),o.a.createElement("td",null,f?p.name:"No approval needed"),o.a.createElement("td",null,d),o.a.createElement("td",null,o.a.createElement("img",{src:uu(l)}),o.a.createElement("span",{className:"task-status"},iu("start"==l?"To do":l))),o.a.createElement("td",null,t&&"security risk assessment"===u?null:b)))},pu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xs(e,t)}(i,e);var t,n,r,a=eu(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).handleChangeForAccreditationPeriod=function(e){return t.setState({accreditationPeriod:e})},t.state={skipBoAndCisoApproval:!1,enableApproveButton:!0,showModal:!1,selectedCollaborators:e.submission.collaborators,accreditationPeriod:""},t}return t=i,(n=[{key:"componentDidMount",value:function(){""!==this.getAcknowledgeText()&&this.setState({enableApproveButton:!1})}},{key:"getAcknowledgeText",value:function(){if(this.props.submission.isCertificationAndAccreditationTaskExists){if("businessOwnerApprover"===this.props.viewAs&&this.props.submission.businessOwnerAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.businessOwnerAcknowledgementText);if("approver"===this.props.viewAs){if(this.props.user.isCertificationAuthority&&this.props.submission.certificationAuthorityAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.certificationAuthorityAcknowledgementText);if(this.props.user.isAccreditationAuthority&&this.props.submission.accreditationAuthorityAcknowledgementText)return this.replaceAcknowledgementText(this.props.submission.accreditationAuthorityAcknowledgementText)}}return""}},{key:"replaceAcknowledgementText",value:function(e){var t=this,n=e;if(!this.props.user.isAccreditationAuthority)return o.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}});var r=this.props.submission.taskSubmissions.filter((function(e){return"certification and accreditation"===e.taskType})),a=JSON.parse(r[0].resultForCertificationAndAccreditation),i=a.accreditationPeriod+" (recommended)",c=o.a.createElement(Pa.a,{options:[{value:"1 month",label:"1 month"},{value:"3 months",label:"3 months"},{value:"6 months",label:"6 months"},{value:"9 months",label:"9 months"},{value:"12 months",label:"12 months"},{value:"18 months",label:"18 months"},{value:"24 months",label:"24 months"}],defaultValue:{label:i,value:a.accreditationPeriod},className:"react-select-container",classNamePrefix:"react-select",placeholder:a.accreditationPeriod,maxMenuHeight:110,onChange:function(e){return t.handleChangeForAccreditationPeriod(e.value)}}),s=n.split(a.accreditationPeriod);return o.a.createElement("div",{className:"acknowledgement-text-for-accreditation-authority"},o.a.createElement("div",{className:"acknowledgement-text-before-dropdown",dangerouslySetInnerHTML:{__html:s[0]}}),o.a.createElement("div",{className:"acknowledgement-text-dropdown"},c),o.a.createElement("div",{className:"acknowledgement-text-after-dropdown",dangerouslySetInnerHTML:{__html:s.slice(1)}}))}},{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter((function(e){return"risk questionnaire"===e.taskType}));if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach((function(e,t){"selection"===e.taskType&&(n=!0)})),n}},{key:"handleAddCollaboratorsModalButtonClick",value:function(){this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators),this.handleCloseModalForCollaborators()}},{key:"handleOpenModalForCollaborators",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModalForCollaborators",value:function(){this.setState({showModal:!1}),this.setState({selectedCollaborators:this.props.submission.collaborators})}},{key:"handleChangeForCollaborators",value:function(e){this.setState({selectedCollaborators:e})}},{key:"render",value:function(){var e=ou({},this.props),t=e.submission,n=e.viewAs,r=e.user,a=e.members;return t&&a?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h4",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?o.a.createElement(Vs,null):o.a.createElement("div",{className:"Summary"},o.a.createElement("h3",null,"Submission details"),this.renderSubmissionDetails(t),this.renderCollboratorsAndComponentsInfo(t,a),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(Ds,{riskResults:t.riskResults}),this.renderSkipCheckbox(t,n,r),this.renderAcknowledgements(t,n,r),this.renderButtons(t)):null}},{key:"renderCollboratorsModal",value:function(e,t){return o.a.createElement(Ka.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".Summary")}},o.a.createElement("div",{className:"collaborator-model-title"},o.a.createElement("span",null,o.a.createElement("h4",null,"Add Collaborators")),o.a.createElement(Ys.a,{"aria-label":"close",component:"span",className:"collaborator-model-close icon-gray",onClick:this.handleCloseModalForCollaborators.bind(this)},o.a.createElement(Ks.a,null))),o.a.createElement("div",{className:"content"},"Start typing names, to add them as collaborators for your submission."),o.a.createElement("div",{className:"content"},o.a.createElement(Pa.a,{options:t,defaultValue:e.collaborators,isMulti:!0,maxMenuHeight:200,onChange:this.handleChangeForCollaborators.bind(this)})),o.a.createElement("div",null,o.a.createElement(Tr,{title:"Add",onClick:this.handleAddCollaboratorsModalButtonClick.bind(this)})))}},{key:"renderSubmissionDetails",value:function(e){var t=e.submitter,n=iu(e.status),r=Da.a;"Submitted"==n&&$r.existsIncompleteTaskSubmission(e.taskSubmissions)?(n="Tasks to complete",r=Os.a):"Submitted"!=n||$r.existsIncompleteTaskSubmission(e.taskSubmissions)||(n="Ready to submit",r=vs.a),"In progress"==n&&(r=Ua.a),"Approved"==n&&(r=_a.a),"Denied"==n&&(r=Na.a);var a=e.productName;return""==a&&(a="Product Name: Please add a product name"),o.a.createElement("div",{className:"submission-details-container"},o.a.createElement("div",{className:"submission-detail-left-container"},o.a.createElement("div",null,o.a.createElement("span",{className:"product-name"},a)),o.a.createElement("span",null,e.questionnaireTitle),o.a.createElement("div",{className:"submitter-name-created-date-row"},o.a.createElement("span",{className:"submission-details-label"},"Submission created: "),o.a.createElement("span",{className:"submission-details-data"},Ea()(e.created).format("DD/MM/YYYY"))),o.a.createElement("div",null,o.a.createElement("span",{className:"submission-details-label"},"Go live date: "),o.a.createElement("span",{className:"submission-details-data"},e.releaseDate?Ea()(e.releaseDate).format("DD/MM/YYYY"):""))),o.a.createElement("div",{className:"submission-detail-right-container"},o.a.createElement("div",null,o.a.createElement("span",{className:"submission-status"},o.a.createElement("img",{src:r}),n)),o.a.createElement("div",{className:"submitter-name-created-date-row"},o.a.createElement("span",{className:"submission-details-label"},"Submitted by: "),o.a.createElement("span",{className:"submission-details-data"},t.name)),o.a.createElement("div",null,o.a.createElement("span",{className:"submission-details-label"},"Email: "),o.a.createElement("span",{className:"submission-details-data"},t.email))))}},{key:"renderCollboratorsInfo",value:function(e,t){return o.a.createElement("div",{className:"collaborators-container"},o.a.createElement("h4",null,"Collaborators"),o.a.createElement("div",{className:"collaborator-message"},"You can add people to help complete your submission. Please contact the",o.a.createElement("a",{href:"mailto:"+this.props.securityTeamEmail},"security team"),"for more information."),e.collaborators.length>0&&o.a.createElement("div",null,e.collaborators.map((function(e,t){var n=e.label;return o.a.createElement("div",{className:"collaborator-name",key:t},n)}))),"submitter"===this.props.viewAs&&o.a.createElement("div",null,o.a.createElement("button",{className:"btn add-collaborators-btn",onClick:this.handleOpenModalForCollaborators.bind(this)},o.a.createElement("img",{src:Fa.a})," Add collaborators")),this.renderCollboratorsModal(e,t))}},{key:"renderComponentsInfo",value:function(e){var t=e.productAspects;return o.a.createElement("div",{className:t.length>0?"components-container":"hide-components-container"},o.a.createElement("h4",null,"Components"),o.a.createElement("div",null,"Please specify if there are multiple components impacted for this submission. This will help group your tasks per component."),o.a.createElement("div",null,t.map((function(e,t){return o.a.createElement("div",{className:"component-name",key:t},e)}))))}},{key:"renderCollboratorsAndComponentsInfo",value:function(e,t){return o.a.createElement("div",{className:"collaborators-components-container"},this.renderCollboratorsInfo(e,t),this.renderComponentsInfo(e))}},{key:"addProductAspectsToTaskSubmissions",value:function(e,t){return t.map((function(t){if(t.createOnceInstancePerComponent){var n=Object.assign({},t);return n.productAspect=e,n}})).filter((function(e){return void 0!==e}))}},{key:"renderTasks",value:function(e){var t=e.taskSubmissions,n=e.productAspects,r=ou({},this.props).token,a=Us.isSRATaskFinalised(e.taskSubmissions);if(0===t.length)return null;var i=[],c=[],s=[],u=t;n&&n.length>0&&(t.map((function(e){!0===e.createOnceInstancePerComponent?i.push(e):c.push(e)})),i.length>0&&(n.map((function(e){var t=i.map((function(t){if(t.createOnceInstancePerComponent&&t.answerData){var n=JSON.parse(t.answerData).filter((function(t){return t.productAspect===e})),r=Object.assign({},t);return r.status=n[0]?n[0].status:"start",r}return t}));s.push({component:e,tasks:t})})),u=c.concat(s)));var l=this.unfinishedTaskSubmissionMessage()?o.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return o.a.createElement("div",{className:"tasks-container"},o.a.createElement("h4",null,"Tasks"),o.a.createElement("div",{className:"task-instruction-message"},"Please complete the tasks below. Note the tasks marked with a red asterisk (",o.a.createElement("span",{className:"multiple-tasks-created"},"*"),") may create new tasks, depending on your answers."),l,a?Us.getSraIsFinalisedAlert():null,o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"task-thead"},o.a.createElement("tr",{className:"task-table-header"},o.a.createElement("th",null,"Task"),o.a.createElement("th",{className:"completion-time-col"},"Time to complete"),o.a.createElement("th",null,"Approved by"),o.a.createElement("th",null,"Time to review"),o.a.createElement("th",null,"Task status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,u.map((function(e){return e.component&&e.tasks.length>0?o.a.createElement(zs,{key:"accordion_".concat(e.component,"_").concat(e.uuid),tasks:e.tasks,component:e.component,prettifyStatus:iu,getRedirectUrlForTask:su,token:r,taskTableData:lu,unfinshedRQTaskMessage:l}):lu(e,l)}))))))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=e.certificationAuthorityApprover,i=e.accreditationAuthorityApprover,c=cu(t.securityArchitect),s="Unassigned";n.firstName&&(s=n.firstName+" "+n.surname);var u=cu(t.chiefInformationSecurityOfficer),l="Unassigned";r.firstName&&(l=r.firstName+" "+r.surname);var p=cu(t.businessOwner),f=[{role:"Security Architect",name:s,status:c},{role:"Chief Information Security Officer",name:l,status:u},{role:"Business Owner",name:e.businessOwnerApproverName?e.businessOwnerApproverName:"Unassigned",status:p}];if(this.props.submission.isCertificationAndAccreditationTaskExists){var m=cu(t.certificationAuthority,"Certification Authority"),d="Unassigned";a.firstName&&(d=a.firstName+" "+a.surname);var y=cu(t.accreditationAuthority,"Accreditation Authority"),b="Unassigned";i.firstName&&(b=i.firstName+" "+i.surname),f.push({role:"Certification Authority",name:d,status:m},{role:"Accreditation Authority",name:b,status:y})}return o.a.createElement("div",{className:"submission-approval-container"},o.a.createElement("h4",null,"Submission approvals"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"submission-approval-thead"},o.a.createElement("tr",{key:"approval_table_header"},o.a.createElement("th",null,"Role"),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Approval status"))),o.a.createElement("tbody",null,f.map((function(e,t){var n=e.status,r=Da.a;return"Approved"!=n&&"Certification granted"!=n&&"Accreditation issued"!=n||(r=_a.a),"Not approved"!=n&&"Certification denied"!=n&&"Accreditation denied"!=n&&"Not required"!=n||(r=Na.a),o.a.createElement("tr",{key:t+1},o.a.createElement("td",{className:"table-title-data"},e.role),o.a.createElement("td",{className:"Unassigned"==e.name?"unassigned-approver":""},e.name),o.a.createElement("td",null,o.a.createElement("img",{src:r}),o.a.createElement("span",{className:"approval-status"}," ",n," ")))}))))))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"sub-container"},o.a.createElement("h4",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}})," This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}},{key:"renderAcknowledgements",value:function(e,t,n){var r=this;if(!e.isCertificationAndAccreditationTaskExists)return null;var a=this.getAcknowledgeText();return""!==a?o.a.createElement("div",{className:"acknowledgement-container"},o.a.createElement("h4",null,"Acknowledgements"),o.a.createElement("div",{className:"sub-container"},o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:this.state.enableApproveButton,onChange:function(e){r.setState({enableApproveButton:e.target.checked})}}),o.a.createElement("label",{className:"form-check-label"},a)))):null}},{key:"renderButtons",value:function(e){var t=this,n=ou({},this.props),r=n.user,a=n.viewAs,i=(n.showNotApproveButton,n.token),c=n.handleSubmitButtonClick,s=n.handlePDFDownloadButtonClick,u=(n.handleSendBackForChangesButtonClick,n.handleApproveButtonClick),l=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),p=n.handleDenyButtonClick,f=n.handleEditButtonClick,m=n.handleGrantCertificationButtonClick,d=n.handleDenyCertificationButtonClick,y=n.handleIssueAccreditationButtonClick,b=n.handleDenyAccreditationButtonClick,h=o.a.createElement(Oa,{title:"PDF",iconImage:$i.a,classes:["button"],onClick:s}),v=r?o.a.createElement(Oa,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return N.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===a){var g=o.a.createElement(Oa,{title:"Edit",iconImage:Va.a,classes:["button"],onClick:f}),O=o.a.createElement(Tr,{title:"Submit for approval",iconImage:ks.a,classes:["button"],disabled:$r.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:c});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},g,h),o.a.createElement("div",{className:"buttons-right"},O)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,g,h),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,h),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var S=o.a.createElement(Oa,{title:"Assign to Me",classes:["button"],onClick:l}),E="Approve";r.isSA&&(E="Endorsed"),r.isCISO&&(E="Recommend Approval"),"businessOwnerApprover"===a&&(E="Accept risks and approve");var w=o.a.createElement(Tr,{title:E,classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return u(t.state.skipBoAndCisoApproval)}}),k="Not approved";r.isSA&&(k="Not endorsed"),r.isCISO&&(k="Recommend Rejection");var T=o.a.createElement(bs,{title:k,classes:["button"],onClick:function(){return p(t.state.skipBoAndCisoApproval)}}),A=o.a.createElement(Tr,{title:"Grant Certification",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return m()}}),j=o.a.createElement(bs,{title:"Deny Certification",classes:["button"],onClick:function(){return d()}}),P=o.a.createElement(Tr,{title:"Issue Accreditation",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return y(t.state.accreditationPeriod)}}),C=o.a.createElement(bs,{title:"Deny Accreditation",classes:["button"],onClick:function(){return b()}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,v,h),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},S),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),T,w)):!r.isCertificationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_certification"!==e.status?!r.isAccreditationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_accreditation"!==e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),T,w)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),C,P)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),j,A))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,v,h),o.a.createElement("div",null))}}])&&Zs(t.prototype,n),r&&Zs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);pu.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleSendBackForChangesButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},handleCollaboratorAddButtonClick:function(){},handleGrantCertificationButtonClick:function(){},handleDenyCertificationButtonClick:function(){},handleIssueAccreditationButtonClick:function(){},handleDenyAccreditationButtonClick:function(){},viewAs:"others",showNotApproveButton:!1,token:"",user:null,members:null,securityTeamEmail:""};var fu=pu;function mu(e){return(mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?du(Object(n),!0).forEach((function(t){bu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vu(e,t){return(vu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Su(e);if(t){var o=Su(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ou(this,n)}}function Ou(e,t){if(t&&("object"===mu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Su(e){return(Su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Eu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vu(e,t)}(i,e);var t,n,r,a=gu(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this)).state={showModal:!1},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=yu({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken),this.props.dispatchLoadMembersAction()}},{key:"render",value:function(){var e=yu({},this.props),t=e.secureToken,n=e.loadingState,r=e.members,a=yu({},this.props.submissionState),i=(a.location,a.title,a.user),c=a.submission,s=a.isCurrentUserApprover,u=a.isCurrentUserABusinessOwnerApprover,l=a.siteConfig;if(!(i&&c&&l&&r))return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var p="others",f=!1;!i.isSA||i.isCISO||u||(f=!0);do{if(i.id===c.submitter.id){p="submitter";break}if(u&&"waiting_for_approval"==c.status){p="businessOwnerApprover";break}if(s){p="approver";break}}while(0);var m=!1,d=!1,y=!1;return c.collaborators.some((function(e){return e.value===parseInt(i.id)}))&&(m=!0),("submitter"==p||m)&&(d=!0),d||(i.isSA||i.isCISO||c.isBusinessOwner||i.isAccreditationAuthority||i.isCertificationAuthority)&&(y=!0),o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(tn,{pageTitle:c.productName?c.productName:"Product",logopath:l.logoPath,productName:c.productName,showSubmissionBreadcrumb:d,showApprovalBreadcrumb:y}),o.a.createElement(fu,{submission:c,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),handleCollaboratorAddButtonClick:this.handleCollaboratorAddButtonClick.bind(this),handleGrantCertificationButtonClick:this.handleGrantCertificationButtonClick.bind(this),handleDenyCertificationButtonClick:this.handleDenyCertificationButtonClick.bind(this),handleIssueAccreditationButtonClick:this.handleIssueAccreditationButtonClick.bind(this),handleDenyAccreditationButtonClick:this.handleDenyAccreditationButtonClick.bind(this),viewAs:p,user:i,token:t,members:r,showNotApproveButton:f,securityTeamEmail:l.securityTeamEmail}),o.a.createElement(kn,{footerCopyrightText:l.footerCopyrightText}),o.a.createElement(Ka.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(Tr,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(Oa,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=yu({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),Mc.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=yu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=yu({},this.props),n=t.secureToken,r=yu({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerApproveSubmissionAction(a.submissionID,n):i&&this.props.dispatchApproveSubmissionAction(a.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=yu({},this.props),n=t.secureToken,r=yu({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerDenySubmissionAction(a.submissionID,n):i&&this.props.dispatchDenySubmissionAction(a.submissionID,e))}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=yu({},this.props.submissionState),t=e.user,n=e.submission,r=e.isCurrentUserApprover;t&&n&&r&&this.props.dispatchSendBackForChangesSubmissionAction(n.submissionID)}},{key:"handleAssignToMeButtonClick",value:function(){var e=yu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=yu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleCollaboratorAddButtonClick",value:function(e){var t=yu({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchAddCollaboratorAction(r.submissionID,e)}},{key:"handleGrantCertificationButtonClick",value:function(){var e=yu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchGrantCertificationAction(n.submissionID)}},{key:"handleDenyCertificationButtonClick",value:function(){var e=yu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyCertificationAction(n.submissionID)}},{key:"handleIssueAccreditationButtonClick",value:function(e){var t=yu({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchIssueAccreditationAction(r.submissionID,e)}},{key:"handleDenyAccreditationButtonClick",value:function(){var e=yu({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyAccreditationAction(n.submissionID)}}])&&hu(t.prototype,n),r&&hu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),wu=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState,members:e.memberState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(bo(t,n))},dispatchLoadMembersAction:function(){e(function(){var e=rs(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ts.fetchMembers();case 3:n=e.sent,r={type:u.USER.LOAD_MEMBER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),X.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=yo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je.getCSRFToken();case 3:return a=n.sent,n.next=6,Kr.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(bo(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=yo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je.getCSRFToken();case 3:return a=n.sent,n.next=6,Kr.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(bo(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,Kr.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(bo(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,Kr.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,N.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=yo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je.getCSRFToken();case 3:return a=n.sent,n.next=6,Kr.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(bo(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=yo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,je.getCSRFToken();case 3:return a=n.sent,n.next=6,Kr.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(bo(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSendBackForChangesSubmissionAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,Kr.updateQuestionnaireStatusToSendBackForChanges({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(bo(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAssignToMeAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,Kr.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(bo(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAddCollaboratorAction:function(t,n){e(function(e,t){return function(){var n=yo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je.getCSRFToken();case 2:return a=n.sent,n.prev=3,n.next=6,Kr.addCollaborator(e,t,a);case 6:i=n.sent,c=i.uuid,r(bo(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchGrantCertificationAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Kr.grantCertification(e,o);case 6:a=t.sent,i=a.uuid,n(bo(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyCertificationAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Kr.denyCertification(e,o);case 6:a=t.sent,i=a.uuid,n(bo(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchIssueAccreditationAction:function(t,n){e(function(e,t){return function(){var n=yo(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je.getCSRFToken();case 2:return a=n.sent,n.prev=3,n.next=6,Kr.issueAccreditation(e,a,t);case 6:i=n.sent,c=i.uuid,r(bo(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchDenyAccreditationAction:function(t){e(function(e){return function(){var t=yo(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Kr.denyAccreditation(e,o);case 6:a=t.sent,i=a.uuid,n(bo(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Eu),ku=n(609),Tu=n.n(ku);function Au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(n),!0).forEach((function(t){Pu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cu(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function _u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Cu(a,r,o,i,c,"next",e)}function c(e){Cu(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"loadAvailableComponents",value:(a=_u(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,L.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=S()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map((function(e){return to.parseFromJSONObject(e)})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"createJiraTickets",value:(o=_u(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ju({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map((function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')})),c="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,L.request({query:c,csrfToken:a});case 5:if(s=e.sent,u=S()(s,"data",null)){e.next=9;break}throw M;case 9:return l=Tu()(o.map((function(e){var t="createJiraTicket".concat(e),n=S()(u,t,null);return n?{id:w()(S()(n,"ID","")),jiraKey:w()(S()(n,"JiraKey","")),link:w()(S()(n,"TicketLink",""))}:null}))),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Iu(t.prototype,n),r&&Iu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ru(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Du(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ru(a,r,o,i,c,"next",e)}function c(e){Ru(a,r,o,i,c,"throw",e)}i(void 0)}))}}function xu(){return function(){var e=Du(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu.loadAvailableComponents();case 2:return n=e.sent,r={type:u.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Uu(e,t){return function(){var n=Du(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:u.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Bu(e,t){return function(){var n=Du(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:u.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Lu(e){return function(){var t=Du(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:u.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Mu(e){return function(){var t=Du(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:u.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Fu(e){var t=e.selectedComponents.map((function(e){return e.isSaved=!0,e}));return function(){var e=Du(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:u.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function qu(e){return function(e){if(Array.isArray(e))return Qu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hu(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Vu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Hu(a,r,o,i,c,"next",e)}function c(e){Hu(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ju(Object(n),!0).forEach((function(t){Yu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ju(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gu(e){var t=Ku({},e),n=t.uuid,r=t.secureToken,o=t.type,a=t.component;return function(){var e=Vu(regeneratorRuntime.mark((function e(t){var i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lo.fetchTaskSubmission({uuid:n,secureToken:r,component:a});case 3:return i=e.sent,c={type:u.TASK.LOAD_TASK_SUBMISSION,payload:i},e.next=7,t(c);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(Fu(i));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),X.displayError(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}function Wu(e){var t=Ku({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork,a=t.component;return function(){var e=Vu(regeneratorRuntime.mark((function e(t,i){var c,s,l,p,f,m,d,y,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c=function(){return i().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return s={type:u.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(s);case 6:if(o){e.next=25;break}return e.prev=7,e.t0=lo,e.t1=c().uuid,e.t2=[n.id],e.t3=[$r.transformFromFullQuestionToData(n)],e.next=14,je.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6=a,e.t7={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5,component:e.t6},e.next=20,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t7);case 20:e.next=25;break;case 22:e.prev=22,e.t8=e.catch(7),X.displayError(e.t8);case 25:if(l=$r.getDataUpdateIntent({answeredQuestion:n,questions:c().questions}),p=l.currentIndex,f=l.nonApplicableIndexes,m=l.targetIndex,d=l.complete,l.terminate,y=l.result,!(f.length>0)){e.next=30;break}return b={type:u.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=30,t(b);case 30:if(!(m>p)){e.next=34;break}return h={type:u.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:p,targetIndex:m}},e.next=34,t(h);case 34:if(o){e.next=43;break}return e.prev=35,e.next=38,el(c(),C.a.uniq([p].concat(qu(f),[m])),r,a);case 38:e.next=43;break;case 40:e.prev=40,e.t9=e.catch(35),X.displayError(e.t9);case 43:if(!d){e.next=46;break}return e.next=46,t($u({bypassNetwork:o,secureToken:r,result:y,component:a}));case 46:case"end":return e.stop()}}),e,null,[[7,22],[35,40]])})));return function(t,n){return e.apply(this,arguments)}}()}function zu(e){return function(){var t=Vu(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:u.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=o.componentSelectionState.selectedComponents.map((function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}})),t.prev=7,t.t0=lo,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=14,je.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n({type:u.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 20:t.next=27;break;case 22:return t.prev=22,t.t6=t.catch(7),t.next=26,n({type:u.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 26:X.displayError(t.t6);case 27:case"end":return t.stop()}}),t,null,[[7,22]])})));return function(e,n){return t.apply(this,arguments)}}()}function $u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ku({},e),n=t.secureToken,r=t.bypassNetwork,o=t.result,a=t.taskSubmissionUUID,i=t.questionnaireUUID,c=t.component;return function(){var e=Vu(regeneratorRuntime.mark((function e(t,s){var l,p,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(){return s().taskSubmissionState.taskSubmission},r){e.next=23;break}return e.prev=2,e.next=5,je.getCSRFToken();case 5:return p=e.sent,e.next=8,lo.completeTaskSubmission({uuid:void 0===a?l().uuid:a,result:o||"",secureToken:n,csrfToken:p,component:c});case 8:if(f=e.sent,m=f.uuid,void 0===i){e.next=14;break}N.redirectToQuestionnaireSummary(i,n),e.next=16;break;case 14:return e.next=16,t(Gu({uuid:m,secureToken:n,component:c}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),X.displayError(e.t0);case 21:e.next=25;break;case 23:return e.next=25,t({type:u.TASK.COMPLETE_TASK_SUBMISSION,payload:o});case 25:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t,n){return e.apply(this,arguments)}}()}function Zu(e){var t=Ku({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork,a=t.component;return function(){var e=Vu(regeneratorRuntime.mark((function e(t,i){var c,s,l,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=i().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(s=c.questions,!((l=s.findIndex((function(e){return e.isCurrent})))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((p=s.findIndex((function(e){return e.id===n.id})))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:u.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:l,targetIndex:p}},e.next=15,t(f);case 15:if(o){e.next=18;break}return e.next=18,el(c,C.a.uniq([l,p]),r,a);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ku({},e),n=t.secureToken,r=t.bypassNetwork,o=t.type,a=t.component;return function(){var e=Vu(regeneratorRuntime.mark((function e(t,i){var c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=i().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=29;break}return e.prev=4,e.t0=lo,e.t1=c.uuid,e.next=9,je.getCSRFToken();case 9:return e.t2=e.sent,e.t3=n,e.t4=a,e.t5={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3,component:e.t4},e.next=15,e.t0.editTaskSubmission.call(e.t0,e.t5);case 15:return s=e.sent,l=s.uuid,e.next=19,t(Gu({uuid:l,secureToken:n,component:a}));case 19:if("componentSelection"!==o){e.next=22;break}return e.next=22,t(Fu(c));case 22:e.next=27;break;case 24:e.prev=24,e.t6=e.catch(4),X.displayError(e.t6);case 27:e.next=30;break;case 29:t({type:u.TASK.EDIT_TASK_SUBMISSION});case 30:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(t,n){return e.apply(this,arguments)}}()}function el(e,t,n,r){return tl.apply(this,arguments)}function tl(){return(tl=Vu(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=lo,e.t1=t.uuid,e.t2=n.map((function(e){return t.questions[e].id})),e.t3=n.map((function(e){return $r.transformFromFullQuestionToData(t.questions[e])})),e.next=7,je.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6=o,e.t7={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5,component:e.t6},e.next=13,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t7);case 13:e.next=18;break;case 15:e.prev=15,e.t8=e.catch(0),X.displayError(e.t8.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function nl(e,t){return function(){var n=Vu(regeneratorRuntime.mark((function n(r,o){var a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:u.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return n.prev=5,n.next=8,lo.fetchTaskSubmissionList(a.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:u.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:u.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:n.t0});case 16:X.displayError(n.t0);case 17:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t){return n.apply(this,arguments)}}()}function rl(e){return(rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ul(e,t){return(ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fl(e);if(t){var o=fl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pl(this,n)}}function pl(e,t){if(t&&("object"===rl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fl(e){return(fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ul(e,t)}(i,e);var t,n,r,a=ll(i);function i(){return cl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=al({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,c=t.handleDenyButtonClick,s=t.handleSendBackForChangesButtonClick,u=t.handleAddTaskRecommendationButtonClick,l=t.handleEditTaskRecommendationButtonClick,p=t.loadResultForCertificationAndAccreditation,f=t.editAnswers,m=(t.showBackLink,t.showEditButton),d=t.canUpdateAnswers,y=t.viewAs,b=(t.secureToken,t.component),h=o.a.createElement(ri,{taskRecommendations:n.taskRecommendations,viewAs:y,status:n.status,handleAddTaskRecommendationButtonClick:u,handleEditTaskRecommendationButtonClick:l}),v=n.questions.find((function(e){return e.isCurrent})),g=n.questions.indexOf(v),O=n.questions[g-1],S="risk questionnaire"==n.taskType&&0!==g&&"complete"!==n.status,E=function(){return o.a.createElement("div",{className:"back-link",onClick:function(){return e.sendBackToQestionnaire()}},o.a.createElement("img",{src:er.a}),"Back")},w=function(){return o.a.createElement("div",{className:"back-link",onClick:function(){return a(O,b)}},o.a.createElement("img",{src:er.a}),"Back")},k=function(){return o.a.createElement("div",{className:"back-link",onClick:function(){return N.redirectToApprovals()}},o.a.createElement("img",{src:er.a}),"Back")},T="risk questionnaire"===n.taskType&&Us.isSRATaskFinalised(n.siblingSubmissions),A=m&&!T&&"certification and accreditation"!==n.taskType?o.a.createElement(Oa,{title:"Edit",onClick:function(){f(b)},iconImage:Va.a}):null,j=["complete","waiting_for_approval","approved","denied"],P=j.includes(n.status)||j.includes(n.taskStatusForComponent)?o.a.createElement(Oa,{title:"PDF",iconImage:$i.a,onClick:function(){return e.downloadPdf()}}):null,C=n.result&&j.indexOf(n.status)>-1?o.a.createElement("div",{className:"result-container"},o.a.createElement("h4",null,"Result"),o.a.createElement("div",{className:"result"},n.result)):null,_=n.riskResults&&j.indexOf(n.taskStatusForComponent)>-1?o.a.createElement(Ds,{riskResults:n.riskResults}):null,I="approver"===y&&"waiting_for_approval"===n.status?o.a.createElement(Tr,{title:"Approve",onClick:i,classes:["button"]}):null,R="approver"===y&&"waiting_for_approval"===n.status?o.a.createElement(Oa,{title:"Send back for changes",onClick:s,classes:["button"]}):null,D="approver"===y&&"waiting_for_approval"===n.status?o.a.createElement(bs,{title:"Not approved",onClick:c,classes:["button"]}):null,x=o.a.createElement("div",null,C,o.a.createElement("h4",null,"Summary"),"certification and accreditation"!==n.taskType&&o.a.createElement(cc,{questions:n.questions,component:b}),!n.isDisplayPreventMessage&&"certification and accreditation"===n.taskType&&o.a.createElement("div",{className:"task-review-container"},o.a.createElement(di,{resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,isDisplayReportLogo:!0})),_,h);return"certification and accreditation"===n.taskType&&n.isDisplayPreventMessage?x=o.a.createElement("div",{className:"prevent-message-container alert alert-danger",dangerouslySetInnerHTML:{__html:n.preventMessage}}):d&&(x=o.a.createElement(Bi,{questions:n.questions,serviceRegister:n.serviceRegister,informationClassificationTaskResult:n.informationClassificationTaskResult,riskProfileData:n.riskProfileData,resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,loadResultForCertificationAndAccreditation:p,saveAnsweredQuestion:r,onLeftBarItemClick:a,handleTaskSaveDraftButtonClick:this.handleTaskSaveDraftButtonClick.bind(this),component:b,questionnaireTitle:n.taskName,taskSubmissionTaskType:n.taskType})),o.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&o.a.createElement(Vs,null),"expired"!==n.status&&o.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!T)&&Us.getSraIsFinalisedAlert(),n.isCurrentUserAnApprover?k():S?w():E(),x,o.a.createElement("div",{className:"buttons ".concat("approver"!=y?"buttons-hideborder":"")},o.a.createElement("div",{className:"buttons-left"},A,P),o.a.createElement("div",{className:"buttons-right"},"approver"===y&&"waiting_for_approval"===n.status&&o.a.createElement("span",{className:"approver-action"},"Approver action: "),R,D,I))))}},{key:"downloadPdf",value:function(){var e=al({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&("certification and accreditation"===t.taskType?Mc.downloadCertificate({siteConfig:r,resultForCertificationAndAccreditation:t.resultForCertificationAndAccreditation}):Mc.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults}))}},{key:"handleTaskSaveDraftButtonClick",value:function(){this.sendBackToQestionnaire()}},{key:"sendBackToQestionnaire",value:function(){N.redirectToQuestionnaireSummary(this.props.taskSubmission.questionnaireSubmissionUUID,this.props.secureToken)}}])&&sl(t.prototype,n),r&&sl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yl(Object(n),!0).forEach((function(t){hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ol(e,t){return(Ol=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wl(e);if(t){var o=wl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return El(this,n)}}function El(e,t){if(t&&("object"===dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wl(e){return(wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ol(e,t)}(i,e);var t,n,r,a=Sl(i);function i(){return vl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=bl({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken,e.component)}},{key:"render",value:function(){var e=bl({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction,s=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.dispatchSendBackForChangesTaskSubmissionAction,e.dispatchAddTaskRecommendationAction,e.dispatchEditTaskRecommendationAction,e.secureToken),u=e.component;if(!n||!r||!t)return null;var l="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){l="submitter";break}if(r.isCurrentUserAnApprover){l="approver";break}}while(0);var p=parseInt(n.id)===parseInt(r.submitter.id),f=["in_progress","start"],m=f.includes(r.status)&&f.includes(r.taskStatusForComponent)&&(n.isSA||p||r.isTaskCollborator),d=["complete","waiting_for_approval","denied"],y=(d.includes(r.status)||d.includes(r.taskStatusForComponent))&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||(p||r.isTaskCollborator)&&!r.lockWhenComplete),b=!1,h=!1;return(p||r.isTaskCollborator)&&(b=!0),!b&&(r.isCurrentUserAnApprover||n.isSA||n.isCISO||r.isBusinessOwner||n.isAccreditationAuthority||n.isCertificationAuthority)&&(h=!0),o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(tn,{pageTitle:r.taskName,logopath:t.logoPath,productName:r.questionnaireSubmissionProductName,isTaskApprover:r.isCurrentUserAnApprover,questionnaireSubmissionUUID:r.questionnaireSubmissionUUID,showApprovalBreadcrumb:h,showSubmissionBreadcrumb:b,component:u}),o.a.createElement(ml,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:y,canUpdateAnswers:m,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleAddTaskRecommendationButtonClick:this.handleAddTaskRecommendationButtonClick.bind(this),handleEditTaskRecommendationButtonClick:this.handleEditTaskRecommendationButtonClick.bind(this),loadResultForCertificationAndAccreditation:this.loadResultForCertificationAndAccreditation.bind(this),showBackLink:!!r.questionnaireSubmissionUUID,viewAs:l,siteConfig:t,secureToken:s,component:u}),o.a.createElement(kn,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=bl({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=bl({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchSendBackForChangesTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=bl({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}},{key:"handleAddTaskRecommendationButtonClick",value:function(e){var t=bl({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchAddTaskRecommendationAction(o,e,a)}},{key:"handleEditTaskRecommendationButtonClick",value:function(e){var t=bl({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchEditTaskRecommendationAction(o,e,a)}},{key:"loadResultForCertificationAndAccreditation",value:function(){var e=bl({},this.props),t=e.uuid;(0,e.dispatchLoadResultForCertificationAndAccreditation)(t,e.secureToken)}}])&&gl(t.prototype,n),r&&gl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Tl=Object(c.b)((function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(t,n,r){e(os()),e(qn()),e(Gu({uuid:t,secureToken:n,component:r}))},dispatchLoadResultForCertificationAndAccreditation:function(t,n){e(function(e){var t=Ku({},e),n=t.uuid,r=t.secureToken;return function(){var e=Vu(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lo.fetchResultForCertificationAndAccreditation({uuid:n,secureToken:r});case 3:return o=e.sent,a={type:u.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION,payload:o},e.next=7,t(a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),X.displayError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t,n){e(Wu({answeredQuestion:t,component:n}))},dispatchMoveToPreviousQuestionAction:function(t,n){e(Zu({targetQuestion:t,component:n}))},dispatchEditAnswersAction:function(t){e(Xu({component:t}))},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return function(){var t=Vu(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,lo.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Gu({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),X.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return function(){var t=Vu(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,lo.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Gu({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),X.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchSendBackForChangesTaskSubmissionAction:function(t){e(function(e){return function(){var t=Vu(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,je.getCSRFToken();case 3:return o=t.sent,t.next=6,lo.editTaskSubmission({uuid:e,csrfToken:o,secureToken:""});case 6:return a=t.sent,a.status,t.next=10,n(Gu({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),X.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAddTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return function(){var r=Vu(regeneratorRuntime.mark((function r(o,a){var i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n.push(t),r.next=4,je.getCSRFToken();case 4:return i=r.sent,r.next=7,lo.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return c=r.sent,c.taskRecommendationData,r.next=11,o(Gu({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),X.displayError(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,n,r))},dispatchEditTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return function(){var r=Vu(regeneratorRuntime.mark((function r(o,a){var i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=n.map((function(e){return e.id===t.id?Ku(Ku({},n),t):e})),r.next=4,je.getCSRFToken();case 4:return i=r.sent,r.next=7,lo.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return c=r.sent,c.taskRecommendationData,r.next=11,o(Gu({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),X.displayError(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,n,r))}}}))(kl);function Al(e){return(Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nl(e);if(t){var o=Nl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Il(this,n)}}function Il(e,t){if(t&&("object"===Al(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nl(e){return(Nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ul=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cl(e,t)}(i,e);var t,n,r,a=_l(i);function i(){return jl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Dl({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Dl({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var s="in_progress"===r.status||"start"===r.status,u="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(tn,{pageTitle:r.taskName,logopath:t.logoPath}),o.a.createElement(ml,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:u,canUpdateAnswers:s,showBackButton:!1,siteConfig:t,currentUser:n}),o.a.createElement(kn,{footerCopyrightText:t.footerCopyrightText}))}}])&&Pl(t.prototype,n),r&&Pl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Bl=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=Dl({},t).taskId;e(os()),e(qn()),e(function(e){var t=Ku({},e).taskId;return function(){var e=Vu(regeneratorRuntime.mark((function e(n,r){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lo.fetchStandaloneTask({taskId:t});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:u.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,n(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),X.displayError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Wu({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(Zu({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(Xu({bypassNetwork:!0}))}}}))(Ul);function Ll(e){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(n),!0).forEach((function(t){ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ql(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vl(e,t){return(Vl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yl(e);if(t){var o=Yl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kl(this,n)}}function Kl(e,t){if(t&&("object"===Ll(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yl(e){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vl(e,t)}(i,e);var t,n,r,a=Jl(i);function i(){return Ql(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Fl({},this.props),t=e.title,n=e.disabled,r=e.onItemClick,a=e.index;return o.a.createElement("div",{className:"LeftBarItem"},o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),a+1,".  ",t))}},{key:"renderIcon",value:function(){switch(Fl({},this.props).iconType){case"editing":return o.a.createElement("img",{src:xo.a});case"success":return o.a.createElement("img",{src:Mo.a});case"pending":return o.a.createElement("img",{src:Bo.a});case"not-applicable":return o.a.createElement("img",{src:qo.a});default:return null}}}])&&Hl(t.prototype,n),r&&Hl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter((function(t){return t.id===e})).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter((function(n){return n.id===e&&n.productAspect===t})).length>0:n.filter((function(t){return t.id===e})).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter((function(n){return n.id===e&&n.productAspect===t&&n.isSaved})).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter((function(t){return t.productAspect===e})).length>0}}],(n=null)&&Wl(t.prototype,n),r&&Wl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function $l(e){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function np(e,t){return(np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ap(e);if(t){var o=ap(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return op(this,n)}}function op(e,t){if(t&&("object"===$l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ap(e){return(ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ip=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&np(e,t)}(i,e);var t,n,r,a=rp(i);function i(){return ep(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){Xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.selectedComponents,n=e.productAspects,r=e.selectedProductAspect,a=e.updateSelectedProductAspect;return o.a.createElement("div",{className:"LeftBar",key:r},n&&n.length>0&&o.a.createElement("div",{className:"items"},n.map((function(e,n){var i=zl.doescomponentExistForProductAspect(e,t)?"success":"pending";return o.a.createElement(Gl,{key:n,title:e+" control set",iconType:r===e?"editing":i,onItemClick:function(){a(e)},index:n})})),o.a.createElement(Gl,{key:n.length,title:"Summary",iconType:"pending",onItemClick:function(){},index:n.length})),(void 0===n||""===n||0===n.length)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Gl,{key:0,title:"Current Solution control set",iconType:"editing",onItemClick:function(){},index:0}),o.a.createElement(Gl,{key:1,title:"Summary",iconType:"pending",onItemClick:function(){},index:1})))}}])&&tp(t.prototype,n),r&&tp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),cp=n(201),sp=n.n(cp);function up(e){return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lp(Object(n),!0).forEach((function(t){fp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dp(e,t){return(dp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hp(e);if(t){var o=hp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bp(this,n)}}function bp(e,t){if(t&&("object"===up(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function hp(e){return(hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dp(e,t)}(i,e);var t,n,r,a=yp(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isExpanded:!1,isImplementationEvidenceExpaned:!t.props.isCVATaskEditable},t}return t=i,(n=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"componentDidUpdate",value:function(e){e.isCVATaskEditable!==this.props.isCVATaskEditable&&this.setState({isImplementationEvidenceExpaned:!this.props.isCVATaskEditable})}},{key:"render",value:function(){var e=this,t=pp({},this.props),n=(t.id,t.name),r=t.description,a=t.implementationGuidance,i=t.implementationEvidence,c=t.className,s=t.showImplementationEvidence,u=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,p=pp({},this.state),f=p.isExpanded,m=p.isImplementationEvidenceExpaned;return o.a.createElement("div",{className:"ControlInfo "+c},n&&o.a.createElement("h5",null,n),r&&o.a.createElement("div",{className:"control-description"},o.a.createElement("span",null,o.a.createElement("b",null,"Description: ")),o.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),a&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!f})}},o.a.createElement("span",null,o.a.createElement("b",null,"Implementation Guidance "),o.a.createElement(sp.a,{name:"".concat(f?"caret-up":"caret-down")}))),f&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),s&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},o.a.createElement("span",null,o.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),o.a.createElement(sp.a,{name:"".concat(m?"caret-up":"caret-down")}))),m&&o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?o.a.createElement("div",null,o.a.createElement(ja.a,{className:"implementation-evidence",initialValue:u,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):o.a.createElement("div",{className:"implementation-evidence"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:u.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&mp(t.prototype,n),r&&mp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);function gp(e){return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kp(e,t){return(kp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jp(e);if(t){var o=jp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ap(this,n)}}function Ap(e,t){if(t&&("object"===gp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jp(e){return(jp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}o.a.Component;function Pp(e){return(Pp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cp(Object(n),!0).forEach((function(t){Ip(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Np(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rp(e,t){return(Rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Up(e);if(t){var o=Up(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xp(this,n)}}function xp(e,t){if(t&&("object"===Pp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Up(e){return(Up=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rp(e,t)}(i,e);var t,n,r,a=Dp(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).updateSelectedProductAspect=function(e){t.setState({selectedProductAspect:e})},t.state={jiraKey:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=_p({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,c=t.addComponent,s=t.saveControls,u=t.componentTarget,l=t.productAspects,p=(t.isStandaloneTask,t.controlSetSelectionTaskHelpText),f=t.updateIsLastComponentSelectionCompleted,m=t.backLink,d=_p({},this.state),y=d.jiraKey,b=d.selectedProductAspect,h=function(e){e.target.checked?(r.map((function(e){return i(e.id,b)})),c(e.target.value,b)):i(e.target.value,b)};return o.a.createElement("div",{className:"ComponentSelection"},m,o.a.createElement("div",{className:"title"},"Components"),o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(ip,{key:this.state.selectedProductAspect,selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:c,productAspects:l,selectedProductAspect:this.state.selectedProductAspect,componentTarget:u,updateSelectedProductAspect:this.updateSelectedProductAspect}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},b?l.indexOf(b)+1+". Select control set for the "+b+" component":"1. Select control set for the Current Solution"),o.a.createElement("p",{className:"help-text"},p),o.a.createElement("div",{className:"selected-components"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null),o.a.createElement("th",null,"Control set"),o.a.createElement("th",null,"Description"))),o.a.createElement("tbody",null,n.map((function(e,t){var n=r.filter((function(t){return t.id===e.id&&t.productAspect===b})).length>0;return o.a.createElement("tr",{key:t},o.a.createElement("td",null,o.a.createElement("input",{name:"aspect",value:e.id,type:"radio",checked:n,onChange:h})),o.a.createElement("td",{className:"td-component-name"},e.name),o.a.createElement("td",{className:"td-component-description"},e.description))}))))),o.a.createElement("div",{className:"save-components-container"},o.a.createElement("p",{className:"save-message"},b?"Note: Your selection will be saved when you continue to the next component.":"Note: Your selection will be saved when you continue."),o.a.createElement("div",{className:"buttons-wrapper"},r.length>0&&"JIRA Cloud"===u&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=w()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(Tr,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(y)}})),b&&l.indexOf(b)<l.length-1&&o.a.createElement(Tr,{title:"Next",rightIconImage:jr.a,onClick:function(){e.setState({selectedProductAspect:l[l.indexOf(b)+1]}),s(),f(!1)}}),b&&l.indexOf(b)===l.length-1&&o.a.createElement(Tr,{title:"Next",rightIconImage:jr.a,onClick:function(){s(),f(!0)}}),(void 0===l||""===l||0===l.length)&&o.a.createElement(Tr,{title:"Submit",rightIconImage:jr.a,onClick:function(){s(),f(!0)}}))))))}}])&&Np(t.prototype,n),r&&Np(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Lp(e){return(Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hp(e,t){return(Hp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kp(e);if(t){var o=Kp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jp(this,n)}}function Jp(e,t){if(t&&("object"===Lp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kp(e){return(Kp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hp(e,t)}(i,e);var t,n,r,a=Vp(i);function i(){return qp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mp(Object(n),!0).forEach((function(t){Fp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.componentTarget,a=e.isSRATaskFinalised,i=e.productAspects,c=e.doneButton,s=e.backLink,u=i&&i.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},!!a&&Us.getSraIsFinalisedAlert(),s,o.a.createElement("h4",null,"Summary"),o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"components"},u&&i.map((function(e,n){var r=zl.doescomponentExistForProductAspect(e,t);return o.a.createElement("div",{className:"row",key:n},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". Select control set for the ",e," component")),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},!r&&o.a.createElement("span",{className:"default-answer"},"Current Solution"),t.map((function(t,n){if(t.productAspect===e)return o.a.createElement("ul",{className:"control-list",key:n},o.a.createElement("li",{key:t.id+"_".concat(e)+"_".concat(t.name)},o.a.createElement("b",null,t.name)),o.a.createElement("li",{key:t.id+"_".concat(e)+"_".concat(t.description)},t.description))}))))}))),(void 0===i||""===i||0===i.length)&&o.a.createElement("div",{className:"components"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,"1. Select control set for the Current Solution")),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},0===t.length&&o.a.createElement("span",{className:"default-answer"},"Current Solution"),t.map((function(e,t){return o.a.createElement("ul",{className:"control-list",key:t},o.a.createElement("li",{key:e.id+"_".concat(e.name)},o.a.createElement("b",null,e.name)),o.a.createElement("li",{key:e.id+"".concat(e.description)},e.description))})))))),"JIRA Cloud"===r&&o.a.createElement("div",{className:"components"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,"Created Jira Tickets")),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},o.a.createElement("ul",null,n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))})))))),c&&o.a.createElement("div",{className:"buttons"},c))}}])&&Qp(t.prototype,n),r&&Qp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component);function Gp(e){return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wp(Object(n),!0).forEach((function(t){$p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ef(e,t){return(ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rf(e);if(t){var o=rf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nf(this,n)}}function nf(e,t){if(t&&("object"===Gp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rf(e){return(rf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var of=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ef(e,t)}(i,e);var t,n,r,a=tf(i);function i(){return Zp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,zp({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=zp({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,c=e.dispatchRemoveComponentAction,s=e.dispatchCreateJIRATicketsAction,u=e.viewMode,l=e.jiraTickets,p=e.componentTarget;if(!n||!t)return null;var f=null;switch(u){case"edit":f=o.a.createElement(Bp,{availableComponents:r,selectedComponents:a,componentTarget:p,isStandaloneTask:!0,createJIRATickets:function(e){s(e)},removeComponent:function(e){c(e)},addComponent:function(e){i(e)},finishWithSelection:function(){N.redirectToHome()}});break;case"review":f=o.a.createElement(Yp,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(Tr,{title:"BACK TO HOME",onClick:function(){N.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(tn,{pageTitle:"Component Selection",logopath:t.logoPath}),f,o.a.createElement(kn,{footerCopyrightText:t.footerCopyrightText}))}}])&&Xp(t.prototype,n),r&&Xp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),af=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}}),(function(e,t){return{dispatchLoadDataAction:function(){e(os()),e(qn()),e(xu())},dispatchAddComponentAction:function(t){e(Uu(t))},dispatchRemoveComponentAction:function(t){e(Bu(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return function(){var t=Du(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,je.getCSRFToken();case 9:return i=t.sent,t.next=12,Nu.createJiraTickets({jiraKey:e,componentIDList:Xr()(a.map((function(e){return e.id}))),csrfToken:i});case 12:return c=t.sent,t.next=15,n(Mu(c));case 15:return t.next=17,n(Lu("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),X.displayError(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(of),cf=n(610),sf=n.n(cf);function uf(e){return(uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ff(e,t){return(ff=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yf(e);if(t){var o=yf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return df(this,n)}}function df(e,t){if(t&&("object"===uf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yf(e){return(yf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ff(e,t)}(i,e);var t,n,r,a=mf(i);function i(){return lf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&pf(t.prototype,n),r&&pf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function hf(e){return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gf(e,t){return(gf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ef(e);if(t){var o=Ef(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sf(this,n)}}function Sf(e,t){if(t&&("object"===hf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ef(e){return(Ef=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wf(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kf(Object(n),!0).forEach((function(t){Af(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Af(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gf(e,t)}(i,e);var t,n,r,a=Of(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).updateIsLastComponentSelectionCompleted=function(e){t.setState({isLastComponentSelectionCompleted:e})},t.state={isLastComponentSelectionCompleted:!1,enableDoneButton:!1},t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Tf({},this.props).dispatchLoadDataAction)()}},{key:"componentDidUpdate",value:function(e){e.selectedComponents!==this.props.selectedComponents&&this.updateEnableDoneButton()}},{key:"updateEnableDoneButton",value:function(){this.props.selectedComponents.length>0?this.setState({enableDoneButton:!0}):this.setState({enableDoneButton:!1})}},{key:"sendBackToQestionnaire",value:function(){N.redirectToQuestionnaireSummary(this.props.taskSubmission.questionnaireSubmissionUUID,this.props.secureToken)}},{key:"render",value:function(){var e=this,t=Tf({},this.props),n=t.siteConfig,r=(t.siteTitle,t.secureToken,t.currentUser),a=t.taskSubmission,i=t.availableComponents,c=t.selectedComponents,s=t.dispatchAddComponentAction,u=t.dispatchRemoveComponentAction,l=t.dispatchCreateJIRATicketsAction,p=t.dispatchSaveLocalControlsAction,f=t.dispatchFinishAction;t.dispatchEditAnswersAction;if(!r||!a||!n)return null;var m=parseInt(r.id)===parseInt(a.submitter.id),d=m||r.isSA||a.isTaskCollborator,y=Us.isSRATaskFinalised(a.siblingSubmissions),b=("complete"===a.status||"waiting_for_approval"===a.status||"denied"===a.status)&&"submitted"===a.questionnaireSubmissionStatus&&d&&!a.lockWhenComplete,h=o.a.createElement("div",{className:"back-link",onClick:function(){return e.sendBackToQestionnaire()}},o.a.createElement("img",{src:er.a}),"Back"),v=(b&&!y&&sf.a,o.a.createElement(Tr,{title:"Done",onClick:function(){return f(a.questionnaireSubmissionUUID,e.props.secureToken)},disabled:!this.state.enableDoneButton})),g=!1,O=!1;(m||a.isTaskCollborator)&&(g=!0),g||(a.isCurrentUserAnApprover||r.isSA||r.isCISO||a.isBusinessOwner||r.isAccreditationAuthority||r.isCertificationAuthority)&&(O=!0);var S=null;switch(a.status){case"start":case"in_progress":if(d){S=o.a.createElement(Bp,{key:a.productAspects,availableComponents:i,selectedComponents:c,componentTarget:a.componentTarget,productAspects:a.productAspects,questionnaireSubmissionUUID:a.questionnaireSubmissionUUID,controlSetSelectionTaskHelpText:a.controlSetSelectionTaskHelpText,updateIsLastComponentSelectionCompleted:this.updateIsLastComponentSelectionCompleted,backLink:h,createJIRATickets:function(e){l(e)},saveControls:function(){p()},removeComponent:function(e,t){u(e,t)},addComponent:function(e,t){s(e,t)}});break}S=o.a.createElement("div",{className:"ComponentSelectionReview"},h,o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("br",null),o.a.createElement(bf,null)));break;case"complete":S=o.a.createElement(Yp,{isSRATaskFinalised:y,selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,backLink:h});break;case"expired":S=o.a.createElement(Vs,null)}return this.state.isLastComponentSelectionCompleted&&(S=o.a.createElement(Yp,{key:this.state.enableDoneButton,selectedComponents:c,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,backLink:h,doneButton:v})),o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(tn,{pageTitle:a.taskName,logopath:n.logoPath,productName:a.questionnaireSubmissionProductName,questionnaireSubmissionUUID:a.questionnaireSubmissionUUID,isTaskApprover:a.isCurrentUserAnApprover,showSubmissionBreadcrumb:g,showApprovalBreadcrumb:O}),S,o.a.createElement(kn,{footerCopyrightText:n.footerCopyrightText}))}}])&&vf(t.prototype,n),r&&vf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Pf=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=Tf({},t),r=n.uuid,o=n.secureToken;e(qn()),e(os()),e(xu()),e(Gu({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(Uu(t,n))},dispatchRemoveComponentAction:function(t,n){e(Bu(t,n))},dispatchCreateJIRATicketsAction:function(t){e(zu(t))},dispatchSaveLocalControlsAction:function(){e(zu(""))},dispatchFinishAction:function(t,n){return(r=regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e($u());case 2:N.redirectToQuestionnaireSummary(t,n);case 3:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){wf(a,n,o,i,c,"next",e)}function c(e){wf(a,n,o,i,c,"throw",e)}i(void 0)}))})();var r},dispatchEditAnswersAction:function(){e(Xu({type:"componentSelection"}))}}}))(jf);function Cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,o,a){if("awaiting_security_architect_review"===e)return"Awaiting security review";if("waiting_for_security_architect_approval"===e)return"Awaiting security approval";if("waiting_for_approval"===e){if("pending"===o&&"pending"===a)return"Awaiting approval";if("pending"!==o&&"pending"===a)return"Awaiting business owner approval"}return"approved"===e&&"pending"===o&&"approved"===a?"Approved - Chief Information Security Officer Approval Pending":"awaiting_certification_and_accreditation"==e?"Awaiting certification and accreditation":"awaiting_accreditation"==e?"Awaiting accreditation":"awaiting_certification"==e?"Awaiting certification":e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}}],(n=null)&&Cf(t.prototype,n),r&&Cf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function If(e){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nf(Object(n),!0).forEach((function(t){Df(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Df(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bf(e,t){return(Bf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ff(e);if(t){var o=Ff(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mf(this,n)}}function Mf(e,t){if(t&&("object"===If(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ff(e){return(Ff=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qf(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var Qf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bf(e,t)}(i,e);var t,n,r,a=Lf(i);function i(){return xf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Rf({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Rf({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(tn,{pageTitle:"My submissions",logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return C.a.isEmpty(n)?o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,n.map((function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ea()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,_f.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))))}(n,t),o.a.createElement(kn,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Uf(t.prototype,n),r&&Uf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Hf=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(os());case 2:return t.next=4,e(function(){var e=yo(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:u.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Kr.fetchQuestionnaireSubmissionList(r.id,"my_submission_list",0,0);case 8:o=e.sent,t({type:u.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:u.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(qn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){qf(a,r,o,i,c,"next",e)}function c(e){qf(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(Qf),Vf=n(344),Jf=n.n(Vf),Kf=n(611),Yf=n.n(Kf),Gf=n(612),Wf=n.n(Gf),zf=n(613),$f=n.n(zf);function Zf(e){return(Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tm(e,t){return(tm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=om(e);if(t){var o=om(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rm(this,n)}}function rm(e,t){if(t&&("object"===Zf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function om(e){return(om=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var am=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}(i,e);var t,n,r,a=nm(i);function i(){var e;Xf(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).handleFirstPageClick=function(){e.props.paginationActions.firstPage({limit:10,offset:0,index:1,pageNumber:1})},e.handleNextPageClick=function(t){e.props.paginationActions.nextPage({limit:e.props.limit,offset:(e.props.page+1-1)*e.props.limit,index:t+1,pageNumber:e.props.page+1})},e.handlePreviousPageClick=function(){e.props.paginationActions.prevPage({limit:e.props.limit,offset:(e.props.page-1-1)*e.props.limit,index:Math.abs(e.props.limit-e.props.index),pageNumber:e.props.page-1})},e.handleLastPageClick=function(t){e.props.paginationActions.lastPage({limit:e.props.limit,offset:(Math.ceil(t/e.props.limit)-1)*e.props.limit,index:(Math.ceil(t/e.props.limit)-1)*e.props.limit,pageNumber:Math.ceil(t/e.props.limit)})},e.handleChangeForSelectedRows=function(t){e.props.paginationActions.selectedRow({limit:t,offset:e.props.offset,index:e.props.index,pageNumber:e.props.page})},e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.limit,r=t.offset;e.limit===n&&e.offset===r||this.props.dispatchList(n,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.paginationInfo,r=n.totalCount,a=n.hasNextPage,i=n.hasPreviousPage,c=t.listLength,s=[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:40,label:"40"},{value:50,label:"50"}],u=this.props.offset+c,l=this.props.index;return i||(l=1),o.a.createElement("div",{className:"pagination-container"},o.a.createElement("span",{className:"rows-per-page"},"Rows per page"),o.a.createElement("div",{className:"rows-per-page-select"},o.a.createElement(Pa.a,{value:{label:this.props.limit},options:s,defaultValue:s[0],classNamePrefix:"react-select",placeholder:s[0],isSearchable:!1,onChange:function(t){return e.handleChangeForSelectedRows(t.value)}})),o.a.createElement("div",{className:"pagination-navigation-count"},l+"-"+u+" of "+r),o.a.createElement("div",{className:"pagination-buttons"},o.a.createElement("img",{className:i?"":"disable-pagination",src:Yf.a,onClick:i?function(){return e.handleFirstPageClick()}:""}),o.a.createElement("img",{className:i?"":"disable-pagination",src:$f.a,onClick:i?function(){return e.handlePreviousPageClick()}:""}),o.a.createElement("img",{className:a?"":"disable-pagination",src:Es.a,onClick:a?function(){return e.handleNextPageClick(u)}:""}),o.a.createElement("img",{className:a?"":"disable-pagination",src:Wf.a,onClick:a?function(){return e.handleLastPageClick(r)}:""})))}}])&&em(t.prototype,n),r&&em(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);n(579);function im(e){return(im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function um(e,t){return(um=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fm(e);if(t){var o=fm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pm(this,n)}}function pm(e,t){if(t&&("object"===im(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fm(e){return(fm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&um(e,t)}(i,e);var t,n,r,a=lm(i);function i(){return cm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.paginationState.pagination,n=e.paginationActions;return o.a.createElement(am,{paginationInfo:this.props.paginationInfo,listLength:this.props.listLength,dispatchList:this.props.dispatchList,limit:t.limit,offset:t.offset,page:t.pageNumber,index:t.index,paginationActions:n})}}])&&sm(t.prototype,n),r&&sm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),dm=Object(c.b)((function(e){return{paginationState:e.paginationState}}),(function(e,t){return{paginationActions:{nextPage:function(t){return e(function(e){return{type:u.PAGINATION.FETCH_NEXT_PAGE,payload:e}}(t))},prevPage:function(t){return e(function(e){return{type:u.PAGINATION.FETCH_PREV_PAGE,payload:e}}(t))},firstPage:function(t){return e(function(e){return{type:u.PAGINATION.FETCH_FIRST_PAGE,payload:e}}(t))},lastPage:function(t){return e(function(e){return{type:u.PAGINATION.FETCH_LAST_PAGE,payload:e}}(t))},selectedRow:function(t){return e(function(e){return{type:u.PAGINATION.SET_SELECTED_ROWS,payload:e}}(t))}}}}))(mm);function ym(e){return(ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bm(Object(n),!0).forEach((function(t){vm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Om(e,t){return(Om=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wm(e);if(t){var o=wm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Em(this,n)}}function Em(e,t){if(t&&("object"===ym(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wm(e){return(wm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function km(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var Tm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Om(e,t)}(i,e);var t,n,r,a=Sm(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={currentApprovalList:"QuestionnaireApproval"},t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,hm({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=hm({},this.props),n=t.currentUser,r=t.siteConfig,a=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,c=t.loadingState,s=t.dispatchloadAwaitingApprovalList,u=t.dispatchloadAwaitingApprovalTaskList;return n&&a&&r&&i?c["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(tn,{pageTitle:"My approvals",logopath:r.logoPath}),o.a.createElement("div",{className:"container tab-container mb-0 px-0"},o.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"QuestionnaireApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalList(10,0)}},"Submission approvals"),o.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"TaskApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalTaskList(10,0)}},"Task approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&Am(a,n,s),"TaskApproval"==this.state.currentApprovalList&&jm(i,n,u),o.a.createElement(kn,{footerCopyrightText:r.footerCopyrightText})):null}}])&&gm(t.prototype,n),r&&gm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Am=function(e,t,n){var r=e.questionnaireSubmissionList,a=e.pageInfo;return C.a.isEmpty(r)?o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire.")):o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-hover table-approval-list"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",null,o.a.createElement("span",{className:"date-created"},"Date created"),o.a.createElement("img",{src:Jf.a})),o.a.createElement("th",{className:"submission-product-name-header"},"Product Name"),o.a.createElement("th",null,"Business Owner"),o.a.createElement("th",null,"Submitter"),o.a.createElement("th",null,"Release date"),o.a.createElement("th",{className:"security-architect-header"},"Security architect"),o.a.createElement("th",{className:"submission-status-header"},"Status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,r.map((function(e){var n="#/questionnaire/summary/"+e.uuid,r=e.SecurityArchitectApprover;return"null null"==r&&(r="Unassigned"),o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ea()(e.created).format("DD/MM/YY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,e.releaseDate?Ea()(e.releaseDate).format("DD/MM/YY"):""),o.a.createElement("td",{className:"Unassigned"==r?"unassigned-approver":""},r),o.a.createElement("td",null,o.a.createElement("img",{src:Da.a}),_f.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},o.a.createElement("img",{src:Es.a}))))}))))),o.a.createElement(dm,{paginationInfo:a,listLength:r.length,dispatchList:n}))},jm=function(e,t,n){var r=e.taskSubmissionList,a=e.pageInfo;return C.a.isEmpty(r)?o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task.")):o.a.createElement("div",{className:"container px-0"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-hover table-approval-list"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",null,o.a.createElement("span",{className:"date-created"},"Date created"),o.a.createElement("img",{src:Jf.a})),o.a.createElement("th",{className:"task-name-header"},"Task name"),o.a.createElement("th",{className:"task-product-name-header"},"Product Name"),o.a.createElement("th",{className:"task-submitter-header"},"Submitter"),o.a.createElement("th",{className:"task-status-header-header"},"Status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,r.map((function(e){var t="#/task/submission/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ea()(e.created).format("DD/MM/YY")),o.a.createElement("td",null,e.taskName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,o.a.createElement("img",{src:Da.a}),"Awaiting approval"),o.a.createElement("td",null,o.a.createElement("a",{href:t},o.a.createElement("img",{src:Es.a}))))}))))),o.a.createElement(dm,{paginationInfo:a,listLength:r.length,dispatchList:n}))},Pm=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(os());case 2:return t.next=4,e(vo(10,0));case 4:return t.next=6,e(nl(10,0));case 6:return t.next=8,e(qn());case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){km(a,r,o,i,c,"next",e)}function c(e){km(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t},dispatchloadAwaitingApprovalTaskList:function(t,n){e(nl(t,n))},dispatchloadAwaitingApprovalList:function(t,n){e(vo(t,n))},resetPagination:function(){return e({type:u.PAGINATION.RESET_PAGINATION})}}}))(Tm);function Cm(e){return(Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Im(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(n),!0).forEach((function(t){Nm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xm(e,t){return(xm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Um(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lm(e);if(t){var o=Lm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(e,t){if(t&&("object"===Cm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Lm(e){return(Lm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mm(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var Fm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xm(e,t)}(i,e);var t,n,r,a=Um(i);function i(){return Rm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Im({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Im({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(tn,{pageTitle:"My Products",logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return C.a.isEmpty(n)?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,n.map((function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Ea()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,_f.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))))}(n,t),o.a.createElement(kn,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Dm(t.prototype,n),r&&Dm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),qm=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(os());case 2:return t.next=4,e(function(){var e=yo(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:u.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Kr.fetchQuestionnaireSubmissionList(r.id,"my_product_list",0,0);case 8:o=e.sent,t({type:u.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:u.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(qn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){Mm(a,r,o,i,c,"next",e)}function c(e){Mm(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(Fm);function Qm(e){return(Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ym(e,t){return(Ym=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zm(e);if(t){var o=zm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wm(this,n)}}function Wm(e,t){if(t&&("object"===Qm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zm(e){return(zm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ym(e,t)}(i,e);var t,n,r,a=Gm(i);function i(){return Jm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hm(Object(n),!0).forEach((function(t){Vm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Legend"),o.a.createElement("div",{className:"table-responsive score-modal-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,">="===e.operator?">/="+e.value:e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&Km(t.prototype,n),r&&Km(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Zm(e){return(Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function td(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rd(e,t){return(rd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function od(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=id(e);if(t){var o=id(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ad(this,n)}}function ad(e,t){if(t&&("object"===Zm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function id(e){return(id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rd(e,t)}(i,e);var t,n,r,a=od(i);function i(){return td(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xm(Object(n),!0).forEach((function(t){ed(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).impactThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"ImapctLegend"},o.a.createElement("h3",{className:"impact-score-legend"},"Legend"),o.a.createElement("div",{className:"table-responsive score-modal-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"impact_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,">="===e.operator?">/="+e.value:"<="===e.operator?"</="+e.value:e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&nd(t.prototype,n),r&&nd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),sd=n(334),ud=n.n(sd);function ld(e){return(ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function md(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yd(e,t){return(yd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vd(e);if(t){var o=vd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hd(this,n)}}function hd(e,t){if(t&&("object"===ld(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vd(e){return(vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yd(e,t)}(i,e);var t,n,r,a=bd(i);function i(){return md(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(n),!0).forEach((function(t){fd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"RiskRatingLegend"},o.a.createElement("span",{className:"impact-heading"},"Impact"),o.a.createElement("div",{className:"table-responsive help-modal-table-container"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",null,e.tableRows.map((function(e,t){return o.a.createElement("tr",{key:"row_"+t},e.map((function(e,t){return o.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)})))})))))):null}}])&&dd(t.prototype,n),r&&dd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Od(e){return(Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ed(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wd(e,t){return(wd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ad(e);if(t){var o=Ad(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Td(this,n)}}function Td(e,t){if(t&&("object"===Od(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ad(e){return(Ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wd(e,t)}(i,e);var t,n,r,a=kd(i);function i(){var e;Sd(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={showModal:!1},e.handleOpenModal=function(){e.setState({showModal:!0})},e.handleCloseModal=function(){e.setState({showModal:!1})},e}return t=i,(n=[{key:"renderCurrentRiskRatingContent",value:function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"modal-help-text",dangerouslySetInnerHTML:{__html:this.props.helpText}}),o.a.createElement(gd,{riskRatingThresholds:this.props.riskRatingThresholds}))}},{key:"renderLikelihoodScoreContent",value:function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"modal-help-text",dangerouslySetInnerHTML:{__html:this.props.helpText}}),o.a.createElement($m,{likelihoodThresholds:this.props.likelihoodScoreThresholds}))}},{key:"renderImpactScoreContent",value:function(){return o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"modal-help-text",dangerouslySetInnerHTML:{__html:this.props.helpText}}),o.a.createElement(cd,{impactThresholds:this.props.impactScoreThresholds}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"HelpModalContainer"},o.a.createElement("img",{src:ud.a,onClick:function(){return e.handleOpenModal()}}),o.a.createElement(Ka.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".SecurityRiskAssessmentContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},o.a.createElement("h1",null,this.props.title)),o.a.createElement("div",{className:"close-icon-container",onClick:this.handleCloseModal},o.a.createElement("img",{src:Qa.a}))),"Current Risk Rating"===this.props.title&&this.renderCurrentRiskRatingContent(),"Likelihood score"===this.props.title&&this.renderLikelihoodScoreContent(),"Impact score"===this.props.title&&this.renderImpactScoreContent()))}}])&&Ed(t.prototype,n),r&&Ed(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Pd(e){return(Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cd(Object(n),!0).forEach((function(t){Id(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dd(e,t){return(Dd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bd(e);if(t){var o=Bd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ud(this,n)}}function Ud(e,t){if(t&&("object"===Pd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bd(e){return(Bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ld=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dd(e,t)}(i,e);var t,n,r,a=xd(i);function i(){return Nd(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"renderTableHeader",value:function(){var e=_d({},this.props),t=(e.sraData,e.impactScoreThresholds),n=e.impactScoreHelpText,r=e.riskRatingHelpText,a=e.likelihoodScoreHelpText,i=e.likelihoodRatingThresholds,c=e.riskRatingThresholds;return o.a.createElement("tr",{key:"risk_assessment_header"},o.a.createElement("th",null,"Risk category"),o.a.createElement("th",null,"Current risk rating ",o.a.createElement(jd,{title:"Current Risk Rating",helpText:r,riskRatingThresholds:c})),o.a.createElement("th",{className:"td-padding-left"},"Likelihood score ",o.a.createElement(jd,{title:"Likelihood score",helpText:a,likelihoodScoreThresholds:i})),o.a.createElement("th",null,"Impact score ",o.a.createElement(jd,{title:"Impact score",helpText:n,impactScoreThresholds:t})))}},{key:"renderTableBody",value:function(){return _d({},this.props).sraData.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:e.riskDetail.currentRiskRating.colour}},e.riskDetail.currentRiskRating.name),o.a.createElement("td",{className:"td-padding-left"},o.a.createElement("span",{className:"ellipse",style:{backgroundColor:e.riskDetail.currentLikelihood.colour}}),o.a.createElement("span",{className:"threshold-name"},e.riskDetail.currentLikelihood.name),o.a.createElement("span",null,o.a.createElement("b",null,e.riskDetail.currentLikelihood.score)," / ",e.riskDetail.MaxLikelihoodPenalty),e.differenceBetweenLikelihoodScore>0&&o.a.createElement("span",{className:"score-difference positive-red"},"+ ",e.differenceBetweenLikelihoodScore),e.differenceBetweenLikelihoodScore<0&&o.a.createElement("span",{className:"score-difference negative-green"},"- ",-1*e.differenceBetweenLikelihoodScore)),o.a.createElement("td",null,o.a.createElement("span",{className:"ellipse",style:{backgroundColor:e.riskDetail.currentImpact.colour}}),o.a.createElement("span",{className:"threshold-name"},e.riskDetail.currentImpact.name),o.a.createElement("span",null,o.a.createElement("b",null,e.riskDetail.currentImpact.score)," / ",e.riskDetail.MaxImpactPenalty),e.differenceBetweenImapctScore>0&&o.a.createElement("span",{className:"score-difference positive-red"},"+ ",e.differenceBetweenImapctScore),e.differenceBetweenImapctScore<0&&o.a.createElement("span",{className:"score-difference negative-green"},"- ",-1*e.differenceBetweenImapctScore)))}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},this.renderTableHeader()),o.a.createElement("tbody",null,this.renderTableBody())))}}])&&Rd(t.prototype,n),r&&Rd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Md(Object(n),!0).forEach((function(t){qd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qd(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Hd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Qd(a,r,o,i,c,"next",e)}function c(e){Qd(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Vd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jd=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:(i=Hd(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fd({},t),r=n.uuid,o=n.secureToken,a=n.component,i='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'", Component: "').concat(a||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    SraTaskHelpText\n    SraTaskRecommendedControlHelpText\n    SraTaskRiskRatingHelpText\n    SraTaskLikelihoodScoreHelpText\n    SraTaskImpactScoreHelpText\n    SraTaskNotApplicableInformationText\n    SraTaskNotImplementedInformationText\n    SraTaskPlannedInformationText\n    SraTaskImplementedInformationText\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n    SelectedControls\n    LikelihoodRatingsThresholds\n    RiskRatingThresholdsMatix\n  }\n}'),e.next=4,L.request({query:i});case 4:if(c=e.sent,s=S()(c,"data.readTaskSubmission.0",null)){e.next=8;break}throw M;case 8:return u=JSON.parse(S()(s,"SelectedControls","[]")),Array.isArray(u)||(u=[]),l=JSON.parse(S()(s,"SecurityRiskAssessmentData","")),p=u.length>0?to.parseCVAFromJSONObject(u):u,f={uuid:s&&s.UUID?s.UUID:"",taskName:w()(S()(s,"TaskName","")),status:w()(S()(s,"Status","")),sraTaskHelpText:w()(S()(s,"SraTaskHelpText","")),sraTaskRecommendedControlHelpText:w()(S()(s,"SraTaskRecommendedControlHelpText","")),sraTaskRiskRatingHelpText:w()(S()(s,"SraTaskRiskRatingHelpText","")),sraTaskLikelihoodScoreHelpText:w()(S()(s,"SraTaskLikelihoodScoreHelpText","")),sraTaskImpactScoreHelpText:w()(S()(s,"SraTaskImpactScoreHelpText","")),sraTaskNotApplicableInformationText:w()(S()(s,"SraTaskNotApplicableInformationText","")),sraTaskNotImplementedInformationText:w()(S()(s,"SraTaskNotImplementedInformationText","")),sraTaskPlannedInformationText:w()(S()(s,"SraTaskPlannedInformationText","")),sraTaskImplementedInformationText:w()(S()(s,"SraTaskImplementedInformationText","")),submitterID:w()(S()(s,"Submitter.ID","")),isTaskCollborator:"true"===S()(s,"IsTaskCollborator","false"),questionnaireSubmissionUUID:w()(S()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionProductName:w()(S()(s,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===S()(s,"QuestionnaireSubmission.IsBusinessOwner","false"),taskSubmissions:G.parseAlltaskSubmissionforQuestionnaire(s),sraData:l,selectedControls:p,likelihoodRatingThresholds:JSON.parse(S()(s,"LikelihoodRatingsThresholds","")),riskRatingThresholds:JSON.parse(S()(s,"RiskRatingThresholdsMatix",""))},e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"fetchImpactThreshold",value:(a=Hd(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,L.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=S()(t,"data.readImpactThreshold",null)){e.next=7;break}throw M;case 7:return r=n.map((function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"updateCVAControlStatus",value:(o=Hd(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,s,u,l,p,f,m,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fd({},t),o=r.componentID,a=r.controlID,i=r.productAspect,c=r.selectedOption,s=r.uuid,u='\n    mutation {\n      updateControlValidationAuditControlStatus(UUID: "'.concat(s,'", ComponentID: "').concat(o,'", ControlID: "').concat(a,'", ProductAspect: "').concat(i,'", SelectedOption: "').concat(c,'") {\n        UUID\n        SelectedControls\n        SecurityRiskAssessmentData\n      }\n    }'),e.next=4,L.request({query:u,csrfToken:n});case 4:if(l=e.sent,p=S()(l,"data.updateControlValidationAuditControlStatus",null)){e.next=8;break}throw M;case 8:return f=JSON.parse(S()(p,"SelectedControls","[]")),Array.isArray(f)||(f=[]),m=f.length>0?to.parseCVAFromJSONObject(f):f,d=JSON.parse(S()(p,"SecurityRiskAssessmentData","")),y={sraData:d,selectedControls:m},e.abrupt("return",y);case 14:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&Vd(t.prototype,n),r&&Vd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Kd(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Yd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Kd(a,r,o,i,c,"next",e)}function c(e){Kd(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zd(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gd(Object(n),!0).forEach((function(t){Wd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken,o=t.component;return function(){var e=Yd(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:u.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,Jd.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r,component:o});case 5:return a=e.sent,i={type:u.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:a},e.next=9,t(i);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:u.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:X.displayError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}var $d=n(167),Zd={columns:{"column-1":{id:"column-1",title:"Not applicable",controlIds:[]},"column-2":{id:"column-2",title:"Not implemented",controlIds:[]},"column-3":{id:"column-3",title:"Planned",controlIds:[]},"column-4":{id:"column-4",title:"Implemented",controlIds:[]}},columnOrder:["column-1","column-2","column-3","column-4"]},Xd={"Not applicable":"Not Applicable","Not implemented":"Intended",Planned:"Planned",Implemented:"Realised"},ey=n(1158),ty=n(264),ny=n.n(ty),ry=n(263),oy=n.n(ry),ay=n(614),iy=n.n(ay),cy=n(345),sy=n.n(cy);function uy(){return(uy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function py(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return my(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return my(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function my(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dy(e){var t=fy(Object(r.useState)(!1),2),n=t[0],a=t[1],i=e.control,c=i.name,s=i.riskCategories,u=i.id,l=i.isKeyControl,p=i.evalutionRating,f=i.implementationEvidenceUserInput,m=e.column,d=e.index,y={"Not Validated":sy.a,"Not Effective":sy.a,"Partially Effective":iy.a,Effective:_a.a},b=function(e,t){return o.a.createElement("img",{className:"effectiveness-icon",src:e[t],alt:t+" icon"})},h=function(){var e=function(e){if("column-4"===e.id&&"Implemented"===e.title)return e.controlIds}(m);if(null!=e)return null==e?void 0:e.includes(u)},v=function(){if(h()&&function(){if(""!==f)return!0}())return!0},g=function(){a(!n)};return o.a.createElement($d.b,{draggableId:u,index:d},(function(t,r){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach((function(t){py(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundColor:r.isDragging?"lightgrey":"white"},t.draggableProps.style);return o.a.createElement(ey.a,uy({className:"material-card"},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,style:a}),o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"card-header"},l?o.a.createElement("p",{className:"card-title card-key-control"},o.a.createElement("img",{src:oy.a,alt:"star icon"}),c):o.a.createElement("p",{className:"card-title"},c),o.a.createElement("div",{className:"card-chevron"},o.a.createElement(ne.c,{to:{pathname:"/control-detail-page",state:{props:e}}},o.a.createElement(Ys.a,{"aria-label":"show more"},o.a.createElement(ny.a,null))))),o.a.createElement("div",{className:n?"card-footer flex-column":"card-footer",onClick:h()?null:g},h()?null:!n&&s.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:"card-risk-category"},s[0].name),s.length>1?o.a.createElement("p",{className:"card-weight"},"+",s.length-1):""):s.map((function(e,t){return o.a.createElement("p",{className:"card-risk-category",key:t},e.name)})),v()?o.a.createElement("div",{className:"evidence-status"},b(y,"Effective"),o.a.createElement("p",{className:"evidence-text"},"Evidence Added")):null,h()?function(){if(""!=p)return o.a.createElement("div",{className:"evidence-evaluation-rating"},b(y,p),o.a.createElement("p",{className:"evidence-text"},p))}():null)))}))}var yy=n(1159),by=n(618),hy=n.n(by),vy=n(617),gy=n.n(vy),Oy=n(1177),Sy=n(1163),Ey=n(1162);function wy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ky(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ky(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ky(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ty(){return(Ty=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ay=Object(yy.a)((function(){return{arrow:{color:"#2371A6"},tooltip:{backgroundColor:"#2371A6",width:"210px",padding:"8px 10px",fontSize:"10px",lineHeight:"14px",fontWeight:400,borderRadius:"2px",marginLeft:"1px",marginTop:"5px"}}}));function jy(e){var t=Ay();return o.a.createElement(Oy.a,Ty({classes:t},e))}var Py=function(e){var t=e.content,n=wy(Object(r.useState)(!1),2),a=n[0],i=n[1],c=function(){i(!0)};return o.a.createElement(Ey.a,{onClickAway:function(){i(!1)}},o.a.createElement("div",{className:"information-tooltip-container"},o.a.createElement(jy,{PopperProps:{disablePortal:!0},open:a,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:t,placement:"bottom",TransitionComponent:Sy.a,TransitionProps:{timeout:0},arrow:!0},a?o.a.createElement(gy.a,{className:"column-info",onClick:c}):o.a.createElement(hy.a,{className:"column-info",onClick:c}))))},Cy=n(619),_y=n.n(Cy);function Iy(e){return(Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ny(){return(Ny=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function By(e,t,n){return t&&Uy(e.prototype,t),n&&Uy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ly(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&My(e,t)}function My(e,t){return(My=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qy(e);if(t){var o=Qy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qy(this,n)}}function qy(e,t){if(t&&("object"===Iy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qy(e){return(Qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hy=function(e){Ly(n,e);var t=Fy(n);function n(){return xy(this,n),t.apply(this,arguments)}return By(n,[{key:"shouldComponentUpdate",value:function(e){return e.controls!==this.props.controls}},{key:"render",value:function(){var e=this.props,t=e.cvaTaskSubmissionUUID,n=e.productName,r=e.sraTaskSubmissionUUID,a=e.secureToken,i=e.showSubmissionBreadcrumb,c=e.showApprovalBreadcrumb,s=e.questionnaireSubmissionUUID,u=e.comingFrom,l=e.sraTaskName,p=e.productAspect,f=e.column;return this.props.controls.map((function(e,m){return o.a.createElement(dy,{column:f,key:e.id,control:e,index:m,cvaTaskSubmissionUUID:t,productName:n,productAspect:p,sraTaskSubmissionUUID:r,secureToken:a,showSubmissionBreadcrumb:i,showApprovalBreadcrumb:c,questionnaireSubmissionUUID:s,comingFrom:u,sraTaskName:l})}))}}]),n}(o.a.Component),Vy=function(e){Ly(n,e);var t=Fy(n);function n(){var e;xy(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={controlArrayIsValid:!1},e}return By(n,[{key:"componentDidUpdate",value:function(e){this.props.controls!==e.controls&&this.setState({controlArrayIsValid:!0})}},{key:"render",value:function(){var e,t=this,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ry(Object(n),!0).forEach((function(t){Dy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ry(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),r=n.column,a=n.controls,i=n.cvaTaskSubmissionUUID,c=n.productName,s=n.productAspect,u=n.questionnaireSubmissionUUID,l=n.sraTaskSubmissionUUID,p=n.sraTaskName,f=n.secureToken,m=n.showSubmissionBreadcrumb,d=n.showApprovalBreadcrumb,y=n.comingFrom,b=n.informationText;return 0===a.length&&(e=o.a.createElement("div",{className:"empty-column-text"},o.a.createElement(_y.a,{className:"directional-drag-arrow"}),o.a.createElement("p",null,"Click and drag a control to move it into '",r.title,"'."))),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"column-header"},o.a.createElement("h5",{className:"column-title"},r.title),o.a.createElement(Py,{content:b})),o.a.createElement("div",{className:e?"dotted-border column-card-list":"column-card-list"},o.a.createElement($d.c,{droppableId:r.id},(function(n,b){return o.a.createElement("div",Ny({ref:n.innerRef,style:{backgroundColor:b.isDraggingOver?"grey":"#efefef"}},n.droppableProps),e,t.state.controlArrayIsValid?o.a.createElement(Hy,{column:r,controls:a,columnTitle:r.title,cvaTaskSubmissionUUID:i,productName:c,productAspect:s,sraTaskSubmissionUUID:l,secureToken:f,showSubmissionBreadcrumb:m,showApprovalBreadcrumb:d,questionnaireSubmissionUUID:u,comingFrom:y,sraTaskName:p}):null,n.placeholder)}))))}}]),n}(r.Component),Jy=n(1164),Ky=n(1173);function Yy(e){return(Yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zy(e,t){return(zy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xy(e);if(t){var o=Xy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zy(this,n)}}function Zy(e,t){if(t&&("object"===Yy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xy(e){return(Xy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}(i,e);var t,n,r,a=$y(i);function i(){return Gy(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.isFilteringDisabled,n=e.handleChange;return o.a.createElement(Jy.a,{className:"board-filter-label filter-checkbox",control:o.a.createElement(Ky.a,{defaultChecked:!0,color:"primary",onClick:n,disabled:t}),label:this.props.label})}}])&&Wy(t.prototype,n),r&&Wy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),tb=n(1165),nb=n(1174);function rb(e){return(rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ib(e,t){return(ib=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ub(e);if(t){var o=ub(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sb(this,n)}}function sb(e,t){if(t&&("object"===rb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ub(e){return(ub=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ib(e,t)}(i,e);var t,n,r,a=cb(i);function i(){return ob(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.isFilteringDisabled,n=e.handleChange;return o.a.createElement("div",{className:"board-search"},o.a.createElement(tb.a,{className:"board-filter-label"},this.props.label),o.a.createElement(nb.a,{size:"small",InputProps:{style:{fontSize:"small"},disabled:t},className:"board-search-input",variant:"outlined",color:"primary",focused:!0,onChange:n}))}}])&&ab(t.prototype,n),r&&ab(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),pb=n(1171),fb=n(1179);function mb(e){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function db(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bb(e,t){return(bb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gb(e);if(t){var o=gb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vb(this,n)}}function vb(e,t){if(t&&("object"===mb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gb(e){return(gb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ob=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bb(e,t)}(i,e);var t,n,r,a=hb(i);function i(){return db(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.filterParameters,r=e.addClass,a=e.isFilteringDisabled,i=e.handleChange;return o.a.createElement("div",{className:"board-select"},o.a.createElement(tb.a,{className:"board-filter-label"},t),o.a.createElement(pb.a,{SelectDisplayProps:{style:{paddingTop:9,paddingBottom:9,fontSize:"small",backgroundColor:"white"}},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},getContentAnchorEl:null,disablePortal:!0},IconComponent:ny.a,className:"sort-by"===r?"board-select-input sort-by":"board-select-input",variant:"outlined",defaultValue:"Sort by"===t?n[1].title:n[0].title,onChange:i,disabled:a},n.map((function(e){return o.a.createElement(fb.a,{style:{fontSize:"small"},key:e.id,value:e.title},e.title)}))))}}])&&yb(t.prototype,n),r&&yb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Sb=[{id:1,title:"All"},{id:2,title:"Information disclosure"},{id:3,title:"Information modification"},{id:4,title:"Information loss"},{id:5,title:"Sustained service unavailability"},{id:6,title:"Degraded service performance"},{id:7,title:"Human damage or loss of life"}],Eb=[{id:1,title:"None"},{id:2,title:"Alphabetical (A-Z)"},{id:3,title:"Alphabetical (Z-A)"},{id:4,title:"Key controls first"},{id:5,title:"Effectiveness"},{id:6,title:"Evidence added"},{id:7,title:"Number of risk categories"}];function wb(e){return(wb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ab(e,t){return(Ab=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cb(e);if(t){var o=Cb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pb(this,n)}}function Pb(e,t){if(t&&("object"===wb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cb(e){return(Cb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ab(e,t)}(i,e);var t,n,r,a=jb(i);function i(){return kb(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.updateSearchKeywords,n=e.isFilteringDisabled,r=e.toggleNotApplicable,a=e.updateSelectedRiskCategory,i=e.updateSortByOption;return o.a.createElement("div",{className:"board-filters"},o.a.createElement(lb,{label:"Key words",handleChange:t,isFilteringDisabled:n}),o.a.createElement(Ob,{label:"Risk category",filterParameters:Sb,isFilteringDisabled:n,handleChange:a}),o.a.createElement(Ob,{label:"Sort by",filterParameters:Eb,addClass:"sort-by",isFilteringDisabled:n,handleChange:i}),o.a.createElement(eb,{label:"Show not applicable",handleChange:r,isFilteringDisabled:n}))}}])&&Tb(t.prototype,n),r&&Tb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Ib=n(1172),Nb=n(1168),Rb=n(1180),Db=n(621),xb=n.n(Db),Ub=n(620),Bb=n.n(Ub);function Lb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mb=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"sortByAscending",value:function(e){var t=new Intl.Collator;return Object.fromEntries(Object.entries(e).sort((function(e,n){return t.compare(e[1].name,n[1].name)})))}},{key:"sortByDescending",value:function(e){var t=new Intl.Collator;return Object.fromEntries(Object.entries(e).sort((function(e,n){return t.compare(n[1].name,e[1].name)})))}},{key:"sortByKeyControlsFirst",value:function(e){return Object.fromEntries(Object.entries(e).sort((function(e,t){return Number(t[1].isKeyControl)-Number(e[1].isKeyControl)})))}},{key:"sortByEffectiveness",value:function(e){var t=["Effective","Partially Effective","Not Effective","Not Validated"];return Object.fromEntries(Object.entries(e).sort((function(e,n){return t.indexOf(e[1].evalutionRating)-t.indexOf(n[1].evalutionRating)})))}},{key:"sortByEvidenceAdded",value:function(e){return Object.fromEntries(Object.entries(e).sort((function(e,t){return""===e[1].implementationEvidenceUserInput?1:""===t[1].implementationEvidenceUserInput?-1:e[1].implementationEvidenceUserInput===t[1].implementationEvidenceUserInput?0:void 0})))}},{key:"sortByNumberOfRiskCategories",value:function(e){return Object.fromEntries(Object.entries(e).sort((function(e,t){return t[1].riskCategories.length-e[1].riskCategories.length})))}},{key:"sortByNone",value:function(e,t,n){return e.map((function(e){var r=t[e],o=(n[e]?n[e]:[]).controlIds;o&&r.controlIds.sort((function(e,t){return o.indexOf(e)-o.indexOf(t)}))})),t}}],(n=null)&&Lb(t.prototype,n),r&&Lb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fb(e){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qb=["id"];function Qb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hb(Object(n),!0).forEach((function(t){Jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gb(e,t){return(Gb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$b(e);if(t){var o=$b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zb(this,n)}}function zb(e,t){if(t&&("object"===Fb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $b(e){return($b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gb(e,t)}(i,e);var t,n,r,a=Wb(i);function i(){var e;Kb(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={controls:[],columns:Zd.columns,columnOrder:Zd.columnOrder,showNotApplicable:!0,message:null,isFilteringDisabled:!1,searchKeywords:"",selectedRiskCategory:"All",sortBy:"Alphabetical (A-Z)",unorderedColumns:Zd.columns},e.toggleNotApplicable=function(t){e.setState({showNotApplicable:t.target.checked})},e.updateSearchKeywords=function(t){e.setState({searchKeywords:t.target.value.trim()},(function(){return e.handleSearch()}))},e.updateSelectedRiskCategory=function(t){e.setState({selectedRiskCategory:t.target.value},(function(){return e.handleSearch()}))},e.updateSortByOption=function(t){e.setState({sortBy:t.target.value},(function(){e.handleSearch()}))},e.filterSelectedRiskCategory=function(t){var n=e.state.selectedRiskCategory;return"All"==n?t:Object.fromEntries(Object.entries(t).filter((function(e){return e[1].riskCategories.some((function(e){return e.name.toLowerCase()===n.toLowerCase()}))})))},e.filterSearchKeywords=function(t){var n=e.state.searchKeywords;return Object.fromEntries(Object.entries(t).filter((function(e){return e[1].name.toLowerCase().includes(n.toLowerCase())})))},e.handleSearch=function(){var t=Vb({},e.state.controls),n=e.filterSearchKeywords(t);n=e.filterSelectedRiskCategory(n),n=e.sortControls(n),0==Object.keys(n).length?e.setState({columns:Zd.columns}):e.updateControlsInColumns(n)},e.onDragStart=function(){e.setState({isFilteringDisabled:!0})},e.onDragEnd=function(t){var n,r=t.destination,o=t.source,a=t.draggableId;if(r)if(r.droppableId!==o.droppableId||r.index!==o.index){var i=e.state.columns[o.droppableId],c=e.state.columns[r.droppableId];if(e.state.message={open:!0,severity:"success",icon:"",title:"Changes applied.",text:"Your likelihood and impact scores have been updated.",anchorOrigin:{vertical:"top",horizontal:"center"}},i!==c){var s=Array.from(i.controlIds);s.splice(o.index,1);var u=Vb(Vb({},i),{},{controlIds:s}),l=Array.from(c.controlIds);l.splice(r.index,0,a);var p=Vb(Vb({},c),{},{controlIds:l}),f=Vb(Vb({},e.state),{},{columns:Vb(Vb({},e.state.columns),{},(n={},Jb(n,u.id,u),Jb(n,p.id,p),n))});e.setState(f);var m=e.props,d=m.cvaTaskSubmissionUUID,y=m.productAspect,b=a.match(/{\d*}/g);e.props.dispatchUpdateCVAControlStatus({selectedOption:Xd[c.title],controlID:b[1].match(/\d+/g).pop(),componentID:b[0].match(/\d+/g).pop(),productAspect:y,uuid:d}),e.setState({isFilteringDisabled:!1})}else{var h=Array.from(i.controlIds);h.splice(o.index,1),h.splice(r.index,0,a);var v=Vb(Vb({},i),{},{controlIds:h}),g=Vb(Vb({},e.state),{},{columns:Vb(Vb({},e.state.columns),{},Jb({},v.id,v)),isFilteringDisabled:!1});e.setState(g,(function(){if("None"===e.state.sortBy){var t=Vb({},e.state.columns);e.setState({unorderedColumns:t})}else e.handleSearch()}))}}else e.setState({isFilteringDisabled:!1});else e.setState({isFilteringDisabled:!1})},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.getControlsDataset(),t=this.addControlsToColumns(e);this.setState({controls:e}),this.setState({columns:t})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.selectedControls!==e.selectedControls){var n=this.getControlsDataset();if(this.setState({controls:n},(function(){if("None"===t.state.sortBy){var e=Vb({},t.state.columns);t.setState({unorderedColumns:e},(function(){t.handleSearch()}))}else t.handleSearch()})),!this.state.message){var r=this.addControlsToColumns(n);this.setState({columns:r})}}}},{key:"sortControls",value:function(e){var t=[];switch(this.state.sortBy){case"Alphabetical (A-Z)":t=Mb.sortByAscending(e);break;case"Alphabetical (Z-A)":t=Mb.sortByDescending(e);break;case"Key controls first":t=Mb.sortByKeyControlsFirst(e);break;case"Effectiveness":t=Mb.sortByEffectiveness(e);break;case"Evidence added":t=Mb.sortByEvidenceAdded(e);break;case"Number of risk categories":t=Mb.sortByNumberOfRiskCategories(e);break;default:t=e}return t}},{key:"getControlsDataset",value:function(){if(this.props.selectedControls.length){var e=[];return this.props.selectedControls.map((function(t){var n=t.name;t.controls.map((function(r){var o=r.id,a=Qb(r,qb),i=(n+"-{"+t.id+"}_"+a.name+"-{"+o+"}").replace(/ /g,"_");e=Vb(Vb({},e),{},Jb({},i,Vb({id:i},a)))}))})),e}}},{key:"addControlsToColumns",value:function(e){var t=Object(P.cloneDeep)(Zd.columns);return e?(this.state.columnOrder.map((function(n){var r=t[n],o=r.controlIds;Object.entries(e).map((function(e){e[1].selectedOption===Xd[r.title]&&o.push(e[0])}))})),t):t}},{key:"updateControlsInColumns",value:function(e){var t=Vb({},this.state.controls),n=this.addControlsToColumns(t);this.state.columnOrder.map((function(t){var r=n[t],o=r.controlIds,a=[];Object.entries(e).map((function(e){o.includes(e[0])&&a.push(e[0]),r.controlIds=a}))})),"None"===this.state.sortBy&&(n=Mb.sortByNone(this.state.columnOrder,n,this.state.unorderedColumns)),this.setState({columns:n})}},{key:"render",value:function(){var e,t=this,n=Vb({},this.props),r=n.notApplicableInformationText,a=n.notImplementedInformationText,i=n.plannedInformationText,c=n.implementedInformationText,s=n.cvaTaskSubmissionUUID,u=n.productName,l=n.productAspect,p=n.questionnaireSubmissionUUID,f=n.sraTaskSubmissionUUID,m=n.sraTaskName,d=n.secureToken,y=n.showSubmissionBreadcrumb,b=n.showApprovalBreadcrumb,h=n.comingFrom,v={"Not applicable":r,"Not implemented":a,Planned:i,Implemented:c};return this.state.columns===Zd.columns&&(e=o.a.createElement("div",{className:"no-search-results-container"},o.a.createElement("div",{className:"column-header-container"},this.state.columnOrder.map((function(e){var n=t.state.columns[e];return o.a.createElement("div",{className:"column-header",key:n.id,style:{display:t.state.showNotApplicable||"Not applicable"!=n.title?"":"none"}},o.a.createElement("h5",{className:"column-title"},n.title),o.a.createElement(Py,{content:v[n.title]}))}))),o.a.createElement("div",{className:"no-search-results-message-container"},o.a.createElement("img",{src:Bb.a,alt:"search icon"}),o.a.createElement("h4",null,"No results found"),o.a.createElement("span",{className:"no-search-results-message"},"There are no controls that match your search. Try adjusting your search and filter criteria.")))),o.a.createElement(o.a.Fragment,null,o.a.createElement(_b,{toggleNotApplicable:this.toggleNotApplicable,updateSearchKeywords:this.updateSearchKeywords,updateSelectedRiskCategory:this.updateSelectedRiskCategory,updateSortByOption:this.updateSortByOption,isFilteringDisabled:this.state.isFilteringDisabled}),this.state.message?o.a.createElement(Rb.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.message.open,autoHideDuration:5e3,onClose:function(){return t.setState({message:null})}},o.a.createElement(Ib.a,{style:{width:"40vw"},icon:o.a.createElement(xb.a,{style:{color:"#579a36"}})},o.a.createElement(Nb.a,null,this.state.message.title),this.state.message.text)):null,o.a.createElement($d.a,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},o.a.createElement("div",{className:"control-board-container"},e||"",this.state.columnOrder.map((function(n){var r,a=t.state.columns[n];r=!((t.state.showNotApplicable||"Not applicable"!=a.title)&&!e);var i=a.controlIds.map((function(e){return Vb({},t.state.controls[e])}));return o.a.createElement("div",{className:"column-container ".concat(t.state.showNotApplicable?"narrow":"wide"),key:a.id,style:{display:r?"none":""}},o.a.createElement(Vy,{column:a,controls:i,cvaTaskSubmissionUUID:s,productName:u,productAspect:l,questionnaireSubmissionUUID:p,sraTaskSubmissionUUID:f,sraTaskName:m,secureToken:d,showSubmissionBreadcrumb:y,showApprovalBreadcrumb:b,comingFrom:h,informationText:v[a.title]}))})))))}}])&&Yb(t.prototype,n),r&&Yb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function Xb(e){return(Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach((function(t){nh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ah(e,t){return(ah=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ih(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sh(e);if(t){var o=sh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ch(this,n)}}function ch(e,t){if(t&&("object"===Xb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sh(e){return(sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ah(e,t)}(i,e);var t,n,r,a=ih(i);function i(){var e;rh(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={showModal:!1},e.handleOpenSubmitModal=function(){e.setState({showModal:!0})},e.handleCloseSubmitModal=function(){e.setState({showModal:!1})},e.handleSubmit=function(){var t=th({},e.props),n=t.uuid,r=t.dispatchSaveAction,o=t.secureToken,a=t.component;r(n,o,t.securityRiskAssessmentData.questionnaireSubmissionUUID,a),e.setState({showModal:!1})},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=th({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken,e.component)}},{key:"renderSubmitModal",value:function(e,t){var n=this,r=e,a=0;if(t.length){var i=t.filter((function(e){return e.productAspect===n.props.component}));i.length&&(a=i[0].controls.filter((function(e){return"Intended"===e.selectedOption})).length)}return o.a.createElement(Ka.a,{portalClassName:"submit-modal",isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".SecurityRiskAssessmentContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},o.a.createElement("h1",null,"Confirm submission")),o.a.createElement("div",{className:"close-icon-container",onClick:this.handleCloseSubmitModal},o.a.createElement("img",{src:Qa.a}))),o.a.createElement("div",{className:"content"},o.a.createElement("p",null,"You are about to submit the security risk assessment for",r||"Product","."),a>=1&&o.a.createElement("p",null,"You still have ",a,"",1==a?"control":"controls","that ",1==a?"has":"have","not been implemented. You will not be able to make any changes once you submit."),o.a.createElement("p",{className:"confirmation-message"},"Are you sure you wish to continue?")),o.a.createElement("div",{className:"button-container"},o.a.createElement(Oa,{title:"No, don't submit",classes:["mr-3 confirm-submission-button"],onClick:this.handleCloseSubmitModal}),o.a.createElement(Tr,{title:"Yes, continue to submit",classes:["confirm-submission-button"],onClick:this.handleSubmit})))}},{key:"render",value:function(){var e=this,t=th({},this.props),n=t.siteConfig,r=t.currentUser,a=t.securityRiskAssessmentData,i=t.secureToken,c=t.impactThresholdData,s=t.component,u=t.dispatchUpdateCVAControlStatus;if(!r||!n||!a)return null;var l=th({},a),p=l.uuid,f=l.taskName,m=l.questionnaireSubmissionUUID,d=(l.submitterID,l.taskSubmissions),y=l.sraData,b=(l.status,l.sraTaskHelpText),h=l.sraTaskRecommendedControlHelpText,v=l.sraTaskRiskRatingHelpText,g=l.sraTaskLikelihoodScoreHelpText,O=l.sraTaskImpactScoreHelpText,S=l.sraTaskNotApplicableInformationText,E=l.sraTaskNotImplementedInformationText,w=l.sraTaskPlannedInformationText,k=l.sraTaskImplementedInformationText,T=l.selectedControls,A=l.questionnaireSubmissionProductName,j=l.likelihoodRatingThresholds,P=l.riskRatingThresholds,C=d.filter((function(e){return"control validation audit"===e.taskType}))[0].uuid,_=(Us.isSRATaskFinalised(d),Us.isSiblingTaskPending(d),a.submitterID===r.id),I=(_||a.isTaskCollborator,o.a.createElement("div",{className:"back-link",onClick:function(){N.redirectToQuestionnaireSummary(m,i)}},o.a.createElement("img",{src:er.a}),"Back")),R=!1,D=!1;return(_||a.isTaskCollborator)&&(R=!0),R||(r.isSA||r.isCISO||a.isBusinessOwner||r.isAccreditationAuthority||r.isCertificationAuthority)&&(D=!0),o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement(tn,{pageTitle:f,logopath:n.logoPath,productName:A,questionnaireSubmissionUUID:m,showSubmissionBreadcrumb:R,showApprovalBreadcrumb:D,component:s}),"expired"===a.status&&o.a.createElement(Vs,null),"expired"!==a.status&&o.a.createElement("div",{className:"SecurityRiskAssessment"},I,o.a.createElement("h4",null,"Your risk assessment results"),o.a.createElement("div",{className:"help-text"},b),o.a.createElement("div",{className:"help-text"},o.a.createElement(Ld,{riskRatingHelpText:v,likelihoodScoreHelpText:g,likelihoodRatingThresholds:j,riskRatingThresholds:P,sraData:y,impactScoreHelpText:O,impactScoreThresholds:c})),o.a.createElement("h4",null,"Recommended Controls"),o.a.createElement("div",{className:"help-text"},h),o.a.createElement("div",{className:"security-risk-assessment-control-board"},o.a.createElement(Zb,{productAspect:this.props.component,notApplicableInformationText:S,notImplementedInformationText:E,plannedInformationText:w,implementedInformationText:k,selectedControls:T,key:T.length>0?"".concat(T[0].id," ").concat(T[0].name," ").concat(T[0].productAspect):"",dispatchUpdateCVAControlStatus:function(e){u(e)},comingFrom:"sra",showSubmissionBreadcrumb:R,showApprovalBreadcrumb:D,sraTaskSubmissionUUID:p,sraTaskName:f,cvaTaskSubmissionUUID:C,secureToken:i,productName:A,questionnaireSubmissionUUID:m})),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"container-right"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,"Note: Changes are automatically saved")),o.a.createElement("div",{className:"button-container"},o.a.createElement(Oa,{classes:["button"],title:"Save and exit",onClick:function(){N.redirectToQuestionnaireSummary(m,i)}}),o.a.createElement(Tr,{classes:["button button-submit"],title:"Submit",onClick:function(){return e.handleOpenSubmitModal()}})))),this.renderSubmitModal(A,T)),o.a.createElement(kn,{footerCopyrightText:n.footerCopyrightText}))}}])&&oh(t.prototype,n),r&&oh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),lh=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}}),(function(e,t){return{dispatchLoadDataAction:function(t,n,r){e(os()),e(qn()),e(zd({uuid:t,secureToken:n,component:r})),e(function(){var e=Yd(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jd.fetchImpactThreshold();case 3:return n=e.sent,r={type:u.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),X.displayError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},dispatchSaveAction:function(t,n,r,o){e($u({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r,component:o}))},dispatchUpdateCVAControlStatus:function(t){var n;e((n=t,function(){var e=Yd(regeneratorRuntime.mark((function e(t){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.getCSRFToken();case 3:return r=e.sent,e.next=6,Jd.updateCVAControlStatus(n,r);case 6:return o=e.sent,a={type:u.SRA.UPDATE_CVA_CONTROL_STATUS,payload:o},e.next=10,t(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),X.displayError(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()))}}}))(uh);function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(n),!0).forEach((function(t){mh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dh(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function yh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){dh(a,r,o,i,c,"next",e)}function c(e){dh(a,r,o,i,c,"throw",e)}i(void 0)}))}}function bh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hh=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:(c=yh(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fh({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      ProductName\n      IsBusinessOwner\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,L.request({query:a});case 4:if(i=e.sent,c=S()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw M;case 8:return s=JSON.parse(S()(c,"CVATaskData","[]")),Array.isArray(s)||(s=[]),u=s.length>0?to.parseCVAFromJSONObject(s):s,l={id:w()(S()(c,"ID","")),status:w()(S()(c,"Status","")),uuid:w()(S()(c,"UUID","")),questionnaireSubmissionUUID:w()(S()(c,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionProductName:w()(S()(c,"QuestionnaireSubmission.ProductName","")),isBusinessOwner:"true"===S()(c,"QuestionnaireSubmission.IsBusinessOwner","false"),taskName:w()(S()(c,"TaskName","")),selectedComponents:u,submitterID:w()(S()(c,"Submitter.ID","")),componentTarget:w()(S()(c,"CVATaskDataSource","")),isTaskCollborator:"true"===S()(c,"IsTaskCollborator","false"),productAspects:_.has(c,"ProductAspects")?JSON.parse(S()(c,"ProductAspects",[])):[],siblingSubmissions:G.parseAlltaskSubmissionforQuestionnaire(c)},e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"saveControlValidationAuditData",value:(i=yh(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fh({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,L.request({query:c,csrfToken:a});case 5:if(s=e.sent,_.get(s,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw M;case 9:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"reSyncWithJira",value:(a=yh(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fh({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,L.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw M;case 8:return s=JSON.parse(S()(c,"CVATaskData","[]")),Array.isArray(s)||(s=[]),u=s.length>0?to.parseCVAFromJSONObject(s):s,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"updateCVAControlDetails",value:(o=yh(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,s,u,l,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fh({},t),o=r.componentID,a=r.controlID,i=r.productAspect,c=r.updatedControl,s=r.cvaTaskSubmissionUUID,u=window.btoa(unescape(encodeURIComponent(JSON.stringify(c)))),l='\n    mutation {\n      updateControlValidationAuditControlDetails(UUID: "'.concat(s,'", ComponentID: "').concat(o,'", ControlID: "').concat(a,'", ProductAspect: "').concat(i,'", UpdatedControl: "').concat(u,'") {\n        UUID\n      }\n    }'),e.next=5,L.request({query:l,csrfToken:n});case 5:if(p=e.sent,f=S()(p,"data.updateControlValidationAuditControlDetails.UUID",null)){e.next=9;break}throw M;case 9:return e.abrupt("return",f);case 10:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&bh(t.prototype,n),r&&bh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function vh(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function gh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){vh(a,r,o,i,c,"next",e)}function c(e){vh(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Oh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eh(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oh(Object(n),!0).forEach((function(t){Sh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=gh(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:u.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:u.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,hh.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return o=e.sent,a={type:u.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:o},e.next=11,t(a);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:u.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:X.displayError(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}function wh(e){return(wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kh(Object(n),!0).forEach((function(t){Ah(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ah(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ch(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ih(e);if(t){var o=Ih(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _h(this,n)}}function _h(e,t){if(t&&("object"===wh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ih(e){return(Ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nh(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Rh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Nh(a,r,o,i,c,"next",e)}function c(e){Nh(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Dh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ph(e,t)}(c,e);var t,n,r,a,i=Ch(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={isCVATaskEditable:!1},t}return t=c,(n=[{key:"componentDidMount",value:(a=Rh(regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,s,u,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Th({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:try{a=Th({},this.props),i=a.controlValidationAuditData,c=a.currentUser,s=i.submitterID===c.id,u=s||i.isTaskCollborator,this.setState({isCVATaskEditable:u}),this.autoSaveCVATask=setInterval(Rh(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=3;break}return e.next=3,l.callAutoSaveCvaTaskApi();case 3:case"end":return e.stop()}}),e)}))),6e5)}catch(e){X.displayError(e)}case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearInterval(this.autoSaveCVATask)}},{key:"callAutoSaveCvaTaskApi",value:function(){var e=Th({},this.props),t=e.uuid,n=e.secureToken,r=e.dispatchSaveControlValidationAuditDataAction,o=e.controlValidationAuditData,a=e.cvaSelectedComponents;e.currentUser,r(t,a,o.questionnaireSubmissionUUID,n,!0)}},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;return this.props.controlValidationAuditData.componentTarget,t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?o.a.createElement("div",null,n.map((function(t){return e.renderComponent(t)}))):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return o.a.createElement("div",null,e.map((function(e,r){var a=t.filter((function(t){return t.productAspect===e}));return 0==a.length?null:o.a.createElement("div",{className:"mt-2",key:r},o.a.createElement("h4",null,e),a.map((function(e){return n.renderComponent(e)})))})))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,a=e.jiraTicketLink?o.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return o.a.createElement("div",{key:n},o.a.createElement("h5",null,e.name,a&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&o.a.createElement("span",null," - ",a)),r&&r.length>0&&r.map((function(n){return t.renderControl(n,e)})),!r||0==r.length&&o.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,a=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"},{value:"Planned",label:"PLANNED"}],i=[{value:"Not Validated",label:"Not Validated"},{value:"Not Effective",label:"Not Effective"},{value:"Partially Effective",label:"Partially Effective"},{value:"Effective",label:"Effective"}];return o.a.createElement("div",{className:"my-0 container row",key:t},o.a.createElement("div",{className:"col-xs-6"},o.a.createElement("div",null,a.map((function(a,i){return o.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:a.value,defaultChecked:e.selectedOption===a.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:a.value,evalutionRating:e.evalutionRating,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),a.label)}))),o.a.createElement("div",null,i.map((function(a,i){return o.a.createElement("label",{key:"evalution_rating_optionlabel_".concat(t,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"evalution_rating_radiobutton_".concat(t,"_").concat(i),name:"evalution_rating_".concat(t),value:a.value,defaultChecked:e.evalutionRating===a.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,evalutionRating:a.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),a.label)})))),o.a.createElement("div",{className:"col-7"},o.a.createElement("label",{key:e.id},o.a.createElement("strong",null,e.name)),o.a.createElement(vp,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:this.state.isCVATaskEditable,updateEvidenceTextareaData:function(t){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,evalutionRating:e.evalutionRating,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return o.a.createElement("div",{className:"my-0",key:t},o.a.createElement("label",{className:"ml-2",key:e.id},o.a.createElement("span",null,o.a.createElement("strong",null,e.name)," - "),o.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=Th({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,c=e.cvaSelectedComponents,s=e.dispatchReSyncWithJira,u=e.component;if(!n||!r||!t)return null;var l=this.state.isCVATaskEditable&&c.length>0?o.a.createElement(Oa,{title:"SUBMIT",onClick:function(){return i(r.uuid,c,r.questionnaireSubmissionUUID,a,!1)}}):null,p=o.a.createElement(Tr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){N.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}),f=this.state.isCVATaskEditable&&"JIRA Cloud"==r.componentTarget&&c.length>0?o.a.createElement(Tr,{title:"RE SYNC WITH JIRA",onClick:function(){return s(r.uuid)}}):null,m=!1,d=!1;return(r.submitterID===n.id||r.isTaskCollborator)&&(m=!0),m||(n.isSA||n.isCISO||r.isBusinessOwner||n.isAccreditationAuthority||n.isCertificationAuthority)&&(d=!0),o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement(tn,{pageTitle:r.taskName,logopath:t.logoPath,productName:r.questionnaireSubmissionProductName,questionnaireSubmissionUUID:r.questionnaireSubmissionUUID,showSubmissionBreadcrumb:m,showApprovalBreadcrumb:d,component:u}),"expired"===r.status&&o.a.createElement(Vs,null),"expired"!==r.status&&o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"ControlValidationAuditForm"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!this.state.isCVATaskEditable&&o.a.createElement(bf,null),(this.state.isCVATaskEditable||"complete"==r.status)&&o.a.createElement("div",null,this.renderCVAQuestionsForm())),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},o.a.createElement("div",null,l,f,p))),o.a.createElement(kn,{footerCopyrightText:t.footerCopyrightText}))}}])&&jh(t.prototype,n),r&&jh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component),xh=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:(n=Rh(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(Eh({uuid:n,secureToken:r})),e(os()),e(qn())]);case 2:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o,a){e(function(e,t,n,r,o){return function(){var a=gh(regeneratorRuntime.mark((function a(i){var c,s,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,je.getCSRFToken();case 3:return c=a.sent,a.next=6,hh.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:c});case 6:return s=a.sent,l={type:u.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:s},a.next=10,i(l);case 10:o||N.redirectToQuestionnaireSummary(n,r),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),X.displayError(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}(t,n,r,o,a))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n;e((n=t,function(){var e=gh(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:u.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},dispatchReSyncWithJira:function(t){e(function(e){return function(){var t=gh(regeneratorRuntime.mark((function t(n){var r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:u.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,je.getCSRFToken();case 5:return r=t.sent,t.next=8,hh.reSyncWithJira({uuid:e,csrfToken:r});case 8:return o=t.sent,a={type:u.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:o},t.next=12,n(a);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:u.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:X.displayError(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}};var n}))(Dh),Uh=n(1175),Bh=n(1169),Lh=n(1170),Mh=n(346),Fh=n(335),qh=n.n(Fh);function Qh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vh(e){var t=e.heading,n=e.helpText,a=e.initialValue,i=e.fieldName,c=e.onBlurUpdate,s=e.setUnsavedChanges,u=Qh(Object(r.useState)(!1),2),l=u[0],p=u[1];return o.a.createElement("div",{className:"editor-container"},o.a.createElement("h5",null,t),o.a.createElement("p",{className:"help-text"},n),o.a.createElement("div",{className:"editor-text-field ".concat(l?"focus":"")},o.a.createElement(ja.a,{initialValue:a,textareaName:i,init:{selector:"textarea",height:"73",menubar:!1,toolbar:!1,statusbar:!1,content_style:"body { font-size: 11px; line-height: 16px; }html { scrollbar-color: #2371A6 #fff; }",skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onFocus:function(){return p(!0)},onBlur:function(e){return function(e){p(!1),c(i,e.target.getContent())}(e)},onChange:function(){return s(!0)}})))}function Jh(e){var t=e.when,n=e.handleCloseSubmitModal,r=e.handleSubmit,a=e.resetModalState;return t?o.a.createElement(Ka.a,{portalClassName:"unsaved-changes-modal",isOpen:t,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".ControlDetailContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},o.a.createElement("h1",null,"Unsaved changes")),o.a.createElement("div",{className:"close-icon-container",onClick:function(){a("cancel")}},o.a.createElement("img",{src:Qa.a}))),o.a.createElement("div",{className:"content"},o.a.createElement("p",null,"This page has unsaved changes."),o.a.createElement("p",null,o.a.createElement("b",null,"Do you want to save your changes before leaving?"))),o.a.createElement("div",{className:"button-container"},o.a.createElement(Oa,{title:"Don't save changes",classes:["mr-3 confirm-save-button"],onClick:function(){return n()}}),o.a.createElement(Tr,{title:"Save changes",classes:["confirm-save-button"],onClick:function(){return r()}}))):null}function Kh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gh(Object(n),!0).forEach((function(t){zh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $h=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}}),(function(e,t){return{dispatchLoadDataAction:function(){e(os()),e(qn())},dispatchUpdateCVAControlDetailAction:function(t,n,r,o,a,i,c){var s;e((s={updatedControl:t,controlID:n,componentID:r,productAspect:o,cvaTaskSubmissionUUID:a,sraTaskSubmissionUUID:i,comingFrom:c},function(){var e=gh(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je.getCSRFToken();case 3:return n=e.sent,e.next=6,hh.updateCVAControlDetails(s,n);case 6:e.sent.uuid,"sra"==s.comingFrom?N.redirectToSecurityRiskAssessment(s.sraTaskSubmissionUUID,"","redirect",s.productAspect):N.redirectToControlValidationAudit(s.sraTaskSubmissionUUID,"","redirect",s.productAspect),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),X.displayError(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))}}}))((function(e){var t,n=Object(s.f)().state;if(!e||!n)return null;var a=Wh({},e),i=a.siteConfig,c=a.currentUser,u=a.dispatchLoadDataAction,l=a.dispatchUpdateCVAControlDetailAction;Object(r.useEffect)((function(){u()}),[]);var p=Wh({},n.props),f=p.productName,m=p.sraTaskSubmissionUUID,d=p.cvaTaskSubmissionUUID,y=p.secureToken,b=p.showSubmissionBreadcrumb,h=p.showApprovalBreadcrumb,v=p.questionnaireSubmissionUUID,g=p.sraTaskName,O=p.cvaTaskName,S=p.comingFrom,E=p.productAspect,w=Wh({},n.props.control),k=(w.id,w.name),T=w.isKeyControl,A=w.description,j=w.selectedOption,C=w.controlOwnerDetails,_=w.implementationEvidenceHelpText,I=(w.implementationEvidenceUserInput,w.implementationGuidance),R=w.implementationAuditHelpText,D=w.evalutionRating;if(w.auditMethodUserInput,w.auditNotesAndFindingsUserInput,w.auditRecommendationsUserInput,!c||!i)return null;var x=Kh(Object(r.useState)(Wh({},n.props.control)),2),U=x[0],B=x[1],L=Kh(Object(r.useState)(!1),2),M=L[0],F=L[1],q=Kh(Object(r.useState)(!1),2),Q=q[0],H=q[1],V=function(e){"cancel"!==e?(F(!1),H(!1)):F(!1)},J=o.a.createElement("div",{className:"back-link",onClick:function(){Q?F(!0):"sra"!=S||Q?"sra"===S||Q||N.redirectToControlValidationAudit(d,y,"redirect",E):N.redirectToSecurityRiskAssessment(m,y,"redirect",E)}},o.a.createElement("img",{src:er.a}),"Back"),K=function(e,t){B(Wh(Wh({},U),{},zh({},e,t)))},Y=function(e){var t=e.id.match(/{\d*}/g),n=t[1].match(/\d+/g).pop(),r=t[0].match(/\d+/g).pop();e.id=n,l(e,n,r,E,d,m,S)},G="This is a key control. Penalties will be applied to your Security Risk Assessment if you do not implement this control.".match(/[^.]+[.]+/g),W=[{value:"Not Applicable",label:"Not applicable"},{value:"Intended",label:"Not implemented"},{value:"Planned",label:"Planned"},{value:"Realised",label:"Implemented"}],z=R;[{name:"Your project",value:"<strong>Your project</strong>"},{name:"Security Architect",value:"<strong>Security Architect</strong>"},{name:"External Vendor",value:"<strong>External Vendor</strong>"}].forEach((function(e){z=z.replaceAll(e.name,e.value)}));var $=o.a.createElement("div",{className:"evaluation-rating-tooltip-info"},o.a.createElement("p",null,o.a.createElement("span",{className:"evaluation-rating-label"},"Effective:"),"The implementation of this control is effective."),o.a.createElement("p",null,o.a.createElement("span",{className:"evaluation-rating-label"},"Partially effective:"),"The implementation of this control is moderately effective."),o.a.createElement("p",null,o.a.createElement("span",{className:"evaluation-rating-label"},"Not effective:"),"The implementation of this control is not effective.")),Z=[{value:"Effective",label:"Effective"},{value:"Partially Effective",label:"Partially effective"},{value:"Not Effective",label:"Not effective"}],X=Z.find((function(e){return e.value===D}));return X||(X={value:"Not Validated",label:"Select"}),Object(r.useEffect)((function(){var e;Object(P.isEqual)(U,null==n||null===(e=n.props)||void 0===e?void 0:e.control)?H(!1):H(!0)}),[U,null==n||null===(t=n.props)||void 0===t?void 0:t.control]),o.a.createElement("div",{className:"ControlDetailContainer"},o.a.createElement(Jh,{when:M,handleCloseSubmitModal:function(){return Y(n.props.control),void F(!1)},handleSubmit:function(){return Y(U),void V()},resetModalState:V}),o.a.createElement(tn,{pageTitle:k,logopath:i.logoPath,productName:f,questionnaireSubmissionUUID:v,showSubmissionBreadcrumb:b,showApprovalBreadcrumb:h,sraTaskName:g,cvaTaskName:O,sraTaskSubmissionUUID:m,cvaTaskSubmissionUUID:d,comingFrom:S,component:E}),o.a.createElement("div",{className:"ControlDetail"},J,T&&o.a.createElement("div",{className:"alert key-control-banner"},o.a.createElement("img",{className:"key-control-icon",src:oy.a,alt:"star icon"}),o.a.createElement("strong",null,G[0]),"",G[1]),o.a.createElement("div",{className:"control-description-container"},o.a.createElement("h5",null,"Description"),o.a.createElement("div",{className:"control-description help-text control-detail-link",dangerouslySetInnerHTML:{__html:A}})),o.a.createElement("div",{className:"control-implementation-container"},o.a.createElement("div",{className:"control-implementation-status-and-owner-subcontainer"},o.a.createElement("div",{className:"control-implementation-status-container"},o.a.createElement("h5",null,"Implementation status"),o.a.createElement(Pa.a,{options:W,defaultValue:W.find((function(e){return e.value===j})),className:"react-select-container",classNamePrefix:"react-select",isSearchable:!1,styles:{dropdownIndicator:function(e,t){return Wh(Wh({},e),{},{transform:t.selectProps.menuIsOpen&&"rotate(180deg)"})}},onChange:function(e){return K("selectedOption",e.value)}})),o.a.createElement("div",{className:"control-owner-details-container"},o.a.createElement("h5",null,"Control owner"),C.length>0&&o.a.createElement("div",{className:"help-text"},C[0].name,C[0].email&&o.a.createElement("p",{className:"control-owner-email"},"(",o.a.createElement("span",{className:"control-detail-link"},o.a.createElement("a",{href:"mailto:"+C[0].email},C[0].email)),")"),o.a.createElement("span",{className:"control-owner-team"},C[0].team)))),o.a.createElement(Vh,{heading:"Evidence of implementation",helpText:_,initialValue:U.implementationEvidenceUserInput,fieldName:"implementationEvidenceUserInput",onBlurUpdate:K,setUnsavedChanges:function(e){return H(e)}}),o.a.createElement("div",{className:"implementation-guidance-container"},o.a.createElement(Uh.a,null,o.a.createElement(Bh.a,{expandIcon:o.a.createElement(qh.a,null),"aria-controls":"implementation-guidance-content",id:"implementation-guidance-header"},o.a.createElement(Mh.a,null,"How to implement this control")),o.a.createElement(Lh.a,null,o.a.createElement("div",{className:"implementation-guidance-content control-detail-link",dangerouslySetInnerHTML:{__html:I}}))))),o.a.createElement("div",{className:"control-audit-container"},o.a.createElement("div",{className:"implementation-audit-and-evaluation-rating-subcontainer"},o.a.createElement("div",{className:"implementation-audit-container"},o.a.createElement("h5",null,"Implementation audit"),o.a.createElement("div",{className:"implementation-audit-content help-text",dangerouslySetInnerHTML:{__html:z}})),o.a.createElement("div",{className:"evaluation-rating-container"},o.a.createElement("div",{className:"evaluation-rating-heading"},o.a.createElement("h5",null,"Evaluation rating"),o.a.createElement(Py,{content:$})),"Realised"!=U.selectedOption&&o.a.createElement("p",{className:"help-text"},"This control needs to be implemented first before it can be audited."),"Realised"===U.selectedOption&&o.a.createElement(Pa.a,{options:Z,defaultValue:X,className:"react-select-container evaluation-dropdown-container",classNamePrefix:"react-select",isSearchable:!1,styles:{dropdownIndicator:function(e,t){return Wh(Wh({},e),{},{transform:t.selectProps.menuIsOpen&&"rotate(180deg)"})}},onChange:function(e){return K("evalutionRating",e.value)}}))),o.a.createElement(Vh,{heading:"Audit method",helpText:"The audit process is based on the GCDO Assurance framework, and the guidelines for auditing management systems ISO / IEC 19011:2011.\nDescribe the activities and methods used to perform the audit of the control (e.g. documentation review, interviews, evidence or observations, testing).",initialValue:U.auditMethodUserInput,fieldName:"auditMethodUserInput",onBlurUpdate:K,setUnsavedChanges:function(e){return H}}),o.a.createElement(Vh,{heading:"Audit notes and findings",helpText:"Explain the rationale for the control evaluation rating and identify issues in this section.",initialValue:U.auditNotesAndFindingsUserInput,fieldName:"auditNotesAndFindingsUserInput",onBlurUpdate:K,setUnsavedChanges:function(e){return H}}),o.a.createElement(Vh,{heading:"Audit recommendations",helpText:"Describe the remediation activities to address the identified control deficiencies with respect to the control evaluation and the risk ratings.",initialValue:U.auditRecommendationsUserInput,fieldName:"auditRecommendationsUserInput",onBlurUpdate:K,setUnsavedChanges:function(e){return H}})),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"button-container"},o.a.createElement(Tr,{title:"Save",onClick:function(){return Y(U)}})))))})),Zh=n(102);function Xh(e){return(Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ev(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nv(e,t){return(nv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=av(e);if(t){var o=av(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ov(this,n)}}function ov(e,t){if(t&&("object"===Xh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function av(e){return(av=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var iv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nv(e,t)}(i,e);var t,n,r,a=rv(i);function i(){return ev(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"loading-spinner-page-overlay"},o.a.createElement("div",{className:"loading-spinner"},o.a.createElement(sp.a,{spin:!0,name:"spinner"})," Loading...")))}}])&&tv(t.prototype,n),r&&tv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);function cv(e){return(cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lv(e,t){return(lv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mv(e);if(t){var o=mv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fv(this,n)}}function fv(e,t){if(t&&("object"===cv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mv(e){return(mv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lv(e,t)}(i,e);var t,n,r,a=pv(i);function i(){return sv(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.loading&&o.a.createElement(iv,null),o.a.createElement("main",null,o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/"},(function(){return o.a.createElement(Zn,null)})),o.a.createElement(s.a,{path:"/questionnaire/start/:id"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(No,{questionnaireID:t.params.id}))})),o.a.createElement(s.a,{path:"/questionnaire/submission/:hash"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Wi,{submissionHash:t.params.hash}))})),o.a.createElement(s.a,{path:"/questionnaire/review/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Zh.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement($c,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/questionnaire/summary/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Zh.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(wu,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="",a="";if(n.search){var i=Object(Zh.parse)(n.search);r=i.token,a=i.component}return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Tl,{uuid:t.params.uuid,secureToken:r,component:a}))})),o.a.createElement(s.a,{path:"/tasks/standalone/:taskId"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Bl,{taskId:t.params.taskId}))})),o.a.createElement(s.a,{path:"/component-selection/standalone/:taskId"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Zh.parse)(n.search).componentTarget),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(af,{taskId:t.params.taskId,componentTarget:r}))})),o.a.createElement(s.a,{path:"/component-selection/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Zh.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Pf,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/control-validation-audit/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="",a="";if(n.search){var i=Object(Zh.parse)(n.search);r=i.token,a=i.component}return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(xh,{uuid:t.params.uuid,secureToken:r,component:a}))})),o.a.createElement(s.a,{exact:!0,path:"/control-detail-page/"},(function(){return o.a.createElement("div",{className:"gray-bg"},o.a.createElement($h,null),";")})),o.a.createElement(s.a,{path:"/security-risk-assessment/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="",a="";if(n.search){var i=Object(Zh.parse)(n.search);r=i.token,a=i.component}return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(lh,{uuid:t.params.uuid,secureToken:r,component:a}))})),o.a.createElement(s.a,{path:"/MySubmissions"},(function(){return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Hf,null))})),o.a.createElement(s.a,{path:"/AwaitingApprovals"},(function(){return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Pm,null))})),o.a.createElement(s.a,{path:"/MyProducts"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(qm,null))})))))}}])&&uv(t.prototype,n),r&&uv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),yv=Object(s.g)(Object(c.b)((function(e){return{loading:C.a.chain(e.loadingState).values().some((function(e){return e})).value()}}),(function(e,t){return{}}))(dv)),bv=n(35),hv=n(95),vv=(n(1073),{title:"",subtitle:"",pillars:[],tasks:[]});function gv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ov(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gv(Object(n),!0).forEach((function(t){Sv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ev={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},wv={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var kv=Object(bv.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ev,t=arguments.length>1?arguments[1]:void 0;return t.type===u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wv,t=arguments.length>1?arguments[1]:void 0;if(t.type===u.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===u.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex((function(e){return e.id===n.id}));if(r<0)return e;var o=Ov({},e);return C.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===u.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=Ov({},t),c=i.targetIndex,s=a.questions.findIndex((function(e){return e.isCurrent}));if(c<0||c>=a.questions.length)return e;var l=Ov({},e);return C.a.set(l,"submission.questions.".concat(s,".isCurrent"),!1),C.a.set(l,"submission.questions.".concat(c,".isCurrent"),!0),l}if(t.type===u.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var p=e.submission;if(!p)return e;var f=Ov({},e),m=t.nonApplicableIndexes;return m&&m.length>0&&m.forEach((function(e){var t=p.questions[e];t.isApplicable=!1,C.a.set(f,"submission.questions.".concat(e),t)})),f}return e}}),Tv=n(142),Av=n.n(Tv),jv=n(103),Pv=n.n(jv);function Cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cv(Object(n),!0).forEach((function(t){Iv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nv={taskSubmission:null};function Rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rv(Object(n),!0).forEach((function(t){xv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uv={user:null};function Bv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bv(Object(n),!0).forEach((function(t){Mv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fv={siteConfig:null};var qv=n(622),Qv=n.n(qv);function Hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hv(Object(n),!0).forEach((function(t){Jv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kv={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Yv=zl.isComponentExist,Gv=zl.isSelectedComponentExist;function Wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wv(Object(n),!0).forEach((function(t){$v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zv={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function Xv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xv(Object(n),!0).forEach((function(t){tg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ng={securityRiskAssessmentData:null,impactThresholdData:null};function rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function og(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rg(Object(n),!0).forEach((function(t){ag(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ig={controlValidationAuditData:null,cvaSelectedComponents:[]};zl.isSelectedComponentExist;function cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cg(Object(n),!0).forEach((function(t){ug(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ug(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fg={members:null};function mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(n),!0).forEach((function(t){yg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bg={pagination:{limit:10,offset:0,index:1,pageNumber:1}};var hg=Object(bv.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:kv,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nv,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===u.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===u.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION){if(!n)return e;var r=_v({},t.payload),o=r.resultForCertificationAndAccreditation,a=Av()(e);return Pv()(a,"taskSubmission.resultForCertificationAndAccreditation",o),a}if(t.type===u.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var i=t.payload,c=n.questions.findIndex((function(e){return e.id===i.id}));if(c<0)return e;var s=Av()(e);return Pv()(s,"taskSubmission.questions.".concat(c),i),s}if(t.type===u.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var l=Av()(e),p=t.payload;return p&&p.length>0&&p.forEach((function(e){var t=n.questions[e];t.isApplicable=!1,Pv()(l,"taskSubmission.questions.".concat(e),t)})),l}if(t.type===u.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var f=_v({},t.payload),m=f.currentIndex,d=f.targetIndex;if(d<0||d>=n.questions.length)return e;var y=Av()(e);return Pv()(y,"taskSubmission.questions.".concat(m,".isCurrent"),!1),Pv()(y,"taskSubmission.questions.".concat(d,".isCurrent"),!0),y}if(t.type===u.TASK.COMPLETE_TASK_SUBMISSION){var b=Av()(e);return Pv()(b,"taskSubmission.status","complete"),t.payload&&Pv()(b,"taskSubmission.result",t.payload),b}if(t.type===u.TASK.EDIT_TASK_SUBMISSION){var h=Av()(e);return Pv()(h,"taskSubmission.status","in_progress"),Pv()(h,"taskSubmission.result",null),h}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.USER.SET_CURRENT_USER:return Dv(Dv({},e),{},{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SITE_CONFIG.LOAD_SITE_CONFIG:return Lv(Lv({},e),{},{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kv,t=arguments.length>1?arguments[1]:void 0;if(t.type===u.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS){var n=t;return Vv(Vv({},e),{},{availableComponents:n.payload})}if(t.type===u.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var r=t,o=r.payload.id,a=r.payload.productAspect;if(!Gv(o,a,e.selectedComponents)&&Yv(o,e.availableComponents)){var i=e.availableComponents.filter((function(e){return e.id===o})),c=Object.assign({},i[0]);return c.productAspect=a,Vv(Vv({},e),{},{selectedComponents:Qv()(e.selectedComponents,c)})}}if(t.type===u.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var s=t,l=s.payload.id,p=s.payload.productAspect;if(Gv(l,p,e.selectedComponents)&&Yv(l,e.availableComponents))return Vv(Vv({},e),{},{selectedComponents:e.selectedComponents.filter((function(e){return e.id!==l||e.productAspect!==p}))})}if(t.type===u.COMPONENT_SELECTION.SET_JIRA_TICKETS){var f=t;return Vv(Vv({},e),{},{jiraTickets:f.payload})}if(t.type===u.COMPONENT_SELECTION.SET_VIEW_MODE){var m=t;return Vv(Vv({},e),{},{viewMode:m.payload})}if(t.type===u.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS){var d=t;return Vv(Vv({},e),{},{selectedComponents:d.payload})}return e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zv,t=arguments.length>1?arguments[1]:void 0;return t.type===u.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?zv(zv({},e),{},{awaitingApprovalList:t.payload}):t.type===u.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?zv(zv({},e),{},{awaitingApprovalTaskList:t.payload}):t.type===u.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?zv(zv({},e),{},{mySubmissionList:t.payload}):t.type===u.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?zv(zv({},e),{},{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ng,t=arguments.length>1?arguments[1]:void 0;if(t.type===u.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS)return eg(eg({},e),{},{securityRiskAssessmentData:t.payload});if(t.type===u.SRA.LOAD_IMPACT_THRESHOLD)return eg(eg({},e),{},{impactThresholdData:t.payload});if(t.type===u.SRA.UPDATE_CVA_CONTROL_STATUS){var n=t.payload.selectedControls,r=t.payload.sraData,o=e.securityRiskAssessmentData.sraData,a=Object(P.cloneDeep)(e.securityRiskAssessmentData);return r.map((function(e,t){var n=o.filter((function(t){return t.riskId===e.riskId})).pop(),a=0,i=0;n&&(a=e.riskDetail.currentLikelihood.score-n.riskDetail.currentLikelihood.score,i=e.riskDetail.currentImpact.score-n.riskDetail.currentImpact.score),e.differenceBetweenLikelihoodScore=parseFloat(a.toFixed(2)),e.differenceBetweenImapctScore=parseFloat(i.toFixed(2)),r[t]=e})),a.selectedControls=n,a.sraData=r,eg(eg({},e),{},{securityRiskAssessmentData:a})}if(t.type===u.SRA.UPDATE_CVA_CONTROL_DETAIL_DATA){var i=t.payload.controlID,c=t.payload.fieldName,s=t.payload.updatedValue,l=Object(P.cloneDeep)(e.securityRiskAssessmentData),p=l.selectedControls;if(p.length>0){var f=p[0].controls.filter((function(e){return e.id==i}));if(f.length>0)return f[0][c]=s,eg(eg({},e),{},{securityRiskAssessmentData:l})}}return e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ig,t=arguments.length>1?arguments[1]:void 0;if(t.type===u.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),og(og({},e),{},{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===u.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.evalutionRating,i=t.payload.productAspect,c=t.payload.controlID,s=t.payload.componentID,l=t.payload.implementationEvidenceUserInput,p=Object(P.cloneDeep)(e.cvaSelectedComponents),f=[];if((f=""!==i?p.filter((function(e){return e.id==s&&e.productAspect==i})):p.filter((function(e){return e.id==s}))).length>0){var m=f[0].controls.filter((function(e){return e.id==c}));if(m.length>0)return m[0].selectedOption=o,m[0].evalutionRating=a,m[0].implementationEvidenceUserInput=l,og(og({},e),{},{cvaSelectedComponents:p})}}if(t.type===u.CVA.RE_SYNC_WITH_JIRA_SUCCESS){var d=t.payload;return og(og({},e),{},{cvaSelectedComponents:d})}if(t.type===u.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA){var y=t.payload;return og(og({},e),{},{controlValidationAuditData:y,cvaSelectedComponents:[]})}return e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(n);if(!r)return e;var o=lg(r,3),a=(o[0],o[1]),i=o[2];return sg(sg({},e),{},ug({},a,"REQUEST"===i))},memberState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.USER.LOAD_MEMBER:return t.payload;default:return e}},paginationState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.PAGINATION.FETCH_NEXT_PAGE:case u.PAGINATION.FETCH_PREV_PAGE:case u.PAGINATION.FETCH_FIRST_PAGE:case u.PAGINATION.FETCH_LAST_PAGE:case u.PAGINATION.SET_SELECTED_ROWS:return dg(dg({},e),{},{pagination:t.payload});case u.PAGINATION.RESET_PAGINATION:return dg(dg({},e),{},{pagination:bg.pagination});default:return e}}}),vg=n(623),gg=[hv.a];var Og=Object(bv.createStore)(hg,Object(vg.composeWithDevTools)(bv.applyMiddleware.apply(void 0,gg)));function Sg(e){return(Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kg(e,t){return(kg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jg(e);if(t){var o=jg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ag(this,n)}}function Ag(e,t){if(t&&("object"===Sg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jg(e){return(jg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pg(Object(n),!0).forEach((function(t){_g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ig=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}(i,e);var t,n,r,a=Tg(i);function i(){return Eg(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Cg({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Cg({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(tn,{pageTitle:n.taskName,showLogoutButton:!1,logopath:t.logoPath,productName:n.questionnaireSubmissionProductName}),o.a.createElement(ml,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),o.a.createElement(kn,{footerCopyrightText:t.footerCopyrightText})):null}}])&&wg(t.prototype,n),r&&wg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Ng=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=Cg({},t),r=n.uuid,o=n.secureToken;e(Gu({uuid:r,secureToken:o})),e(qn())},dispatchSaveAnsweredQuestionAction:function(n){var r=Cg({},t).secureToken;e(Wu({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=Cg({},t).secureToken;e(Zu({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=Cg({},t).secureToken;e(Xu({secureToken:n}))}}}))(Ig);function Rg(e){return(Rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ug(e,t){return(Ug=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mg(e);if(t){var o=Mg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lg(this,n)}}function Lg(e,t){if(t&&("object"===Rg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mg(e){return(Mg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}(i,e);var t,n,r,a=Bg(i);function i(){return Dg(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r=Object(Zh.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ng,{uuid:t.params.uuid,secureToken:r.token||""}))})))))}}])&&xg(t.prototype,n),r&&xg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component);window.addEventListener("load",(function(){Ka.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(ne.a,null,o.a.createElement(ne.b,null,o.a.createElement(c.a,{store:Og},o.a.createElement(yv,null)))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(ne.a,null,o.a.createElement(ne.b,null,o.a.createElement(c.a,{store:Og},o.a.createElement(Fg,null)))),t)}))},112:function(e,t,n){e.exports=n.p+"../img/0440ba3e3faedab93471760cf52fdf4b.svg"},115:function(e,t,n){e.exports=n.p+"../img/7f858504e1409f70135d863bcb581914.svg"},127:function(e,t,n){e.exports=n.p+"../img/253fcb80900dd1752b22f7607d2c75bb.svg"},128:function(e,t,n){e.exports=n.p+"../img/e5ade74409af1721ad1dfcadb7f04aee.svg"},129:function(e,t,n){e.exports=n.p+"../img/49c23560990f01bdb9dbb0aca57ebc16.svg"},166:function(e,t,n){e.exports=n.p+"../img/dab319c4a5240b45e9eacf3657dabef9.svg"},170:function(e,t,n){e.exports=n.p+"../img/00e771ee64f774bb995c8301a0276310.svg"},200:function(e,t,n){e.exports=n.p+"../img/9480e88b542db6f375b12f4016ad3cf1.svg"},202:function(e,t,n){e.exports=n.p+"../img/e5dfac45674afc1ceaa06543fe8459f8.svg"},253:function(e,t,n){e.exports=n.p+"../img/9198e472a6c8367f8732e615d77f5cba.svg"},254:function(e,t,n){e.exports=n.p+"../img/0c865019e25308a0cb171f68cadd01bc.svg"},255:function(e,t,n){e.exports=n.p+"../img/c67b16dbdf2cbda4870d66a28b326761.svg"},256:function(e,t,n){e.exports=n.p+"../img/b12b0e8b32fffee92478e00d635ffd41.svg"},257:function(e,t,n){e.exports=n.p+"../img/99de1aaa8b5b87899363a95004d73fd3.svg"},258:function(e,t,n){e.exports=n.p+"../img/8c940e4f505b38895423737310f1fb6c.svg"},263:function(e,t,n){e.exports=n.p+"../img/ebb1e0ce7e896778ca7a9ecf7b20d614.svg"},324:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},334:function(e,t,n){e.exports=n.p+"../img/e3ed73cb5c5234ef0280a6979f26b661.svg"},337:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},344:function(e,t,n){e.exports=n.p+"../img/80b11e3269520032c200106f4eb3a353.svg"},345:function(e,t,n){e.exports=n.p+"../img/47f16b1a88b11522a25aa01d5ab6b968.svg"},579:function(e,t){},586:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},587:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},588:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},589:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},592:function(e,t,n){e.exports=n.p+"../img/36c9b6221f568e708200d032ead0f301.svg"},593:function(e,t,n){e.exports=n.p+"../img/6386407ae0c864b8da00d694e23cb0ad.svg"},594:function(e,t,n){e.exports=n.p+"../img/8dc2848aaafdb21cb9daf60de7dc36a2.svg"},595:function(e,t,n){e.exports=n.p+"../img/5246666d8d0629f054357d2460acddcd.svg"},596:function(e,t,n){e.exports=n.p+"../img/2ab29f65ba5b5e9a5fa1053458f43971.svg"},597:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},598:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},599:function(e,t,n){e.exports=n.p+"../img/3df87d9d6079d0db730fc93830fedbdd.jpg"},605:function(e,t,n){e.exports=n.p+"../img/1f41b999d8c492059354357358576c11.svg"},606:function(e,t,n){e.exports=n.p+"../img/5026d4f7013eb6750fe473b8b1f857fc.svg"},607:function(e,t,n){e.exports=n.p+"../img/b4059ba2a80c6df051a8c5e3a0db180b.svg"},610:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},611:function(e,t,n){e.exports=n.p+"../img/1a64300e65fb7c88203c303f0c9a1a54.svg"},612:function(e,t,n){e.exports=n.p+"../img/b49e6ec0cb091b6e52f39a9c84e6fcc6.svg"},613:function(e,t,n){e.exports=n.p+"../img/39defb22ab1da0d7785089dbadf296ff.svg"},614:function(e,t,n){e.exports=n.p+"../img/5f7ee8155c79562c5085f7954f2e19ee.svg"},620:function(e,t,n){e.exports=n.p+"../img/3dec89a0f08063cee2e15b1ddc5d2552.svg"},637:function(e,t,n){n(351),e.exports=n(1109)},72:function(e,t,n){e.exports=n.p+"../img/9f61063964aa72748e2ad460ce525fdf.svg"},982:function(e,t,n){var r={"./af":430,"./af.js":430,"./ar":431,"./ar-dz":432,"./ar-dz.js":432,"./ar-kw":433,"./ar-kw.js":433,"./ar-ly":434,"./ar-ly.js":434,"./ar-ma":435,"./ar-ma.js":435,"./ar-sa":436,"./ar-sa.js":436,"./ar-tn":437,"./ar-tn.js":437,"./ar.js":431,"./az":438,"./az.js":438,"./be":439,"./be.js":439,"./bg":440,"./bg.js":440,"./bm":441,"./bm.js":441,"./bn":442,"./bn-bd":443,"./bn-bd.js":443,"./bn.js":442,"./bo":444,"./bo.js":444,"./br":445,"./br.js":445,"./bs":446,"./bs.js":446,"./ca":447,"./ca.js":447,"./cs":448,"./cs.js":448,"./cv":449,"./cv.js":449,"./cy":450,"./cy.js":450,"./da":451,"./da.js":451,"./de":452,"./de-at":453,"./de-at.js":453,"./de-ch":454,"./de-ch.js":454,"./de.js":452,"./dv":455,"./dv.js":455,"./el":456,"./el.js":456,"./en-au":457,"./en-au.js":457,"./en-ca":458,"./en-ca.js":458,"./en-gb":459,"./en-gb.js":459,"./en-ie":460,"./en-ie.js":460,"./en-il":461,"./en-il.js":461,"./en-in":462,"./en-in.js":462,"./en-nz":463,"./en-nz.js":463,"./en-sg":464,"./en-sg.js":464,"./eo":465,"./eo.js":465,"./es":466,"./es-do":467,"./es-do.js":467,"./es-mx":468,"./es-mx.js":468,"./es-us":469,"./es-us.js":469,"./es.js":466,"./et":470,"./et.js":470,"./eu":471,"./eu.js":471,"./fa":472,"./fa.js":472,"./fi":473,"./fi.js":473,"./fil":474,"./fil.js":474,"./fo":475,"./fo.js":475,"./fr":476,"./fr-ca":477,"./fr-ca.js":477,"./fr-ch":478,"./fr-ch.js":478,"./fr.js":476,"./fy":479,"./fy.js":479,"./ga":480,"./ga.js":480,"./gd":481,"./gd.js":481,"./gl":482,"./gl.js":482,"./gom-deva":483,"./gom-deva.js":483,"./gom-latn":484,"./gom-latn.js":484,"./gu":485,"./gu.js":485,"./he":486,"./he.js":486,"./hi":487,"./hi.js":487,"./hr":488,"./hr.js":488,"./hu":489,"./hu.js":489,"./hy-am":490,"./hy-am.js":490,"./id":491,"./id.js":491,"./is":492,"./is.js":492,"./it":493,"./it-ch":494,"./it-ch.js":494,"./it.js":493,"./ja":495,"./ja.js":495,"./jv":496,"./jv.js":496,"./ka":497,"./ka.js":497,"./kk":498,"./kk.js":498,"./km":499,"./km.js":499,"./kn":500,"./kn.js":500,"./ko":501,"./ko.js":501,"./ku":502,"./ku.js":502,"./ky":503,"./ky.js":503,"./lb":504,"./lb.js":504,"./lo":505,"./lo.js":505,"./lt":506,"./lt.js":506,"./lv":507,"./lv.js":507,"./me":508,"./me.js":508,"./mi":509,"./mi.js":509,"./mk":510,"./mk.js":510,"./ml":511,"./ml.js":511,"./mn":512,"./mn.js":512,"./mr":513,"./mr.js":513,"./ms":514,"./ms-my":515,"./ms-my.js":515,"./ms.js":514,"./mt":516,"./mt.js":516,"./my":517,"./my.js":517,"./nb":518,"./nb.js":518,"./ne":519,"./ne.js":519,"./nl":520,"./nl-be":521,"./nl-be.js":521,"./nl.js":520,"./nn":522,"./nn.js":522,"./oc-lnc":523,"./oc-lnc.js":523,"./pa-in":524,"./pa-in.js":524,"./pl":525,"./pl.js":525,"./pt":526,"./pt-br":527,"./pt-br.js":527,"./pt.js":526,"./ro":528,"./ro.js":528,"./ru":529,"./ru.js":529,"./sd":530,"./sd.js":530,"./se":531,"./se.js":531,"./si":532,"./si.js":532,"./sk":533,"./sk.js":533,"./sl":534,"./sl.js":534,"./sq":535,"./sq.js":535,"./sr":536,"./sr-cyrl":537,"./sr-cyrl.js":537,"./sr.js":536,"./ss":538,"./ss.js":538,"./sv":539,"./sv.js":539,"./sw":540,"./sw.js":540,"./ta":541,"./ta.js":541,"./te":542,"./te.js":542,"./tet":543,"./tet.js":543,"./tg":544,"./tg.js":544,"./th":545,"./th.js":545,"./tk":546,"./tk.js":546,"./tl-ph":547,"./tl-ph.js":547,"./tlh":548,"./tlh.js":548,"./tr":549,"./tr.js":549,"./tzl":550,"./tzl.js":550,"./tzm":551,"./tzm-latn":552,"./tzm-latn.js":552,"./tzm.js":551,"./ug-cn":553,"./ug-cn.js":553,"./uk":554,"./uk.js":554,"./ur":555,"./ur.js":555,"./uz":556,"./uz-latn":557,"./uz-latn.js":557,"./uz.js":556,"./vi":558,"./vi.js":558,"./x-pseudo":559,"./x-pseudo.js":559,"./yo":560,"./yo.js":560,"./zh-cn":561,"./zh-cn.js":561,"./zh-hk":562,"./zh-hk.js":562,"./zh-mo":563,"./zh-mo.js":563,"./zh-tw":564,"./zh-tw.js":564};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=982},993:function(e,t){}});
//# sourceMappingURL=main.bundle.js.map