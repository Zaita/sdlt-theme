!function(e){function t(t){for(var r,o,a=t[0],i=t[1],s=t[2],u=0,c=[];u<a.length;u++)o=a[u],I[o]&&c.push(I[o][0]),I[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(x&&x(t);c.length;)c.shift()();return N.push.apply(N,s||[]),n()}function n(){for(var e,t=0;t<N.length;t++){for(var n=N[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==I[a]&&(r=!1)}r&&(N.splice(t--,1),e=j(j.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!O[e]||!E[e])return;for(var n in E[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--v&&0===S&&T()}(e,t),r&&r(e,t)};var o,a=!0,i="9bd4b37194f1bdd03d6f",s=1e4,u={},c=[],l=[];function p(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:o!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:A,apply:_,status:function(e){if(!e)return m;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:u[e]};return o=void 0,t}var f=[],m="idle";function d(e){m=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var b,y,h,v=0,S=0,g={},E={},O={};function k(e){return+e+""===e?+e:e}function A(e){if("idle"!==m)throw new Error("check() is only allowed in idle status");return a=e,d("check"),(t=s,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=j.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return d("idle"),null;E={},g={},O=e.c,h=e.h,d("prepare");var t=new Promise(function(e,t){b={resolve:e,reject:t}});for(var n in y={},I)w(n);return"prepare"===m&&0===S&&0===v&&T(),t});var t}function w(e){var t;O[e]?(E[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=j.p+"hot/hot-update.js",document.head.appendChild(t)):g[e]=!0}function T(){d("ready");var e=b;if(b=null,e)if(a)Promise.resolve().then(function(){return _(a)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(k(n));e.resolve(t)}}function _(t){if("ready"!==m)throw new Error("apply() is only allowed in ready status");var n,r,o,a,s;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,s=o.chain;if((a=C[i])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(a.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var u=0;u<a.parents.length;u++){var c=a.parents[u],l=C[c];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),p(n[c],[i])):(delete n[c],t.push(c),r.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var f={},b=[],v={},S=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var g in y)if(Object.prototype.hasOwnProperty.call(y,g)){var E;s=k(g);var A=!1,w=!1,T=!1,_="";switch((E=y[g]?l(s):{type:"disposed",moduleId:g}).chain&&(_="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(A=new Error("Aborted because of self decline: "+E.moduleId+_));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+_));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(A=new Error("Aborted because "+s+" is not accepted"+_));break;case"accepted":t.onAccepted&&t.onAccepted(E),w=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),T=!0;break;default:throw new Error("Unexception type "+E.type)}if(A)return d("abort"),Promise.reject(A);if(w)for(s in v[s]=y[s],p(b,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,s)&&(f[s]||(f[s]=[]),p(f[s],E.outdatedDependencies[s]));T&&(p(b,[E.moduleId]),v[s]=S)}var N,P=[];for(r=0;r<b.length;r++)s=b[r],C[s]&&C[s].hot._selfAccepted&&P.push({module:s,errorHandler:C[s].hot._selfAccepted});d("dispose"),Object.keys(O).forEach(function(e){!1===O[e]&&function(e){delete I[e]}(e)});for(var R,D,x=b.slice();x.length>0;)if(s=x.pop(),a=C[s]){var U={},L=a.hot._disposeHandlers;for(o=0;o<L.length;o++)(n=L[o])(U);for(u[s]=U,a.hot.active=!1,delete C[s],delete f[s],o=0;o<a.children.length;o++){var M=C[a.children[o]];M&&((N=M.parents.indexOf(s))>=0&&M.parents.splice(N,1))}}for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(a=C[s]))for(D=f[s],o=0;o<D.length;o++)R=D[o],(N=a.children.indexOf(R))>=0&&a.children.splice(N,1);for(s in d("apply"),i=h,v)Object.prototype.hasOwnProperty.call(v,s)&&(e[s]=v[s]);var Q=null;for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(a=C[s])){D=f[s];var B=[];for(r=0;r<D.length;r++)if(R=D[r],n=a.hot._acceptedDependencies[R]){if(-1!==B.indexOf(n))continue;B.push(n)}for(r=0;r<B.length;r++){n=B[r];try{n(D)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:D[r],error:e}),t.ignoreErrored||Q||(Q=e)}}}for(r=0;r<P.length;r++){var F=P[r];s=F.module,c=[s];try{j(s)}catch(e){if("function"==typeof F.errorHandler)try{F.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:n,originalError:e}),t.ignoreErrored||Q||(Q=n),Q||(Q=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||Q||(Q=e)}}return Q?(d("fail"),Promise.reject(Q)):(d("idle"),new Promise(function(e){e(b)}))}var C={},I={2:0},N=[];function j(t){if(C[t])return C[t].exports;var n=C[t]={i:t,l:!1,exports:{},hot:p(t),parents:(l=c,c=[],l),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=C[e];if(!t)return j;var n=function(n){return t.hot.active?(C[n]?-1===C[n].parents.indexOf(e)&&C[n].parents.push(e):(c=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),c=[]),j(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return j[e]},set:function(t){j[e]=t}}};for(var a in j)Object.prototype.hasOwnProperty.call(j,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===m&&d("prepare"),S++,j.e(e).then(t,function(e){throw t(),e});function t(){S--,"prepare"===m&&(g[e]||w(e),0===S&&0===v&&T())}},n.t=function(e,t){return 1&t&&(e=n(e)),j.t(e,-2&t)},n}(t)),n.l=!0,n.exports}j.m=e,j.c=C,j.d=function(e,t,n){j.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},j.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},j.t=function(e,t){if(1&t&&(e=j(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(j.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)j.d(n,r,function(t){return e[t]}.bind(null,r));return n},j.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(t,"a",t),t},j.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},j.p="/resources/themes/sdlt/dist/img/",j.h=function(){return i};var P=window.webpackJsonp=window.webpackJsonp||[],R=P.push.bind(P);P.push=t,P=P.slice();for(var D=0;D<P.length;D++)t(P[D]);var x=R;N.push([430,0]),n()}({127:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},133:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},134:function(e,t,n){e.exports=n.p+"../img/dab319c4a5240b45e9eacf3657dabef9.svg"},139:function(e,t,n){e.exports=n.p+"../img/e5dfac45674afc1ceaa06543fe8459f8.svg"},181:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},186:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},389:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},390:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},391:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},392:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},394:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},395:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},396:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},397:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"},398:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},399:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},403:function(e,t,n){e.exports=n.p+"../img/9198e472a6c8367f8732e615d77f5cba.svg"},404:function(e,t,n){e.exports=n.p+"../img/0c865019e25308a0cb171f68cadd01bc.svg"},405:function(e,t,n){e.exports=n.p+"../img/c67b16dbdf2cbda4870d66a28b326761.svg"},406:function(e,t,n){e.exports=n.p+"../img/b12b0e8b32fffee92478e00d635ffd41.svg"},409:function(e,t,n){e.exports=n.p+"../img/de677722d74728fea0aa7cb12a510519.svg"},410:function(e,t,n){e.exports=n.p+"../img/64544011f835a0bcc13b668a98a70f78.svg"},412:function(e,t,n){e.exports=n.p+"../img/49c23560990f01bdb9dbb0aca57ebc16.svg"},413:function(e,t,n){e.exports=n.p+"../img/00e771ee64f774bb995c8301a0276310.svg"},414:function(e,t,n){e.exports=n.p+"../img/7f858504e1409f70135d863bcb581914.svg"},419:function(e,t,n){e.exports=n.p+"../img/8c940e4f505b38895423737310f1fb6c.svg"},420:function(e,t,n){e.exports=n.p+"../img/253fcb80900dd1752b22f7607d2c75bb.svg"},421:function(e,t,n){e.exports=n.p+"../img/7d87f5b32274dbc2222cc7de74bb2d2a.svg"},430:function(e,t,n){n(191),e.exports=n(741)},655:function(e,t,n){var r={"./af":243,"./af.js":243,"./ar":244,"./ar-dz":245,"./ar-dz.js":245,"./ar-kw":246,"./ar-kw.js":246,"./ar-ly":247,"./ar-ly.js":247,"./ar-ma":248,"./ar-ma.js":248,"./ar-sa":249,"./ar-sa.js":249,"./ar-tn":250,"./ar-tn.js":250,"./ar.js":244,"./az":251,"./az.js":251,"./be":252,"./be.js":252,"./bg":253,"./bg.js":253,"./bm":254,"./bm.js":254,"./bn":255,"./bn.js":255,"./bo":256,"./bo.js":256,"./br":257,"./br.js":257,"./bs":258,"./bs.js":258,"./ca":259,"./ca.js":259,"./cs":260,"./cs.js":260,"./cv":261,"./cv.js":261,"./cy":262,"./cy.js":262,"./da":263,"./da.js":263,"./de":264,"./de-at":265,"./de-at.js":265,"./de-ch":266,"./de-ch.js":266,"./de.js":264,"./dv":267,"./dv.js":267,"./el":268,"./el.js":268,"./en-SG":269,"./en-SG.js":269,"./en-au":270,"./en-au.js":270,"./en-ca":271,"./en-ca.js":271,"./en-gb":272,"./en-gb.js":272,"./en-ie":273,"./en-ie.js":273,"./en-il":274,"./en-il.js":274,"./en-nz":275,"./en-nz.js":275,"./eo":276,"./eo.js":276,"./es":277,"./es-do":278,"./es-do.js":278,"./es-us":279,"./es-us.js":279,"./es.js":277,"./et":280,"./et.js":280,"./eu":281,"./eu.js":281,"./fa":282,"./fa.js":282,"./fi":283,"./fi.js":283,"./fo":284,"./fo.js":284,"./fr":285,"./fr-ca":286,"./fr-ca.js":286,"./fr-ch":287,"./fr-ch.js":287,"./fr.js":285,"./fy":288,"./fy.js":288,"./ga":289,"./ga.js":289,"./gd":290,"./gd.js":290,"./gl":291,"./gl.js":291,"./gom-latn":292,"./gom-latn.js":292,"./gu":293,"./gu.js":293,"./he":294,"./he.js":294,"./hi":295,"./hi.js":295,"./hr":296,"./hr.js":296,"./hu":297,"./hu.js":297,"./hy-am":298,"./hy-am.js":298,"./id":299,"./id.js":299,"./is":300,"./is.js":300,"./it":301,"./it-ch":302,"./it-ch.js":302,"./it.js":301,"./ja":303,"./ja.js":303,"./jv":304,"./jv.js":304,"./ka":305,"./ka.js":305,"./kk":306,"./kk.js":306,"./km":307,"./km.js":307,"./kn":308,"./kn.js":308,"./ko":309,"./ko.js":309,"./ku":310,"./ku.js":310,"./ky":311,"./ky.js":311,"./lb":312,"./lb.js":312,"./lo":313,"./lo.js":313,"./lt":314,"./lt.js":314,"./lv":315,"./lv.js":315,"./me":316,"./me.js":316,"./mi":317,"./mi.js":317,"./mk":318,"./mk.js":318,"./ml":319,"./ml.js":319,"./mn":320,"./mn.js":320,"./mr":321,"./mr.js":321,"./ms":322,"./ms-my":323,"./ms-my.js":323,"./ms.js":322,"./mt":324,"./mt.js":324,"./my":325,"./my.js":325,"./nb":326,"./nb.js":326,"./ne":327,"./ne.js":327,"./nl":328,"./nl-be":329,"./nl-be.js":329,"./nl.js":328,"./nn":330,"./nn.js":330,"./pa-in":331,"./pa-in.js":331,"./pl":332,"./pl.js":332,"./pt":333,"./pt-br":334,"./pt-br.js":334,"./pt.js":333,"./ro":335,"./ro.js":335,"./ru":336,"./ru.js":336,"./sd":337,"./sd.js":337,"./se":338,"./se.js":338,"./si":339,"./si.js":339,"./sk":340,"./sk.js":340,"./sl":341,"./sl.js":341,"./sq":342,"./sq.js":342,"./sr":343,"./sr-cyrl":344,"./sr-cyrl.js":344,"./sr.js":343,"./ss":345,"./ss.js":345,"./sv":346,"./sv.js":346,"./sw":347,"./sw.js":347,"./ta":348,"./ta.js":348,"./te":349,"./te.js":349,"./tet":350,"./tet.js":350,"./tg":351,"./tg.js":351,"./th":352,"./th.js":352,"./tl-ph":353,"./tl-ph.js":353,"./tlh":354,"./tlh.js":354,"./tr":355,"./tr.js":355,"./tzl":356,"./tzl.js":356,"./tzm":357,"./tzm-latn":358,"./tzm-latn.js":358,"./tzm.js":357,"./ug-cn":359,"./ug-cn.js":359,"./uk":360,"./uk.js":360,"./ur":361,"./ur.js":361,"./uz":362,"./uz-latn":363,"./uz-latn.js":363,"./uz.js":362,"./vi":364,"./vi.js":364,"./x-pseudo":365,"./x-pseudo.js":365,"./yo":366,"./yo.js":366,"./zh-cn":367,"./zh-cn.js":367,"./zh-hk":368,"./zh-hk.js":368,"./zh-tw":369,"./zh-tw.js":369};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=655},680:function(e,t){},689:function(e,t){},741:function(e,t,n){"use strict";n.r(t);n(431),n(433),n(434),n(437),n(438),n(439),n(147),n(442),n(443),n(445),n(446),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(479),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(504),n(505),n(506),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(210),n(520),n(522),n(523),n(524),n(525),n(526),n(527),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568);var r=n(0),o=n.n(r),a=n(25),i=n.n(a),s=n(9),u=n(761),c=n(758),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE",ADD_COLLABORATOR:"QUESTIONNAIRE/ADD_COLLABORATOR"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE",ADD_TASK_RECOMMENDATION:"TASK/ADD_RECOMMENDATION"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER",LOAD_MEMBER:"USER/LOAD_MEMBER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},p=n(44),f=n(186),m=n.n(f),d=n(389),b=n.n(d),y=n(390),h=n.n(y),v=n(391),S=n.n(v),g=n(392),E=n.n(g),O=n(3),k=n.n(O),A=n(5),w=n.n(A),T=n(393),C=n.n(T),I=n(126),N=n.n(I),j=n(2),P=n.n(j);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/task/submission/".concat(e);if(t&&(r="/task/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/security-risk-assessment/submission/".concat(e);if(t&&(r="/security-risk-assessment/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/control-validation-audit/submission/".concat(e);if(t&&(r="/control-validation-audit/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&R(t.prototype,n),r&&R(t,r),e}();function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){U(e,t,n[t])})}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"request",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=x({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),s={query:C()(r),variables:o},e.next=6,N.a.request({url:"/graphql",method:"post",data:s,headers:i});case 6:if(u=e.sent,c=u.data,!(l=P.a.get(c,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){L(a,r,o,i,s,"next",e)}function s(e){L(a,r,o,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}],n&&M(t.prototype,n),r&&M(t,r),e}(),B=new Error("There is an error when fetching data..."),F=new Error("There is an error when parsing data...");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){q(e,t,n[t])})}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw F;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&P.a.keys(t).forEach(function(e){n[P.a.toString(e)]=t[e]}),n}(r),i=function(e){var t="";return P.a.keys(e).forEach(function(n){var r=e[n];!t&&Boolean(P.a.get(r,"isCurrent",!1))&&(t=n)}),t}(a);return o.map(function(e,t){var n=P.a.toString(P.a.get(e,"ID","")),r=Boolean(P.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(P.a.get(a,"".concat(n,".isApplicable"),!0)),s=!1;s=i?i===n:0===t;var u=null,c=null,l=r?P.a.get(a,"".concat(n,".inputs"),[]):[],p=r?P.a.get(a,"".concat(n,".actions"),[]):[],f=P.a.get(e,"AnswerInputFields",[]),m=P.a.get(e,"AnswerActionFields",[]);f&&Array.isArray(f)&&f.length>0&&(u=f.map(function(e){var t=P.a.toString(P.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox");["text","email","textarea","rich text editor","service register","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=P.a.toString(P.a.get(e,"ID","")),r={id:n,label:P.a.toString(P.a.get(e,"Label","")),type:t,required:Boolean(P.a.toInteger(P.a.get(e,"Required",!1))),minLength:Number.parseInt(P.a.toString(P.a.get(e,"MinLength",0))),maxLength:Number.parseInt(P.a.toString(P.a.get(e,"MaxLength",0))),placeholder:P.a.toString(P.a.get(e,"PlaceHolder","")),options:P.a.has(e,"MultiChoiceAnswer")?JSON.parse(P.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:P.a.has(e,"MultiChoiceSingleAnswerDefault")?P.a.toString(P.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:P.a.has(e,"MultiChoiceMultipleAnswerDefault")?P.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=P.a.head(l.filter(function(e){return e.id===n}));if(o){var a=P.a.toString(P.a.get(o,"data",null));a&&(r.data=a)}}return r})),m&&Array.isArray(m)&&m.length>0&&(c=m.map(function(e){var t=P.a.toString(P.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=P.a.toString(P.a.get(e,"ID","")),r={id:n,label:P.a.toString(P.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=P.a.toString(P.a.get(e,"Message",""))),"goto"===t&&(r.goto=P.a.toString(P.a.get(e,"GotoID",""))),"finish"===t&&(r.result=P.a.toString(P.a.get(e,"Result","")));var o=P.a.toString(P.a.get(e,"TaskID",""));if(r.taskID=o,p&&Array.isArray(p)&&p.length>0){var a=P.a.head(p.filter(function(e){return e.id===n}));if(a){var i=Boolean(P.a.get(a,"isChose",!1));r.isChose=i}}return r}));var d={id:n,title:P.a.toString(P.a.get(e,"Title","")),heading:P.a.toString(P.a.get(e,"QuestionHeading","")),description:P.a.toString(P.a.get(e,"Description","")),type:"input"===P.a.toString(P.a.get(e,"AnswerFieldType","")).toLowerCase()?"input":"action",isCurrent:s,hasAnswer:r,isApplicable:o};if(P.a.isEmpty(P.a.get(d,"heading"))){var b=P.a.toString(P.a.get(e,"Question",""));P.a.set(d,"heading",b)}return u&&(d.inputs=u),c&&(d.actions=c),d})}}],(n=null)&&V(t.prototype,n),r&&V(t,r),e}(),J=n(52),K=n.n(J);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=w()(k()(e,"ID","")),n=w()(k()(e,"Name","")),r=w()(k()(e,"ComponentTarget","")),o=w()(k()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=w()(k()(e,"QuestionsDataJSON",""));return i&&(a=H.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?K()(t).map(function(e){return{name:w()(k()(e,"Name")),value:w()(k()(e,"Value")),operator:w()(k()(e,"Operator")),colour:w()(k()(e,"Colour"))}}):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=k()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===k()(e,"Submission.TaskType","")?[]:t?t.map(function(e){return{uuid:w()(k()(e,"UUID")),taskType:w()(k()(e,"TaskType")),status:w()(k()(e,"Status"))}}):[]}},{key:"parseServiceRegister",value:function(e){return e.map(function(e){return{value:w()(k()(e,"ID")),label:w()(k()(e,"ServiceName"))}})}}],(n=null)&&Y(t.prototype,n),r&&Y(t,r),e}();function G(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchHomeData",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw B;case 7:return r=n[0],o=w()(k()(r,"Title","")),a=w()(k()(r,"Subtitle","")),i=k()(r,"Pillars",[]),s=this.parsePillars(i),u=k()(r,"Tasks",[]),c=this.parseTasks(u),e.abrupt("return",{title:o,subtitle:a,pillars:s,tasks:c});case 15:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){G(a,r,o,i,s,"next",e)}function s(e){G(a,r,o,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map(function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=b.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=S.a;break;case"risk_questionnaire":t=E.a}return{title:w()(k()(e,"Label","")),disabled:Boolean(k()(e,"Disabled",!0)),questionnaireID:w()(k()(e,"Questionnaire.0.ID","")),icon:t}}):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach(function(e){var n=W.parseFromJSONObject(e);t.push(n)}),t}}],n&&z(t.prototype,n),r&&z(t,r),e}();function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&X(t.prototype,n),r&&X(t,r),e}();function ee(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function te(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ee(a,r,o,i,s,"next",e)}function s(e){ee(a,r,o,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}var ne=n(757);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,se(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(oe(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(ne.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&ae(n.prototype,a),i&&ae(n,i),t}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ye=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,de(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=["TaskButton"].concat(pe(this.props.classes));return o.a.createElement(ne.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&fe(n.prototype,a),i&&fe(n,i),t}(),he=n(394),ve=n.n(he);function Se(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"getCSRFToken",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=P.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Se(a,r,o,i,s,"next",e)}function s(e){Se(a,r,o,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&ge(t.prototype,n),r&&ge(t,r),e}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Te(this,_e(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ae(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:ve.a}),"Log Out"))}},{key:"logout",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ke(a,r,o,i,s,"next",e)}function s(e){ke(a,r,o,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&we(n.prototype,a),i&&we(n,i),t}();Ie.defaultProps={classes:[]};var Ne=Ie,je=n(127),Pe=n.n(je);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Be=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Me(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:Pe.a}),"My Submissions"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){De(a,r,o,i,s,"next",e)}function s(e){De(a,r,o,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ue(n.prototype,a),i&&Ue(n,i),t}();Be.defaultProps={classes:[]};var Fe=Be,qe=n(395),Ve=n.n(qe);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),We(this,Ge(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ke(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ve.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Je(a,r,o,i,s,"next",e)}function s(e){Je(a,r,o,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&Ye(n.prototype,a),i&&Ye(n,i),t}();Ze.defaultProps={classes:[]};var Xe=Ze,$e=n(396),et=n.n($e);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ut=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),at(this,it(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rt(e,t,n[t])})}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:et.a}),"My Products"))}},{key:"allSubmission",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){nt(a,r,o,i,s,"next",e)}function s(e){nt(a,r,o,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}])&&ot(n.prototype,a),i&&ot(n,i),t}();ut.defaultProps={classes:[]};var ct=ut;function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ft(e,t,n[t])})}return e}function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return!t||"object"!==lt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,bt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=pt({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks,i=pt({},this.props.siteConfig).logoPath;return o.a.createElement("div",{className:"Home"},o.a.createElement(Ne,{classes:["clearfix","float-right","mt-5","mr-4"]}),o.a.createElement(Fe,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(Xe,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(ct,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map(function(e,t){return o.a.createElement(ce,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})}))),o.a.createElement("div",{className:"tasks"},a.map(function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(ye,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})}))))}}])&&mt(n.prototype,a),i&&mt(n,i),t}();function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var At=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Et(this,Ot(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){St(e,t,n[t])})}return e}({},this.props).footerCopyrightText;return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,e))}}])&&gt(n.prototype,a),i&&gt(n,i),t}();At.defaultProps={footerCopyrightText:""};var wt=At,Tt=n(181),_t=n.n(Tt),Ct=n(397),It=n.n(Ct),Nt=n(398),jt=n.n(Nt),Pt=n(399),Rt=n.n(Pt);function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:w()(k()(t,"Title")||"NZTA SDLT"),footerCopyrightText:w()(k()(t,"FooterCopyrightText","")||n),logoPath:w()(k()(t,"LogoPath","")||It.a),homePageBackgroundImagePath:w()(k()(t,"HomePageBackgroundImagePath","")||_t.a),pdfHeaderImageLink:w()(k()(t,"PdfHeaderImageLink","")||jt.a),pdfFooterImageLink:w()(k()(t,"PdfFooterImageLink","")||Rt.a)}}}],(n=null)&&Dt(t.prototype,n),r&&Dt(t,r),e}();function Ut(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSiteConfig",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}"});case 3:return t=e.sent,n=P.a.get(t,"data.readSiteConfig.0",null),r=xt.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ut(a,r,o,i,s,"next",e)}function s(e){Ut(a,r,o,i,s,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()}],n&&Lt(t.prototype,n),r&&Lt(t,r),e}();function Qt(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Bt(){return function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mt.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Qt(a,r,o,i,s,"next",e)}function s(e){Qt(a,r,o,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()}function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ht(this,Jt(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qt(e,t,n[t])})}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},o.a.createElement(ht,{homeState:n,siteConfig:t}),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Vt(n.prototype,a),i&&Vt(n,i),t}(),Wt=Object(s.b)(function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadHomeDataAction:function(){e(te()),e(Bt())}}})(Yt),Gt=n(39),zt=n.n(Gt);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),en(this,tn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Xt(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,s=e.rightIconImage,u=null,c=null;return i&&(u=o.a.createElement("img",{src:i})),s&&(c=o.a.createElement("img",{className:"img-right",src:s})),o.a.createElement("button",{className:zt()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},u,t,c)}}])&&$t(n.prototype,a),i&&$t(n,i),t}();rn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var on=rn;function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function un(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ln(this,pn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(on,sn({},this.props,{classes:["LightButton"].concat(un(this.props.classes))}))}}])&&cn(n.prototype,a),i&&cn(n,i),t}();mn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var dn=mn;function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),hn(this,vn(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(dn,{title:"START",onClick:r})))))}}])&&yn(n.prototype,a),i&&yn(n,i),t}();function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var On=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=k()(t,"FirstName")?w()(k()(t,"FirstName",""))+" "+w()(k()(t,"Surname","")):"";return{id:w()(k()(t,"ID")),name:n,email:k()(t,"Email"),isSA:"true"===w()(k()(t,"IsSA")),isCISO:"true"===w()(k()(t,"IsCISO")),isCertificationAuthority:"true"===w()(k()(t,"IsCertificationAuthority")),isAccreditationAuthority:"true"===w()(k()(t,"IsAccreditationAuthority"))}}},{key:"parserMemberFromJSON",value:function(e){return K()(e).map(function(e){var t=k()(e,"FirstName")?w()(k()(e,"FirstName",""))+" "+w()(k()(e,"Surname","")):"";return{value:k()(e,"ID"),label:t}})}},{key:"parserCollaboratorsFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return K()(t).map(function(e){var t=k()(e,"Name")?w()(k()(e,"Name","")):"";return{value:k()(e,"ID"),label:t}})}}],(n=null)&&En(t.prototype,n),r&&En(t,r),e}();function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){An(e,t,n[t])})}return e}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Tn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){wn(a,r,o,i,s,"next",e)}function s(e){wn(a,r,o,i,s,"throw",e)}i(void 0)})}}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"createInProgressSubmission",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,s=P.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw B;case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStartData",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readMember(Type: "Current")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: '.concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,Q.request({query:n});case 3:if(r=e.sent,o=P.a.get(r,"data.readMember.0",null),a=P.a.get(r,"data.readQuestionnaire",null),i=P.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw B;case 9:return e.abrupt("return",{title:P.a.get(a,"Name",""),siteConfig:xt.parseSiteConfigFromJSON(i),subtitle:P.a.get(i,"Title",""),questionnaireID:P.a.get(a,"ID",""),keyInformation:P.a.get(a,"KeyInformation",""),user:On.parseUserFromJSON(o)});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchSubmissionData",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsCertificationAuthority\n    IsAccreditationAuthority\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    BusinessOwnerAcknowledgementText\n    CertificationAuthorityAcknowledgementText\n    AccreditationAuthorityAcknowledgementText\n    IsCertificationAndAccreditationTaskExists\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    RiskResultData,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    AccreditationAuthorityApprover{\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprovalStatus\n    AccreditationAuthorityApprovalStatus\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=P.a.get(o,"data.readMember.0",{}),i=P.a.get(o,"data.readQuestionnaireSubmission.0",{}),s=P.a.get(o,"data.readSiteConfig.0",null),a&&i&&s){e.next=9;break}throw B;case 9:return u={title:P.a.toString(P.a.get(i,"Questionnaire.Name","")),siteConfig:xt.parseSiteConfigFromJSON(s),user:On.parseUserFromJSON(a),isCurrentUserApprover:"true"===P.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===P.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(P.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),hideWeightsAndScore:"true"===P.a.get(i,"HideWeightsAndScore","false"),questionnaireID:P.a.toString(P.a.get(i,"Questionnaire.ID","")),questionnaireTitle:P.a.toString(P.a.get(i,"Questionnaire.Name","")),submissionID:P.a.toString(P.a.get(i,"ID","")),submissionUUID:P.a.toString(P.a.get(i,"UUID","")),submissionToken:P.a.toString(P.a.get(i,"ApprovalLinkToken","")),productName:P.a.toString(P.a.get(i,"ProductName","")),submitter:{id:P.a.toString(P.a.get(i,"User.ID")),name:P.a.toString(P.a.get(i,"SubmitterName","")),email:P.a.toString(P.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:P.a.toString(P.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:P.a.toString(P.a.get(i,"CisoApprovalStatus","")),businessOwner:P.a.toString(P.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:P.a.toString(P.a.get(i,"SecurityArchitectApprovalStatus","")),certificationAuthority:P.a.toString(P.a.get(i,"CertificationAuthorityApprovalStatus","")),accreditationAuthority:P.a.toString(P.a.get(i,"AccreditationAuthorityApprovalStatus",""))},securityArchitectApprover:{firstName:P.a.toString(P.a.get(i,"SecurityArchitectApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{firstName:P.a.toString(P.a.get(i,"CisoApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"CisoApprover.Surname",""))},certificationAuthorityApprover:{firstName:P.a.toString(P.a.get(i,"CertificationAuthorityApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"CertificationAuthorityApprover.Surname",""))},accreditationAuthorityApprover:{firstName:P.a.toString(P.a.get(i,"AccreditationAuthorityApprover.FirstName","")),surname:P.a.toString(P.a.get(i,"AccreditationAuthorityApprover.Surname",""))},questions:H.parseQuestionsFromJSON({schemaJSON:P.a.toString(P.a.get(i,"QuestionnaireData","")),answersJSON:P.a.toString(P.a.get(i,"AnswerData",""))}),businessOwnerApproverName:P.a.toString(P.a.get(i,"BusinessOwnerApproverName","")),businessOwnerAcknowledgementText:P.a.toString(P.a.get(i,"BusinessOwnerAcknowledgementText","")),certificationAuthorityAcknowledgementText:P.a.toString(P.a.get(i,"CertificationAuthorityAcknowledgementText","")),accreditationAuthorityAcknowledgementText:P.a.toString(P.a.get(i,"AccreditationAuthorityAcknowledgementText","")),isCertificationAndAccreditationTaskExists:"true"===P.a.get(i,"IsCertificationAndAccreditationTaskExists","false"),taskSubmissions:P.a.toArray(P.a.get(i,"TaskSubmissions",[])).map(function(e){return{uuid:P.a.toString(P.a.get(e,"UUID","")),taskName:P.a.toString(P.a.get(e,"TaskName","")),taskType:P.a.toString(P.a.get(e,"TaskType","")),status:P.a.toString(P.a.get(e,"Status","")),approver:On.parseUserFromJSON(P.a.get(e,"TaskApprover"))}}),collaborators:On.parserCollaboratorsFromJSON(P.a.get(i,"CollaboratorList",[])),riskResults:P.a.has(i,"RiskResultData")?JSON.parse(P.a.get(i,"RiskResultData","[]")):"[]"}},e.abrupt("return",u);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateSubmissionData",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,s=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(s,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,Q.request({query:u,csrfToken:i});case 5:if(c=e.sent,P.a.get(c,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw B;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateSubmissionData",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c,l,p,f,m,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=kn({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw B;case 3:for(s=[],u=0;u<o.length;u++)c=o[u],l=a[u],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),f="\nupdateQuestion".concat(c,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(c,'", AnswerData: "').concat(p,'") {\n  ID\n  AnswerData\n}'),s.push(f);return m="\nmutation {\n  ".concat(s.join("\n"),"\n}\n"),e.next=8,Q.request({query:m,csrfToken:i});case 8:if(d=e.sent,P.a.get(d,"data",null)){e.next=12;break}throw B;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaire",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),u=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),s&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submitQuestionnaireForApproval",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),u=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),s&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),u=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),s&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmission",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(s=e.sent,u=P.a.toString(P.a.get(s,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(s,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),u&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmission",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(s=e.sent,u=P.a.toString(P.a.get(s,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(s,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),u&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editQuestionnaireSubmission",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),u=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),s&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateQuestionnaireStatusToSendBackForChanges",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSendBackForChanges(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,s=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.QuestionnaireStatus",null)),u=P.a.toString(P.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.UUID",null)),s&&u){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchQuestionnaireSubmissionList",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readQuestionnaireSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        QuestionnaireStatus\n        QuestionnaireName\n        Created\n        ProductName\n        ReleaseDate\n        BusinessOwnerApproverName\n        SubmitterName\n        SecurityArchitectApprover {\n          FirstName\n          Surname\n          ID\n        }\n        CisoApprovalStatus\n        BusinessOwnerApprovalStatus\n      }\n    }'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=P.a.get(o,"data.readQuestionnaireSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map(function(e){var t={};return t.id=P.a.get(e,"ID",""),t.uuid=P.a.get(e,"UUID",""),t.status=P.a.get(e,"QuestionnaireStatus",""),t.productName=P.a.get(e,"ProductName",""),t.questionnaireName=P.a.get(e,"QuestionnaireName",""),t.created=P.a.get(e,"Created",""),t.releaseDate=P.a.get(e,"ReleaseDate",""),t.businessOwner=P.a.get(e,"BusinessOwnerApproverName",""),t.submitterName=P.a.get(e,"SubmitterName",""),t.SecurityArchitectApprover=P.a.toString(P.a.get(e,"SecurityArchitectApprover.FirstName","")+" "+P.a.get(e,"SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=P.a.get(e,"SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=P.a.get(e,"CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=P.a.get(e,"BusinessOwnerApprovalStatus",""),t[""],t}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(s=e.sent,u=P.a.toString(P.a.get(s,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(s,"data.updateQuestionnaireStatusToApproved.UUID",null)),u&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kn({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(s=e.sent,u=P.a.toString(P.a.get(s,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),c=P.a.toString(P.a.get(s,"data.updateQuestionnaireStatusToDenied.UUID",null)),u&&c){e.next=9;break}throw B;case 9:return e.abrupt("return",{uuid:c});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addCollaborator",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t,n,r){var o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],n&&n.length>0&&(o=n.map(function(e){return P.a.get(e,"value","")})),a=window.btoa(JSON.stringify(o)),i='mutation {\n     addCollaborator(ID: "'.concat(t,'", SelectedCollaborator: "').concat(a,'") {\n       UUID\n     }\n    }'),e.next=6,Q.request({query:i,csrfToken:r});case 6:if(s=e.sent,u=P.a.toString(P.a.get(s,"data.addCollaborator.UUID",null))){e.next=10;break}throw B;case 10:return e.abrupt("return",{uuid:u});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"grantCertification",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     grantCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,Q.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=P.a.toString(P.a.get(o,"data.grantCertification.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"denyCertification",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,Q.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=P.a.toString(P.a.get(o,"data.denyCertification.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"issueAccreditation",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     issueAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,Q.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=P.a.toString(P.a.get(o,"data.issueAccreditation.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"denyAccreditation",value:function(){var e=Tn(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,Q.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=P.a.toString(P.a.get(o,"data.denyAccreditation.UUID",null))){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],n&&_n(t.prototype,n),r&&_n(t,r),e}();function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nn(e,t,n[t])})}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map(function(e){var t=e.data;return t&&P.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}})),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map(function(e){return{id:e.id,isChose:e.isChose}})),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach(function(e){var n=In({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)}),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach(function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)}),t}},{key:"getDataUpdateIntent",value:function(e){var t=In({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex(function(e){return e.id===n.id}),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var s=n.actions.find(function(e){return e.isChose});if(!s)throw new Error("This question does not have any chosen action!");if("finish"===s.type){for(var u=i.currentIndex+1;u<r.length;u++)i.nonApplicableIndexes.push(u);i.result=s.result||"",i.complete=!0}if("message"===s.type&&(i.terminate=!0),"continue"!==s.type||a||(i.targetIndex=i.currentIndex+1),"goto"===s.type){var c=s.goto;if(i.targetIndex=r.findIndex(function(e){return e.id===c}),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&!i.terminate&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&jn(t.prototype,n),r&&jn(t,r),e}(),Rn=n(182),Dn=n.n(Rn);function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return K()(t).map(function(t){var n=e.parseFromJSONObject(k()(t,"SecurityComponent"));return n.productAspect=w()(k()(t,"ProductAspect","")),n})}},{key:"parseFromJSONObject",value:function(e){return{id:w()(k()(e,"ID","")),name:w()(k()(e,"Name","")),description:w()(k()(e,"Description")),controls:(k()(e,"Controls")||[]).map(function(e){return{id:w()(k()(e,"ID","")),name:w()(k()(e,"Name","")),description:w()(k()(e,"Description","")),implementationGuidance:w()(k()(e,"ImplementationGuidance",""))}})}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map(function(e){return{id:w()(k()(e,"id","")),name:w()(k()(e,"name","")),productAspect:w()(k()(e,"productAspect","")),controls:(k()(e,"controls")||[]).map(function(e){return{id:w()(k()(e,"id","")),name:w()(k()(e,"name","")),selectedOption:w()(k()(e,"selectedOption","")),description:w()(k()(e,"description","")),implementationGuidance:w()(k()(e,"implementationGuidance","")),implementationEvidence:w()(k()(e,"implementationEvidence","")),implementationEvidenceUserInput:w()(k()(e,"implementationEvidenceUserInput",""))}}),jiraTicketLink:w()(k()(e,"jiraTicketLink",""))}})}}],(n=null)&&xn(t.prototype,n),r&&xn(t,r),e}();function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return K()(t).map(function(t){return e.parseFromJSONObject(t)})}},{key:"parseFromJSONObject",value:function(e){return{id:w()(k()(e,"ID")),jiraKey:w()(k()(e,"JiraKey")),link:w()(k()(e,"TicketLink"))}}}],(n=null)&&Ln(t.prototype,n),r&&Ln(t,r),e}();function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bn(e,t,n[t])})}return e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fn(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function qn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Fn(a,r,o,i,s,"next",e)}function s(e){Fn(a,r,o,i,s,"throw",e)}i(void 0)})}}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n  }\n  readServiceInventory {\n    ID\n    ServiceName\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,s=k()(i,"data.readTaskSubmission.0",null),u=k()(i,"data.readServiceInventory",null),s){e.next=9;break}throw B;case 9:return c={id:w()(k()(s,"ID","")),uuid:w()(k()(s,"UUID","")),taskName:w()(k()(s,"TaskName","")),taskType:w()(k()(s,"TaskType","")),status:w()(k()(s,"Status","")),result:w()(k()(s,"Result","")),submitter:On.parseUserFromJSON(k()(s,"Submitter")),lockWhenComplete:Boolean(k()(s,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:w()(k()(s,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:w()(k()(s,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:w()(k()(s,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:H.parseQuestionsFromJSON({schemaJSON:w()(k()(s,"QuestionnaireData","")),answersJSON:w()(k()(s,"AnswerData",""))}),selectedComponents:Un.parseFromJSONOArray(k()(s,"SelectedComponents",[])),jiraTickets:Mn.parseFromJSONArray(k()(s,"JiraTickets",[])),isCurrentUserAnApprover:"true"===k()(s,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===k()(s,"IsTaskApprovalRequired",!1),riskResults:_.has(s,"RiskResultData")?JSON.parse(k()(s,"RiskResultData","[]")):"[]",taskRecommendations:_.has(s,"TaskRecommendationData")?JSON.parse(_.defaultTo(k()(s,"TaskRecommendationData","[]"),"[]")):"[]",productAspects:_.has(s,"ProductAspects")?JSON.parse(k()(s,"ProductAspects",[])):[],componentTarget:w()(k()(s,"ComponentTarget","")),hideWeightsAndScore:"true"===_.get(s,"HideWeightsAndScore","false"),isTaskCollborator:"true"===_.get(s,"IsTaskCollborator","false"),siblingSubmissions:W.parseAlltaskSubmissionforQuestionnaire(s),serviceRegister:W.parseServiceRegister(u)},e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"batchUpdateTaskSubmissionData",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c,l,p,f,m,d,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Qn({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,s=n.secureToken,o.length===a.length){e.next=3;break}throw B;case 3:for(u=[],c=0;c<o.length;c++)l=o[c],p=a[c],f=window.btoa(unescape(encodeURIComponent(JSON.stringify(p)))),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(f,'",\n  SecureToken: "').concat(s||"",'"\n) {\n  UUID\n  Status\n}'),u.push(m);return d="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,Q.request({query:d,csrfToken:i});case 8:if(b=e.sent,k()(b,"data",null)){e.next=12;break}throw B;case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"completeTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,s='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:s,csrfToken:a});case 4:if(u=e.sent,k()(u,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(s=e.sent,k()(s,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchStandaloneTask",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,Q.request({query:o});case 4:if(a=e.sent,i=k()(a,"data.readTask",null)){e.next=8;break}throw B;case 8:return s=W.parseFromJSONObject(i),e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskSubmissionWithSelectedComponents",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,s='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:s,csrfToken:o});case 4:if(u=e.sent,k()(u,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw B;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"approveTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(s=w()(k()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw B;case 8:return e.abrupt("return",{status:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"denyTaskSubmission",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(s=w()(k()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw B;case 8:return e.abrupt("return",{status:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateTaskRecommendation",value:function(){var e=qn(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn({},t),r=n.uuid,o=n.csrfToken,a=n.taskRecommendations,i='\n  mutation {\n    updateTaskRecommendation(\n      UUID: "'.concat(r,'",\n      TaskRecommendationData: "').concat(window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),'"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(s=e.sent,(u=_.has(s,"TaskRecommendationData")?JSON.parse(k()(submissionJSONObject,"TaskRecommendationData","[]")):"[]")&&r){e.next=8;break}throw B;case 8:return e.abrupt("return",{taskRecommendationData:u});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchTaskSubmissionList",value:function(){var e=qn(regeneratorRuntime.mark(function e(t,n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readTaskSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        Created\n        TaskName\n        QuestionnaireSubmission {\n          ProductName\n        }\n        Submitter {\n          FirstName\n          Surname\n        }\n        Status\n      }\n    }'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=k()(o,"data.readTaskSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map(function(e){var t={};return t.id=k()(e,"ID",""),t.uuid=k()(e,"UUID",""),t.created=k()(e,"Created",""),t.taskName=k()(e,"TaskName",""),t.productName=k()(e,"QuestionnaireSubmission.ProductName",""),t.submitterName=w()(k()(e,"Submitter.FirstName",""))+" "+w()(k()(e,"Submitter.Surname","")),t.status=k()(e,"Status",""),t}));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}],n&&Vn(t.prototype,n),r&&Vn(t,r),e}();function Jn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Kn(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Yn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Kn(a,r,o,i,s,"next",e)}function s(e){Kn(a,r,o,i,s,"throw",e)}i(void 0)})}}function Wn(e,t){return void 0===t&&(t=""),function(){var n=Yn(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,Cn.fetchSubmissionData(e,t);case 5:o=n.sent,r((a=o,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:a})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var a},n,this,[[2,9]])}));return function(e){return n.apply(this,arguments)}}()}function Gn(e){return function(){var t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i,s,u,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=Pn.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),s=i.currentIndex,u=i.targetIndex,c=i.nonApplicableIndexes,p=i.complete,c.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:c}),u>s&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:u}),t.next=9,zn(r(),P.a.uniq([s].concat(Jn(c),[u])));case 9:p&&D.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}function zn(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=Yn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ee.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,Cn.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map(function(e){return r.questions[e].id}),answerDataList:n.map(function(e){return Pn.transformFromFullQuestionToData(r.questions[e])}),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}},e,this,[[6,11]])}))).apply(this,arguments)}function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return!t||"object"!==Xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var or=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tr(this,nr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$n(e,t,n[t])})}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,a=e.username,i=e.logopath;return o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"top-banner"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"}))),o.a.createElement("div",{className:"logout-layout"},r&&o.a.createElement("div",{className:"logout-block"},o.a.createElement("span",{className:"username"},a),o.a.createElement(Ne,null))),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n))}}])&&er(n.prototype,a),i&&er(n,i),t}();or.defaultProps={title:"",subtitle:"",username:"",logopath:"",showLogoutButton:!0};var ar=or;function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ur(e,t,n[t])})}return e}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pr(e){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),lr(this,pr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fr(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=sr({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=sr({},this.props.startState),t=e.title,n=e.siteConfig,r=e.keyInformation,a=e.user,i=sr({},this.props),s=i.questionnaireID,u=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(ar,{title:t,subtitle:n.siteTitle,username:a.name,logopath:n.logoPath}),o.a.createElement(gn,{keyInformation:r,user:a,onStartButtonClick:function(){u(s)}}),o.a.createElement(wt,{footerCopyrightText:n.footerCopyrightText})):null}}])&&cr(n.prototype,a),i&&cr(n,i),t}(),dr=Object(s.b)(function(e){return{startState:e.questionnaireState.startState}},function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Cn.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o},t,this,[[0,7]])})),function(e){return t.apply(this,arguments)};var t}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return r=t.sent,t.next=6,Cn.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,D.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])})),function(e){return t.apply(this,arguments)};var t}(t))}}})(mr),br=n(28),yr=n(403),hr=n.n(yr),vr=n(404),Sr=n.n(vr),gr=n(405),Er=n.n(gr),Or=n(406),kr=n.n(Or);function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Tr(e,t,n[t])})}return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t){return!t||"object"!==Ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cr(this,Ir(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=wr({},this.props),t=e.question,n=e.onItemClick,r=e.index;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,".  ",t.title))}},{key:"renderIcon",value:function(e){var t=wr({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:hr.a}):a?r&&a?o.a.createElement("img",{src:Er.a}):o.a.createElement("img",{src:Sr.a}):o.a.createElement("img",{src:kr.a})}}])&&_r(n.prototype,a),i&&_r(n,i),t}();function Pr(e){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xr(e,t){return!t||"object"!==Pr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xr(this,Ur(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rr(e,t,n[t])})}return e}({},this.props),t=e.questions,n=e.onItemClick;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"items"},t.map(function(e,t){return o.a.createElement(jr,{question:e,onItemClick:n,key:e.id,index:t})})))}}])&&Dr(n.prototype,a),i&&Dr(n,i),t}();function Qr(e){return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(){return(Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vr(this,Hr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(on,Br({},this.props,{classes:["DarkButton"].concat(Fr(this.props.classes))}))}}])&&qr(n.prototype,a),i&&qr(n,i),t}();Kr.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Yr=Kr,Wr=n(4),Gr=n.n(Wr),zr=n(425),Zr=(n(657),n(139)),Xr=n.n(Zr),$r=n(409),eo=n.n($r),to=(n(175),n(373),n(98)),no=(n(661),n(663),n(97));function ro(e){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(){return(oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){io(e,t,n[t])})}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function so(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){return!t||"object"!==ro(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lo(e,t){return(lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var po=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,co(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=ao({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t))}},{key:"renderActions",value:function(e){var t=ao({},this.props).handleActionClick;if("action"===e.type){var n=P.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find(function(e){return e.isChose});return a&&a.message&&(r=o.a.createElement("div",{className:"action-message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),a?o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map(function(e){switch(e.isChose){case!0:return o.a.createElement(Yr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(dn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:Xr.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))))):o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map(function(e,n){switch(n){case 0:return o.a.createElement(Yr,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(dn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}})),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:Xr.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))))}}},{key:"renderInputsForm",value:function(e){var t=ao({},this.props),n=t.handleFormSubmit,r=t.serviceRegister;if("input"===e.type){var a=P.a.get(e,"inputs",null);if(!a)return null;var i={};return a.forEach(function(e){i[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(i[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(i[e.id]=e.defaultCheckboxValue)}),o.a.createElement(br.c,{initialValues:i,validate:function(e){var t={};return a.forEach(function(n){var r=ao({},n),o=r.id,a=r.type,i=r.required,s=r.label,u=r.minLength,c=P.a.get(e,o,null),l=s||"field";if(i&&(!c||"[]"===c))return t[o]="Please enter a value for ".concat(l),void("radio"!==a&&"checkbox"!==a&&"service register"!==a||(t[o]="Please select an option for ".concat(l)));if(u>0&&c&&c.length<u)t[o]="Please enter a value with at least ".concat(u," characters for ").concat(l);else if("email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(c)){if("date"===a||"release date"===a)Gr()(c,"YYYY-MM-DD").isValid()||(t[o]="Invalid date");"product aspects"!==a||!c||/^[0-9a-zA-Z\s\n]+$/i.test(c)||(t[o]="Please enter alpha-numeric characters only.")}else t[o]="Invalid email address"}),t},onSubmit:function(e,t){n(t,e)}},function(e){var t=e.handleChange,n=(e.isSubmitting,e.errors),s=e.touched,u=e.setFieldValue,c=e.values,l=[];return P.a.keys(n).filter(function(e){return Boolean(s[e])}).forEach(function(e){l[e]=n[e]}),o.a.createElement(br.b,null,a.map(function(e){var n=ao({},e),a=n.id,s=n.type,p=n.label,f=n.placeholder,m=n.options,d=(n.defaultRadioButtonValue,n.defaultCheckboxValue,n.maxLength),b=n.required,y=P.a.get(l,a,null),h=Boolean(y),v=[];return h&&v.push("error"),["text","email","url"].includes(s)?o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:b>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(br.a,{type:s,name:a,className:v.join(" "),placeholder:f,maxLength:d>0?d:4096})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},y))):"radio"===s?o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:b>0?"required":""},p)),o.a.createElement("div",{className:h?"radio-container-error":""},m.length&&m.map(function(e,t){var n=P.a.toString(e.value)===P.a.toString(c[a]);return o.a.createElement("div",{key:t},o.a.createElement("label",{className:"radio-label"},o.a.createElement(br.a,{type:"radio",name:a,value:e.value,className:"radio",checked:n}),e.label))})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},y))):"checkbox"===s?o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:b>0?"required":""},p)),o.a.createElement("div",{className:h?"checkbox-container-error":""},m.length&&m.map(function(e,t){var n=c[a]?JSON.parse(c[a]):[],r=n.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("label",{className:"checkbox-label"},o.a.createElement("input",{type:"checkbox",name:a,className:"checkbox",checked:r,onChange:function(t){t.target.checked?n.push(e.value):n.splice(n.indexOf(e.value),1),u(a,JSON.stringify(n))}}),e.label))})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},y))):"date"===s||"release date"===s?o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:b>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(br.a,{name:a,render:function(e){var t=null,n=e.field.value||null;return n&&n.trim().length>0&&(t=Gr()(n).toDate()),o.a.createElement(zr.a,{dateFormat:"dd-MM-yyyy",className:v.join(" "),selected:t,onChange:function(e){if(e){var t=Gr()(e).format("YYYY-MM-DD");u(a,t)}else u(a,null)},placeholderText:f,dropdownMode:"scroll",withPortal:!0})}})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},y))):"textarea"===s||"product aspects"===s?o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:b>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(br.a,{name:a},function(e){var t=e.field;return o.a.createElement("textarea",oo({},t,{className:v.join(" "),placeholder:f}))}),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},y)))):"rich text editor"===s?o.a.createElement("div",{key:a,className:"field-container"},p&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:b>0?"required":""},p)),o.a.createElement("div",null,o.a.createElement(to.a,{className:"implementation-evidence",initialValue:i[a],init:{selector:"textarea",body_class:"my_class",menubar:!1,plugins:"lists advlist",toolbar:"+ removeformat bold italic underline strikethrough bullist numlist",statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(e){t({target:{name:a,value:e.target.getContent()}})}}),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},y)))):"service register"===s?o.a.createElement("div",{key:a,className:"field-container"},p&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:b>0?"required":""},p)),o.a.createElement("div",{className:"dropdown-container"},o.a.createElement(no.a,{name:a,options:r,defaultValue:i[a]&&r.find(function(e){return e.value===JSON.parse(i[a]).value})?JSON.parse(i[a]):"",classNamePrefix:"react-select",className:h?"react-select-error":" ",maxMenuHeight:250,placeholder:"Select",onChange:function(e){t({target:{name:a,value:JSON.stringify(e)}})}})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},y))):null}),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:Xr.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),o.a.createElement("div",{className:"button-container"},o.a.createElement(Yr,{title:"Next",rightIconImage:eo.a}))))})}}}])&&so(n.prototype,a),i&&so(n,i),t}();function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){bo(e,t,n[t])})}return e}function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ho(e,t){return!t||"object"!==fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var go=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ho(this,vo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleFormSubmit",value:function(e,t){var n=mo({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=r.find(function(e){return!0===e.isCurrent});if(a){var i=mo({},a);P.a.forIn(t,function(e,t){var n=i.inputs.findIndex(function(e){return e.id===t});n>=0&&P.a.set(i,"inputs.".concat(n,".data"),e)}),i.hasAnswer=!0,i.isApplicable=!0,o(i)}}},{key:"handleActionClick",value:function(e){var t=mo({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=n.find(function(e){return!0===e.isCurrent});if(o){var a=mo({},o);a.actions=a.actions.map(function(t){return t.isChose=t.id===e.id,t}),a.hasAnswer=!0,a.isApplicable=!0,r(a)}}},{key:"render",value:function(){var e=mo({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=e.serviceRegister,a=t.find(function(e){return!0===e.isCurrent}),i=t.findIndex(function(e){return e.id===a.id});return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement("div",{className:"title"},"Questions"),o.a.createElement("div",{className:"form-container"},o.a.createElement(Mr,{questions:t,onItemClick:n}),a&&o.a.createElement(po,{index:i,key:a.id,question:a,serviceRegister:r,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this)}))))}}])&&yo(n.prototype,a),i&&yo(n,i),t}();function Eo(e){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ko(e,t,n[t])})}return e}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,t){return!t||"object"!==Eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function To(e){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _o(e,t){return(_o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Co=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wo(this,To(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_o(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Oo({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Oo({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,a=Oo({},this.props.submissionState),i=a.title,s=a.siteConfig,u=a.user,c=a.submission;return u&&c&&s?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==c.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(ar,{title:i,subtitle:s.siteTitle,username:u.name,logopath:s.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"The questionnaire is not in progress. Please check the summary screen.")),o.a.createElement(wt,{footerCopyrightText:s.footerCopyrightText})):u.id===c.submitter.id?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(ar,{title:i,subtitle:s.siteTitle,logopath:s.logoPath,username:u.name}),o.a.createElement(go,{questions:c.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement(wt,{footerCopyrightText:s.footerCopyrightText})):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(ar,{title:i,subtitle:s.siteTitle,username:u.name,logopath:s.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"It appears this submission has not yet been submitted. Only the submitter can edit a submission and must submit before it can be reviewed.")),o.a.createElement(wt,{footerCopyrightText:s.footerCopyrightText})):null}}])&&Ao(n.prototype,a),i&&Ao(n,i),t}(),Io=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Wn(t))},dispatchSaveAnsweredQuestionAction:function(t){var n,r;e((n=t,r=Yn(regeneratorRuntime.mark(function e(t,r){var o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=P.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,Ee.getCSRFToken();case 7:return i=e.sent,s=n.id,u=Pn.transformFromFullQuestionToData(n),e.prev=10,e.next=13,Cn.updateSubmissionData({submissionID:a,questionID:s,csrfToken:i,answerData:u});case 13:t(Gn(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}},e,this,[[10,16]])})),function(e,t){return r.apply(this,arguments)}))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex(function(e){return e.isCurrent}))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((s=a.questions.findIndex(function(t){return t.id===e.id}))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:s}),t.next=15,zn(r(),[i,s]);case 15:case"end":return t.stop()}},t,this)})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Co),No=n(133),jo=n.n(No),Po=n(410),Ro=n.n(Po);function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return!t||"object"!==Do(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qo(e,t){return(Qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lo(this,Mo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qo(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xo(e,t,n[t])})}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map(function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))})))}},{key:"renderData",value:function(e){if(!e.isApplicable){return o.a.createElement("div",null,"(Not applicable)")}if(!e.hasAnswer){return o.a.createElement("div",null,"(Has no answer)")}if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=Gr()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map(function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label),"",o.a.createElement("span",null,"-"),"",o.a.createElement("span",null,n))})):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=P.a.head(e.actions.filter(function(e){return e.isChose}));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&Uo(n.prototype,a),i&&Uo(n,i),t}();function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ho(e,t){return!t||"object"!==Fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ho(this,Jo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){qo(e,t,n[t])})}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,s=e.handleEditAnswerButtonClick;if(!t)return null;var u=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),c=o.a.createElement("div",{className:"buttons"},o.a.createElement(dn,{title:"EDIT ANSWERS",iconImage:jo.a,classes:["button"],onClick:s}),o.a.createElement(dn,{title:"DOWNLOAD PDF",iconImage:Ro.a,classes:["button"],onClick:i}),o.a.createElement(Yr,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:Pn.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(dn,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return D.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&u,o.a.createElement(Bo,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&c,"submitter"!==n&&l)}}])&&Vo(n.prototype,a),i&&Vo(n,i),t}(),Wo=n(189),Go=n.n(Wo),zo=n(411),Zo=n.n(zo);function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&Xo(t.prototype,n),r&&Xo(t,r),e}();function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){na(e,t,n[t])})}return e}function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function aa(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){oa(a,r,o,i,s,"next",e)}function s(e){oa(a,r,o,i,s,"throw",e)}i(void 0)})}}function ia(e){return sa.apply(this,arguments)}function sa(){return(sa=aa(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.addEventListener("load",function(t){e(t.target.result)}),n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function ua(e){return ca.apply(this,arguments)}function ca(){return(ca=aa(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,ia(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var la=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"generatePDF",value:function(){var e=aa(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c,l,p,f,m,d,b,y,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ta({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteConfig,s=n.result,u=n.riskResults,l=[],p={questionnaireTitle:{bold:!0,fontSize:(c=12)+4,color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:c,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:c+2,color:"#004071"},questionHeading:{bold:!0}},f={fontSize:c},m={title:"".concat(a," - ").concat(o.name,".pdf")},d=Zo.a.pdfMake.vfs,Go.a.vfs=d,e.next=10,ua(i.pdfHeaderImageLink);case 10:return b=e.sent,l.push({image:b,width:500,margin:[0,0,0,c]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,c/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*c]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,c]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,c/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*c]}),s&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,c]}),l.push({text:"".concat(s),margin:[0,0,0,2*c]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,c]}),r.forEach(function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,c/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Gr()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find(function(e){return e.value===t});n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter(function(e){return r.includes(e.value)}).map(function(e){return e.label});t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach(function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat($o.toString(n(e))),margin:[0,0,0,o?c:parseInt("".concat(c/3))]})}):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,c]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=P.a.head(e.actions.filter(function(e){return e.isChose}));l.push({text:r.label,margin:[0,0,0,c]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,c]});else l.push({text:"(Not applicable)",margin:[0,0,0,c]})}),"object"===ea(u)&&u.length>0&&(y=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],u.forEach(function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),y.push([{text:e.riskName},e.weights,e.score,n])}),l.push({table:{headerRows:1,widths:[237,75,75,75],body:y},width:500,margin:[0,0,0,c]})),e.next=23,ua(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,c]}),e.prev=25,e.next=28,Go.a.createPdf({info:m,content:l,styles:p,defaultStyle:f}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}},e,this,[[25,30]])}));return function(t){return e.apply(this,arguments)}}()},{key:"blobToDataURL",value:function(){var e=aa(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&ra(t.prototype,n),r&&ra(t,r),e}();function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ma(e,t,n[t])})}return e}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e,t){return!t||"object"!==pa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var va=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ba(this,ya(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=fa({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=fa({},this.props).secureToken,t=fa({},this.props.submissionState),n=t.title,r=t.siteConfig,a=t.user,i=t.submission,s=t.isCurrentUserApprover,u=t.isCurrentUserABusinessOwnerApprover;if(!a||!r)return null;var c="others";do{if(a.id===i.submitter.id){c="submitter";break}if(s){c="approver";break}if(u&&"waiting_for_approval"==i.status){c="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(ar,{title:n,subtitle:"Review Responses",username:a.name,logopath:r.logoPath}),o.a.createElement(Yo,{siteTitle:r.siteTitle,viewAs:c,submission:i,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement(wt,{footerCopyrightText:r.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=fa({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&la.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=P.a.get(this.props.submissionState,"submission.submissionUUID","");e&&D.redirectToQuestionnaireEditing(e)}}])&&da(n.prototype,a),i&&da(n,i),t}(),Sa=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState}},function(e,t){return{dispatchLoadSubmissionAction:function(t){e(Wn(t))},dispatchSubmitQuestionnaire:function(){var t;e((t=Yn(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!Pn.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,Ee.getCSRFToken();case 11:return i=e.sent,e.next=14,Cn.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:s=e.sent,u=s.uuid,D.redirectToQuestionnaireSummary(u),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}},e,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)}))}}})(va);function ga(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Ea(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ga(a,r,o,i,s,"next",e)}function s(e){ga(a,r,o,i,s,"throw",e)}i(void 0)})}}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ka=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchCurrentUser",value:function(){var e=Ea(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}',e.next=3,Q.request({query:'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}'});case 3:if(t=e.sent,n=P.a.get(t,"data.readMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=On.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchMembers",value:function(){var e=Ea(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}',e.next=3,Q.request({query:'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}'});case 3:if(t=e.sent,n=P.a.get(t,"data.readMember",null)){e.next=7;break}throw new Error("Authenticate error");case 7:return r=On.parserMemberFromJSON(n),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&Oa(t.prototype,n),r&&Oa(t,r),e}();function Aa(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function wa(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Aa(a,r,o,i,s,"next",e)}function s(e){Aa(a,r,o,i,s,"throw",e)}i(void 0)})}}function Ta(){return function(){var e=wa(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ka.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}function _a(e){return(_a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ca(){return(Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ia(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,t){return!t||"object"!==_a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ra(e,t){return(Ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Da=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ja(this,Pa(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ra(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(on,Ca({},this.props,{classes:["RedButton"].concat(Ia(this.props.classes))}))}}])&&Na(n.prototype,a),i&&Na(n,i),t}();Da.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var xa=Da,Ua=n(134),La=n.n(Ua),Ma=n(89),Qa=n.n(Ma),Ba=n(412),Fa=n.n(Ba),qa=n(413),Va=n.n(qa),Ha=n(414),Ja=n.n(Ha);function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ga(e,t){return!t||"object"!==Ka(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ga(this,za(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ya(e,t,n[t])})}return e}({},this.props),t=e.riskResults,n=e.hideWeightsAndScore;return t&&0!==t.length?o.a.createElement("div",{className:"risk-result-container"},o.a.createElement("h4",null,"Risk Result"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk Name"),!n&&o.a.createElement("th",null,"Weights"),!n&&o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,t.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),!n&&o.a.createElement("td",null,e.weights),!n&&o.a.createElement("td",null,e.score),o.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))}))))):null}}])&&Wa(n.prototype,a),i&&Wa(n,i),t}();n(680);function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ei=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter(function(e){return"security risk assessment"===e.taskType&&"complete"===e.status}).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter(function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)}).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return o.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&$a(t.prototype,n),r&&$a(t,r),e}();function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ri(e,t){return!t||"object"!==ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ai(e,t){return(ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ii=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ri(this,oi(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ai(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",o.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&ni(n.prototype,a),i&&ni(n,i),t}(),si=n(417),ui=n.n(si),ci=n(416),li=n.n(ci),pi=n(61),fi=n.n(pi),mi=n(759);function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yi(e,t,n[t])})}return e}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ei=function(e){if(e)return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")},Oi=function(e,t){if(e)return"pending"==e?"Awaiting approval":"not_required"==e?"Not required":"approved"==e&&"Certification Authority"==t?"Certification granted":"denied"==e&&"Certification Authority"==t?"Certification denied":"approved"==e&&"Accreditation Authority"==t?"Accreditation issued":"denied"==e&&"Accreditation Authority"==t?"Accreditation denied":"denied"==e?"Not approved":Ei(e)},ki=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=vi(this,Si(t).call(this,e))).state={skipBoAndCisoApproval:!1,enableApproveButton:!0,showModal:!1,selectedCollaborators:e.submission.collaborators},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){""!==this.getAcknowledgeText()&&this.setState({enableApproveButton:!1})}},{key:"getAcknowledgeText",value:function(){if(this.props.submission.isCertificationAndAccreditationTaskExists){if("businessOwnerApprover"===this.props.viewAs&&this.props.submission.businessOwnerAcknowledgementText)return this.props.submission.businessOwnerAcknowledgementText;if("approver"===this.props.viewAs){if(this.props.user.isCertificationAuthority&&this.props.submission.certificationAuthorityAcknowledgementText)return this.props.submission.certificationAuthorityAcknowledgementText;if(this.props.user.isAccreditationAuthority&&this.props.submission.accreditationAuthorityAcknowledgementText)return this.props.submission.accreditationAuthorityAcknowledgementText}}return""}},{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter(function(e){return"risk questionnaire"===e.taskType});if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach(function(e,t){"selection"===e.taskType&&(n=!0)}),n}},{key:"handleAddCollaboratorsModalButtonClick",value:function(){this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators),this.handleCloseModalForCollaborators()}},{key:"handleOpenModalForCollaborators",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModalForCollaborators",value:function(){this.setState({showModal:!1}),this.setState({selectedCollaborators:this.props.submission.collaborators})}},{key:"handleChangeForCollaborators",value:function(e){this.setState({selectedCollaborators:e})}},{key:"render",value:function(){var e=bi({},this.props),t=e.submission,n=e.viewAs,r=e.user,a=e.members;return t&&a?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h4",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?o.a.createElement(ii,null):o.a.createElement("div",{className:"Summary"},this.renderSubmitterAndCollaboratorInfo(t,a),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(Xa,{riskResults:t.riskResults,hideWeightsAndScore:t.hideWeightsAndScore}),this.renderSkipCheckbox(t,n,r),this.renderAcknowledgements(t,n,r),this.renderButtons(t)):null}},{key:"renderCollboratorsModal",value:function(e,t){return o.a.createElement(fi.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".Summary")}},o.a.createElement("div",{className:"collaborator-model-title"},o.a.createElement("span",null,o.a.createElement("h4",null,"Add Collaborators")),o.a.createElement(mi.a,{"aria-label":"close",component:"span",className:"collaborator-model-close icon-gray",onClick:this.handleCloseModalForCollaborators.bind(this)},o.a.createElement(li.a,null))),o.a.createElement("div",{className:"content"},"Start typing names, to add them as collaborators for your submission."),o.a.createElement("div",{className:"content"},o.a.createElement(no.a,{options:t,defaultValue:e.collaborators,isMulti:!0,maxMenuHeight:200,onChange:this.handleChangeForCollaborators.bind(this)})),o.a.createElement("div",null,o.a.createElement(Yr,{title:"Add",onClick:this.handleAddCollaboratorsModalButtonClick.bind(this)})))}},{key:"renderCollboratorsInfo",value:function(e,t){return o.a.createElement("div",null,o.a.createElement("h4",null,"Collaborators"),o.a.createElement("div",null,o.a.createElement("b",null,"Add people to help complete your submission.")),e.collaborators.length>0&&o.a.createElement("div",{className:"collaborators-name-container"},e.collaborators.map(function(e,t){var n=e.label;return o.a.createElement("div",{key:t},n)})),"submitter"===this.props.viewAs&&o.a.createElement("div",null,o.a.createElement("button",{className:"btn add-collaborators-btn",onClick:this.handleOpenModalForCollaborators.bind(this)},o.a.createElement(ui.a,{className:"icon-blue"}),"Add collaborators")),this.renderCollboratorsModal(e,t))}},{key:"renderSubmitterInfo",value:function(e){var t=e.submitter;return o.a.createElement("div",null,o.a.createElement("h4",null,"Request Information"),o.a.createElement("div",null,o.a.createElement("b",null,"Product Name:")," ",e.productName," "),o.a.createElement("div",null,o.a.createElement("b",null,"Submitted by:")," ",t.name),o.a.createElement("div",null,o.a.createElement("b",null,"Email:")," ",t.email),o.a.createElement("div",null,o.a.createElement("b",null,"Status:")," ",Ei(e.status)))}},{key:"renderSubmitterAndCollaboratorInfo",value:function(e,t){return o.a.createElement("div",null,o.a.createElement("div",{className:"card-group"},o.a.createElement("div",{className:"card mr-2 request-info"},this.renderSubmitterInfo(e)),o.a.createElement("div",{className:"card ml-2 request-info"},this.renderCollboratorsInfo(e,t))))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions,r=ei.isSRATaskFinalised(e.taskSubmissions);if(0===n.length)return null;var a=this.unfinishedTaskSubmissionMessage()?o.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return o.a.createElement("div",{className:"tasks"},o.a.createElement("h4",null,"Tasks"),a,r?ei.getSraIsFinalisedAlert():null,n.map(function(e){var n=e.uuid,r=e.taskName,i=e.taskType,s=e.status,u=e.approver,c=r+" ("+Ei(s)+")";"start"===s&&(c=r+" (Please complete me)"),"approved"===s&&u.name&&(c=r+" ("+Ei(s)+" by "+u.name+")"),"denied"===s&&u.name&&(c=r+" (Not Approved by "+u.name+")");var l=bi({},t.props).token,p=D.redirectToTaskSubmission(n,l,"urlString");"selection"===i&&(p=D.redirectToComponentSelectionSubmission(n,l,"urlString")),"security risk assessment"===i&&(p=D.redirectToSecurityRiskAssessment(n,l,"urlString")),"control validation audit"===i&&(p=D.redirectToControlValidationAudit(n,l,"urlString"));var f=o.a.createElement(ne.a,{to:p},c);return o.a.createElement("div",{key:n},a&&"security risk assessment"===i?null:f)}))}},{key:"renderButtons",value:function(e){var t=this,n=bi({},this.props),r=n.user,a=n.viewAs,i=(n.showNotApproveButton,n.token),s=n.handleSubmitButtonClick,u=n.handlePDFDownloadButtonClick,c=n.handleSendBackForChangesButtonClick,l=n.handleApproveButtonClick,p=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,m=n.handleEditButtonClick,d=n.handleGrantCertificationButtonClick,b=n.handleDenyCertificationButtonClick,y=n.handleIssueAccreditationButtonClick,h=n.handleDenyAccreditationButtonClick,v=o.a.createElement(dn,{title:"PDF",iconImage:La.a,classes:["button"],onClick:u}),S=r?o.a.createElement(dn,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return D.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===a){var g=o.a.createElement(dn,{title:"EDIT ANSWERS",iconImage:Qa.a,classes:["button"],onClick:m}),E=o.a.createElement(Yr,{title:"SEND FOR APPROVAL",classes:["button"],disabled:Pn.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:s});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,g,v,E),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,g,v),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,v),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var O=o.a.createElement(dn,{title:"Assign to Me",classes:["button"],onClick:p}),k=(o.a.createElement(dn,{title:"Send back for changes",classes:["button"],onClick:function(){return c()}}),"Approve");r.isSA&&(k="Endorsed"),r.isCISO&&(k="Recommend Approval"),"businessOwnerApprover"===a&&(k="Accept risks and approve");var A=o.a.createElement(Yr,{title:k,classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return l(t.state.skipBoAndCisoApproval)}}),w="Not approved";r.isSA&&(w="Not endorsed"),r.isCISO&&(w="Recommend Rejection");var T=o.a.createElement(xa,{title:w,classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}}),_=o.a.createElement(Yr,{title:"Grant Certification",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return d()}}),C=o.a.createElement(xa,{title:"Deny Certification",classes:["button"],onClick:function(){return b()}}),I=o.a.createElement(Yr,{title:"Issue Accreditation",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return y()}}),N=o.a.createElement(xa,{title:"Deny Accreditation",classes:["button"],onClick:function(){return h()}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,S,v),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},S,v),o.a.createElement("div",{className:"buttons-right"},O),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},S,v),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),T,A)):!r.isCertificationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_certification"!==e.status?!r.isAccreditationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_accreditation"!==e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},S,v),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),T,A)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},S,v),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),N,I)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},S,v),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),C,_))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,S,v),o.a.createElement("div",null))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=e.certificationAuthorityApprover,i=e.accreditationAuthorityApprover,s=Oi(t.securityArchitect),u="Unassigned";n.firstName&&(u=n.firstName+" "+n.surname);var c=Oi(t.chiefInformationSecurityOfficer),l="Unassigned";r.firstName&&(l=r.firstName+" "+r.surname);var p=Oi(t.businessOwner),f=[{role:"Security Architect",name:u,status:s},{role:"Chief Information Security Officer",name:l,status:c},{role:"Business Owner",name:e.businessOwnerApproverName?e.businessOwnerApproverName:"Unassigned",status:p}];if(this.props.submission.isCertificationAndAccreditationTaskExists){var m=Oi(t.certificationAuthority,"Certification Authority"),d="Unassigned";a.firstName&&(d=a.firstName+" "+a.surname);var b=Oi(t.accreditationAuthority,"Accreditation Authority"),y="Unassigned";i.firstName&&(y=i.firstName+" "+i.surname),f.push({role:"Certification Authority",name:d,status:m},{role:"Accreditation Authority",name:y,status:b})}return o.a.createElement("div",{className:"submission-approval-container"},o.a.createElement("h4",null,"Submission approvals"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"approval_table_header"},o.a.createElement("th",null,"Role"),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Approval status"))),o.a.createElement("tbody",null,f.map(function(e,t){var n=e.status,r=Ja.a;return"Approved"!=n&&"Certification granted"!=n&&"Accreditation issued"!=n||(r=Fa.a),"Not approved"!=n&&"Certification denied"!=n&&"Accreditation denied"!=n&&"Not required"!=n||(r=Va.a),o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.role),o.a.createElement("td",{className:"Unassigned"==e.name?"unassigned-approver":""},e.name),o.a.createElement("td",null,o.a.createElement("img",{src:r}),o.a.createElement("span",{className:"approval-status"}," ",n," ")))})))))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"sub-container"},o.a.createElement("h4",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}})," This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}},{key:"renderAcknowledgements",value:function(e,t,n){var r=this;if(!e.isCertificationAndAccreditationTaskExists)return null;var a=this.getAcknowledgeText();return""!==a?o.a.createElement("div",{className:"acknowledgement-container"},o.a.createElement("h4",null,"Acknowledgements"),o.a.createElement("div",{className:"sub-container"},o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:this.state.enableApproveButton,onChange:function(e){r.setState({enableApproveButton:e.target.checked})}}),o.a.createElement("label",{className:"form-check-label"},a)))):null}}])&&hi(n.prototype,a),i&&hi(n,i),t}();ki.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleSendBackForChangesButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},handleCollaboratorAddButtonClick:function(){},handleGrantCertificationButtonClick:function(){},handleDenyCertificationButtonClick:function(){},handleIssueAccreditationButtonClick:function(){},handleDenyAccreditationButtonClick:function(){},viewAs:"others",showNotApproveButton:!1,token:"",user:null,members:null};var Ai=ki;function wi(e){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_i(e,t,n[t])})}return e}function _i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ii(e,t){return!t||"object"!==wi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ni(e){return(Ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ji(e,t){return(ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pi=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ii(this,Ni(t).call(this))).state={showModal:!1},e}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ji(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Ti({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken),this.props.dispatchLoadMembersAction()}},{key:"render",value:function(){var e=Ti({},this.props),t=e.secureToken,n=e.loadingState,r=e.members,a=Ti({},this.props.submissionState),i=(a.location,a.title),s=a.user,u=a.submission,c=a.isCurrentUserApprover,l=a.isCurrentUserABusinessOwnerApprover,p=a.siteConfig;if(!(s&&u&&p&&r))return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var f="others",m=!1;!s.isSA||s.isCISO||l||(m=!0);do{if(s.id===u.submitter.id){f="submitter";break}if(l&&"waiting_for_approval"==u.status){f="businessOwnerApprover";break}if(c){f="approver";break}}while(0);return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(ar,{title:i,subtitle:"Summary",username:s.name,logopath:p.logoPath}),o.a.createElement(Ai,{submission:u,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),handleCollaboratorAddButtonClick:this.handleCollaboratorAddButtonClick.bind(this),handleGrantCertificationButtonClick:this.handleGrantCertificationButtonClick.bind(this),handleDenyCertificationButtonClick:this.handleDenyCertificationButtonClick.bind(this),handleIssueAccreditationButtonClick:this.handleIssueAccreditationButtonClick.bind(this),handleDenyAccreditationButtonClick:this.handleDenyAccreditationButtonClick.bind(this),viewAs:f,user:s,token:t,members:r,showNotApproveButton:m}),o.a.createElement(wt,{footerCopyrightText:p.footerCopyrightText}),o.a.createElement(fi.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(Yr,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(dn,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=Ti({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),la.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=Ti({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Ti({},this.props).secureToken,n=Ti({},this.props.submissionState),r=n.user,o=n.submission,a=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&o&&(i&&"waiting_for_approval"==o.status?this.props.dispatchBusinessOwnerApproveSubmissionAction(o.submissionID,t):a&&this.props.dispatchApproveSubmissionAction(o.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Ti({},this.props).secureToken,n=Ti({},this.props.submissionState),r=n.user,o=n.submission,a=n.isCurrentUserApprover,i=n.isCurrentUserABusinessOwnerApprover;r&&o&&(i&&"waiting_for_approval"==o.status?this.props.dispatchBusinessOwnerDenySubmissionAction(o.submissionID,t):a&&this.props.dispatchDenySubmissionAction(o.submissionID,e))}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=Ti({},this.props.submissionState),t=e.user,n=e.submission,r=e.isCurrentUserApprover;t&&n&&r&&this.props.dispatchSendBackForChangesSubmissionAction(n.submissionID)}},{key:"handleAssignToMeButtonClick",value:function(){var e=Ti({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=Ti({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleCollaboratorAddButtonClick",value:function(e){var t=Ti({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchAddCollaboratorAction(r.submissionID,e)}},{key:"handleGrantCertificationButtonClick",value:function(){var e=Ti({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchGrantCertificationAction(n.submissionID)}},{key:"handleDenyCertificationButtonClick",value:function(){var e=Ti({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyCertificationAction(n.submissionID)}},{key:"handleIssueAccreditationButtonClick",value:function(){var e=Ti({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchIssueAccreditationAction(n.submissionID)}},{key:"handleDenyAccreditationButtonClick",value:function(){var e=Ti({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyAccreditationAction(n.submissionID)}}])&&Ci(n.prototype,a),i&&Ci(n,i),t}(),Ri=Object(s.b)(function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState,members:e.memberState}},function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(Wn(t,n))},dispatchLoadMembersAction:function(){var t;e((t=wa(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ka.fetchMembers();case 3:n=e.sent,r={type:l.USER.LOAD_MEMBER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),$.displayError(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(e){return t.apply(this,arguments)}))},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,o){var a,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,s=i.uuid,r(Wn(s,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,o){var a,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,s=i.uuid,r(Wn(s,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,D.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,o){var a,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,s=i.uuid,r(Wn(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,o){var a,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ee.getCSRFToken();case 3:return a=n.sent,n.next=6,Cn.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,s=i.uuid,r(Wn(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[0,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchSendBackForChangesSubmissionAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.updateQuestionnaireStatusToSendBackForChanges({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAssignToMeAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Cn.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddCollaboratorAction:function(t,n){e(function(e,t){return n=Yn(regeneratorRuntime.mark(function n(r,o){var a,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ee.getCSRFToken();case 2:return a=n.sent,n.prev=3,n.next=6,Cn.addCollaborator(e,t,a);case 6:i=n.sent,s=i.uuid,r(Wn(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}},n,this,[[3,11]])})),function(e,t){return n.apply(this,arguments)};var n}(t,n))},dispatchGrantCertificationAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Cn.grantCertification(e,o);case 6:a=t.sent,i=a.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyCertificationAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Cn.denyCertification(e,o);case 6:a=t.sent,i=a.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchIssueAccreditationAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Cn.issueAccreditation(e,o);case 6:a=t.sent,i=a.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyAccreditationAction:function(t){e(function(e){return t=Yn(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,Cn.denyAccreditation(e,o);case 6:a=t.sent,i=a.uuid,n(Wn(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}},t,this,[[3,11]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Pi),Di=n(418),xi=n.n(Di);function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Li(e,t,n[t])})}return e}function Li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Qi(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Mi(a,r,o,i,s,"next",e)}function s(e){Mi(a,r,o,i,s,"throw",e)}i(void 0)})}}function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"loadAvailableComponents",value:function(){var e=Qi(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map(function(e){return Un.parseFromJSONObject(e)}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"createJiraTickets",value:function(){var e=Qi(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ui({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map(function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')}),s="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,Q.request({query:s,csrfToken:a});case 5:if(u=e.sent,c=k()(u,"data",null)){e.next=9;break}throw B;case 9:return l=xi()(o.map(function(e){var t="createJiraTicket".concat(e),n=k()(c,t,null);return n?{id:w()(k()(n,"ID","")),jiraKey:w()(k()(n,"JiraKey","")),link:w()(k()(n,"TicketLink",""))}:null})),e.abrupt("return",l);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Bi(t.prototype,n),r&&Bi(t,r),e}();function qi(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Vi(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){qi(a,r,o,i,s,"next",e)}function s(e){qi(a,r,o,i,s,"throw",e)}i(void 0)})}}function Hi(){return function(){var e=Vi(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function Ji(e,t){return function(){var n=Vi(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function Ki(e,t){return function(){var n=Vi(regeneratorRuntime.mark(function n(r){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()}function Yi(e){return function(){var t=Vi(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function Wi(e){return function(){var t=Vi(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}function Gi(e){var t=e.selectedComponents.map(function(e){return e.isSaved=!0,e});return function(){var e=Vi(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}function zi(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zi(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Xi(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Zi(a,r,o,i,s,"next",e)}function s(e){Zi(a,r,o,i,s,"throw",e)}i(void 0)})}}function $i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){es(e,t,n[t])})}return e}function es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ts(e){var t=$i({},e),n=t.uuid,r=t.secureToken,o=t.type;return function(){var e=Xi(regeneratorRuntime.mark(function e(t){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return a=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=7,t(i);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(Gi(a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),$.displayError(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()}function ns(e){var t=$i({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Xi(regeneratorRuntime.mark(function e(t,a){var i,s,u,c,p,f,m,d,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return a().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return s={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(s);case 6:if(o){e.next=24;break}return e.prev=7,e.t0=Hn,e.t1=i().uuid,e.t2=[n.id],e.t3=[Pn.transformFromFullQuestionToData(n)],e.next=14,Ee.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),$.displayError(e.t7);case 24:if(u=Pn.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),c=u.currentIndex,p=u.nonApplicableIndexes,f=u.targetIndex,m=u.complete,u.terminate,d=u.result,!(p.length>0)){e.next=29;break}return b={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:p},e.next=29,t(b);case 29:if(!(f>c)){e.next=33;break}return y={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:c,targetIndex:f}},e.next=33,t(y);case 33:if(o){e.next=42;break}return e.prev=34,e.next=37,ss(i(),P.a.uniq([c].concat(zi(p),[f])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),$.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(os({bypassNetwork:o,secureToken:r,result:d}));case 45:case"end":return e.stop()}},e,this,[[7,21],[34,39]])}));return function(t,n){return e.apply(this,arguments)}}()}function rs(e){return function(){var t=Xi(regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=o.componentSelectionState.selectedComponents.map(function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}}),t.prev=7,t.t0=Hn,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=14,Ee.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(os());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:$.displayError(t.t6);case 29:case"end":return t.stop()}},t,this,[[7,24]])}));return function(e,n){return t.apply(this,arguments)}}()}function os(){var e=$i({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.result,o=e.taskSubmissionUUID,a=e.questionnaireUUID;return function(){var e=Xi(regeneratorRuntime.mark(function e(i,s){var u,c,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return s().taskSubmissionState.taskSubmission},n){e.next=20;break}return e.prev=2,e.next=5,Ee.getCSRFToken();case 5:return c=e.sent,e.next=8,Hn.completeTaskSubmission({uuid:void 0===o?u().uuid:o,result:r||"",secureToken:t,csrfToken:c});case 8:return p=e.sent,f=p.uuid,e.next=12,i(ts({uuid:f,secureToken:t}));case 12:void 0!==a&&D.redirectToQuestionnaireSummary(a,t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),$.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,i({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:r});case 22:case"end":return e.stop()}},e,this,[[2,15]])}));return function(t,n){return e.apply(this,arguments)}}()}function as(e){var t=$i({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Xi(regeneratorRuntime.mark(function e(t,a){var i,s,u,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(s=i.questions,!((u=s.findIndex(function(e){return e.isCurrent}))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((c=s.findIndex(function(e){return e.id===n.id}))<0)){e.next=12;break}return e.abrupt("return");case 12:return p={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:u,targetIndex:c}},e.next=15,t(p);case 15:if(o){e.next=18;break}return e.next=18,ss(i,P.a.uniq([u,c]),r);case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}function is(){var e=$i({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),t=e.secureToken,n=e.bypassNetwork,r=e.type;return function(){var e=Xi(regeneratorRuntime.mark(function e(o,a){var i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=28;break}return e.prev=4,e.t0=Hn,e.t1=i.uuid,e.next=9,Ee.getCSRFToken();case 9:return e.t2=e.sent,e.t3=t,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return s=e.sent,u=s.uuid,e.next=18,o(ts({uuid:u,secureToken:t}));case 18:if("componentSelection"!==r){e.next=21;break}return e.next=21,o(Gi(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),$.displayError(e.t5);case 26:e.next=29;break;case 28:o({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}},e,this,[[4,23]])}));return function(t,n){return e.apply(this,arguments)}}()}function ss(e,t,n){return us.apply(this,arguments)}function us(){return(us=Xi(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Hn,e.t1=t.uuid,e.t2=n.map(function(e){return t.questions[e].id}),e.t3=n.map(function(e){return Pn.transformFromFullQuestionToData(t.questions[e])}),e.next=7,Ee.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),$.displayError(e.t7.message);case 17:case"end":return e.stop()}},e,this,[[0,14]])}))).apply(this,arguments)}var cs=n(419),ls=n.n(cs),ps=n(420),fs=n.n(ps);n(689);function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bs(){return(bs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hs(e,t){return!t||"object"!==ms(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vs(e){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ss(e,t){return(Ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gs=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=hs(this,(e=vs(t)).call.apply(e,[this].concat(a)))).state={showModal:!1,FormType:"Add",issueID:"0"},n.handleOpenModal=function(){n.setState({showModal:!0})},n.handleCloseModal=function(){n.setState({showModal:!1,issueID:0})},n.handleOpenAddRecommendationModal=function(){var e=1;if(n.props.taskRecommendations.length>0){var t=n.props.taskRecommendations.reduce(function(e,t){return e.id>t.id?e:t});t&&(e=t.id+1)}n.setState({showModal:!0,issueID:e,FormType:"Add"})},n.handleOpenEditRecommendationModal=function(e){n.setState({showModal:!0,issueID:e,FormType:"Edit"})},n.getFormInitialValues=function(){var e={id:n.state.issueID,title:"",description:"",recommendation:"",status:""};return"Edit"==n.state.FormType&&n.props.taskRecommendations.length>0&&0!=n.state.issueID&&(e=n.props.taskRecommendations.find(function(e){return e.id===n.state.issueID})),e},n.renderRecommendationform=function(){return o.a.createElement(br.c,{initialValues:n.getFormInitialValues(),validate:function(e){var t={};return e.title||(t.title="Please enter the issue title."),e.status||(t.status="Please enter the status."),e.description||(t.description="Please enter the issue description."),e.recommendation||(t.recommendation="Please enter the recommendation."),t},onSubmit:function(e,t){"Add"==n.state.FormType&&n.props.handleAddTaskRecommendationButtonClick(e),"Edit"==n.state.FormType&&n.props.handleEditTaskRecommendationButtonClick(e),n.handleCloseModal()},validateOnChange:!1,validateOnBlur:!1},function(e){e.isSubmitting;var t=e.errors,r=(e.touched,e.setFieldValue,e.values),a=e.handleChange,i=e.handleSubmit;return o.a.createElement(br.b,null,o.a.createElement("div",{className:"title-and-status-container"},o.a.createElement("div",{className:"title-field-container"},o.a.createElement("label",null,"Issue title",o.a.createElement(br.a,{type:"text",name:"title",className:t.title&&"input-error"}),t.title&&o.a.createElement("span",{className:"error"},t.title))),o.a.createElement("div",{className:"status-field-container"},o.a.createElement("label",null,"Status",o.a.createElement("select",{name:"status",value:r.status,onChange:a,className:t.status&&"input-error",style:{display:"block"}},o.a.createElement("option",{value:"",label:"Select"}),o.a.createElement("option",{value:"open",label:"Open"}),o.a.createElement("option",{value:"closed",label:"Closed"})),t.status&&o.a.createElement("span",{className:"error"},t.status)))),o.a.createElement("div",{className:"issue-container"},o.a.createElement("label",null,"Issue description",o.a.createElement(br.a,{name:"description"},function(e){var n=e.field;return o.a.createElement("textarea",bs({},n,{className:t.description&&"input-error"}))}),t.description&&o.a.createElement("span",{className:"error"},t.description))),o.a.createElement("div",null,o.a.createElement("label",null,"Recommendation",o.a.createElement(br.a,{name:"recommendation"},function(e){var n=e.field;return o.a.createElement("textarea",bs({},n,{className:t.recommendation&&"input-error"}))}),t.recommendation&&o.a.createElement("span",{className:"error"},t.recommendation))),o.a.createElement("div",{className:"buttons"},o.a.createElement(dn,{title:"Cancel",onClick:n.handleCloseModal}),"Add"==n.state.FormType&&o.a.createElement(Yr,{type:"button",title:"Add","data-flag":"action-add",onClick:i}),"Edit"==n.state.FormType&&o.a.createElement(Yr,{type:"button",title:"Save","data-flag":"action-add",onClick:i})))})},n.renderRecommendationModal=function(){return o.a.createElement("div",{className:"RecommendationModal"},o.a.createElement(fi.a,{isOpen:n.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".TaskSubmissionContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},"Add"==n.state.FormType?"Add Recommendation":"Edit Recommendation"),o.a.createElement("div",{className:"close-icon-container",onClick:n.handleCloseModal},o.a.createElement("img",{src:fs.a}))),o.a.createElement("div",{className:"content"},n.renderRecommendationform())))},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ss(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ds(e,t,n[t])})}return e}({},this.props),n=t.taskRecommendations,r=t.viewAs,a=t.status;return o.a.createElement("div",{className:"recommendation-container"},("approver"===r&&"waiting_for_approval"===a||n&&n.length>0)&&o.a.createElement("h4",null,"Approver's recommendations"),n&&n.length>0&&o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"recommendation_table_header"},o.a.createElement("th",{className:"issue-title-col"},"Issue title"),o.a.createElement("th",null,"Issue description"),o.a.createElement("th",null,"Recommendation"),o.a.createElement("th",null,"Status"),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("th",{className:"edit-col"}))),o.a.createElement("tbody",null,n.map(function(t,n){return o.a.createElement("tr",{key:n+1},o.a.createElement("td",null,t.title),o.a.createElement("td",null,t.description),o.a.createElement("td",null,t.recommendation),o.a.createElement("td",null,t.status),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("td",{className:"edit-col"},o.a.createElement("img",{className:"edit-icon",src:Qa.a,onClick:function(){return e.handleOpenEditRecommendationModal(t.id)}})))})))),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("div",{className:"add-recommendation-link",onClick:function(){return e.handleOpenAddRecommendationModal()}},o.a.createElement("img",{src:ls.a})," Add recommendation"),this.renderRecommendationModal())}}])&&ys(n.prototype,a),i&&ys(n,i),t}(),Es=n(421),Os=n.n(Es);function ks(e){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ws(e,t,n[t])})}return e}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _s(e,t){return!t||"object"!==ks(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cs(e){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Is(e,t){return(Is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ns=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_s(this,Cs(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Is(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=As({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,s=t.handleDenyButtonClick,u=t.handleSendBackForChangesButtonClick,c=t.handleAddTaskRecommendationButtonClick,l=t.handleEditTaskRecommendationButtonClick,p=t.editAnswers,f=t.showBackLink,m=t.showEditButton,d=t.canUpdateAnswers,b=t.viewAs,y=t.secureToken,h=o.a.createElement(gs,{taskRecommendations:n.taskRecommendations,viewAs:b,status:n.status,handleAddTaskRecommendationButtonClick:c,handleEditTaskRecommendationButtonClick:l}),v=f?o.a.createElement("div",{className:"back-link",onClick:function(){return D.redirectToQuestionnaireSummary(n.questionnaireSubmissionUUID,y)}},o.a.createElement("img",{src:Os.a})," Back"):null,S="risk questionnaire"===n.taskType&&ei.isSRATaskFinalised(n.siblingSubmissions),g=m&&!S?o.a.createElement(dn,{title:"Edit",onClick:p,iconImage:Qa.a}):null,E=["complete","waiting_for_approval","approved","denied"],O=E.indexOf(n.status)>-1?o.a.createElement(dn,{title:"PDF",iconImage:La.a,onClick:function(){return e.downloadPdf()}}):null,k=n.result&&E.indexOf(n.status)>-1?o.a.createElement("div",{className:"result-container"},o.a.createElement("h4",null,"Result"),o.a.createElement("div",{className:"result"},n.result)):null,A=n.riskResults&&E.indexOf(n.status)>-1?o.a.createElement(Xa,{riskResults:n.riskResults,hideWeightsAndScore:n.hideWeightsAndScore}):null,w="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(Yr,{title:"Approve",onClick:i,classes:["button"]}):null,T="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(dn,{title:"Send back for changes",onClick:u,classes:["button"]}):null,_="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(xa,{title:"Not approved",onClick:s,classes:["button"]}):null,C=o.a.createElement("div",null,k,o.a.createElement("h4",null,"Summary"),o.a.createElement(Bo,{questions:n.questions}),A,h);return d&&(C=o.a.createElement(go,{questions:n.questions,serviceRegister:n.serviceRegister,saveAnsweredQuestion:r,onLeftBarItemClick:a})),o.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&o.a.createElement(ii,null),"expired"!==n.status&&o.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!S)&&ei.getSraIsFinalisedAlert(),v,C,o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},g,O),o.a.createElement("div",{className:"buttons-right"},"approver"===b&&"waiting_for_approval"===n.status&&o.a.createElement("span",{className:"approver-action"},"Approver action: "),T,_,w))))}},{key:"downloadPdf",value:function(){var e=As({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&la.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults})}}])&&Ts(n.prototype,a),i&&Ts(n,i),t}();function js(e){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Rs(e,t,n[t])})}return e}function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xs(e,t){return!t||"object"!==js(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Us(e){return(Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ls(e,t){return(Ls=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ms=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xs(this,Us(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ls(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Ps({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=Ps({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,s=e.dispatchEditAnswersAction,u=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.dispatchSendBackForChangesTaskSubmissionAction,e.dispatchAddTaskRecommendationAction,e.dispatchEditTaskRecommendationAction,e.secureToken);if(!n||!r||!t)return null;var c="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){c="submitter";break}if(r.isCurrentUserAnApprover){c="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),p=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l||r.isTaskCollborator),f=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||(l||r.isTaskCollborator)&&!r.lockWhenComplete);return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(ar,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(Ns,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:s,showEditButton:f,canUpdateAnswers:p,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleAddTaskRecommendationButtonClick:this.handleAddTaskRecommendationButtonClick.bind(this),handleEditTaskRecommendationButtonClick:this.handleEditTaskRecommendationButtonClick.bind(this),showBackLink:!!r.questionnaireSubmissionUUID,viewAs:c,siteConfig:t,secureToken:u}),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=Ps({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=Ps({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchSendBackForChangesTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=Ps({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}},{key:"handleAddTaskRecommendationButtonClick",value:function(e){var t=Ps({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchAddTaskRecommendationAction(o,e,a)}},{key:"handleEditTaskRecommendationButtonClick",value:function(e){var t=Ps({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchEditTaskRecommendationAction(o,e,a)}}])&&Ds(n.prototype,a),i&&Ds(n,i),t}(),Qs=Object(s.b)(function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(t,n){e(Ta()),e(Bt()),e(ts({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(ns({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(as({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(is())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return t=Xi(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Hn.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(ts({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return t=Xi(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Hn.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return t.sent.status,t.next=10,n(ts({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchSendBackForChangesTaskSubmissionAction:function(t){e(function(e){return t=Xi(regeneratorRuntime.mark(function t(n,r){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee.getCSRFToken();case 3:return o=t.sent,t.next=6,Hn.editTaskSubmission({uuid:e,csrfToken:o,secureToken:""});case 6:return t.sent.status,t.next=10,n(ts({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),$.displayError(t.t0.message);case 15:case"end":return t.stop()}},t,this,[[0,12]])})),function(e,n){return t.apply(this,arguments)};var t}(t))},dispatchAddTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=Xi(regeneratorRuntime.mark(function r(o,a){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n.push(t),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,Hn.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,o(ts({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))},dispatchEditTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return r=Xi(regeneratorRuntime.mark(function r(o,a){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=n.map(function(e){return e.id===t.id?$i({},n,t):e}),r.next=4,Ee.getCSRFToken();case 4:return i=r.sent,r.next=7,Hn.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return r.sent.taskRecommendationData,r.next=11,o(ts({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),$.displayError(r.t0.message);case 16:case"end":return r.stop()}},r,this,[[0,13]])})),function(e,t){return r.apply(this,arguments)};var r}(t,n,r))}}})(Ms);function Bs(e){return(Bs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qs(e,t){return!t||"object"!==Bs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vs(e){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hs(e,t){return(Hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ks(e,t,n[t])})}return e}function Ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ys=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qs(this,Vs(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hs(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Js({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Js({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,s=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var u="in_progress"===r.status||"start"===r.status,c="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(ar,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(Ns,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:s,showEditButton:c,canUpdateAnswers:u,showBackButton:!1,siteConfig:t,currentUser:n}),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Fs(n.prototype,a),i&&Fs(n,i),t}(),Ws=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}},function(e,t){return{dispatchLoadDataAction:function(){var n=Js({},t).taskId;e(Ta()),e(Bt()),e(function(e){var t,n=$i({},e).taskId;return t=Xi(regeneratorRuntime.mark(function e(t,r){var o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn.fetchStandaloneTask({taskId:n});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,t(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),$.displayError(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])})),function(e,n){return t.apply(this,arguments)}}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(ns({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(as({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(is({bypassNetwork:!0}))}}})(Ys);function Gs(e){return(Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Zs(e,t,n[t])})}return e}function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $s(e,t){return!t||"object"!==Gs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function eu(e){return(eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tu(e,t){return(tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$s(this,eu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=zs({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return o.a.createElement("div",{className:"LeftBarItem"},o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(zs({},this.props).iconType){case"editing":return o.a.createElement("img",{src:Pe.a,alt:""});case"success":return o.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return o.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return o.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&Xs(n.prototype,a),i&&Xs(n,i),t}();function ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ou=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter(function(t){return t.id===e}).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter(function(n){return n.id===e&&n.productAspect===t}).length>0:n.filter(function(t){return t.id===e}).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter(function(n){return n.id===e&&n.productAspect===t&&n.isSaved}).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter(function(t){return t.productAspect===e}).length>0}}],(n=null)&&ru(t.prototype,n),r&&ru(t,r),e}();function au(e){return(au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){su(e,t,n[t])})}return e}function su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cu(e,t){return!t||"object"!==au(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lu(e){return(lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pu(e,t){return(pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=cu(this,lu(t).call(this,e))).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pu(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=iu({},this.props),n=t.title,r=t.availableComponents,a=t.selectedComponents,i=t.removeComponent,s=t.addComponent,u=t.productAspects,c=t.componentTarget,l=iu({},this.state),p=l.filter,f=l.selectedProductAspect;return o.a.createElement("div",{className:"LeftBar"},u&&u.length>0&&o.a.createElement("div",{className:"product-aspect"},o.a.createElement("label",null,o.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),o.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=w()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:f},u.map(function(e,t){return o.a.createElement("option",{key:t,value:e},e)})))),o.a.createElement("div",{className:"title"},n),o.a.createElement("div",{className:"search"},o.a.createElement("i",{className:"fas fa-search"}),o.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=w()(t.target.value).trim();e.setState({filter:n})}})),o.a.createElement("div",{className:"items"},r.filter(function(e){return!p||e.name.toUpperCase().includes(p.toUpperCase())}).map(function(e){var t=ou.isSelectedComponentExist(e.id,f,a),n=ou.isComponentSaved(e.id,f,a,c)&&"JIRA Cloud"==c;return o.a.createElement(nu,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,f):s(e.id,f)}})})))}}])&&uu(n.prototype,a),i&&uu(n,i),t}(),mu=n(101);function du(e){return(du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){yu(e,t,n[t])})}return e}function yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vu(e,t){return!t||"object"!==du(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Su(e){return(Su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gu(e,t){return(gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Eu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=vu(this,Su(t).call(this,e))).state={isExpanded:!1,isImplementationEvidenceExpaned:!n.props.isCVATaskEditable},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gu(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"componentDidUpdate",value:function(e){e.isCVATaskEditable!==this.props.isCVATaskEditable&&this.setState({isImplementationEvidenceExpaned:!this.props.isCVATaskEditable})}},{key:"render",value:function(){var e=this,t=bu({},this.props),n=(t.id,t.name),r=t.description,a=t.implementationGuidance,i=t.implementationEvidence,s=t.className,u=t.showImplementationEvidence,c=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,p=bu({},this.state),f=p.isExpanded,m=p.isImplementationEvidenceExpaned;return o.a.createElement("div",{className:"ControlInfo "+s},n&&o.a.createElement("h5",null,n),r&&o.a.createElement("div",{className:"control-description"},o.a.createElement("span",null,o.a.createElement("b",null,"Description: ")),o.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),a&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!f})}},o.a.createElement("span",null,o.a.createElement("b",null,"Implementation Guidance "),o.a.createElement(mu.Icon,{name:"".concat(f?"caret-up":"caret-down")}))),f&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),u&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},o.a.createElement("span",null,o.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),o.a.createElement(mu.Icon,{name:"".concat(m?"caret-up":"caret-down")}))),m&&o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?o.a.createElement("div",null,o.a.createElement(to.a,{className:"implementation-evidence",initialValue:c,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):o.a.createElement("div",{className:"implementation-evidence"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:c.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&hu(n.prototype,r),a&&hu(n,a),t}();function Ou(e){return(Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Au(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wu(e,t){return!t||"object"!==Ou(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _u(e,t){return(_u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Cu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wu(this,Tu(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_u(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ku(e,t,n[t])})}return e}({},this.props),t=e.id,n=e.name,r=e.description,a=e.removeComponent,i=e.childControls,s=e.isDisable;return o.a.createElement("div",{className:"ComponentInfo",key:t+n},o.a.createElement("h3",null,!s&&o.a.createElement("button",{onClick:function(e){e.preventDefault(),a()}},o.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),o.a.createElement("span",null," ",n))),o.a.createElement("p",null,r),i&&i.length>0&&o.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map(function(e,t){return o.a.createElement(Eu,{key:t,id:e.id,name:e.name,description:e.description,implementationGuidance:e.implementationGuidance,className:"control-cs"})}))}}])&&Au(n.prototype,r),a&&Au(n,a),t}();function Iu(e){return(Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ju(e,t,n[t])})}return e}function ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ru(e,t){return!t||"object"!==Iu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Du(e){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xu(e,t){return(xu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Uu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ru(this,Du(t).call(this,e))).state={jiraKey:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xu(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=Nu({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,s=t.addComponent,u=t.finishWithSelection,c=t.saveControls,l=t.extraButtons,p=t.componentTarget,f=t.productAspects,m=t.isStandaloneTask,d=Nu({},this.state).jiraKey,b=f&&f.length>0&&r.length>0;return o.a.createElement("div",{className:"ComponentSelection"},o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(fu,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:s,productAspects:f,componentTarget:p}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},"Selected Components"),o.a.createElement("div",{className:"selected-components"},b>0&&f.map(function(e,t){return o.a.createElement("div",{key:t},ou.doescomponentExistForProductAspect(e,r)&&o.a.createElement("h4",{key:t},e),r.map(function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==p;if(t.productAspect===e)return o.a.createElement(Cu,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})}))}),(void 0===f||""===f||0===f.length)&&r.map(function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==p;return o.a.createElement(Cu,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})})))),o.a.createElement("div",{className:"buttons-wrapper"},o.a.createElement("div",{className:"extra-buttons"},l),o.a.createElement("div",null,r.length>0&&"JIRA Cloud"===p&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=w()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(Yr,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(d)}})),"Local"===p&&!m&&o.a.createElement(dn,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){c()}}),o.a.createElement(dn,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){u()}}))))}}])&&Pu(n.prototype,a),i&&Pu(n,i),t}();function Lu(e){return(Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bu(e,t){return!t||"object"!==Lu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qu(e,t){return(qu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bu(this,Fu(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qu(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mu(e,t,n[t])})}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,a=e.componentTarget,i=e.productAspects,s=i&&i.length>0&&t.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),s>0&&i.map(function(e,n){return o.a.createElement("ul",{key:n},ou.doescomponentExistForProductAspect(e,t)&&o.a.createElement("h5",{key:n},e),t.map(function(t,n){if(t.productAspect===e)return o.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)}))}),o.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map(function(e){return o.a.createElement("li",{key:e.id},e.name)}))),"JIRA Cloud"===a&&o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Created Jira Tickets"),o.a.createElement("ul",null,n.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))}))),o.a.createElement("div",{className:"buttons"},r))}}])&&Qu(n.prototype,r),a&&Qu(n,a),t}();function Hu(e){return(Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ku(e,t,n[t])})}return e}function Ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wu(e,t){return!t||"object"!==Hu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gu(e){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zu(e,t){return(zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Wu(this,Gu(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zu(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Ju({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Ju({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,u=e.dispatchCreateJIRATicketsAction,c=e.viewMode,l=e.jiraTickets,p=e.componentTarget;if(!n||!t)return null;var f=null;switch(c){case"edit":f=o.a.createElement(Uu,{availableComponents:r,selectedComponents:a,componentTarget:p,isStandaloneTask:!0,createJIRATickets:function(e){u(e)},removeComponent:function(e){s(e)},addComponent:function(e){i(e)},finishWithSelection:function(){D.redirectToHome()}});break;case"review":f=o.a.createElement(Vu,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(Yr,{title:"BACK TO HOME",onClick:function(){D.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(ar,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:n.name}),f,o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}}])&&Yu(n.prototype,a),i&&Yu(n,i),t}(),Xu=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}},function(e,t){return{dispatchLoadDataAction:function(){e(Ta()),e(Bt()),e(Hi())},dispatchAddComponentAction:function(t){e(Ji(t))},dispatchRemoveComponentAction:function(t){e(Ki(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return t=Vi(regeneratorRuntime.mark(function t(n,r){var o,a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,Ee.getCSRFToken();case 9:return i=t.sent,t.next=12,Fi.createJiraTickets({jiraKey:e,componentIDList:Dn()(a.map(function(e){return e.id})),csrfToken:i});case 12:return s=t.sent,t.next=15,n(Wi(s));case 15:return t.next=17,n(Yi("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),$.displayError(t.t0);case 22:case"end":return t.stop()}},t,this,[[0,19]])})),function(e,n){return t.apply(this,arguments)};var t}(t))}}})(Zu);function $u(e){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e,t){return!t||"object"!==$u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rc(e,t){return(rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tc(this,nc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rc(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&ec(n.prototype,a),i&&ec(n,i),t}();function ac(e){return(ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e,t){return!t||"object"!==ac(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cc(e,t){return(cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pc(e,t,n[t])})}return e}function pc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sc(this,uc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,lc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=lc({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,a=e.taskSubmission,i=e.availableComponents,s=e.selectedComponents,u=e.dispatchAddComponentAction,c=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,p=e.dispatchSaveLocalControlsAction,f=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!a||!t)return null;var d=parseInt(r.id)===parseInt(a.submitter.id)||r.isSA||a.isTaskCollborator,b=ei.isSRATaskFinalised(a.siblingSubmissions),y=("complete"===a.status||"waiting_for_approval"===a.status||"denied"===a.status)&&"submitted"===a.questionnaireSubmissionStatus&&d&&!a.lockWhenComplete,h=o.a.createElement(Yr,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(a.questionnaireSubmissionUUID,n)}}),v=y&&!b?o.a.createElement(dn,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:jo.a}):null,S=null;switch(a.status){case"start":case"in_progress":if(d){S=o.a.createElement(Uu,{availableComponents:i,selectedComponents:s,componentTarget:a.componentTarget,productAspects:a.productAspects,extraButtons:h,createJIRATickets:function(e){l(e)},saveControls:function(){p()},removeComponent:function(e,t){c(e,t)},addComponent:function(e,t){u(e,t)},finishWithSelection:function(){f()}});break}S=o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("br",null),o.a.createElement(oc,null)),o.a.createElement("div",{className:"buttons"},h));break;case"complete":S=o.a.createElement("div",null,o.a.createElement("div",{className:"ComponentSelectionReview"},!!b&&ei.getSraIsFinalisedAlert()),o.a.createElement(Vu,{selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,buttons:[o.a.createElement("div",{key:"component-selection-review-button-container"},v,h)]}));break;case"expired":S=o.a.createElement(ii,null)}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(ar,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:r.name}),S,o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}}])&&ic(n.prototype,a),i&&ic(n,i),t}(),mc=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}},function(e,t){return{dispatchLoadDataAction:function(){var n=lc({},t),r=n.uuid,o=n.secureToken;e(Bt()),e(Ta()),e(Hi()),e(ts({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(Ji(t,n))},dispatchRemoveComponentAction:function(t,n){e(Ki(t,n))},dispatchCreateJIRATicketsAction:function(t){e(rs(t))},dispatchSaveLocalControlsAction:function(){e(rs(""))},dispatchFinishAction:function(){e(os())},dispatchEditAnswersAction:function(){e(is({type:"componentSelection"}))}}})(fc);function dc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,o,a){if("awaiting_security_architect_review"===e)return"Waiting for Security Architect Approval - unassigned";if("waiting_for_security_architect_approval"===e){if(n.id==t)return"Waiting for Security Architect Approval - assigned to me";if(n.id!==t)return"Waiting for Security Architect Approval - "+r}if("waiting_for_approval"===e){if("pending"===o&&"pending"===a)return"Waiting for Approval - Business Owner and Chief Information Security Officer";if("pending"!==o&&"pending"===a)return"Waiting for Approval - Business Owner"}return"approved"===e&&"pending"===o&&"approved"===a?"Approved - Chief Information Security Officer Approval Pending":e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}}],(n=null)&&dc(t.prototype,n),r&&dc(t,r),e}();function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vc(e,t,n[t])})}return e}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gc(e,t){return!t||"object"!==yc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oc(e,t){return(Oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kc(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var Ac=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gc(this,Ec(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,hc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=hc({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(ar,{title:"My Submission",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Gr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,bc.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement(wt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Sc(n.prototype,a),i&&Sc(n,i),t}(),wc=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ta());case 2:return t.next=4,e(function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Cn.fetchQuestionnaireSubmissionList(r.id,"my_submission_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(Bt());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){kc(a,r,o,i,s,"next",e)}function s(e){kc(a,r,o,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(Ac);function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cc(e,t,n[t])})}return e}function Cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nc(e,t){return!t||"object"!==Tc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jc(e){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pc(e,t){return(Pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rc(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var Dc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Nc(this,jc(t).call(this,e))).state={currentApprovalList:"QuestionnaireApproval"},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,_c({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=_c({},this.props),n=t.currentUser,r=t.siteConfig,a=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,s=t.loadingState;return n&&a&&r&&i?s["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(ar,{title:"Awaiting Approvals",username:n.name,subtitle:r.siteTitle,logopath:r.logoPath}),o.a.createElement("div",{className:"container text-center tab-container"},o.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button mr-3 active":"tab-button mr-3",onClick:function(){return e.setState({currentApprovalList:"QuestionnaireApproval"})}},"Questionnaire Approvals"),o.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){return e.setState({currentApprovalList:"TaskApproval"})}},"Task Approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&xc(a,n),"TaskApproval"==this.state.currentApprovalList&&Uc(i,n),o.a.createElement(wt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Ic(n.prototype,a),i&&Ic(n,i),t}(),xc=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Business Owner"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Deliverable Release Date"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Gr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,bc.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,e.releaseDate?Gr()(e.releaseDate).format("DD MMM YYYY"):""),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire."))},Uc=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Task Name"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="#/task/submission/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Gr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.taskName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,bc.prettifyStatus(e.status,"",t,"","","")),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task."))},Lc=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ta());case 2:return t.next=4,e(function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Cn.fetchQuestionnaireSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(function(){var e=Xi(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Hn.fetchTaskSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:e.t0});case 16:$.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 6:return t.next=8,e(Bt());case 8:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){Rc(a,r,o,i,s,"next",e)}function s(e){Rc(a,r,o,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(Dc);function Mc(e){return(Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bc(e,t,n[t])})}return e}function Bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qc(e,t){return!t||"object"!==Mc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hc(e,t){return(Hc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jc(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}var Kc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qc(this,Vc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,Qc({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Qc({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(ar,{title:"My Products",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map(function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Gr()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,bc.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement(wt,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Fc(n.prototype,a),i&&Fc(n,i),t}(),Yc=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}},function(e,t){return{dispatchLoadDataAction:(n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ta());case 2:return t.next=4,e(function(){var e=Yn(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Cn.fetchQuestionnaireSubmissionList(r.id,"my_product_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(Bt());case 6:case"end":return t.stop()}},t,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){Jc(a,r,o,i,s,"next",e)}function s(e){Jc(a,r,o,i,s,"throw",e)}i(void 0)})},function(){return r.apply(this,arguments)})};var n,r})(Kc);function Wc(e){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zc(e,t){return!t||"object"!==Wc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xc(e){return(Xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $c(e,t){return($c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var el=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zc(this,Xc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$c(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gc(e,t,n[t])})}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Likelihood Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&zc(n.prototype,a),i&&zc(n,i),t}();function tl(e){return(tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ol(e,t){return!t||"object"!==tl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function al(e){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function il(e,t){return(il=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ol(this,al(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&il(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nl(e,t,n[t])})}return e}({},this.props).impactThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"ImapctLegend"},o.a.createElement("h3",null,"Impact Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"impact_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map(function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))}))))):null}}])&&rl(n.prototype,a),i&&rl(n,i),t}();var ul=n(190),cl=n.n(ul);function ll(e){return(ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fl(e,t){return!t||"object"!==ll(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ml(e){return(ml=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dl(e,t){return(dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fl(this,ml(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dl(e,t)}(t,r["Component"]),n=t,(a=[{key:"renderTableHeader",value:function(){return o.a.createElement("tr",{key:"sra_header"},o.a.createElement("th",null,"Risk"),this.props.hasProductAspects&&o.a.createElement("th",null,"Product Aspect"),o.a.createElement("th",null,"Current Controls"),o.a.createElement("th",null,"Current Likelihood"),o.a.createElement("th",null,"Current Impact"),o.a.createElement("th",null,"Current Risk Rating"),o.a.createElement("th",null,"Recommended Treatments"))}},{key:"renderTableBody",value:function(){var e=this;return this.props.hasProductAspects?this.props.calculatedSRAData.map(function(t,n){return t.productAspects.map(function(n,r){var o={riskId:t.riskId,riskName:0==r?"".concat(t.riskName," (").concat(t.baseImpactScore,")"):null,riskDescription:0==r?t.description:null,components:n.components,currentLikelihood:n.currentLikelihood,currentImpact:n.currentImpact,currentRiskRating:n.currentRiskRating};return e.renderTableRow(o,n.productAspectName)})}):this.props.calculatedSRAData.map(function(t,n){var r={riskId:t.riskId,riskName:"".concat(t.riskName," (").concat(t.baseImpactScore,")"),riskDescription:t.description,components:t.riskDetail.components,currentLikelihood:t.riskDetail.currentLikelihood,currentImpact:t.riskDetail.currentImpact,currentRiskRating:t.riskDetail.currentRiskRating};return e.renderTableRow(r)})}},{key:"renderTableRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement("tr",{key:t+"_"+e.riskId},o.a.createElement("td",null,o.a.createElement("span",{style:{display:"block"}},e.riskName),o.a.createElement("small",{className:"text-muted"},e.riskDescription)),this.props.hasProductAspects&&t&&o.a.createElement("td",null,t),o.a.createElement("td",null,this.renderComponents(e.components,"Implemented")),o.a.createElement("td",null,this.renderCurrentLikelihood(e.currentLikelihood)),o.a.createElement("td",null,this.renderCurrentImapct(e.currentImpact)),o.a.createElement("td",{style:e.currentRiskRating.colour?{backgroundColor:e.currentRiskRating.colour}:null},this.renderCurrentRiskRating(e.currentRiskRating)),o.a.createElement("td",null,this.renderComponents(e.components,"Recommened")))}},{key:"renderComponents",value:function(e,t){var n=this;return e&&Array.isArray(e)&&0!=e.length?e.map(function(e,r){var a="Implemented"===t?e.implementedControls:e.recommendedControls;return o.a.createElement("div",{key:r+1},o.a.createElement("strong",{key:e.id},a.length>0?e.name:null),a.length>0&&n.renderControls(a,t))}):null}},{key:"renderControls",value:function(e,t){return e.map(function(e,n){var r=!1;return"Recommened"==t&&(cl()(e.likelihoodPenalty)>0||cl()(e.impactPenalty)>0)&&(r=!0),o.a.createElement("div",{key:n+1},o.a.createElement("span",{key:e.id,className:"".concat(r?"font-weight-bold control-title":"font-weight-normal control-title")},e.name," "),o.a.createElement("small",{className:"text-muted"},"( L: ",e.likelihoodWeight,", I: ",e.impactWeight,", LP: ",e.likelihoodPenalty,", IP: ",e.impactPenalty,")"))})}},{key:"renderCurrentLikelihood",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentImapct",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentRiskRating",value:function(e){return o.a.createElement("div",null,e.name)}},{key:"render",value:function(){return this.props.calculatedSRAData?o.a.createElement("div",{className:"RiskMatrix"},o.a.createElement("h3",null,"Your risk assessment results"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},this.renderTableHeader()),o.a.createElement("tbody",null,this.renderTableBody())))):null}}])&&pl(n.prototype,a),i&&pl(n,i),t}();function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sl(e,t){return!t||"object"!==yl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gl(e){return(gl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function El(e,t){return(El=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ol=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sl(this,gl(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&El(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hl(e,t,n[t])})}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"RiskRatingLegend"},o.a.createElement("h3",null,"Risk Rating Matix"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("p",{className:"impact-heading"},"Impact"),o.a.createElement("table",{className:"table table-sm table-bordered"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map(function(e,t){return o.a.createElement("th",{key:t},e)}))),o.a.createElement("tbody",null,e.tableRows.map(function(e,t){return o.a.createElement("tr",{key:"row_"+t},e.map(function(e,t){return o.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)}))}))))):null}}])&&vl(n.prototype,a),i&&vl(n,i),t}();function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Al(e,t,n[t])})}return e}function Al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wl(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Tl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){wl(a,r,o,i,s,"next",e)}function s(e){wl(a,r,o,i,s,"throw",e)}i(void 0)})}}function _l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:function(){var e=Tl(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=kl({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,s=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw B;case 8:return u=JSON.parse(k()(s,"SecurityRiskAssessmentData","")),c={uuid:s&&s.UUID?s.UUID:"",taskName:w()(k()(s,"TaskName","")),status:w()(k()(s,"Status","")),submitterID:w()(k()(s,"Submitter.ID","")),isTaskCollborator:"true"===k()(s,"IsTaskCollborator","false"),questionnaireSubmissionUUID:w()(k()(s,"QuestionnaireSubmission.UUID","")),taskSubmissions:W.parseAlltaskSubmissionforQuestionnaire(s),sraData:u},e.abrupt("return",c);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchImpactThreshold",value:function(){var e=Tl(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}",e.next=3,Q.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readImpactThreshold",null)){e.next=7;break}throw B;case 7:return r=n.map(function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}}),e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],n&&_l(t.prototype,n),r&&_l(t,r),e}();function Il(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Nl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Il(a,r,o,i,s,"next",e)}function s(e){Il(a,r,o,i,s,"throw",e)}i(void 0)})}}function jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pl(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jl(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Nl(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,Cl.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return o=e.sent,a={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:o},e.next=9,t(a);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:$.displayError(e.t0);case 16:case"end":return e.stop()}},e,this,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()}function Rl(e){return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xl(e,t,n[t])})}return e}function xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ll(e,t){return!t||"object"!==Rl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ml(e){return(Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ql(e,t){return(Ql=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ll(this,Ml(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ql(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=Dl({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=Dl({},this.props),n=t.siteConfig,r=t.currentUser,a=t.securityRiskAssessmentData,i=t.secureToken,s=t.impactThresholdData;if(!r||!n||!a)return null;var u=Dl({},a),c=u.uuid,l=(u.taskName,u.questionnaireSubmissionUUID),p=(u.submitterID,u.taskSubmissions),f=u.sraData,m=(u.status,ei.isSRATaskFinalised(p)),d=o.a.createElement(dn,{title:"BACK TO QUESTIONNAIRE SUMMARY",classes:["button ml-3"],onClick:function(){D.redirectToQuestionnaireSummary(l,i)}}),b=ei.isSiblingTaskPending(p),y=a.submitterID===r.id||a.isTaskCollborator,h=m||b||!y?null:o.a.createElement(Yr,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(c,i,l)}});return o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement(ar,{title:a.taskName,subtitle:n.siteTitle,username:r.name,logopath:n.logoPath}),"expired"===a.status&&o.a.createElement(ii,null),"expired"!==a.status&&o.a.createElement("div",{className:"SecurityRiskAssessmentResult"},!!m&&ei.getSraIsFinalisedAlert(),o.a.createElement(bl,{calculatedSRAData:f.calculatedSRAData,hasProductAspects:f.hasProductAspects}),o.a.createElement(el,{likelihoodThresholds:f.likelihoodThresholds}),o.a.createElement(sl,{impactThresholds:s}),o.a.createElement(Ol,{riskRatingThresholds:f.riskRatingThresholds}),o.a.createElement("div",{className:"buttons"},d,h)),o.a.createElement(wt,{footerCopyrightText:n.footerCopyrightText}))}}])&&Ul(n.prototype,a),i&&Ul(n,i),t}(),Fl=Object(s.b)(function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}},function(e,t){return{dispatchLoadDataAction:function(t,n){var r;e(Ta()),e(Bt()),e(Pl({uuid:t,secureToken:n})),e((r=Nl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cl.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),$.displayError(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),function(e){return r.apply(this,arguments)}))},dispatchFinaliseAction:function(t,n,r){e(os({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}})(Bl);function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Vl(e,t,n[t])})}return e}function Vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hl(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Jl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Hl(a,r,o,i,s,"next",e)}function s(e){Hl(a,r,o,i,s,"throw",e)}i(void 0)})}}function Kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:function(){var e=Jl(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ql({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,s=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw B;case 8:return u=JSON.parse(k()(s,"CVATaskData","[]")),Array.isArray(u)||(u=[]),c=u.length>0?Un.parseCVAFromJSONObject(u):u,l={id:w()(k()(s,"ID","")),status:w()(k()(s,"Status","")),uuid:w()(k()(s,"UUID","")),questionnaireSubmissionUUID:w()(k()(s,"QuestionnaireSubmission.UUID","")),taskName:w()(k()(s,"TaskName","")),selectedComponents:c,submitterID:w()(k()(s,"Submitter.ID","")),componentTarget:w()(k()(s,"CVATaskDataSource","")),isTaskCollborator:"true"===k()(s,"IsTaskCollborator","false"),productAspects:_.has(s,"ProductAspects")?JSON.parse(k()(s,"ProductAspects",[])):[],siblingSubmissions:W.parseAlltaskSubmissionforQuestionnaire(s)},e.abrupt("return",l);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"saveControlValidationAuditData",value:function(){var e=Jl(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ql({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),s='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,Q.request({query:s,csrfToken:a});case 5:if(u=e.sent,_.get(u,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw B;case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"reSyncWithJira",value:function(){var e=Jl(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=ql({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,s=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw B;case 8:return u=JSON.parse(k()(s,"CVATaskData","[]")),Array.isArray(u)||(u=[]),c=u.length>0?Un.parseCVAFromJSONObject(u):u,e.abrupt("return",c);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],n&&Kl(t.prototype,n),r&&Kl(t,r),e}();function Wl(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function Gl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Wl(a,r,o,i,s,"next",e)}function s(e){Wl(a,r,o,i,s,"throw",e)}i(void 0)})}}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zl(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zl(e,t,n[t])})}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Gl(regeneratorRuntime.mark(function e(t){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,Yl.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return o=e.sent,a={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:o},e.next=11,t(a);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:$.displayError(e.t0);case 18:case"end":return e.stop()}},e,this,[[2,13]])}));return function(t){return e.apply(this,arguments)}}()}function Xl(e){return(Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ep(e,t,n[t])})}return e}function ep(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function np(e,t){return!t||"object"!==Xl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rp(e){return(rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function op(e,t){return(op=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ap(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function ip(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ap(a,r,o,i,s,"next",e)}function s(e){ap(a,r,o,i,s,"throw",e)}i(void 0)})}}var sp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=np(this,rp(t).call(this,e))).state={isCVATaskEditable:!1,isSRATaskFinalised:!1,canEdit:!1},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&op(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=ip(regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,s,u,c,l,p,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$l({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:try{a=$l({},this.props),i=a.controlValidationAuditData,s=a.currentUser,u=i.submitterID===s.id,c=u||i.isTaskCollborator,l=ei.isSRATaskFinalised(i.siblingSubmissions),p=c&&!l,this.setState({canEdit:c,isSRATaskFinalised:l,isCVATaskEditable:p}),this.autoSaveCVATask=setInterval(ip(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,f.callAutoSaveCvaTaskApi();case 3:case"end":return e.stop()}},e,this)})),6e5)}catch(e){$.displayError(error)}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.autoSaveCVATask)}},{key:"callAutoSaveCvaTaskApi",value:function(){var e=$l({},this.props),t=e.uuid,n=e.secureToken,r=e.dispatchSaveControlValidationAuditDataAction,o=e.controlValidationAuditData,a=e.cvaSelectedComponents;e.currentUser;r(t,a,o.questionnaireSubmissionUUID,n,!0)}},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;this.props.controlValidationAuditData.componentTarget;return t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?o.a.createElement("div",null,n.map(function(t){return e.renderComponent(t)})):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return o.a.createElement("div",null,e.map(function(e,r){var a=t.filter(function(t){return t.productAspect===e});return 0==a.length?null:o.a.createElement("div",{className:"mt-2",key:r},o.a.createElement("h4",null,e),a.map(function(e){return n.renderComponent(e)}))}))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,a=e.jiraTicketLink?o.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return o.a.createElement("div",{key:n},o.a.createElement("h5",null,e.name,a&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&o.a.createElement("span",null," - ",a)),r&&r.length>0&&r.map(function(n){return t.renderControl(n,e)}),!r||0==r.length&&o.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,a=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return o.a.createElement("div",{className:"my-0 container row",key:t},o.a.createElement("div",{className:"col-xs-2"},a.map(function(a,i){return o.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:a.value,defaultChecked:e.selectedOption===a.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:a.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),a.label)})),o.a.createElement("div",{className:"col-10"},o.a.createElement("label",{key:e.id},o.a.createElement("strong",null,e.name)),o.a.createElement(Eu,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:this.state.isCVATaskEditable,updateEvidenceTextareaData:function(t){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return o.a.createElement("div",{className:"my-0",key:t},o.a.createElement("label",{className:"ml-2",key:e.id},o.a.createElement("span",null,o.a.createElement("strong",null,e.name)," - "),o.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=$l({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,s=e.cvaSelectedComponents,u=e.dispatchReSyncWithJira;if(!n||!r||!t)return null;var c=this.state.isCVATaskEditable&&s.length>0?o.a.createElement(dn,{title:"SUBMIT",onClick:function(){return i(r.uuid,s,r.questionnaireSubmissionUUID,a,!1)}}):null,l=o.a.createElement(Yr,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}),p=this.state.isCVATaskEditable&&"JIRA Cloud"==r.componentTarget&&s.length>0?o.a.createElement(Yr,{title:"RE SYNC WITH JIRA",onClick:function(){return u(r.uuid)}}):null;return o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement(ar,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),"expired"===r.status&&o.a.createElement(ii,null),"expired"!==r.status&&o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"ControlValidationAuditForm"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!this.state.canEdit&&o.a.createElement(oc,null),(this.state.canEdit||"complete"==r.status)&&o.a.createElement("div",null,!!this.state.isSRATaskFinalised&&ei.getSraIsFinalisedAlert(),this.renderCVAQuestionsForm())),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},o.a.createElement("div",null,c,p,l))),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText}))}}])&&tp(n.prototype,a),i&&tp(n,i),t}(),up=Object(s.b)(function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:(n=ip(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(Zl({uuid:n,secureToken:r})),e(Ta()),e(Bt())]);case 2:case"end":return t.stop()}},t,this)})),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o,a){e(function(e,t,n,r,o){return a=Gl(regeneratorRuntime.mark(function a(i){var s,u,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ee.getCSRFToken();case 3:return s=a.sent,a.next=6,Yl.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:s});case 6:return u=a.sent,c={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:u},a.next=10,i(c);case 10:o||D.redirectToQuestionnaireSummary(n,r),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),$.displayError(a.t0);case 16:case"end":return a.stop()}},a,this,[[0,13]])})),function(e){return a.apply(this,arguments)};var a}(t,n,r,o,a))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n,r;e((n=t,r=Gl(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}))},dispatchReSyncWithJira:function(t){e(function(e){return t=Gl(regeneratorRuntime.mark(function t(n){var r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,Ee.getCSRFToken();case 5:return r=t.sent,t.next=8,Yl.reSyncWithJira({uuid:e,csrfToken:r});case 8:return o=t.sent,a={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:o},t.next=12,n(a);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:$.displayError(t.t0);case 19:case"end":return t.stop()}},t,this,[[2,14]])})),function(e){return t.apply(this,arguments)};var t}(t))}};var n})(sp),cp=n(45);function lp(e){return(lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fp(e,t){return!t||"object"!==lp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mp(e){return(mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dp(e,t){return(dp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fp(this,mp(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dp(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"loading-spinner-page-overlay"},o.a.createElement("div",{className:"loading-spinner"},o.a.createElement(mu.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&pp(n.prototype,a),i&&pp(n,i),t}(),yp=n(762);function hp(e){return(hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sp(e,t){return!t||"object"!==hp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gp(e){return(gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ep(e,t){return(Ep=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Op=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sp(this,gp(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ep(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.loading&&o.a.createElement(bp,null),o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(c.a,{exact:!0,path:"/"},function(){return o.a.createElement(Wt,null)}),o.a.createElement(c.a,{path:"/questionnaire/start/:id"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(dr,{questionnaireID:t.params.id}))}),o.a.createElement(c.a,{path:"/questionnaire/submission/:hash"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Io,{submissionHash:t.params.hash}))}),o.a.createElement(c.a,{path:"/questionnaire/review/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(cp.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Sa,{submissionHash:t.params.hash,secureToken:r}))}),o.a.createElement(c.a,{path:"/questionnaire/summary/:hash"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(cp.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ri,{submissionHash:t.params.hash,secureToken:r}))}),o.a.createElement(c.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(cp.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Qs,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/tasks/standalone/:taskId"},function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ws,{taskId:t.params.taskId}))}),o.a.createElement(c.a,{path:"/component-selection/standalone/:taskId"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(cp.parse)(n.search).componentTarget);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Xu,{taskId:t.params.taskId,componentTarget:r}))}),o.a.createElement(c.a,{path:"/component-selection/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(cp.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(mc,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/control-validation-audit/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(cp.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(up,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/security-risk-assessment/submission/:uuid"},function(e){var t=e.match,n=e.location,r="";n.search&&(r=Object(cp.parse)(n.search).token);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Fl,{uuid:t.params.uuid,secureToken:r}))}),o.a.createElement(c.a,{path:"/MySubmissions"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(wc,null))}),o.a.createElement(c.a,{path:"/AwaitingApprovals"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Lc,null))}),o.a.createElement(c.a,{path:"/MyProducts"},function(e){e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Yc,null))}))))}}])&&vp(n.prototype,a),i&&vp(n,i),t}(),kp=Object(yp.a)(Object(s.b)(function(e){return{loading:P.a.chain(e.loadingState).values().some(function(e){return e}).value()}},function(e,t){return{}})(Op)),Ap=n(760),wp=n(15),Tp=(n(705),{title:"",subtitle:"",pillars:[],tasks:[]});function _p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Cp(e,t,n[t])})}return e}function Cp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ip={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},Np={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var jp=Object(wp.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ip,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Np,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex(function(e){return e.id===n.id});if(r<0)return e;var o=_p({},e);return P.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=_p({},t).targetIndex,s=a.questions.findIndex(function(e){return e.isCurrent});if(i<0||i>=a.questions.length)return e;var u=_p({},e);return P.a.set(u,"submission.questions.".concat(s,".isCurrent"),!1),P.a.set(u,"submission.questions.".concat(i,".isCurrent"),!0),u}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var c=e.submission;if(!c)return e;var p=_p({},e),f=t.nonApplicableIndexes;return f&&f.length>0&&f.forEach(function(e){var t=c.questions[e];t.isApplicable=!1,P.a.set(p,"submission.questions.".concat(e),t)}),p}return e}}),Pp=n(91),Rp=n.n(Pp),Dp=n(56),xp=n.n(Dp);function Up(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lp={taskSubmission:null};function Mp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qp={user:null};function Bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fp={siteConfig:null};var qp=n(423),Vp=n.n(qp);function Hp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Jp(e,t,n[t])})}return e}function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kp={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Yp=ou.isComponentExist,Wp=ou.isSelectedComponentExist;function Gp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zp(e,t,n[t])})}return e}function zp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zp={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function Xp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$p(e,t,n[t])})}return e}function $p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ef={securityRiskAssessmentData:null,impactThresholdData:null};function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nf(e,t,n[t])})}return e}function nf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rf={controlValidationAuditData:null,cvaSelectedComponents:[]};ou.isSelectedComponentExist;function of(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var sf={members:null};var uf=Object(wp.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:jp,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lp,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var r=t.payload,o=n.questions.findIndex(function(e){return e.id===r.id});if(o<0)return e;var a=Rp()(e);return xp()(a,"taskSubmission.questions.".concat(o),r),a}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var i=Rp()(e),s=t.payload;return s&&s.length>0&&s.forEach(function(e){var t=n.questions[e];t.isApplicable=!1,xp()(i,"taskSubmission.questions.".concat(e),t)}),i}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Up(e,t,n[t])})}return e}({},t.payload),c=u.currentIndex,p=u.targetIndex;if(p<0||p>=n.questions.length)return e;var f=Rp()(e);return xp()(f,"taskSubmission.questions.".concat(c,".isCurrent"),!1),xp()(f,"taskSubmission.questions.".concat(p,".isCurrent"),!0),f}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var m=Rp()(e);return xp()(m,"taskSubmission.status","complete"),t.payload&&xp()(m,"taskSubmission.result",t.payload),m}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var d=Rp()(e);return xp()(d,"taskSubmission.status","in_progress"),xp()(d,"taskSubmission.result",null),d}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mp(e,t,n[t])})}return e}({},e,{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bp(e,t,n[t])})}return e}({},e,{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kp,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS)return Hp({},e,{availableComponents:t.payload});if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var n=t,r=n.payload.id,o=n.payload.productAspect;if(!Wp(r,o,e.selectedComponents)&&Yp(r,e.availableComponents)){var a=e.availableComponents.filter(function(e){return e.id===r}),i=Object.assign({},a[0]);return i.productAspect=o,Hp({},e,{selectedComponents:Vp()(e.selectedComponents,i)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var s=t,u=s.payload.id,c=s.payload.productAspect;if(Wp(u,c,e.selectedComponents)&&Yp(u,e.availableComponents))return Hp({},e,{selectedComponents:e.selectedComponents.filter(function(e){return e.id!==u||e.productAspect!==c})})}return t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS?Hp({},e,{jiraTickets:t.payload}):t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE?Hp({},e,{viewMode:t.payload}):t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS?Hp({},e,{selectedComponents:t.payload}):e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zp,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?Gp({},e,{awaitingApprovalList:t.payload}):t.type===l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?Gp({},e,{awaitingApprovalTaskList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?Gp({},e,{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?Gp({},e,{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ef,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?Xp({},e,{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?Xp({},e,{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rf,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),tf({},e,{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.productAspect,i=t.payload.controlID,s=t.payload.componentID,u=t.payload.implementationEvidenceUserInput,c=Object(j.cloneDeep)(e.cvaSelectedComponents),p=[];if((p=""!==a?c.filter(function(e){return e.id==s&&e.productAspect==a}):c.filter(function(e){return e.id==s})).length>0){var f=p[0].controls.filter(function(e){return e.id==i});if(f.length>0)return f[0].selectedOption=o,f[0].implementationEvidenceUserInput=u,tf({},e,{cvaSelectedComponents:c})}}return t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS?tf({},e,{cvaSelectedComponents:t.payload}):t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA?tf({},e,{controlValidationAuditData:t.payload,cvaSelectedComponents:[]}):e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).type,n=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(t);if(!n)return e;var r=af(n,3);r[0];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){of(e,t,n[t])})}return e}({},e,of({},r[1],"REQUEST"===r[2]))},memberState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.LOAD_MEMBER:return t.payload;default:return e}}}),cf=n(424),lf=[p.a];var pf=Object(wp.createStore)(uf,Object(cf.composeWithDevTools)(wp.applyMiddleware.apply(void 0,lf)));function ff(e){return(ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function df(e,t){return!t||"object"!==ff(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bf(e){return(bf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yf(e,t){return(yf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){vf(e,t,n[t])})}return e}function vf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),df(this,bf(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yf(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){(0,hf({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=hf({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(ar,{title:n.taskName,subtitle:t.siteTitle,showLogoutButton:!1,logopath:t.logoPath}),o.a.createElement(Ns,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),o.a.createElement(wt,{footerCopyrightText:t.footerCopyrightText})):null}}])&&mf(n.prototype,a),i&&mf(n,i),t}(),gf=Object(s.b)(function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}},function(e,t){return{dispatchLoadDataAction:function(){var n=hf({},t),r=n.uuid,o=n.secureToken;e(ts({uuid:r,secureToken:o})),e(Bt())},dispatchSaveAnsweredQuestionAction:function(n){var r=hf({},t).secureToken;e(ns({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=hf({},t).secureToken;e(as({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=hf({},t).secureToken;e(is({secureToken:n}))}}})(Sf);function Ef(e){return(Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Of(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kf(e,t){return!t||"object"!==Ef(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Af(e){return(Af=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wf(e,t){return(wf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tf=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kf(this,Af(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wf(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(c.a,{path:"/task/submission/:uuid"},function(e){var t=e.match,n=e.location,r=Object(cp.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(gf,{uuid:t.params.uuid,secureToken:r.token||""}))}))))}}])&&Of(n.prototype,a),i&&Of(n,i),t}();window.addEventListener("load",function(){fi.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(Ap.a,null,o.a.createElement(s.a,{store:pf},o.a.createElement(kp,null))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(Ap.a,null,o.a.createElement(s.a,{store:pf},o.a.createElement(Tf,null))),t)})},89:function(e,t,n){e.exports=n.p+"../img/e5ade74409af1721ad1dfcadb7f04aee.svg"}});
//# sourceMappingURL=main.bundle.js.map