!function(e){function t(t){for(var r,o,a=t[0],i=t[1],c=t[2],u=0,s=[];u<a.length;u++)o=a[u],Object.prototype.hasOwnProperty.call(I,o)&&I[o]&&s.push(I[o][0]),I[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(L&&L(t);s.length;)s.shift()();return R.push.apply(R,c||[]),n()}function n(){for(var e,t=0;t<R.length;t++){for(var n=R[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==I[a]&&(r=!1)}r&&(R.splice(t--,1),e=N(N.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!S[e])return;for(var n in S[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--v&&0===O&&T()}(e,t),r&&r(e,t)};var o,a=!0,i="1c9e06dca624fb602313",c={},u=[],s=[];function l(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(y={})[t]=e[t],m("ready");break;case"ready":_(t);break;case"prepare":case"check":case"dispose":case"apply":(h=h||[]).push(t)}},check:w,apply:j,status:function(e){if(!e)return p;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[t]};return o=void 0,n}var f=[],p="idle";function m(e){p=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var d,y,b,h,v=0,O=0,g={},S={},E={};function k(e){return+e+""===e?+e:e}function w(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return a=e,m("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=N.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m(C()?"ready":"idle"),null;S={},g={},E=e.c,b=e.h,m("prepare");var t=new Promise((function(e,t){d={resolve:e,reject:t}}));for(var n in y={},I)A(n);return"prepare"===p&&0===O&&0===v&&T(),t}));var t}function A(e){var t;E[e]?(S[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=N.p+"hot/hot-update.js",document.head.appendChild(t)):g[e]=!0}function T(){m("ready");var e=d;if(d=null,e)if(a)Promise.resolve().then((function(){return j(a)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(k(n));e.resolve(t)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function t(n){var r,a,s,l,f;function p(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),a=o.id,i=o.chain;if((l=P[a])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var c=0;c<l.parents.length;c++){var u=l.parents[c],s=P[u];if(s){if(s.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([u]),moduleId:a,parentId:u};-1===t.indexOf(u)&&(s.hot._acceptedDependencies[a]?(n[u]||(n[u]=[]),d(n[u],[a])):(delete n[u],t.push(u),r.push({chain:i.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}C();var v={},O=[],g={},S=function(){console.warn("[HMR] unexpected require("+A.moduleId+") to disposed module")};for(var w in y)if(Object.prototype.hasOwnProperty.call(y,w)){var A;f=k(w),A=y[w]?p(f):{type:"disposed",moduleId:w};var T=!1,j=!1,_=!1,R="";switch(A.chain&&(R="\nUpdate propagation: "+A.chain.join(" -> ")),A.type){case"self-declined":n.onDeclined&&n.onDeclined(A),n.ignoreDeclined||(T=new Error("Aborted because of self decline: "+A.moduleId+R));break;case"declined":n.onDeclined&&n.onDeclined(A),n.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+A.moduleId+" in "+A.parentId+R));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(A),n.ignoreUnaccepted||(T=new Error("Aborted because "+f+" is not accepted"+R));break;case"accepted":n.onAccepted&&n.onAccepted(A),j=!0;break;case"disposed":n.onDisposed&&n.onDisposed(A),_=!0;break;default:throw new Error("Unexception type "+A.type)}if(T)return m("abort"),Promise.reject(T);if(j)for(f in g[f]=y[f],d(O,A.outdatedModules),A.outdatedDependencies)Object.prototype.hasOwnProperty.call(A.outdatedDependencies,f)&&(v[f]||(v[f]=[]),d(v[f],A.outdatedDependencies[f]));_&&(d(O,[A.moduleId]),g[f]=S)}var D,x=[];for(a=0;a<O.length;a++)f=O[a],P[f]&&P[f].hot._selfAccepted&&g[f]!==S&&!P[f].hot._selfInvalidated&&x.push({module:f,parents:P[f].parents.slice(),errorHandler:P[f].hot._selfAccepted});m("dispose"),Object.keys(E).forEach((function(e){!1===E[e]&&function(e){delete I[e]}(e)}));var U,L,B=O.slice();for(;B.length>0;)if(f=B.pop(),l=P[f]){var M={},Q=l.hot._disposeHandlers;for(s=0;s<Q.length;s++)(r=Q[s])(M);for(c[f]=M,l.hot.active=!1,delete P[f],delete v[f],s=0;s<l.children.length;s++){var F=P[l.children[s]];F&&((D=F.parents.indexOf(f))>=0&&F.parents.splice(D,1))}}for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)&&(l=P[f]))for(L=v[f],s=0;s<L.length;s++)U=L[s],(D=l.children.indexOf(U))>=0&&l.children.splice(D,1);m("apply"),void 0!==b&&(i=b,b=void 0);for(f in y=void 0,g)Object.prototype.hasOwnProperty.call(g,f)&&(e[f]=g[f]);var q=null;for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)&&(l=P[f])){L=v[f];var V=[];for(a=0;a<L.length;a++)if(U=L[a],r=l.hot._acceptedDependencies[U]){if(-1!==V.indexOf(r))continue;V.push(r)}for(a=0;a<V.length;a++){r=V[a];try{r(L)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:f,dependencyId:L[a],error:e}),n.ignoreErrored||q||(q=e)}}}for(a=0;a<x.length;a++){var H=x[a];f=H.module,u=H.parents,o=f;try{N(f)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:f,error:t,originalError:e}),n.ignoreErrored||q||(q=t),q||(q=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:f,error:e}),n.ignoreErrored||q||(q=e)}}if(q)return m("fail"),Promise.reject(q);if(h)return t(n).then((function(e){return O.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return m("idle"),new Promise((function(e){e(O)}))}(t=t||{})}function C(){if(h)return y||(y={}),h.forEach(_),h=void 0,!0}function _(t){Object.prototype.hasOwnProperty.call(y,t)||(y[t]=e[t])}var P={},I={2:0},R=[];function N(t){if(P[t])return P[t].exports;var n=P[t]={i:t,l:!1,exports:{},hot:l(t),parents:(s=u,u=[],s),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=P[e];if(!t)return N;var n=function(n){return t.hot.active?(P[n]?-1===P[n].parents.indexOf(e)&&P[n].parents.push(e):(u=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),u=[]),N(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return N[e]},set:function(t){N[e]=t}}};for(var a in N)Object.prototype.hasOwnProperty.call(N,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===p&&m("prepare"),O++,N.e(e).then(t,(function(e){throw t(),e}));function t(){O--,"prepare"===p&&(g[e]||A(e),0===O&&0===v&&T())}},n.t=function(e,t){return 1&t&&(e=n(e)),N.t(e,-2&t)},n}(t)),n.l=!0,n.exports}N.m=e,N.c=P,N.d=function(e,t,n){N.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},N.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},N.t=function(e,t){if(1&t&&(e=N(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(N.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)N.d(n,r,function(t){return e[t]}.bind(null,r));return n},N.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return N.d(t,"a",t),t},N.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},N.p="/resources/themes/sdlt/dist/img/",N.h=function(){return i};var D=window.webpackJsonp=window.webpackJsonp||[],x=D.push.bind(D);D.push=t,D=D.slice();for(var U=0;U<D.length;U++)t(D[U]);var L=x;R.push([480,0]),n()}({111:function(e,t,n){e.exports=n.p+"../img/e5dfac45674afc1ceaa06543fe8459f8.svg"},139:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},143:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},144:function(e,t,n){e.exports=n.p+"../img/dab319c4a5240b45e9eacf3657dabef9.svg"},199:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},205:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},206:function(e,t,n){e.exports=n.p+"../img/de677722d74728fea0aa7cb12a510519.svg"},441:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},442:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},443:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},444:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},446:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},447:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},448:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},449:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"},450:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},451:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},455:function(e,t,n){e.exports=n.p+"../img/9198e472a6c8367f8732e615d77f5cba.svg"},456:function(e,t,n){e.exports=n.p+"../img/0c865019e25308a0cb171f68cadd01bc.svg"},457:function(e,t,n){e.exports=n.p+"../img/c67b16dbdf2cbda4870d66a28b326761.svg"},458:function(e,t,n){e.exports=n.p+"../img/b12b0e8b32fffee92478e00d635ffd41.svg"},461:function(e,t,n){e.exports=n.p+"../img/64544011f835a0bcc13b668a98a70f78.svg"},463:function(e,t,n){e.exports=n.p+"../img/49c23560990f01bdb9dbb0aca57ebc16.svg"},464:function(e,t,n){e.exports=n.p+"../img/00e771ee64f774bb995c8301a0276310.svg"},465:function(e,t,n){e.exports=n.p+"../img/7f858504e1409f70135d863bcb581914.svg"},469:function(e,t,n){e.exports=n.p+"../img/8c940e4f505b38895423737310f1fb6c.svg"},470:function(e,t,n){e.exports=n.p+"../img/253fcb80900dd1752b22f7607d2c75bb.svg"},471:function(e,t,n){e.exports=n.p+"../img/7d87f5b32274dbc2222cc7de74bb2d2a.svg"},480:function(e,t,n){n(212),e.exports=n(876)},713:function(e,t,n){var r={"./af":263,"./af.js":263,"./ar":264,"./ar-dz":265,"./ar-dz.js":265,"./ar-kw":266,"./ar-kw.js":266,"./ar-ly":267,"./ar-ly.js":267,"./ar-ma":268,"./ar-ma.js":268,"./ar-sa":269,"./ar-sa.js":269,"./ar-tn":270,"./ar-tn.js":270,"./ar.js":264,"./az":271,"./az.js":271,"./be":272,"./be.js":272,"./bg":273,"./bg.js":273,"./bm":274,"./bm.js":274,"./bn":275,"./bn-bd":276,"./bn-bd.js":276,"./bn.js":275,"./bo":277,"./bo.js":277,"./br":278,"./br.js":278,"./bs":279,"./bs.js":279,"./ca":280,"./ca.js":280,"./cs":281,"./cs.js":281,"./cv":282,"./cv.js":282,"./cy":283,"./cy.js":283,"./da":284,"./da.js":284,"./de":285,"./de-at":286,"./de-at.js":286,"./de-ch":287,"./de-ch.js":287,"./de.js":285,"./dv":288,"./dv.js":288,"./el":289,"./el.js":289,"./en-au":290,"./en-au.js":290,"./en-ca":291,"./en-ca.js":291,"./en-gb":292,"./en-gb.js":292,"./en-ie":293,"./en-ie.js":293,"./en-il":294,"./en-il.js":294,"./en-in":295,"./en-in.js":295,"./en-nz":296,"./en-nz.js":296,"./en-sg":297,"./en-sg.js":297,"./eo":298,"./eo.js":298,"./es":299,"./es-do":300,"./es-do.js":300,"./es-mx":301,"./es-mx.js":301,"./es-us":302,"./es-us.js":302,"./es.js":299,"./et":303,"./et.js":303,"./eu":304,"./eu.js":304,"./fa":305,"./fa.js":305,"./fi":306,"./fi.js":306,"./fil":307,"./fil.js":307,"./fo":308,"./fo.js":308,"./fr":309,"./fr-ca":310,"./fr-ca.js":310,"./fr-ch":311,"./fr-ch.js":311,"./fr.js":309,"./fy":312,"./fy.js":312,"./ga":313,"./ga.js":313,"./gd":314,"./gd.js":314,"./gl":315,"./gl.js":315,"./gom-deva":316,"./gom-deva.js":316,"./gom-latn":317,"./gom-latn.js":317,"./gu":318,"./gu.js":318,"./he":319,"./he.js":319,"./hi":320,"./hi.js":320,"./hr":321,"./hr.js":321,"./hu":322,"./hu.js":322,"./hy-am":323,"./hy-am.js":323,"./id":324,"./id.js":324,"./is":325,"./is.js":325,"./it":326,"./it-ch":327,"./it-ch.js":327,"./it.js":326,"./ja":328,"./ja.js":328,"./jv":329,"./jv.js":329,"./ka":330,"./ka.js":330,"./kk":331,"./kk.js":331,"./km":332,"./km.js":332,"./kn":333,"./kn.js":333,"./ko":334,"./ko.js":334,"./ku":335,"./ku.js":335,"./ky":336,"./ky.js":336,"./lb":337,"./lb.js":337,"./lo":338,"./lo.js":338,"./lt":339,"./lt.js":339,"./lv":340,"./lv.js":340,"./me":341,"./me.js":341,"./mi":342,"./mi.js":342,"./mk":343,"./mk.js":343,"./ml":344,"./ml.js":344,"./mn":345,"./mn.js":345,"./mr":346,"./mr.js":346,"./ms":347,"./ms-my":348,"./ms-my.js":348,"./ms.js":347,"./mt":349,"./mt.js":349,"./my":350,"./my.js":350,"./nb":351,"./nb.js":351,"./ne":352,"./ne.js":352,"./nl":353,"./nl-be":354,"./nl-be.js":354,"./nl.js":353,"./nn":355,"./nn.js":355,"./oc-lnc":356,"./oc-lnc.js":356,"./pa-in":357,"./pa-in.js":357,"./pl":358,"./pl.js":358,"./pt":359,"./pt-br":360,"./pt-br.js":360,"./pt.js":359,"./ro":361,"./ro.js":361,"./ru":362,"./ru.js":362,"./sd":363,"./sd.js":363,"./se":364,"./se.js":364,"./si":365,"./si.js":365,"./sk":366,"./sk.js":366,"./sl":367,"./sl.js":367,"./sq":368,"./sq.js":368,"./sr":369,"./sr-cyrl":370,"./sr-cyrl.js":370,"./sr.js":369,"./ss":371,"./ss.js":371,"./sv":372,"./sv.js":372,"./sw":373,"./sw.js":373,"./ta":374,"./ta.js":374,"./te":375,"./te.js":375,"./tet":376,"./tet.js":376,"./tg":377,"./tg.js":377,"./th":378,"./th.js":378,"./tk":379,"./tk.js":379,"./tl-ph":380,"./tl-ph.js":380,"./tlh":381,"./tlh.js":381,"./tr":382,"./tr.js":382,"./tzl":383,"./tzl.js":383,"./tzm":384,"./tzm-latn":385,"./tzm-latn.js":385,"./tzm.js":384,"./ug-cn":386,"./ug-cn.js":386,"./uk":387,"./uk.js":387,"./ur":388,"./ur.js":388,"./uz":389,"./uz-latn":390,"./uz-latn.js":390,"./uz.js":389,"./vi":391,"./vi.js":391,"./x-pseudo":392,"./x-pseudo.js":392,"./yo":393,"./yo.js":393,"./zh-cn":394,"./zh-cn.js":394,"./zh-hk":395,"./zh-hk.js":395,"./zh-mo":396,"./zh-mo.js":396,"./zh-tw":397,"./zh-tw.js":397};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=713},813:function(e,t){},822:function(e,t){},876:function(e,t,n){"use strict";n.r(t);n(481),n(483),n(484),n(486),n(487),n(488),n(490),n(491),n(157),n(494),n(495),n(496),n(497),n(498),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(531),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(557),n(558),n(559),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(231),n(573),n(575),n(576),n(577),n(578),n(579),n(580),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623);var r=n(0),o=n.n(r),a=n(29),i=n.n(a),c=n(11),u=n(897),s=n(894),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE",ADD_COLLABORATOR:"QUESTIONNAIRE/ADD_COLLABORATOR"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE",ADD_TASK_RECOMMENDATION:"TASK/ADD_RECOMMENDATION"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER",LOAD_MEMBER:"USER/LOAD_MEMBER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},f=n(49),p=n(205),m=n.n(p),d=n(441),y=n.n(d),b=n(442),h=n.n(b),v=n(443),O=n.n(v),g=n(444),S=n.n(g),E=n(4),k=n.n(E),w=n(6),A=n.n(w),T=n(445),j=n.n(T),C=n(138),P=n.n(C),I=n(1),R=n.n(I);function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/task/submission/".concat(e);if(t&&(r="/task/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/security-risk-assessment/submission/".concat(e);if(t&&(r="/security-risk-assessment/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/control-validation-audit/submission/".concat(e);if(t&&(r="/control-validation-audit/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&N(t.prototype,n),r&&N(t,r),e}();function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"request",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),c={query:j()(r),variables:o},e.next=6,P.a.request({url:"/graphql",method:"post",data:c,headers:i});case 6:if(u=e.sent,s=u.data,!(l=R.a.get(s,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){B(a,n,r,i,c,"next",e)}function c(e){B(a,n,r,i,c,"throw",e)}i(void 0)}))},function(e){return a.apply(this,arguments)})}],n&&M(t.prototype,n),r&&M(t,r),e}(),F=new Error("There is an error when fetching data..."),q=new Error("There is an error when parsing data...");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw q;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&R.a.keys(t).forEach((function(e){n[R.a.toString(e)]=t[e]})),n}(r),i=function(e){var t="";return R.a.keys(e).forEach((function(n){var r=e[n];!t&&Boolean(R.a.get(r,"isCurrent",!1))&&(t=n)})),t}(a);return o.map((function(e,t){var n=R.a.toString(R.a.get(e,"ID","")),r=Boolean(R.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(R.a.get(a,"".concat(n,".isApplicable"),!0)),c=!1;c=i?i===n:0===t;var u=null,s=null,l=r?R.a.get(a,"".concat(n,".inputs"),[]):[],f=r?R.a.get(a,"".concat(n,".actions"),[]):[],p=R.a.get(e,"AnswerInputFields",[]),m=R.a.get(e,"AnswerActionFields",[]);p&&Array.isArray(p)&&p.length>0&&(u=p.map((function(e){var t=R.a.toString(R.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox"),["text","email","textarea","rich text editor","service register","information classification","dropdown","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=R.a.toString(R.a.get(e,"ID","")),r={id:n,label:R.a.toString(R.a.get(e,"Label","")),type:t,required:Boolean(R.a.toInteger(R.a.get(e,"Required",!1))),minLength:Number.parseInt(R.a.toString(R.a.get(e,"MinLength",0))),maxLength:Number.parseInt(R.a.toString(R.a.get(e,"MaxLength",0))),placeholder:R.a.toString(R.a.get(e,"PlaceHolder","")),options:R.a.has(e,"MultiChoiceAnswer")?JSON.parse(R.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:R.a.has(e,"MultiChoiceSingleAnswerDefault")?R.a.toString(R.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:R.a.has(e,"MultiChoiceMultipleAnswerDefault")?R.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=R.a.head(l.filter((function(e){return e.id===n})));if(o){var a=R.a.toString(R.a.get(o,"data",null));a&&(r.data=a)}}return r}))),m&&Array.isArray(m)&&m.length>0&&(s=m.map((function(e){var t=R.a.toString(R.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=R.a.toString(R.a.get(e,"ID","")),r={id:n,label:R.a.toString(R.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=R.a.toString(R.a.get(e,"Message",""))),"goto"===t&&(r.goto=R.a.toString(R.a.get(e,"GotoID",""))),"finish"===t&&(r.result=R.a.toString(R.a.get(e,"Result","")));var o=R.a.toString(R.a.get(e,"TaskID",""));if(r.taskID=o,f&&Array.isArray(f)&&f.length>0){var a=R.a.head(f.filter((function(e){return e.id===n})));if(a){var i=Boolean(R.a.get(a,"isChose",!1));r.isChose=i}}return r})));var d={id:n,title:R.a.toString(R.a.get(e,"Title","")),heading:R.a.toString(R.a.get(e,"QuestionHeading","")),description:R.a.toString(R.a.get(e,"Description","")),type:R.a.toString(R.a.get(e,"AnswerFieldType","")).toLowerCase(),isCurrent:c,hasAnswer:r,isApplicable:o};if(R.a.isEmpty(R.a.get(d,"heading"))){var y=R.a.toString(R.a.get(e,"Question",""));R.a.set(d,"heading",y)}return u&&(d.inputs=u),s&&(d.actions=s),d}))}}],(n=null)&&J(t.prototype,n),r&&J(t,r),e}(),Y=n(56),W=n.n(Y);function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=A()(k()(e,"ID","")),n=A()(k()(e,"Name","")),r=A()(k()(e,"ComponentTarget","")),o=A()(k()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=A()(k()(e,"QuestionsDataJSON",""));return i&&(a=K.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?W()(t).map((function(e){return{name:A()(k()(e,"Name")),value:A()(k()(e,"Value")),operator:A()(k()(e,"Operator")),colour:A()(k()(e,"Colour"))}})):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=k()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===k()(e,"Submission.TaskType","")?[]:t?t.map((function(e){return{uuid:A()(k()(e,"UUID")),taskType:A()(k()(e,"TaskType")),status:A()(k()(e,"Status"))}})):[]}},{key:"parseServiceRegister",value:function(e){return e.map((function(e){return{value:A()(k()(e,"ID")),label:A()(k()(e,"ServiceName"))}}))}}],(n=null)&&G(t.prototype,n),r&&G(t,r),e}();function $(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchHomeData",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Q.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw F;case 7:return r=n[0],o=A()(k()(r,"Title","")),a=A()(k()(r,"Subtitle","")),i=k()(r,"Pillars",[]),c=this.parsePillars(i),u=k()(r,"Tasks",[]),s=this.parseTasks(u),e.abrupt("return",{title:o,subtitle:a,pillars:c,tasks:s});case 15:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){$(a,n,r,i,c,"next",e)}function c(e){$(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map((function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=y.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=O.a;break;case"risk_questionnaire":t=S.a}return{title:A()(k()(e,"Label","")),disabled:Boolean(k()(e,"Disabled",!0)),questionnaireID:A()(k()(e,"Questionnaire.0.ID","")),icon:t}})):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach((function(e){var n=z.parseFromJSONObject(e);t.push(n)})),t}}],n&&Z(t.prototype,n),r&&Z(t,r),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&ee(t.prototype,n),r&&ee(t,r),e}();function ne(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function re(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ne(a,r,o,i,c,"next",e)}function c(e){ne(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}var oe=n(893);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,e);var t,n,r,a=fe(i);function i(){return ue(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(ie(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(oe.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&se(t.prototype,n),r&&se(t,r),i}(r.Component);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(i,e);var t,n,r,a=Se(i);function i(){return ve(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=["TaskButton"].concat(be(this.props.classes));return o.a.createElement(oe.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&Oe(t.prototype,n),r&&Oe(t,r),i}(r.Component),Ae=n(446),Te=n.n(Ae);function je(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"getCSRFToken",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=R.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){je(a,n,r,i,c,"next",e)}function c(e){je(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&Ce(t.prototype,n),r&&Ce(t,r),e}();function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(u,e);var t,n,r,a,i,c=Le(u);function u(){return De(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:Te.a}),"Log Out"))}},{key:"logout",value:(a=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ie(o,n,r,i,c,"next",e)}function c(e){Ie(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&xe(t.prototype,n),r&&xe(t,r),u}(r.Component);Qe.defaultProps={classes:[]};var Fe=Qe,qe=n(139),Ve=n.n(qe);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){return!t||"object"!==He(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(u,e);var t,n,r,a,i,c=$e(u);function u(){return We(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:Ve.a}),"My Submissions"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Je(o,n,r,i,c,"next",e)}function c(e){Je(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&Ge(t.prototype,n),r&&Ge(t,r),u}(r.Component);et.defaultProps={classes:[]};var tt=et,nt=n(447),rt=n.n(nt);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}function pt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(u,e);var t,n,r,a,i,c=ft(u);function u(){return ut(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:rt.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){at(o,n,r,i,c,"next",e)}function c(e){at(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&st(t.prototype,n),r&&st(t,r),u}(r.Component);dt.defaultProps={classes:[]};var yt=dt,bt=n(448),ht=n.n(bt);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(u,e);var t,n,r,a,i,c=At(u);function u(){return Et(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:ht.a}),"My Products"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ot(o,n,r,i,c,"next",e)}function c(e){Ot(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&kt(t.prototype,n),r&&kt(t,r),u}(r.Component);Ct.defaultProps={classes:[]};var _t=Ct;function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(i,e);var t,n,r,a=Lt(i);function i(){return Dt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Rt({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks,i=Rt({},this.props.siteConfig).logoPath;return o.a.createElement("div",{className:"Home"},o.a.createElement(Fe,{classes:["clearfix","float-right","mt-5","mr-4"]}),o.a.createElement(tt,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(yt,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(_t,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map((function(e,t){return o.a.createElement(de,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})})))),o.a.createElement("div",{className:"tasks"},a.map((function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(we,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})})))))}}])&&xt(t.prototype,n),r&&xt(t,r),i}(r.Component);function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(i,e);var t,n,r,a=Yt(i);function i(){return Ht(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).footerCopyrightText;return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,e))}}])&&Jt(t.prototype,n),r&&Jt(t,r),i}(r.Component);zt.defaultProps={footerCopyrightText:""};var $t=zt,Zt=n(199),Xt=n.n(Zt),en=n(449),tn=n.n(en),nn=n(450),rn=n.n(nn),on=n(451),an=n.n(on);function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var un=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:A()(k()(t,"Title")||"NZTA SDLT"),footerCopyrightText:A()(k()(t,"FooterCopyrightText","")||n),logoPath:A()(k()(t,"LogoPath","")||tn.a),homePageBackgroundImagePath:A()(k()(t,"HomePageBackgroundImagePath","")||Xt.a),pdfHeaderImageLink:A()(k()(t,"PdfHeaderImageLink","")||rn.a),pdfFooterImageLink:A()(k()(t,"PdfFooterImageLink","")||an.a)}}}],(n=null)&&cn(t.prototype,n),r&&cn(t,r),e}();function sn(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSiteConfig",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Q.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}"});case 3:return t=e.sent,n=R.a.get(t,"data.readSiteConfig.0",null),r=un.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){sn(a,n,r,i,c,"next",e)}function c(e){sn(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&ln(t.prototype,n),r&&ln(t,r),e}();function pn(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function mn(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fn.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){pn(a,r,o,i,c,"next",e)}function c(e){pn(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=En(e);if(t){var o=En(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(e,t){return!t||"object"!==dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(i,e);var t,n,r,a=gn(i);function i(){return hn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},o.a.createElement(Qt,{homeState:n,siteConfig:t}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText})):null}}])&&vn(t.prototype,n),r&&vn(t,r),i}(r.Component),wn=Object(c.b)((function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadHomeDataAction:function(){e(re()),e(mn())}}}))(kn),An=n(200),Tn=n.n(An);function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xn(e);if(t){var o=xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dn(this,n)}}function Dn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(i,e);var t,n,r,a=Nn(i);function i(){return Pn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,c=e.rightIconImage,u=null,s=null;return i&&(u=o.a.createElement("img",{src:i})),c&&(s=o.a.createElement("img",{className:"img-right",src:c})),o.a.createElement("button",{className:Tn()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},u,t,s)}}])&&In(t.prototype,n),r&&In(t,r),i}(r.Component);Un.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Ln=Un;function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qn(e){return function(e){if(Array.isArray(e))return Fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yn(e);if(t){var o=Yn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kn(this,n)}}function Kn(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(i,e);var t,n,r,a=Jn(i);function i(){return qn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,Mn({},this.props,{classes:["LightButton"].concat(Qn(this.props.classes))}))}}])&&Vn(t.prototype,n),r&&Vn(t,r),i}(r.Component);Wn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Gn=Wn;function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nr(e);if(t){var o=nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tr(this,n)}}function tr(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(i,e);var t,n,r,a=er(i);function i(){return $n(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(Gn,{title:"START",onClick:r})))))}}])&&Zn(t.prototype,n),r&&Zn(t,r),i}(r.Component);function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ar=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=k()(t,"FirstName")?A()(k()(t,"FirstName",""))+" "+A()(k()(t,"Surname","")):"";return{id:A()(k()(t,"ID")),name:n,email:k()(t,"Email"),isSA:"true"===A()(k()(t,"IsSA")),isCISO:"true"===A()(k()(t,"IsCISO")),isCertificationAuthority:"true"===A()(k()(t,"IsCertificationAuthority")),isAccreditationAuthority:"true"===A()(k()(t,"IsAccreditationAuthority"))}}},{key:"parserMemberFromJSON",value:function(e){return W()(e).map((function(e){var t=k()(e,"FirstName")?A()(k()(e,"FirstName",""))+" "+A()(k()(e,"Surname","")):"";return{value:k()(e,"ID"),label:t}}))}},{key:"parserCollaboratorsFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return W()(t).map((function(e){var t=k()(e,"Name")?A()(k()(e,"Name","")):"";return{value:k()(e,"ID"),label:t}}))}}],(n=null)&&or(t.prototype,n),r&&or(t,r),e}();function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){sr(a,r,o,i,c,"next",e)}function c(e){sr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,u,s,l,f,p,m,d,y,b,h,v,O,g,S,E,k;return t=e,n=null,r=[{key:"createInProgressSubmission",value:(k=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw F;case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})},{key:"fetchStartData",value:(E=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readMember(Type: "Current")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: '.concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,Q.request({query:n});case 3:if(r=e.sent,o=R.a.get(r,"data.readMember.0",null),a=R.a.get(r,"data.readQuestionnaire",null),i=R.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw F;case 9:return e.abrupt("return",{title:R.a.get(a,"Name",""),siteConfig:un.parseSiteConfigFromJSON(i),subtitle:R.a.get(i,"Title",""),questionnaireID:R.a.get(a,"ID",""),keyInformation:R.a.get(a,"KeyInformation",""),user:ar.parseUserFromJSON(o)});case 10:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)})},{key:"fetchSubmissionData",value:(S=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsCertificationAuthority\n    IsAccreditationAuthority\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    BusinessOwnerAcknowledgementText\n    CertificationAuthorityAcknowledgementText\n    AccreditationAuthorityAcknowledgementText\n    IsCertificationAndAccreditationTaskExists\n    User {\n      ID\n    }\n    SubmitterName,\n    SubmitterEmail,\n    QuestionnaireStatus,\n    BusinessOwnerApproverName,\n    RiskResultData,\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    AccreditationAuthorityApprover{\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprovalStatus\n    AccreditationAuthorityApprovalStatus\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=R.a.get(o,"data.readMember.0",{}),i=R.a.get(o,"data.readQuestionnaireSubmission.0",{}),c=R.a.get(o,"data.readSiteConfig.0",null),a&&i&&c){e.next=9;break}throw F;case 9:return u={title:R.a.toString(R.a.get(i,"Questionnaire.Name","")),siteConfig:un.parseSiteConfigFromJSON(c),user:ar.parseUserFromJSON(a),isCurrentUserApprover:"true"===R.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===R.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(R.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),hideWeightsAndScore:"true"===R.a.get(i,"HideWeightsAndScore","false"),questionnaireID:R.a.toString(R.a.get(i,"Questionnaire.ID","")),questionnaireTitle:R.a.toString(R.a.get(i,"Questionnaire.Name","")),submissionID:R.a.toString(R.a.get(i,"ID","")),submissionUUID:R.a.toString(R.a.get(i,"UUID","")),submissionToken:R.a.toString(R.a.get(i,"ApprovalLinkToken","")),productName:R.a.toString(R.a.get(i,"ProductName","")),submitter:{id:R.a.toString(R.a.get(i,"User.ID")),name:R.a.toString(R.a.get(i,"SubmitterName","")),email:R.a.toString(R.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:R.a.toString(R.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:R.a.toString(R.a.get(i,"CisoApprovalStatus","")),businessOwner:R.a.toString(R.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:R.a.toString(R.a.get(i,"SecurityArchitectApprovalStatus","")),certificationAuthority:R.a.toString(R.a.get(i,"CertificationAuthorityApprovalStatus","")),accreditationAuthority:R.a.toString(R.a.get(i,"AccreditationAuthorityApprovalStatus",""))},securityArchitectApprover:{firstName:R.a.toString(R.a.get(i,"SecurityArchitectApprover.FirstName","")),surname:R.a.toString(R.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{firstName:R.a.toString(R.a.get(i,"CisoApprover.FirstName","")),surname:R.a.toString(R.a.get(i,"CisoApprover.Surname",""))},certificationAuthorityApprover:{firstName:R.a.toString(R.a.get(i,"CertificationAuthorityApprover.FirstName","")),surname:R.a.toString(R.a.get(i,"CertificationAuthorityApprover.Surname",""))},accreditationAuthorityApprover:{firstName:R.a.toString(R.a.get(i,"AccreditationAuthorityApprover.FirstName","")),surname:R.a.toString(R.a.get(i,"AccreditationAuthorityApprover.Surname",""))},questions:K.parseQuestionsFromJSON({schemaJSON:R.a.toString(R.a.get(i,"QuestionnaireData","")),answersJSON:R.a.toString(R.a.get(i,"AnswerData",""))}),businessOwnerApproverName:R.a.toString(R.a.get(i,"BusinessOwnerApproverName","")),businessOwnerAcknowledgementText:R.a.toString(R.a.get(i,"BusinessOwnerAcknowledgementText","")),certificationAuthorityAcknowledgementText:R.a.toString(R.a.get(i,"CertificationAuthorityAcknowledgementText","")),accreditationAuthorityAcknowledgementText:R.a.toString(R.a.get(i,"AccreditationAuthorityAcknowledgementText","")),isCertificationAndAccreditationTaskExists:"true"===R.a.get(i,"IsCertificationAndAccreditationTaskExists","false"),taskSubmissions:R.a.toArray(R.a.get(i,"TaskSubmissions",[])).map((function(e){return{uuid:R.a.toString(R.a.get(e,"UUID","")),taskName:R.a.toString(R.a.get(e,"TaskName","")),taskType:R.a.toString(R.a.get(e,"TaskType","")),status:R.a.toString(R.a.get(e,"Status","")),approver:ar.parseUserFromJSON(R.a.get(e,"TaskApprover"))}})),collaborators:ar.parserCollaboratorsFromJSON(R.a.get(i,"CollaboratorList",[])),riskResults:R.a.has(i,"RiskResultData")?JSON.parse(R.a.get(i,"RiskResultData","[]")):"[]"}},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),function(e,t){return S.apply(this,arguments)})},{key:"updateSubmissionData",value:(g=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,c=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(c,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,Q.request({query:u,csrfToken:i});case 5:if(s=e.sent,R.a.get(s,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw F;case 9:case"end":return e.stop()}}),e)}))),function(e){return g.apply(this,arguments)})},{key:"batchUpdateSubmissionData",value:(O=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l,f,p,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=cr({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw F;case 3:for(c=[],u=0;u<o.length;u++)s=o[u],l=a[u],f=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),p="\nupdateQuestion".concat(s,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(s,'", AnswerData: "').concat(f,'") {\n  ID\n  AnswerData\n}'),c.push(p);return m="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,Q.request({query:m,csrfToken:i});case 8:if(d=e.sent,R.a.get(d,"data",null)){e.next=12;break}throw F;case 12:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)})},{key:"submitQuestionnaire",value:(v=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),u=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),c&&u){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})},{key:"submitQuestionnaireForApproval",value:(h=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),u=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),c&&u){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:(b=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),u=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),c&&u){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)})},{key:"approveQuestionnaireSubmission",value:(y=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=R.a.toString(R.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),s=R.a.toString(R.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"denyQuestionnaireSubmission",value:(d=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=R.a.toString(R.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),s=R.a.toString(R.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"editQuestionnaireSubmission",value:(m=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),u=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),c&&u){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"updateQuestionnaireStatusToSendBackForChanges",value:(p=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSendBackForChanges(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.QuestionnaireStatus",null)),u=R.a.toString(R.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.UUID",null)),c&&u){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"fetchQuestionnaireSubmissionList",value:(f=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readQuestionnaireSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        QuestionnaireStatus\n        QuestionnaireName\n        Created\n        ProductName\n        ReleaseDate\n        BusinessOwnerApproverName\n        SubmitterName\n        SecurityArchitectApprover {\n          FirstName\n          Surname\n          ID\n        }\n        CisoApprovalStatus\n        BusinessOwnerApprovalStatus\n      }\n    }'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=R.a.get(o,"data.readQuestionnaireSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map((function(e){var t={};return t.id=R.a.get(e,"ID",""),t.uuid=R.a.get(e,"UUID",""),t.status=R.a.get(e,"QuestionnaireStatus",""),t.productName=R.a.get(e,"ProductName",""),t.questionnaireName=R.a.get(e,"QuestionnaireName",""),t.created=R.a.get(e,"Created",""),t.releaseDate=R.a.get(e,"ReleaseDate",""),t.businessOwner=R.a.get(e,"BusinessOwnerApproverName",""),t.submitterName=R.a.get(e,"SubmitterName",""),t.SecurityArchitectApprover=R.a.toString(R.a.get(e,"SecurityArchitectApprover.FirstName","")+" "+R.a.get(e,"SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=R.a.get(e,"SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=R.a.get(e,"CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=R.a.get(e,"BusinessOwnerApprovalStatus",""),t[""],t})));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:(l=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=R.a.toString(R.a.get(c,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),s=R.a.toString(R.a.get(c,"data.updateQuestionnaireStatusToApproved.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:(s=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(c=e.sent,u=R.a.toString(R.a.get(c,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),s=R.a.toString(R.a.get(c,"data.updateQuestionnaireStatusToDenied.UUID",null)),u&&s){e.next=9;break}throw F;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"addCollaborator",value:(u=lr(regeneratorRuntime.mark((function e(t,n,r){var o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],n&&n.length>0&&(o=n.map((function(e){return R.a.get(e,"value","")}))),a=window.btoa(JSON.stringify(o)),i='mutation {\n     addCollaborator(ID: "'.concat(t,'", SelectedCollaborator: "').concat(a,'") {\n       UUID\n     }\n    }'),e.next=6,Q.request({query:i,csrfToken:r});case 6:if(c=e.sent,u=R.a.toString(R.a.get(c,"data.addCollaborator.UUID",null))){e.next=10;break}throw F;case 10:return e.abrupt("return",{uuid:u});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n){return u.apply(this,arguments)})},{key:"grantCertification",value:(c=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     grantCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,Q.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=R.a.toString(R.a.get(o,"data.grantCertification.UUID",null))){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"denyCertification",value:(i=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,Q.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=R.a.toString(R.a.get(o,"data.denyCertification.UUID",null))){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"issueAccreditation",value:(a=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     issueAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,Q.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=R.a.toString(R.a.get(o,"data.issueAccreditation.UUID",null))){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})},{key:"denyAccreditation",value:(o=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,Q.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=R.a.toString(R.a.get(o,"data.denyAccreditation.UUID",null))){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&fr(t.prototype,n),r&&fr(t,r),e}();function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){yr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map((function(e){var t=e.data;return t&&R.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}}))),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map((function(e){return{id:e.id,isChose:e.isChose}}))),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach((function(e){var n=dr({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)})),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach((function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)})),t}},{key:"getDataUpdateIntent",value:function(e){var t=dr({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex((function(e){return e.id===n.id})),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type||"display"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var c=n.actions.find((function(e){return e.isChose}));if(!c)throw new Error("This question does not have any chosen action!");if("finish"===c.type){for(var u=i.currentIndex+1;u<r.length;u++)i.nonApplicableIndexes.push(u);i.result=c.result||"",i.complete=!0}if("message"===c.type&&(i.terminate=!0),"continue"!==c.type||a||(i.targetIndex=i.currentIndex+1),"goto"===c.type){var s=c.goto;if(i.targetIndex=r.findIndex((function(e){return e.id===s})),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&!i.terminate&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&br(t.prototype,n),r&&br(t,r),e}(),vr=n(201),Or=n.n(vr);function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Sr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return W()(t).map((function(t){var n=e.parseFromJSONObject(k()(t,"SecurityComponent"));return n.productAspect=A()(k()(t,"ProductAspect","")),n}))}},{key:"parseFromJSONObject",value:function(e){return{id:A()(k()(e,"ID","")),name:A()(k()(e,"Name","")),description:A()(k()(e,"Description")),controls:(k()(e,"Controls")||[]).map((function(e){return{id:A()(k()(e,"ID","")),name:A()(k()(e,"Name","")),description:A()(k()(e,"Description","")),implementationGuidance:A()(k()(e,"ImplementationGuidance",""))}}))}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map((function(e){return{id:A()(k()(e,"id","")),name:A()(k()(e,"name","")),productAspect:A()(k()(e,"productAspect","")),controls:(k()(e,"controls")||[]).map((function(e){return{id:A()(k()(e,"id","")),name:A()(k()(e,"name","")),selectedOption:A()(k()(e,"selectedOption","")),description:A()(k()(e,"description","")),implementationGuidance:A()(k()(e,"implementationGuidance","")),implementationEvidence:A()(k()(e,"implementationEvidence","")),implementationEvidenceUserInput:A()(k()(e,"implementationEvidenceUserInput",""))}})),jiraTicketLink:A()(k()(e,"jiraTicketLink",""))}}))}}],(n=null)&&gr(t.prototype,n),r&&gr(t,r),e}();function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return W()(t).map((function(t){return e.parseFromJSONObject(t)}))}},{key:"parseFromJSONObject",value:function(e){return{id:A()(k()(e,"ID")),jiraKey:A()(k()(e,"JiraKey")),link:A()(k()(e,"TicketLink"))}}}],(n=null)&&Er(t.prototype,n),r&&Er(t,r),e}();function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Cr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){jr(a,r,o,i,c,"next",e)}function c(e){jr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,u,s,l,f,p,m;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:(m=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    RiskProfileData\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n    InformationClassificationTaskResult\n  }\n  readServiceInventory {\n    ID\n    ServiceName\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,c=k()(i,"data.readTaskSubmission.0",null),u=k()(i,"data.readServiceInventory",null),c){e.next=9;break}throw F;case 9:return s={id:A()(k()(c,"ID","")),uuid:A()(k()(c,"UUID","")),taskName:A()(k()(c,"TaskName","")),taskType:A()(k()(c,"TaskType","")),status:A()(k()(c,"Status","")),result:A()(k()(c,"Result","")),informationClassificationTaskResult:A()(k()(c,"InformationClassificationTaskResult","")),submitter:ar.parseUserFromJSON(k()(c,"Submitter")),lockWhenComplete:Boolean(k()(c,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:A()(k()(c,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:A()(k()(c,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:A()(k()(c,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:K.parseQuestionsFromJSON({schemaJSON:A()(k()(c,"QuestionnaireData","")),answersJSON:A()(k()(c,"AnswerData",""))}),selectedComponents:Sr.parseFromJSONOArray(k()(c,"SelectedComponents",[])),jiraTickets:kr.parseFromJSONArray(k()(c,"JiraTickets",[])),isCurrentUserAnApprover:"true"===k()(c,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===k()(c,"IsTaskApprovalRequired",!1),riskResults:_.has(c,"RiskResultData")?JSON.parse(k()(c,"RiskResultData","[]")):"[]",taskRecommendations:_.has(c,"TaskRecommendationData")?JSON.parse(_.defaultTo(k()(c,"TaskRecommendationData","[]"),"[]")):"[]",productAspects:_.has(c,"ProductAspects")?JSON.parse(k()(c,"ProductAspects",[])):[],componentTarget:A()(k()(c,"ComponentTarget","")),hideWeightsAndScore:"true"===_.get(c,"HideWeightsAndScore","false"),isTaskCollborator:"true"===_.get(c,"IsTaskCollborator","false"),siblingSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c),serviceRegister:z.parseServiceRegister(u),riskProfileData:_.has(c,"RiskProfileData")?JSON.parse(k()(c,"RiskProfileData",[])):[]},e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"batchUpdateTaskSubmissionData",value:(p=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l,f,p,m,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ar({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,c=n.secureToken,o.length===a.length){e.next=3;break}throw F;case 3:for(u=[],s=0;s<o.length;s++)l=o[s],f=a[s],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(f)))),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(p,'",\n  SecureToken: "').concat(c||"",'"\n) {\n  UUID\n  Status\n}'),u.push(m);return d="\nmutation {\n  ".concat(u.join("\n"),"\n}\n"),e.next=8,Q.request({query:d,csrfToken:i});case 8:if(y=e.sent,k()(y,"data",null)){e.next=12;break}throw F;case 12:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"completeTaskSubmission",value:(f=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,c='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:c,csrfToken:a});case 4:if(u=e.sent,k()(u,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"editTaskSubmission",value:(l=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(c=e.sent,k()(c,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"fetchStandaloneTask",value:(s=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,Q.request({query:o});case 4:if(a=e.sent,i=k()(a,"data.readTask",null)){e.next=8;break}throw F;case 8:return c=z.parseFromJSONObject(i),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"updateTaskSubmissionWithSelectedComponents",value:(u=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,c='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,Q.request({query:c,csrfToken:o});case 4:if(u=e.sent,k()(u,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw F;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"approveTaskSubmission",value:(c=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=A()(k()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw F;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"denyTaskSubmission",value:(i=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=A()(k()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw F;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"updateTaskRecommendation",value:(a=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a=n.taskRecommendations,i='\n  mutation {\n    updateTaskRecommendation(\n      UUID: "'.concat(r,'",\n      TaskRecommendationData: "').concat(window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),'"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }'),e.next=4,Q.request({query:i,csrfToken:o});case 4:if(c=e.sent,(u=_.has(c,"TaskRecommendationData")?JSON.parse(k()(submissionJSONObject,"TaskRecommendationData","[]")):"[]")&&r){e.next=8;break}throw F;case 8:return e.abrupt("return",{taskRecommendationData:u});case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchTaskSubmissionList",value:(o=Cr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='query {\n      readTaskSubmission(UserID: "'.concat(t,'", PageType: "').concat(n,'") {\n        ID\n        UUID\n        Created\n        TaskName\n        QuestionnaireSubmission {\n          ProductName\n        }\n        Submitter {\n          FirstName\n          Surname\n        }\n        Status\n      }\n    }'),e.next=3,Q.request({query:r});case 3:if(o=e.sent,a=k()(o,"data.readTaskSubmission",[]),Array.isArray(a)){e.next=7;break}throw"error";case 7:return e.abrupt("return",a.map((function(e){var t={};return t.id=k()(e,"ID",""),t.uuid=k()(e,"UUID",""),t.created=k()(e,"Created",""),t.taskName=k()(e,"TaskName",""),t.productName=k()(e,"QuestionnaireSubmission.ProductName",""),t.submitterName=A()(k()(e,"Submitter.FirstName",""))+" "+A()(k()(e,"Submitter.Surname","")),t.status=k()(e,"Status",""),t})));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&_r(t.prototype,n),r&&_r(t,r),e}();function Ir(e){return function(e){if(Array.isArray(e))return Rr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nr(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Dr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Nr(a,r,o,i,c,"next",e)}function c(e){Nr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function xr(e,t){return void 0===t&&(t=""),function(){var n=Dr(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,pr.fetchSubmissionData(e,t);case 5:o=n.sent,r((a=o,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:a})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var a}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}function Ur(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i,c,u,s,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=hr.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),c=i.currentIndex,u=i.targetIndex,s=i.nonApplicableIndexes,f=i.complete,s.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:s}),u>c&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:u}),t.next=9,Lr(r(),R.a.uniq([c].concat(Ir(s),[u])));case 9:f&&D.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function Lr(e,t){return Br.apply(this,arguments)}function Br(){return(Br=Dr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_e.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,pr.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map((function(e){return r.questions[e].id})),answerDataList:n.map((function(e){return hr.transformFromFullQuestionToData(r.questions[e])})),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t){return(Hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yr(e);if(t){var o=Yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kr(this,n)}}function Kr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hr(e,t)}(i,e);var t,n,r,a=Jr(i);function i(){return qr(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){Fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,a=e.username,i=e.logopath;return o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"top-banner"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"}))),o.a.createElement("div",{className:"logout-layout"},r&&o.a.createElement("div",{className:"logout-block"},o.a.createElement("span",{className:"username"},a),o.a.createElement(Fe,null))),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n))}}])&&Vr(t.prototype,n),r&&Vr(t,r),i}(r.Component);Wr.defaultProps={title:"",subtitle:"",username:"",logopath:"",showLogoutButton:!0};var Gr=Wr;function zr(e){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(n),!0).forEach((function(t){Xr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ro(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ao(e);if(t){var o=ao(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oo(this,n)}}function oo(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ao(e){return(ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(i,e);var t,n,r,a=ro(i);function i(){return eo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Zr({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=Zr({},this.props.startState),t=e.title,n=e.siteConfig,r=e.keyInformation,a=e.user,i=Zr({},this.props),c=i.questionnaireID,u=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(Gr,{title:t,subtitle:n.siteTitle,username:a.name,logopath:n.logoPath}),o.a.createElement(rr,{keyInformation:r,user:a,onStartButtonClick:function(){u(c)}}),o.a.createElement($t,{footerCopyrightText:n.footerCopyrightText})):null}}])&&to(t.prototype,n),r&&to(t,r),i}(r.Component),co=Object(c.b)((function(e){return{startState:e.questionnaireState.startState}}),(function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pr.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return r=t.sent,t.next=6,pr.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,D.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(io),uo=n(31),so=n(455),lo=n.n(so),fo=n(456),po=n.n(fo),mo=n(457),yo=n.n(mo),bo=n(458),ho=n.n(bo);function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){So(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jo(e);if(t){var o=jo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return To(this,n)}}function To(e,t){return!t||"object"!==vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(i,e);var t,n,r,a=Ao(i);function i(){return Eo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=go({},this.props),t=e.question,n=e.onItemClick,r=e.index;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,".  ",t.title))}},{key:"renderIcon",value:function(e){var t=go({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:lo.a}):a?r&&a?o.a.createElement("img",{src:yo.a}):o.a.createElement("img",{src:po.a}):o.a.createElement("img",{src:ho.a})}}])&&ko(t.prototype,n),r&&ko(t,r),i}(r.Component);function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lo(e);if(t){var o=Lo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uo(this,n)}}function Uo(e,t){return!t||"object"!==_o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(i,e);var t,n,r,a=xo(i);function i(){return Ro(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.questions,n=e.onItemClick;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"items"},t.map((function(e,t){return o.a.createElement(Co,{question:e,onItemClick:n,key:e.id,index:t})}))))}}])&&No(t.prototype,n),r&&No(t,r),i}(r.Component);function Mo(e){return(Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(){return(Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fo(e){return function(e){if(Array.isArray(e))return qo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jo(e,t){return(Jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wo(e);if(t){var o=Wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yo(this,n)}}function Yo(e,t){return!t||"object"!==Mo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jo(e,t)}(i,e);var t,n,r,a=Ko(i);function i(){return Vo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,Qo({},this.props,{classes:["DarkButton"].concat(Fo(this.props.classes))}))}}])&&Ho(t.prototype,n),r&&Ho(t,r),i}(r.Component);Go.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var zo=Go,$o=n(3),Zo=n.n($o),Xo=n(459),ea=n.n(Xo),ta=(n(714),n(111)),na=n.n(ta),ra=n(206),oa=n.n(ra),aa=(n(185),n(401),n(107)),ia=(n(718),n(720),n(106));function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){fa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function da(e,t){return(da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ya(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ha(e);if(t){var o=ha(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ba(this,n)}}function ba(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&da(e,t)}(i,e);var t,n,r,a=ya(i);function i(){return pa(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=la({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t),this.renderRiskProfile(t))}},{key:"renderRiskProfile",value:function(e){var t=this;if("display"===e.type){var n=la({},this.props),r=n.riskProfileData,a=n.handleNextButtonClickForDisplayField;return o.a.createElement("div",{className:"risk-profile-container"},r.isDisplayMessage&&o.a.createElement("div",{className:"alert alert-danger"},r.message),!r.isDisplayMessage&&r.hasProductAspects&&Object.entries(r.result).map((function(e,n){return o.a.createElement("div",{key:n},o.a.createElement("div",{className:"product-aspect-container"},e[0]),t.renderRiskProfileTable(e[1]))})),!r.isDisplayMessage&&!r.hasProductAspects&&this.renderRiskProfileTable(r.result),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:na.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),o.a.createElement("div",{className:"button-container"},o.a.createElement(zo,{title:"Next",rightIconImage:oa.a,onClick:function(){a()}}))))}}},{key:"renderRiskProfileTable",value:function(e){return o.a.createElement("div",{className:"risk-profile-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_profile_table_header"},o.a.createElement("th",null,"Risk category"),o.a.createElement("th",null,"Current risk rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))})))))}},{key:"renderActions",value:function(e){var t=la({},this.props).handleActionClick;if("action"===e.type){var n=R.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find((function(e){return e.isChose}));return a&&a.message&&(r=o.a.createElement("div",{className:"action-message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),a?o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map((function(e){switch(e.isChose){case!0:return o.a.createElement(zo,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Gn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:na.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))))):o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map((function(e,n){switch(n){case 0:return o.a.createElement(zo,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Gn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:na.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))))}}},{key:"renderInputsForm",value:function(e){var t=la({},this.props),n=t.handleFormSubmit,r=t.serviceRegister,a=t.informationClassificationTaskResult;if("input"===e.type){var i=R.a.get(e,"inputs",null);if(!i)return null;var c={};return i.forEach((function(e){c[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(c[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(c[e.id]=e.defaultCheckboxValue),"information classification"==e.type&&null===e.data&&a&&(c[e.id]=a)})),o.a.createElement(uo.c,{initialValues:c,validate:function(e){var t={};return i.forEach((function(n){var r=la({},n),o=r.id,a=r.type,i=r.required,c=r.label,u=r.minLength,s=R.a.get(e,o,null),l=c||"field";if(i&&(!s||"[]"===s))return t[o]="Please enter a value for ".concat(l),void("radio"!==a&&"checkbox"!==a&&"service register"!==a||(t[o]="Please select an option for ".concat(l)));u>0&&s&&s.length<u?t[o]="Please enter a value with at least ".concat(u," characters for ").concat(l):"email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(s)?("date"!==a&&"release date"!==a||Zo()(s,"YYYY-MM-DD").isValid()||(t[o]="Invalid date"),"product aspects"!==a||!s||/^[0-9a-zA-Z\s\n]+$/i.test(s)||(t[o]="Please enter alpha-numeric characters only.")):t[o]="Invalid email address"})),t},onSubmit:function(e,t){n(t,e)}},(function(e){var t=e.handleChange,n=(e.isSubmitting,e.errors),a=e.touched,u=e.setFieldValue,s=e.values,l=[];return R.a.keys(n).filter((function(e){return Boolean(a[e])})).forEach((function(e){l[e]=n[e]})),o.a.createElement(uo.b,{className:"scroller"},i.map((function(e){var n=la({},e),a=n.id,i=n.type,f=n.label,p=n.placeholder,m=n.options,d=(n.defaultRadioButtonValue,n.defaultCheckboxValue,n.maxLength),y=n.required,b=R.a.get(l,a,null),h=Boolean(b),v=[];if(h&&v.push("error"),["text","email","url"].includes(i))return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",null,o.a.createElement(uo.a,{type:i,name:a,className:v.join(" "),placeholder:p,maxLength:d>0?d:4096})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("radio"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",{className:h?"radio-container-error radio-container":"radio-container"},m.length&&m.map((function(e,t){var n=R.a.toString(e.value)===R.a.toString(s[a]);return o.a.createElement("div",{key:t,className:"Accreditation level"===f?"accreditation-level-option radio-option":"radio-option"},o.a.createElement("label",{className:"radio-label"},o.a.createElement(uo.a,{type:"radio",name:a,value:e.value,className:"radio",checked:n}),e.label))}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("checkbox"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",{className:h?"checkbox-container-error checkbox-container":"checkbox-container"},m.length&&m.map((function(e,t){var n=s[a]?JSON.parse(s[a]):[],r=n.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("label",{className:"checkbox-label"},o.a.createElement("input",{type:"checkbox",name:a,className:"checkbox",checked:r,onChange:function(t){t.target.checked?n.push(e.value):n.splice(n.indexOf(e.value),1),u(a,JSON.stringify(n))}}),e.label))}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("date"===i||"release date"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",null,o.a.createElement(uo.a,{name:a,render:function(e){var t=null,n=e.field.value||null;return n&&n.trim().length>0&&(t=Zo()(n).toDate()),o.a.createElement(ea.a,{dateFormat:"dd-MM-yyyy",className:v.join(" "),selected:t,onChange:function(e){if(e){var t=Zo()(e).format("YYYY-MM-DD");u(a,t)}else u(a,null)},placeholderText:p,dropdownMode:"scroll",withPortal:!0})}})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("textarea"===i||"product aspects"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",null,o.a.createElement(uo.a,{name:a},(function(e){var t=e.field;return o.a.createElement("textarea",ua({},t,{className:v.join(" "),placeholder:p}))})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b))));if("rich text editor"===i)return o.a.createElement("div",{key:a,className:"field-container"},f&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",null,o.a.createElement(aa.a,{initialValue:c[a],init:{selector:"textarea",menubar:!1,plugins:"lists advlist",toolbar:"+ removeformat bold italic underline strikethrough bullist numlist",statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(e){t({target:{name:a,value:e.target.getContent()}})}}),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b))));if("service register"===i||"dropdown"===i||"information classification"===i){var O=r;return"service register"!==i&&(O=m.map((function(e){return{value:e.value,label:e.label}}))),o.a.createElement("div",{key:a,className:"field-container"},f&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",{className:"dropdown-container"},o.a.createElement(ia.a,{name:a,options:O,defaultValue:c[a]&&O.find((function(e){return e.value===JSON.parse(c[a]).value}))?JSON.parse(c[a]):"",classNamePrefix:"react-select",className:h?"react-select-error":"",maxMenuHeight:250,placeholder:"Select",onChange:function(e){t({target:{name:a,value:JSON.stringify(e)}})}})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)))}return null})),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:na.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),o.a.createElement("div",{className:"button-container"},o.a.createElement(zo,{title:"Next",rightIconImage:oa.a}))))}))}}}])&&ma(t.prototype,n),r&&ma(t,r),i}(r.Component);function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){Ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Aa(e,t){return(Aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ca(e);if(t){var o=Ca(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ja(this,n)}}function ja(e,t){return!t||"object"!==Oa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ca(e){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}(i,e);var t,n,r,a=Ta(i);function i(){return ka(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"handleFormSubmit",value:function(e,t){var n=Sa({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=r.find((function(e){return!0===e.isCurrent}));if(a){var i=Sa({},a);R.a.forIn(t,(function(e,t){var n=i.inputs.findIndex((function(e){return e.id===t}));n>=0&&R.a.set(i,"inputs.".concat(n,".data"),e)})),i.hasAnswer=!0,i.isApplicable=!0,o(i)}}},{key:"handleActionClick",value:function(e){var t=Sa({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=n.find((function(e){return!0===e.isCurrent}));if(o){var a=Sa({},o);a.actions=a.actions.map((function(t){return t.isChose=t.id===e.id,t})),a.hasAnswer=!0,a.isApplicable=!0,r(a)}}},{key:"handleNextButtonClickForDisplayField",value:function(){var e=Sa({},this.props),t=e.questions,n=e.saveAnsweredQuestion,r=t.find((function(e){return!0===e.isCurrent}));if(r){var o=Sa({},r);o.hasAnswer=!0,o.isApplicable=!0,n(o)}}},{key:"render",value:function(){var e=Sa({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=e.serviceRegister,a=e.informationClassificationTaskResult,i=e.riskProfileData,c=t.find((function(e){return!0===e.isCurrent})),u=t.findIndex((function(e){return e.id===c.id}));return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement("div",{className:"title"},"Questions"),o.a.createElement("div",{className:"form-container"},o.a.createElement(Bo,{questions:t,onItemClick:n}),c&&o.a.createElement(va,{index:u,key:c.id,question:c,serviceRegister:r,riskProfileData:i,informationClassificationTaskResult:a,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this),handleNextButtonClickForDisplayField:this.handleNextButtonClickForDisplayField.bind(this)}))))}}])&&wa(t.prototype,n),r&&wa(t,r),i}(r.Component);function Pa(e){return(Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach((function(t){Na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e,t){return(Ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ma(e);if(t){var o=Ma(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ba(this,n)}}function Ba(e,t){return!t||"object"!==Pa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ma(e){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ua(e,t)}(i,e);var t,n,r,a=La(i);function i(){return Da(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Ra({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Ra({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,a=Ra({},this.props.submissionState),i=a.title,c=a.siteConfig,u=a.user,s=a.submission;return u&&s&&c?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==s.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Gr,{title:i,subtitle:c.siteTitle,username:u.name,logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"The questionnaire is not in progress. Please check the summary screen.")),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):u.id===s.submitter.id?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Gr,{title:i,subtitle:c.siteTitle,logopath:c.logoPath,username:u.name}),o.a.createElement(_a,{questions:s.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(Gr,{title:i,subtitle:c.siteTitle,username:u.name,logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"It appears this submission has not yet been submitted. Only the submitter can edit a submission and must submit before it can be reviewed.")),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):null}}])&&xa(t.prototype,n),r&&xa(t,r),i}(r.Component),Fa=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(xr(t))},dispatchSaveAnsweredQuestionAction:function(t){var n;e((n=t,function(){var e=Dr(regeneratorRuntime.mark((function e(t,r){var o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=R.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,_e.getCSRFToken();case 7:return i=e.sent,c=n.id,u=hr.transformFromFullQuestionToData(n),e.prev=10,e.next=13,pr.updateSubmissionData({submissionID:a,questionID:c,csrfToken:i,answerData:u});case 13:t(Ur(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex((function(e){return e.isCurrent})))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((c=a.questions.findIndex((function(t){return t.id===e.id})))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=15,Lr(r(),[i,c]);case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Qa),qa=n(143),Va=n.n(qa),Ha=n(461),Ja=n.n(Ha);function Ka(e){return(Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $a(e,t){return($a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ei(e);if(t){var o=ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xa(this,n)}}function Xa(e,t){return!t||"object"!==Ka(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$a(e,t)}(i,e);var t,n,r,a=Za(i);function i(){return Ga(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ya(Object(n),!0).forEach((function(t){Wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map((function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))}))))}},{key:"renderData",value:function(e){if(!e.isApplicable)return o.a.createElement("div",null,"(Not applicable)");if(!e.hasAnswer)return o.a.createElement("div",null,"(Has no answer)");if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=Zo()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map((function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label)," ",o.a.createElement("span",null,"-")," ",o.a.createElement("span",null,n))}))):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=R.a.head(e.actions.filter((function(e){return e.isChose})));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&za(t.prototype,n),r&&za(t,r),i}(r.Component);function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ii(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ui(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=li(e);if(t){var o=li(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return si(this,n)}}function si(e,t){return!t||"object"!==ni(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(i,e);var t,n,r,a=ui(i);function i(){return ai(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,c=e.handleEditAnswerButtonClick;if(!t)return null;var u=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),s=o.a.createElement("div",{className:"buttons"},o.a.createElement(Gn,{title:"EDIT ANSWERS",iconImage:Va.a,classes:["button"],onClick:c}),o.a.createElement(Gn,{title:"DOWNLOAD PDF",iconImage:Ja.a,classes:["button"],onClick:i}),o.a.createElement(zo,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:hr.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(Gn,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return D.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&u,o.a.createElement(ti,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&s,"submitter"!==n&&l)}}])&&ii(t.prototype,n),r&&ii(t,r),i}(r.Component),pi=n(210),mi=n.n(pi),di=n(462),yi=n.n(di);function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&bi(t.prototype,n),r&&bi(t,r),e}();function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(n),!0).forEach((function(t){Si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function wi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ki(a,r,o,i,c,"next",e)}function c(e){ki(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Ai(e){return Ti.apply(this,arguments)}function Ti(){return(Ti=wi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.addEventListener("load",(function(t){e(t.target.result)})),n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ji(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=wi(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,Ai(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"generatePDF",value:(a=wi(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l,f,p,m,d,y,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gi({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteConfig,c=n.result,u=n.riskResults,l=[],f={questionnaireTitle:{bold:!0,fontSize:4+(s=12),color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:s,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:s+2,color:"#004071"},questionHeading:{bold:!0}},p={fontSize:s},m={title:"".concat(a," - ").concat(o.name,".pdf")},d=yi.a.pdfMake.vfs,mi.a.vfs=d,e.next=10,ji(i.pdfHeaderImageLink);case 10:return y=e.sent,l.push({image:y,width:500,margin:[0,0,0,s]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,s/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*s]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,s/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*s]}),c&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,s]}),l.push({text:"".concat(c),margin:[0,0,0,2*s]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,s]}),r.forEach((function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,s/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Zo()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach((function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(hi.toString(n(e))),margin:[0,0,0,o?s:parseInt("".concat(s/3))]})})):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,s]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=R.a.head(e.actions.filter((function(e){return e.isChose})));l.push({text:r.label,margin:[0,0,0,s]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,s]});else l.push({text:"(Not applicable)",margin:[0,0,0,s]})})),"object"===vi(u)&&u.length>0&&(b=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],u.forEach((function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),b.push([{text:e.riskName},e.weights,e.score,n])})),l.push({table:{headerRows:1,widths:[237,75,75,75],body:b},width:500,margin:[0,0,0,s]})),e.next=23,ji(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,s]}),e.prev=25,e.next=28,mi.a.createPdf({info:m,content:l,styles:f,defaultStyle:p}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}}),e,null,[[25,30]])}))),function(e){return a.apply(this,arguments)})},{key:"blobToDataURL",value:(o=wi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Ei(t.prototype,n),r&&Ei(t,r),e}();function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach((function(t){Ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Li(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mi(e);if(t){var o=Mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bi(this,n)}}function Bi(e,t){return!t||"object"!==Pi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(i,e);var t,n,r,a=Li(i);function i(){return Di(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Ri({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=Ri({},this.props).secureToken,t=Ri({},this.props.submissionState),n=t.title,r=t.siteConfig,a=t.user,i=t.submission,c=t.isCurrentUserApprover,u=t.isCurrentUserABusinessOwnerApprover;if(!a||!r)return null;var s="others";do{if(a.id===i.submitter.id){s="submitter";break}if(c){s="approver";break}if(u&&"waiting_for_approval"==i.status){s="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(Gr,{title:n,subtitle:"Review Responses",username:a.name,logopath:r.logoPath}),o.a.createElement(fi,{siteTitle:r.siteTitle,viewAs:s,submission:i,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=Ri({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&_i.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=R.a.get(this.props.submissionState,"submission.submissionUUID","");e&&D.redirectToQuestionnaireEditing(e)}}])&&xi(t.prototype,n),r&&xi(t,r),i}(r.Component),Fi=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(xr(t))},dispatchSubmitQuestionnaire:function(){e(function(){var e=Dr(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!hr.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,_e.getCSRFToken();case 11:return i=e.sent,e.next=14,pr.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:c=e.sent,u=c.uuid,D.redirectToQuestionnaireSummary(u),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(Qi);function qi(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Vi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){qi(a,r,o,i,c,"next",e)}function c(e){qi(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ji=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchCurrentUser",value:(a=Vi(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Q.request({query:'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}'});case 3:if(t=e.sent,n=R.a.get(t,"data.readMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=ar.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"fetchMembers",value:(o=Vi(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Q.request({query:'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}'});case 3:if(t=e.sent,n=R.a.get(t,"data.readMember",null)){e.next=7;break}throw new Error("Authenticate error");case 7:return r=ar.parserMemberFromJSON(n),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&Hi(t.prototype,n),r&&Hi(t,r),e}();function Ki(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ki(a,r,o,i,c,"next",e)}function c(e){Ki(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Wi(){return function(){var e=Yi(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ji.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zi(){return(zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $i(e){return function(e){if(Array.isArray(e))return Zi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oc(e);if(t){var o=oc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rc(this,n)}}function rc(e,t){return!t||"object"!==Gi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oc(e){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}(i,e);var t,n,r,a=nc(i);function i(){return Xi(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,zi({},this.props,{classes:["RedButton"].concat($i(this.props.classes))}))}}])&&ec(t.prototype,n),r&&ec(t,r),i}(r.Component);ac.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var ic=ac,cc=n(144),uc=n.n(cc),sc=n(95),lc=n.n(sc),fc=n(463),pc=n.n(fc),mc=n(464),dc=n.n(mc),yc=n(465),bc=n.n(yc);function hc(e){return(hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ec(e,t){return(Ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ac(e);if(t){var o=Ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wc(this,n)}}function wc(e,t){return!t||"object"!==hc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ec(e,t)}(i,e);var t,n,r,a=kc(i);function i(){return gc(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){Oc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.riskResults,n=e.hideWeightsAndScore;return t&&0!==t.length?o.a.createElement("div",{className:"risk-result-container"},o.a.createElement("h4",null,"Risk Result"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk Name"),!n&&o.a.createElement("th",null,"Weights"),!n&&o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,t.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),!n&&o.a.createElement("td",null,e.weights),!n&&o.a.createElement("td",null,e.score),o.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))})))))):null}}])&&Sc(t.prototype,n),r&&Sc(t,r),i}(r.Component);n(813);function jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter((function(e){return"security risk assessment"===e.taskType&&"complete"===e.status})).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter((function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)})).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return o.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&jc(t.prototype,n),r&&jc(t,r),e}();function _c(e){return(_c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rc(e,t){return(Rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xc(e);if(t){var o=xc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dc(this,n)}}function Dc(e,t){return!t||"object"!==_c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Uc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rc(e,t)}(i,e);var t,n,r,a=Nc(i);function i(){return Pc(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",o.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&Ic(t.prototype,n),r&&Ic(t,r),i}(r.Component),Lc=n(467),Bc=n.n(Lc),Mc=n(466),Qc=n.n(Mc),Fc=n(66),qc=n.n(Fc),Vc=n(895);function Hc(e){return(Hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach((function(t){Yc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gc(e,t){return(Gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zc(e);if(t){var o=Zc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $c(this,n)}}function $c(e,t){return!t||"object"!==Hc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zc(e){return(Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xc=function(e){if(e)return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},eu=function(e,t){if(e)return"pending"==e?"Awaiting approval":"not_required"==e?"Not required":"approved"==e&&"Certification Authority"==t?"Certification granted":"denied"==e&&"Certification Authority"==t?"Certification denied":"approved"==e&&"Accreditation Authority"==t?"Accreditation issued":"denied"==e&&"Accreditation Authority"==t?"Accreditation denied":"denied"==e?"Not approved":Xc(e)},tu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gc(e,t)}(i,e);var t,n,r,a=zc(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={skipBoAndCisoApproval:!1,enableApproveButton:!0,showModal:!1,selectedCollaborators:e.submission.collaborators},t}return t=i,(n=[{key:"componentDidMount",value:function(){""!==this.getAcknowledgeText()&&this.setState({enableApproveButton:!1})}},{key:"getAcknowledgeText",value:function(){if(this.props.submission.isCertificationAndAccreditationTaskExists){if("businessOwnerApprover"===this.props.viewAs&&this.props.submission.businessOwnerAcknowledgementText)return this.props.submission.businessOwnerAcknowledgementText;if("approver"===this.props.viewAs){if(this.props.user.isCertificationAuthority&&this.props.submission.certificationAuthorityAcknowledgementText)return this.props.submission.certificationAuthorityAcknowledgementText;if(this.props.user.isAccreditationAuthority&&this.props.submission.accreditationAuthorityAcknowledgementText)return this.props.submission.accreditationAuthorityAcknowledgementText}}return""}},{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter((function(e){return"risk questionnaire"===e.taskType}));if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach((function(e,t){"selection"===e.taskType&&(n=!0)})),n}},{key:"handleAddCollaboratorsModalButtonClick",value:function(){this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators),this.handleCloseModalForCollaborators()}},{key:"handleOpenModalForCollaborators",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModalForCollaborators",value:function(){this.setState({showModal:!1}),this.setState({selectedCollaborators:this.props.submission.collaborators})}},{key:"handleChangeForCollaborators",value:function(e){this.setState({selectedCollaborators:e})}},{key:"render",value:function(){var e=Kc({},this.props),t=e.submission,n=e.viewAs,r=e.user,a=e.members;return t&&a?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h4",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?o.a.createElement(Uc,null):o.a.createElement("div",{className:"Summary"},this.renderSubmitterAndCollaboratorInfo(t,a),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(Tc,{riskResults:t.riskResults,hideWeightsAndScore:t.hideWeightsAndScore}),this.renderSkipCheckbox(t,n,r),this.renderAcknowledgements(t,n,r),this.renderButtons(t)):null}},{key:"renderCollboratorsModal",value:function(e,t){return o.a.createElement(qc.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".Summary")}},o.a.createElement("div",{className:"collaborator-model-title"},o.a.createElement("span",null,o.a.createElement("h4",null,"Add Collaborators")),o.a.createElement(Vc.a,{"aria-label":"close",component:"span",className:"collaborator-model-close icon-gray",onClick:this.handleCloseModalForCollaborators.bind(this)},o.a.createElement(Qc.a,null))),o.a.createElement("div",{className:"content"},"Start typing names, to add them as collaborators for your submission."),o.a.createElement("div",{className:"content"},o.a.createElement(ia.a,{options:t,defaultValue:e.collaborators,isMulti:!0,maxMenuHeight:200,onChange:this.handleChangeForCollaborators.bind(this)})),o.a.createElement("div",null,o.a.createElement(zo,{title:"Add",onClick:this.handleAddCollaboratorsModalButtonClick.bind(this)})))}},{key:"renderCollboratorsInfo",value:function(e,t){return o.a.createElement("div",null,o.a.createElement("h4",null,"Collaborators"),o.a.createElement("div",null,o.a.createElement("b",null,"Add people to help complete your submission.")),e.collaborators.length>0&&o.a.createElement("div",{className:"collaborators-name-container"},e.collaborators.map((function(e,t){var n=e.label;return o.a.createElement("div",{key:t},n)}))),"submitter"===this.props.viewAs&&o.a.createElement("div",null,o.a.createElement("button",{className:"btn add-collaborators-btn",onClick:this.handleOpenModalForCollaborators.bind(this)},o.a.createElement(Bc.a,{className:"icon-blue"}),"Add collaborators")),this.renderCollboratorsModal(e,t))}},{key:"renderSubmitterInfo",value:function(e){var t=e.submitter;return o.a.createElement("div",null,o.a.createElement("h4",null,"Request Information"),o.a.createElement("div",null,o.a.createElement("b",null,"Product Name:")," ",e.productName," "),o.a.createElement("div",null,o.a.createElement("b",null,"Submitted by:")," ",t.name),o.a.createElement("div",null,o.a.createElement("b",null,"Email:")," ",t.email),o.a.createElement("div",null,o.a.createElement("b",null,"Status:")," ",Xc(e.status)))}},{key:"renderSubmitterAndCollaboratorInfo",value:function(e,t){return o.a.createElement("div",null,o.a.createElement("div",{className:"card-group"},o.a.createElement("div",{className:"card mr-2 request-info"},this.renderSubmitterInfo(e)),o.a.createElement("div",{className:"card ml-2 request-info"},this.renderCollboratorsInfo(e,t))))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions,r=Cc.isSRATaskFinalised(e.taskSubmissions);if(0===n.length)return null;var a=this.unfinishedTaskSubmissionMessage()?o.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return o.a.createElement("div",{className:"tasks"},o.a.createElement("h4",null,"Tasks"),a,r?Cc.getSraIsFinalisedAlert():null,n.map((function(e){var n=e.uuid,r=e.taskName,i=e.taskType,c=e.status,u=e.approver,s=r+" ("+Xc(c)+")";"start"===c&&(s=r+" (Please complete me)"),"approved"===c&&u.name&&(s=r+" ("+Xc(c)+" by "+u.name+")"),"denied"===c&&u.name&&(s=r+" (Not Approved by "+u.name+")");var l=Kc({},t.props).token,f=D.redirectToTaskSubmission(n,l,"urlString");"selection"===i&&(f=D.redirectToComponentSelectionSubmission(n,l,"urlString")),"security risk assessment"===i&&(f=D.redirectToSecurityRiskAssessment(n,l,"urlString")),"control validation audit"===i&&(f=D.redirectToControlValidationAudit(n,l,"urlString"));var p=o.a.createElement(oe.a,{to:f},s);return o.a.createElement("div",{key:n},a&&"security risk assessment"===i?null:p)})))}},{key:"renderButtons",value:function(e){var t=this,n=Kc({},this.props),r=n.user,a=n.viewAs,i=(n.showNotApproveButton,n.token),c=n.handleSubmitButtonClick,u=n.handlePDFDownloadButtonClick,s=(n.handleSendBackForChangesButtonClick,n.handleApproveButtonClick),l=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,p=n.handleEditButtonClick,m=n.handleGrantCertificationButtonClick,d=n.handleDenyCertificationButtonClick,y=n.handleIssueAccreditationButtonClick,b=n.handleDenyAccreditationButtonClick,h=o.a.createElement(Gn,{title:"PDF",iconImage:uc.a,classes:["button"],onClick:u}),v=r?o.a.createElement(Gn,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return D.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===a){var O=o.a.createElement(Gn,{title:"EDIT ANSWERS",iconImage:lc.a,classes:["button"],onClick:p}),g=o.a.createElement(zo,{title:"SEND FOR APPROVAL",classes:["button"],disabled:hr.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:c});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,O,h,g),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,O,h),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,h),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var S=o.a.createElement(Gn,{title:"Assign to Me",classes:["button"],onClick:l}),E="Approve";r.isSA&&(E="Endorsed"),r.isCISO&&(E="Recommend Approval"),"businessOwnerApprover"===a&&(E="Accept risks and approve");var k=o.a.createElement(zo,{title:E,classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return s(t.state.skipBoAndCisoApproval)}}),w="Not approved";r.isSA&&(w="Not endorsed"),r.isCISO&&(w="Recommend Rejection");var A=o.a.createElement(ic,{title:w,classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}}),T=o.a.createElement(zo,{title:"Grant Certification",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return m()}}),j=o.a.createElement(ic,{title:"Deny Certification",classes:["button"],onClick:function(){return d()}}),C=o.a.createElement(zo,{title:"Issue Accreditation",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return y()}}),_=o.a.createElement(ic,{title:"Deny Accreditation",classes:["button"],onClick:function(){return b()}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,v,h),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},S),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),A,k)):!r.isCertificationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_certification"!==e.status?!r.isAccreditationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_accreditation"!==e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),A,k)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),_,C)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),j,T))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,v,h),o.a.createElement("div",null))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=e.certificationAuthorityApprover,i=e.accreditationAuthorityApprover,c=eu(t.securityArchitect),u="Unassigned";n.firstName&&(u=n.firstName+" "+n.surname);var s=eu(t.chiefInformationSecurityOfficer),l="Unassigned";r.firstName&&(l=r.firstName+" "+r.surname);var f=eu(t.businessOwner),p=[{role:"Security Architect",name:u,status:c},{role:"Chief Information Security Officer",name:l,status:s},{role:"Business Owner",name:e.businessOwnerApproverName?e.businessOwnerApproverName:"Unassigned",status:f}];if(this.props.submission.isCertificationAndAccreditationTaskExists){var m=eu(t.certificationAuthority,"Certification Authority"),d="Unassigned";a.firstName&&(d=a.firstName+" "+a.surname);var y=eu(t.accreditationAuthority,"Accreditation Authority"),b="Unassigned";i.firstName&&(b=i.firstName+" "+i.surname),p.push({role:"Certification Authority",name:d,status:m},{role:"Accreditation Authority",name:b,status:y})}return o.a.createElement("div",{className:"submission-approval-container"},o.a.createElement("h4",null,"Submission approvals"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"approval_table_header"},o.a.createElement("th",null,"Role"),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Approval status"))),o.a.createElement("tbody",null,p.map((function(e,t){var n=e.status,r=bc.a;return"Approved"!=n&&"Certification granted"!=n&&"Accreditation issued"!=n||(r=pc.a),"Not approved"!=n&&"Certification denied"!=n&&"Accreditation denied"!=n&&"Not required"!=n||(r=dc.a),o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.role),o.a.createElement("td",{className:"Unassigned"==e.name?"unassigned-approver":""},e.name),o.a.createElement("td",null,o.a.createElement("img",{src:r}),o.a.createElement("span",{className:"approval-status"}," ",n," ")))}))))))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"sub-container"},o.a.createElement("h4",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}}),"  This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}},{key:"renderAcknowledgements",value:function(e,t,n){var r=this;if(!e.isCertificationAndAccreditationTaskExists)return null;var a=this.getAcknowledgeText();return""!==a?o.a.createElement("div",{className:"acknowledgement-container"},o.a.createElement("h4",null,"Acknowledgements"),o.a.createElement("div",{className:"sub-container"},o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:this.state.enableApproveButton,onChange:function(e){r.setState({enableApproveButton:e.target.checked})}}),o.a.createElement("label",{className:"form-check-label"},a)))):null}}])&&Wc(t.prototype,n),r&&Wc(t,r),i}(r.Component);tu.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleSendBackForChangesButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},handleCollaboratorAddButtonClick:function(){},handleGrantCertificationButtonClick:function(){},handleDenyCertificationButtonClick:function(){},handleIssueAccreditationButtonClick:function(){},handleDenyAccreditationButtonClick:function(){},viewAs:"others",showNotApproveButton:!1,token:"",user:null,members:null};var nu=tu;function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){iu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uu(e,t){return(uu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function su(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fu(e);if(t){var o=fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lu(this,n)}}function lu(e,t){return!t||"object"!==ru(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uu(e,t)}(i,e);var t,n,r,a=su(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this)).state={showModal:!1},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=au({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken),this.props.dispatchLoadMembersAction()}},{key:"render",value:function(){var e=au({},this.props),t=e.secureToken,n=e.loadingState,r=e.members,a=au({},this.props.submissionState),i=(a.location,a.title),c=a.user,u=a.submission,s=a.isCurrentUserApprover,l=a.isCurrentUserABusinessOwnerApprover,f=a.siteConfig;if(!(c&&u&&f&&r))return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var p="others",m=!1;!c.isSA||c.isCISO||l||(m=!0);do{if(c.id===u.submitter.id){p="submitter";break}if(l&&"waiting_for_approval"==u.status){p="businessOwnerApprover";break}if(s){p="approver";break}}while(0);return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(Gr,{title:i,subtitle:"Summary",username:c.name,logopath:f.logoPath}),o.a.createElement(nu,{submission:u,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),handleCollaboratorAddButtonClick:this.handleCollaboratorAddButtonClick.bind(this),handleGrantCertificationButtonClick:this.handleGrantCertificationButtonClick.bind(this),handleDenyCertificationButtonClick:this.handleDenyCertificationButtonClick.bind(this),handleIssueAccreditationButtonClick:this.handleIssueAccreditationButtonClick.bind(this),handleDenyAccreditationButtonClick:this.handleDenyAccreditationButtonClick.bind(this),viewAs:p,user:c,token:t,members:r,showNotApproveButton:m}),o.a.createElement($t,{footerCopyrightText:f.footerCopyrightText}),o.a.createElement(qc.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement(zo,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(Gn,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=au({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),_i.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=au({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=au({},this.props),n=t.secureToken,r=au({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerApproveSubmissionAction(a.submissionID,n):i&&this.props.dispatchApproveSubmissionAction(a.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=au({},this.props),n=t.secureToken,r=au({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerDenySubmissionAction(a.submissionID,n):i&&this.props.dispatchDenySubmissionAction(a.submissionID,e))}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=au({},this.props.submissionState),t=e.user,n=e.submission,r=e.isCurrentUserApprover;t&&n&&r&&this.props.dispatchSendBackForChangesSubmissionAction(n.submissionID)}},{key:"handleAssignToMeButtonClick",value:function(){var e=au({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=au({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleCollaboratorAddButtonClick",value:function(e){var t=au({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchAddCollaboratorAction(r.submissionID,e)}},{key:"handleGrantCertificationButtonClick",value:function(){var e=au({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchGrantCertificationAction(n.submissionID)}},{key:"handleDenyCertificationButtonClick",value:function(){var e=au({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyCertificationAction(n.submissionID)}},{key:"handleIssueAccreditationButtonClick",value:function(){var e=au({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchIssueAccreditationAction(n.submissionID)}},{key:"handleDenyAccreditationButtonClick",value:function(){var e=au({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyAccreditationAction(n.submissionID)}}])&&cu(t.prototype,n),r&&cu(t,r),i}(r.Component),mu=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState,members:e.memberState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(xr(t,n))},dispatchLoadMembersAction:function(){e(function(){var e=Yi(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ji.fetchMembers();case 3:n=e.sent,r={type:l.USER.LOAD_MEMBER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(xr(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(xr(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,D.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSendBackForChangesSubmissionAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.updateQuestionnaireStatusToSendBackForChanges({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAssignToMeAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAddCollaboratorAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_e.getCSRFToken();case 2:return a=n.sent,n.prev=3,n.next=6,pr.addCollaborator(e,t,a);case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchGrantCertificationAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,pr.grantCertification(e,o);case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyCertificationAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,pr.denyCertification(e,o);case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchIssueAccreditationAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,pr.issueAccreditation(e,o);case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyAccreditationAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,pr.denyAccreditation(e,o);case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(pu),du=n(468),yu=n.n(du);function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){vu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ou(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function gu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ou(a,r,o,i,c,"next",e)}function c(e){Ou(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Su(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Eu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"loadAvailableComponents",value:(a=gu(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Q.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map((function(e){return Sr.parseFromJSONObject(e)})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"createJiraTickets",value:(o=gu(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hu({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map((function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')})),c="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,Q.request({query:c,csrfToken:a});case 5:if(u=e.sent,s=k()(u,"data",null)){e.next=9;break}throw F;case 9:return l=yu()(o.map((function(e){var t="createJiraTicket".concat(e),n=k()(s,t,null);return n?{id:A()(k()(n,"ID","")),jiraKey:A()(k()(n,"JiraKey","")),link:A()(k()(n,"TicketLink",""))}:null}))),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Su(t.prototype,n),r&&Su(t,r),e}();function ku(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function wu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ku(a,r,o,i,c,"next",e)}function c(e){ku(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Au(){return function(){var e=wu(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eu.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Tu(e,t){return function(){var n=wu(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function ju(e,t){return function(){var n=wu(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Cu(e){return function(){var t=wu(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function _u(e){return function(){var t=wu(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Pu(e){var t=e.selectedComponents.map((function(e){return e.isSaved=!0,e}));return function(){var e=wu(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Iu(e){return function(e){if(Array.isArray(e))return Ru(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ru(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nu(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Du(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Nu(a,r,o,i,c,"next",e)}function c(e){Nu(a,r,o,i,c,"throw",e)}i(void 0)}))}}function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){Lu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bu(e){var t=Uu({},e),n=t.uuid,r=t.secureToken,o=t.type;return function(){var e=Du(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pr.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return a=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=7,t(i);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(Pu(a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),te.displayError(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}function Mu(e){var t=Uu({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Du(regeneratorRuntime.mark((function e(t,a){var i,c,u,s,f,p,m,d,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return a().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return c={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(c);case 6:if(o){e.next=24;break}return e.prev=7,e.t0=Pr,e.t1=i().uuid,e.t2=[n.id],e.t3=[hr.transformFromFullQuestionToData(n)],e.next=14,_e.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),te.displayError(e.t7);case 24:if(u=hr.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),s=u.currentIndex,f=u.nonApplicableIndexes,p=u.targetIndex,m=u.complete,u.terminate,d=u.result,!(f.length>0)){e.next=29;break}return y={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=29,t(y);case 29:if(!(p>s)){e.next=33;break}return b={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:s,targetIndex:p}},e.next=33,t(b);case 33:if(o){e.next=42;break}return e.prev=34,e.next=37,Hu(i(),R.a.uniq([s].concat(Iu(f),[p])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),te.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(Fu({bypassNetwork:o,secureToken:r,result:d}));case 45:case"end":return e.stop()}}),e,null,[[7,21],[34,39]])})));return function(t,n){return e.apply(this,arguments)}}()}function Qu(e){return function(){var t=Du(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=o.componentSelectionState.selectedComponents.map((function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}})),t.prev=7,t.t0=Pr,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=14,_e.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(Fu());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:te.displayError(t.t6);case 29:case"end":return t.stop()}}),t,null,[[7,24]])})));return function(e,n){return t.apply(this,arguments)}}()}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Uu({},e),n=t.secureToken,r=t.bypassNetwork,o=t.result,a=t.taskSubmissionUUID,i=t.questionnaireUUID;return function(){var e=Du(regeneratorRuntime.mark((function e(t,c){var u,s,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return c().taskSubmissionState.taskSubmission},r){e.next=20;break}return e.prev=2,e.next=5,_e.getCSRFToken();case 5:return s=e.sent,e.next=8,Pr.completeTaskSubmission({uuid:void 0===a?u().uuid:a,result:o||"",secureToken:n,csrfToken:s});case 8:return f=e.sent,p=f.uuid,e.next=12,t(Bu({uuid:p,secureToken:n}));case 12:void 0!==i&&D.redirectToQuestionnaireSummary(i,n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),te.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,t({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:o});case 22:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()}function qu(e){var t=Uu({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=Du(regeneratorRuntime.mark((function e(t,a){var i,c,u,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(c=i.questions,!((u=c.findIndex((function(e){return e.isCurrent})))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((s=c.findIndex((function(e){return e.id===n.id})))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:u,targetIndex:s}},e.next=15,t(f);case 15:if(o){e.next=18;break}return e.next=18,Hu(i,R.a.uniq([u,s]),r);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Uu({},e),n=t.secureToken,r=t.bypassNetwork,o=t.type;return function(){var e=Du(regeneratorRuntime.mark((function e(t,a){var i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=28;break}return e.prev=4,e.t0=Pr,e.t1=i.uuid,e.next=9,_e.getCSRFToken();case 9:return e.t2=e.sent,e.t3=n,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return c=e.sent,u=c.uuid,e.next=18,t(Bu({uuid:u,secureToken:n}));case 18:if("componentSelection"!==o){e.next=21;break}return e.next=21,t(Pu(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),te.displayError(e.t5);case 26:e.next=29;break;case 28:t({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t,n){return e.apply(this,arguments)}}()}function Hu(e,t,n){return Ju.apply(this,arguments)}function Ju(){return(Ju=Du(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Pr,e.t1=t.uuid,e.t2=n.map((function(e){return t.questions[e].id})),e.t3=n.map((function(e){return hr.transformFromFullQuestionToData(t.questions[e])})),e.next=7,_e.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),te.displayError(e.t7.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var Ku=n(469),Yu=n.n(Ku),Wu=n(470),Gu=n.n(Wu);n(822);function zu(e){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xu(){return(Xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function es(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ns(e,t){return(ns=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=as(e);if(t){var o=as(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return os(this,n)}}function os(e,t){return!t||"object"!==zu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function as(e){return(as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ns(e,t)}(i,e);var t,n,r,a=rs(i);function i(){var e;es(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={showModal:!1,FormType:"Add",issueID:"0"},e.handleOpenModal=function(){e.setState({showModal:!0})},e.handleCloseModal=function(){e.setState({showModal:!1,issueID:0})},e.handleOpenAddRecommendationModal=function(){var t=1;if(e.props.taskRecommendations.length>0){var n=e.props.taskRecommendations.reduce((function(e,t){return e.id>t.id?e:t}));n&&(t=n.id+1)}e.setState({showModal:!0,issueID:t,FormType:"Add"})},e.handleOpenEditRecommendationModal=function(t){e.setState({showModal:!0,issueID:t,FormType:"Edit"})},e.getFormInitialValues=function(){var t={id:e.state.issueID,title:"",description:"",recommendation:"",status:""};return"Edit"==e.state.FormType&&e.props.taskRecommendations.length>0&&0!=e.state.issueID&&(t=e.props.taskRecommendations.find((function(t){return t.id===e.state.issueID}))),t},e.renderRecommendationform=function(){return o.a.createElement(uo.c,{initialValues:e.getFormInitialValues(),validate:function(e){var t={};return e.title||(t.title="Please enter the issue title."),e.status||(t.status="Please enter the status."),e.description||(t.description="Please enter the issue description."),e.recommendation||(t.recommendation="Please enter the recommendation."),t},onSubmit:function(t,n){"Add"==e.state.FormType&&e.props.handleAddTaskRecommendationButtonClick(t),"Edit"==e.state.FormType&&e.props.handleEditTaskRecommendationButtonClick(t),e.handleCloseModal()},validateOnChange:!1,validateOnBlur:!1},(function(t){t.isSubmitting;var n=t.errors,r=(t.touched,t.setFieldValue,t.values),a=t.handleChange,i=t.handleSubmit;return o.a.createElement(uo.b,null,o.a.createElement("div",{className:"title-and-status-container"},o.a.createElement("div",{className:"title-field-container"},o.a.createElement("label",null,"Issue title",o.a.createElement(uo.a,{type:"text",name:"title",className:n.title&&"input-error"}),n.title&&o.a.createElement("span",{className:"error"},n.title))),o.a.createElement("div",{className:"status-field-container"},o.a.createElement("label",null,"Status",o.a.createElement("select",{name:"status",value:r.status,onChange:a,className:n.status&&"input-error",style:{display:"block"}},o.a.createElement("option",{value:"",label:"Select"}),o.a.createElement("option",{value:"open",label:"Open"}),o.a.createElement("option",{value:"closed",label:"Closed"})),n.status&&o.a.createElement("span",{className:"error"},n.status)))),o.a.createElement("div",{className:"issue-container"},o.a.createElement("label",null,"Issue description",o.a.createElement(uo.a,{name:"description"},(function(e){var t=e.field;return o.a.createElement("textarea",Xu({},t,{className:n.description&&"input-error"}))})),n.description&&o.a.createElement("span",{className:"error"},n.description))),o.a.createElement("div",null,o.a.createElement("label",null,"Recommendation",o.a.createElement(uo.a,{name:"recommendation"},(function(e){var t=e.field;return o.a.createElement("textarea",Xu({},t,{className:n.recommendation&&"input-error"}))})),n.recommendation&&o.a.createElement("span",{className:"error"},n.recommendation))),o.a.createElement("div",{className:"buttons"},o.a.createElement(Gn,{title:"Cancel",onClick:e.handleCloseModal}),"Add"==e.state.FormType&&o.a.createElement(zo,{type:"button",title:"Add","data-flag":"action-add",onClick:i}),"Edit"==e.state.FormType&&o.a.createElement(zo,{type:"button",title:"Save","data-flag":"action-add",onClick:i})))}))},e.renderRecommendationModal=function(){return o.a.createElement("div",{className:"RecommendationModal"},o.a.createElement(qc.a,{isOpen:e.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".TaskSubmissionContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},"Add"==e.state.FormType?"Add Recommendation":"Edit Recommendation"),o.a.createElement("div",{className:"close-icon-container",onClick:e.handleCloseModal},o.a.createElement("img",{src:Gu.a}))),o.a.createElement("div",{className:"content"},e.renderRecommendationform())))},e}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(n),!0).forEach((function(t){Zu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),n=t.taskRecommendations,r=t.viewAs,a=t.status;return o.a.createElement("div",{className:"recommendation-container"},("approver"===r&&"waiting_for_approval"===a||n&&n.length>0)&&o.a.createElement("h4",null,"Approver's recommendations"),n&&n.length>0&&o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"recommendation_table_header"},o.a.createElement("th",{className:"issue-title-col"},"Issue title"),o.a.createElement("th",null,"Issue description"),o.a.createElement("th",null,"Recommendation"),o.a.createElement("th",null,"Status"),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("th",{className:"edit-col"}))),o.a.createElement("tbody",null,n.map((function(t,n){return o.a.createElement("tr",{key:n+1},o.a.createElement("td",null,t.title),o.a.createElement("td",null,t.description),o.a.createElement("td",null,t.recommendation),o.a.createElement("td",null,t.status),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("td",{className:"edit-col"},o.a.createElement("img",{className:"edit-icon",src:lc.a,onClick:function(){return e.handleOpenEditRecommendationModal(t.id)}})))}))))),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("div",{className:"add-recommendation-link",onClick:function(){return e.handleOpenAddRecommendationModal()}},o.a.createElement("img",{src:Yu.a})," Add recommendation"),this.renderRecommendationModal())}}])&&ts(t.prototype,n),r&&ts(t,r),i}(r.Component),cs=n(471),us=n.n(cs);function ss(e){return(ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(n),!0).forEach((function(t){ps(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ms(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ys(e,t){return(ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vs(e);if(t){var o=vs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hs(this,n)}}function hs(e,t){return!t||"object"!==ss(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vs(e){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Os=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ys(e,t)}(i,e);var t,n,r,a=bs(i);function i(){return ms(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=fs({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,c=t.handleDenyButtonClick,u=t.handleSendBackForChangesButtonClick,s=t.handleAddTaskRecommendationButtonClick,l=t.handleEditTaskRecommendationButtonClick,f=t.editAnswers,p=t.showBackLink,m=t.showEditButton,d=t.canUpdateAnswers,y=t.viewAs,b=t.secureToken,h=o.a.createElement(is,{taskRecommendations:n.taskRecommendations,viewAs:y,status:n.status,handleAddTaskRecommendationButtonClick:s,handleEditTaskRecommendationButtonClick:l}),v=p?o.a.createElement("div",{className:"back-link",onClick:function(){return D.redirectToQuestionnaireSummary(n.questionnaireSubmissionUUID,b)}},o.a.createElement("img",{src:us.a})," Back"):null,O="risk questionnaire"===n.taskType&&Cc.isSRATaskFinalised(n.siblingSubmissions),g=m&&!O?o.a.createElement(Gn,{title:"Edit",onClick:f,iconImage:lc.a}):null,S=["complete","waiting_for_approval","approved","denied"],E=S.indexOf(n.status)>-1?o.a.createElement(Gn,{title:"PDF",iconImage:uc.a,onClick:function(){return e.downloadPdf()}}):null,k=n.result&&S.indexOf(n.status)>-1?o.a.createElement("div",{className:"result-container"},o.a.createElement("h4",null,"Result"),o.a.createElement("div",{className:"result"},n.result)):null,w=n.riskResults&&S.indexOf(n.status)>-1?o.a.createElement(Tc,{riskResults:n.riskResults,hideWeightsAndScore:n.hideWeightsAndScore}):null,A="approver"===y&&"waiting_for_approval"===n.status?o.a.createElement(zo,{title:"Approve",onClick:i,classes:["button"]}):null,T="approver"===y&&"waiting_for_approval"===n.status?o.a.createElement(Gn,{title:"Send back for changes",onClick:u,classes:["button"]}):null,j="approver"===y&&"waiting_for_approval"===n.status?o.a.createElement(ic,{title:"Not approved",onClick:c,classes:["button"]}):null,C=o.a.createElement("div",null,k,o.a.createElement("h4",null,"Summary"),o.a.createElement(ti,{questions:n.questions}),w,h);return d&&(C=o.a.createElement(_a,{questions:n.questions,serviceRegister:n.serviceRegister,informationClassificationTaskResult:n.informationClassificationTaskResult,riskProfileData:n.riskProfileData,saveAnsweredQuestion:r,onLeftBarItemClick:a})),o.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&o.a.createElement(Uc,null),"expired"!==n.status&&o.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!O)&&Cc.getSraIsFinalisedAlert(),v,C,o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},g,E),o.a.createElement("div",{className:"buttons-right"},"approver"===y&&"waiting_for_approval"===n.status&&o.a.createElement("span",{className:"approver-action"},"Approver action: "),T,j,A))))}},{key:"downloadPdf",value:function(){var e=fs({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&_i.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults})}}])&&ds(t.prototype,n),r&&ds(t,r),i}(r.Component);function gs(e){return(gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(n),!0).forEach((function(t){ks(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ws(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ts(e,t){return(Ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function js(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_s(e);if(t){var o=_s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cs(this,n)}}function Cs(e,t){return!t||"object"!==gs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _s(e){return(_s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ps=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}(i,e);var t,n,r,a=js(i);function i(){return ws(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Es({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=Es({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction,u=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.dispatchSendBackForChangesTaskSubmissionAction,e.dispatchAddTaskRecommendationAction,e.dispatchEditTaskRecommendationAction,e.secureToken);if(!n||!r||!t)return null;var s="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){s="submitter";break}if(r.isCurrentUserAnApprover){s="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),f=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l||r.isTaskCollborator),p=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||(l||r.isTaskCollborator)&&!r.lockWhenComplete);return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Gr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(Os,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:p,canUpdateAnswers:f,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleAddTaskRecommendationButtonClick:this.handleAddTaskRecommendationButtonClick.bind(this),handleEditTaskRecommendationButtonClick:this.handleEditTaskRecommendationButtonClick.bind(this),showBackLink:!!r.questionnaireSubmissionUUID,viewAs:s,siteConfig:t,secureToken:u}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=Es({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=Es({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchSendBackForChangesTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=Es({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}},{key:"handleAddTaskRecommendationButtonClick",value:function(e){var t=Es({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchAddTaskRecommendationAction(o,e,a)}},{key:"handleEditTaskRecommendationButtonClick",value:function(e){var t=Es({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchEditTaskRecommendationAction(o,e,a)}}])&&As(t.prototype,n),r&&As(t,r),i}(r.Component),Is=Object(c.b)((function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(t,n){e(Wi()),e(mn()),e(Bu({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Mu({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(qu({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(Vu())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return function(){var t=Du(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Pr.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Bu({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return function(){var t=Du(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Pr.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(Bu({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchSendBackForChangesTaskSubmissionAction:function(t){e(function(e){return function(){var t=Du(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Pr.editTaskSubmission({uuid:e,csrfToken:o,secureToken:""});case 6:return a=t.sent,a.status,t.next=10,n(Bu({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAddTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return function(){var r=Du(regeneratorRuntime.mark((function r(o,a){var i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n.push(t),r.next=4,_e.getCSRFToken();case 4:return i=r.sent,r.next=7,Pr.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return c=r.sent,c.taskRecommendationData,r.next=11,o(Bu({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),te.displayError(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,n,r))},dispatchEditTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return function(){var r=Du(regeneratorRuntime.mark((function r(o,a){var i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=n.map((function(e){return e.id===t.id?Uu(Uu({},n),t):e})),r.next=4,_e.getCSRFToken();case 4:return i=r.sent,r.next=7,Pr.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return c=r.sent,c.taskRecommendationData,r.next=11,o(Bu({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),te.displayError(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,n,r))}}}))(Ps);function Rs(e){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ns(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xs(e,t){return(xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Us(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bs(e);if(t){var o=Bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ls(this,n)}}function Ls(e,t){return!t||"object"!==Rs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bs(e){return(Bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach((function(t){Fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}(i,e);var t,n,r,a=Us(i);function i(){return Ns(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Qs({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Qs({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var u="in_progress"===r.status||"start"===r.status,s="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Gr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(Os,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:s,canUpdateAnswers:u,showBackButton:!1,siteConfig:t,currentUser:n}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&Ds(t.prototype,n),r&&Ds(t,r),i}(r.Component),Vs=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=Qs({},t).taskId;e(Wi()),e(mn()),e(function(e){var t=Uu({},e).taskId;return function(){var e=Du(regeneratorRuntime.mark((function e(n,r){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pr.fetchStandaloneTask({taskId:t});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,n(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),te.displayError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(Mu({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(qu({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(Vu({bypassNetwork:!0}))}}}))(qs);function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){Ys(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ws(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zs(e,t){return(zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xs(e);if(t){var o=Xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zs(this,n)}}function Zs(e,t){return!t||"object"!==Hs(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xs(e){return(Xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var el=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zs(e,t)}(i,e);var t,n,r,a=$s(i);function i(){return Ws(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Ks({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return o.a.createElement("div",{className:"LeftBarItem"},o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(Ks({},this.props).iconType){case"editing":return o.a.createElement("img",{src:Ve.a,alt:""});case"success":return o.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return o.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return o.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&Gs(t.prototype,n),r&&Gs(t,r),i}(r.Component);function tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter((function(t){return t.id===e})).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter((function(n){return n.id===e&&n.productAspect===t})).length>0:n.filter((function(t){return t.id===e})).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter((function(n){return n.id===e&&n.productAspect===t&&n.isSaved})).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter((function(t){return t.productAspect===e})).length>0}}],(n=null)&&tl(t.prototype,n),r&&tl(t,r),e}();function rl(e){return(rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ul(e,t){return(ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fl(e);if(t){var o=fl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ll(this,n)}}function ll(e,t){return!t||"object"!==rl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fl(e){return(fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ul(e,t)}(i,e);var t,n,r,a=sl(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},t}return t=i,(n=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=al({},this.props),n=t.title,r=t.availableComponents,a=t.selectedComponents,i=t.removeComponent,c=t.addComponent,u=t.productAspects,s=t.componentTarget,l=al({},this.state),f=l.filter,p=l.selectedProductAspect;return o.a.createElement("div",{className:"LeftBar"},u&&u.length>0&&o.a.createElement("div",{className:"product-aspect"},o.a.createElement("label",null,o.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),o.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=A()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:p},u.map((function(e,t){return o.a.createElement("option",{key:t,value:e},e)}))))),o.a.createElement("div",{className:"title"},n),o.a.createElement("div",{className:"search"},o.a.createElement("i",{className:"fas fa-search"}),o.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=A()(t.target.value).trim();e.setState({filter:n})}})),o.a.createElement("div",{className:"items"},r.filter((function(e){return!f||e.name.toUpperCase().includes(f.toUpperCase())})).map((function(e){var t=nl.isSelectedComponentExist(e.id,p,a),n=nl.isComponentSaved(e.id,p,a,s)&&"JIRA Cloud"==s;return o.a.createElement(el,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,p):c(e.id,p)}})}))))}}])&&cl(t.prototype,n),r&&cl(t,r),i}(r.Component),ml=n(109);function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yl(Object(n),!0).forEach((function(t){hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ol(e,t){return(Ol=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=El(e);if(t){var o=El(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sl(this,n)}}function Sl(e,t){return!t||"object"!==dl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function El(e){return(El=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ol(e,t)}(i,e);var t,n,r,a=gl(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isExpanded:!1,isImplementationEvidenceExpaned:!t.props.isCVATaskEditable},t}return t=i,(n=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"componentDidUpdate",value:function(e){e.isCVATaskEditable!==this.props.isCVATaskEditable&&this.setState({isImplementationEvidenceExpaned:!this.props.isCVATaskEditable})}},{key:"render",value:function(){var e=this,t=bl({},this.props),n=(t.id,t.name),r=t.description,a=t.implementationGuidance,i=t.implementationEvidence,c=t.className,u=t.showImplementationEvidence,s=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,f=bl({},this.state),p=f.isExpanded,m=f.isImplementationEvidenceExpaned;return o.a.createElement("div",{className:"ControlInfo "+c},n&&o.a.createElement("h5",null,n),r&&o.a.createElement("div",{className:"control-description"},o.a.createElement("span",null,o.a.createElement("b",null,"Description: ")),o.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),a&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!p})}},o.a.createElement("span",null,o.a.createElement("b",null,"Implementation Guidance "),o.a.createElement(ml.Icon,{name:"".concat(p?"caret-up":"caret-down")}))),p&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),u&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},o.a.createElement("span",null,o.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),o.a.createElement(ml.Icon,{name:"".concat(m?"caret-up":"caret-down")}))),m&&o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?o.a.createElement("div",null,o.a.createElement(aa.a,{className:"implementation-evidence",initialValue:s,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):o.a.createElement("div",{className:"implementation-evidence"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:s.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&vl(t.prototype,n),r&&vl(t,r),i}(o.a.Component);function wl(e){return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _l(e,t){return(_l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rl(e);if(t){var o=Rl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Il(this,n)}}function Il(e,t){return!t||"object"!==wl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rl(e){return(Rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_l(e,t)}(i,e);var t,n,r,a=Pl(i);function i(){return jl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){Tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.id,n=e.name,r=e.description,a=e.removeComponent,i=e.childControls,c=e.isDisable;return o.a.createElement("div",{className:"ComponentInfo",key:t+n},o.a.createElement("h3",null,!c&&o.a.createElement("button",{onClick:function(e){e.preventDefault(),a()}},o.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),o.a.createElement("span",null," ",n))),o.a.createElement("p",null,r),i&&i.length>0&&o.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map((function(e,t){return o.a.createElement(kl,{key:t,id:e.id,name:e.name,description:e.description,implementationGuidance:e.implementationGuidance,className:"control-cs"})})))}}])&&Cl(t.prototype,n),r&&Cl(t,r),i}(o.a.Component);function Dl(e){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(n),!0).forEach((function(t){Ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ml(e,t){return(Ml=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ql(e);if(t){var o=ql(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fl(this,n)}}function Fl(e,t){return!t||"object"!==Dl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ql(e){return(ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ml(e,t)}(i,e);var t,n,r,a=Ql(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={jiraKey:""},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=Ul({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,c=t.addComponent,u=t.finishWithSelection,s=t.saveControls,l=t.extraButtons,f=t.componentTarget,p=t.productAspects,m=t.isStandaloneTask,d=Ul({},this.state).jiraKey,y=p&&p.length>0&&r.length>0;return o.a.createElement("div",{className:"ComponentSelection"},o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(pl,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:c,productAspects:p,componentTarget:f}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},"Selected Components"),o.a.createElement("div",{className:"selected-components"},y>0&&p.map((function(e,t){return o.a.createElement("div",{key:t},nl.doescomponentExistForProductAspect(e,r)&&o.a.createElement("h4",{key:t},e),r.map((function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==f;if(t.productAspect===e)return o.a.createElement(Nl,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})})))})),(void 0===p||""===p||0===p.length)&&r.map((function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==f;return o.a.createElement(Nl,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})}))))),o.a.createElement("div",{className:"buttons-wrapper"},o.a.createElement("div",{className:"extra-buttons"},l),o.a.createElement("div",null,r.length>0&&"JIRA Cloud"===f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=A()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement(zo,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(d)}})),"Local"===f&&!m&&o.a.createElement(Gn,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){s()}}),o.a.createElement(Gn,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){u()}}))))}}])&&Bl(t.prototype,n),r&&Bl(t,r),i}(r.Component);function Hl(e){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gl(e,t){return(Gl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zl(e);if(t){var o=Zl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $l(this,n)}}function $l(e,t){return!t||"object"!==Hl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zl(e){return(Zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gl(e,t)}(i,e);var t,n,r,a=zl(i);function i(){return Yl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach((function(t){Kl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,a=e.componentTarget,i=e.productAspects,c=i&&i.length>0&&t.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),c>0&&i.map((function(e,n){return o.a.createElement("ul",{key:n},nl.doescomponentExistForProductAspect(e,t)&&o.a.createElement("h5",{key:n},e),t.map((function(t,n){if(t.productAspect===e)return o.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)})))})),o.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map((function(e){return o.a.createElement("li",{key:e.id},e.name)})))),"JIRA Cloud"===a&&o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Created Jira Tickets"),o.a.createElement("ul",null,n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))})))),o.a.createElement("div",{className:"buttons"},r))}}])&&Wl(t.prototype,n),r&&Wl(t,r),i}(o.a.Component);function ef(e){return(ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach((function(t){rf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function of(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cf(e,t){return(cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lf(e);if(t){var o=lf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sf(this,n)}}function sf(e,t){return!t||"object"!==ef(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lf(e){return(lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ff=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cf(e,t)}(i,e);var t,n,r,a=uf(i);function i(){return of(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,nf({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=nf({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,c=e.dispatchRemoveComponentAction,u=e.dispatchCreateJIRATicketsAction,s=e.viewMode,l=e.jiraTickets,f=e.componentTarget;if(!n||!t)return null;var p=null;switch(s){case"edit":p=o.a.createElement(Vl,{availableComponents:r,selectedComponents:a,componentTarget:f,isStandaloneTask:!0,createJIRATickets:function(e){u(e)},removeComponent:function(e){c(e)},addComponent:function(e){i(e)},finishWithSelection:function(){D.redirectToHome()}});break;case"review":p=o.a.createElement(Xl,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement(zo,{title:"BACK TO HOME",onClick:function(){D.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Gr,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:n.name}),p,o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&af(t.prototype,n),r&&af(t,r),i}(r.Component),pf=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}}),(function(e,t){return{dispatchLoadDataAction:function(){e(Wi()),e(mn()),e(Au())},dispatchAddComponentAction:function(t){e(Tu(t))},dispatchRemoveComponentAction:function(t){e(ju(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return function(){var t=wu(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,_e.getCSRFToken();case 9:return i=t.sent,t.next=12,Eu.createJiraTickets({jiraKey:e,componentIDList:Or()(a.map((function(e){return e.id}))),csrfToken:i});case 12:return c=t.sent,t.next=15,n(_u(c));case 15:return t.next=17,n(Cu("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),te.displayError(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(ff);function mf(e){return(mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bf(e,t){return(bf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Of(e);if(t){var o=Of(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vf(this,n)}}function vf(e,t){return!t||"object"!==mf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Of(e){return(Of=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bf(e,t)}(i,e);var t,n,r,a=hf(i);function i(){return df(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&yf(t.prototype,n),r&&yf(t,r),i}(r.Component);function Sf(e){return(Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ef(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wf(e,t){return(wf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Af(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jf(e);if(t){var o=jf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tf(this,n)}}function Tf(e,t){return!t||"object"!==Sf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jf(e){return(jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(n),!0).forEach((function(t){Pf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var If=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wf(e,t)}(i,e);var t,n,r,a=Af(i);function i(){return Ef(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,_f({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=_f({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,a=e.taskSubmission,i=e.availableComponents,c=e.selectedComponents,u=e.dispatchAddComponentAction,s=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,f=e.dispatchSaveLocalControlsAction,p=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!a||!t)return null;var d=parseInt(r.id)===parseInt(a.submitter.id)||r.isSA||a.isTaskCollborator,y=Cc.isSRATaskFinalised(a.siblingSubmissions),b=("complete"===a.status||"waiting_for_approval"===a.status||"denied"===a.status)&&"submitted"===a.questionnaireSubmissionStatus&&d&&!a.lockWhenComplete,h=o.a.createElement(zo,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(a.questionnaireSubmissionUUID,n)}}),v=b&&!y?o.a.createElement(Gn,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:Va.a}):null,O=null;switch(a.status){case"start":case"in_progress":if(d){O=o.a.createElement(Vl,{availableComponents:i,selectedComponents:c,componentTarget:a.componentTarget,productAspects:a.productAspects,extraButtons:h,createJIRATickets:function(e){l(e)},saveControls:function(){f()},removeComponent:function(e,t){s(e,t)},addComponent:function(e,t){u(e,t)},finishWithSelection:function(){p()}});break}O=o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("br",null),o.a.createElement(gf,null)),o.a.createElement("div",{className:"buttons"},h));break;case"complete":O=o.a.createElement("div",null,o.a.createElement("div",{className:"ComponentSelectionReview"},!!y&&Cc.getSraIsFinalisedAlert()),o.a.createElement(Xl,{selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,buttons:[o.a.createElement("div",{key:"component-selection-review-button-container"},v,h)]}));break;case"expired":O=o.a.createElement(Uc,null)}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(Gr,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:r.name}),O,o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&kf(t.prototype,n),r&&kf(t,r),i}(r.Component),Rf=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=_f({},t),r=n.uuid,o=n.secureToken;e(mn()),e(Wi()),e(Au()),e(Bu({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(Tu(t,n))},dispatchRemoveComponentAction:function(t,n){e(ju(t,n))},dispatchCreateJIRATicketsAction:function(t){e(Qu(t))},dispatchSaveLocalControlsAction:function(){e(Qu(""))},dispatchFinishAction:function(){e(Fu())},dispatchEditAnswersAction:function(){e(Vu({type:"componentSelection"}))}}}))(If);function Nf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Df=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,o,a){if("awaiting_security_architect_review"===e)return"Waiting for Security Architect Approval - unassigned";if("waiting_for_security_architect_approval"===e){if(n.id==t)return"Waiting for Security Architect Approval - assigned to me";if(n.id!==t)return"Waiting for Security Architect Approval - "+r}if("waiting_for_approval"===e){if("pending"===o&&"pending"===a)return"Waiting for Approval - Business Owner and Chief Information Security Officer";if("pending"!==o&&"pending"===a)return"Waiting for Approval - Business Owner"}return"approved"===e&&"pending"===o&&"approved"===a?"Approved - Chief Information Security Officer Approval Pending":e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}}],(n=null)&&Nf(t.prototype,n),r&&Nf(t,r),e}();function xf(e){return(xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uf(Object(n),!0).forEach((function(t){Bf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ff(e,t){return(Ff=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hf(e);if(t){var o=Hf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vf(this,n)}}function Vf(e,t){return!t||"object"!==xf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hf(e){return(Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jf(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var Kf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ff(e,t)}(i,e);var t,n,r,a=qf(i);function i(){return Mf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Lf({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Lf({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Gr,{title:"My Submission",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Zo()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,Df.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Qf(t.prototype,n),r&&Qf(t,r),i}(r.Component),Yf=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Wi());case 2:return t.next=4,e(function(){var e=Dr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"my_submission_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(mn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){Jf(a,r,o,i,c,"next",e)}function c(e){Jf(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(Kf);function Wf(e){return(Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gf(Object(n),!0).forEach((function(t){$f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t){return(Xf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ep(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=np(e);if(t){var o=np(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tp(this,n)}}function tp(e,t){return!t||"object"!==Wf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function np(e){return(np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rp(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var op=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xf(e,t)}(i,e);var t,n,r,a=ep(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={currentApprovalList:"QuestionnaireApproval"},t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,zf({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=zf({},this.props),n=t.currentUser,r=t.siteConfig,a=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,c=t.loadingState;return n&&a&&r&&i?c["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Gr,{title:"Awaiting Approvals",username:n.name,subtitle:r.siteTitle,logopath:r.logoPath}),o.a.createElement("div",{className:"container text-center tab-container"},o.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button mr-3 active":"tab-button mr-3",onClick:function(){return e.setState({currentApprovalList:"QuestionnaireApproval"})}},"Questionnaire Approvals"),o.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){return e.setState({currentApprovalList:"TaskApproval"})}},"Task Approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&ap(a,n),"TaskApproval"==this.state.currentApprovalList&&ip(i,n),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Zf(t.prototype,n),r&&Zf(t,r),i}(r.Component),ap=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Business Owner"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Deliverable Release Date"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Zo()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,Df.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,e.releaseDate?Zo()(e.releaseDate).format("DD MMM YYYY"):""),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire."))},ip=function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Task Name"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="#/task/submission/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Zo()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.taskName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,Df.prettifyStatus(e.status,"",t,"","","")),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task."))},cp=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Wi());case 2:return t.next=4,e(function(){var e=Dr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(function(){var e=Du(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return e.prev=5,e.next=8,Pr.fetchTaskSubmissionList(r.id,"awaiting_approval_list");case 8:o=e.sent,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:e.t0});case 16:te.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 6:return t.next=8,e(mn());case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){rp(a,r,o,i,c,"next",e)}function c(e){rp(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(op);function up(e){return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sp(Object(n),!0).forEach((function(t){fp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dp(e,t){return(dp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hp(e);if(t){var o=hp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bp(this,n)}}function bp(e,t){return!t||"object"!==up(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hp(e){return(hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vp(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var Op=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dp(e,t)}(i,e);var t,n,r,a=yp(i);function i(){return pp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,lp({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=lp({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(Gr,{title:"My Products",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){return e.length?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,e.map((function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Zo()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,Df.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))})))))):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display."))}(n,t),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&mp(t.prototype,n),r&&mp(t,r),i}(r.Component),gp=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Wi());case 2:return t.next=4,e(function(){var e=Dr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"my_product_list");case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(mn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){vp(a,r,o,i,c,"next",e)}function c(e){vp(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(Op);function Sp(e){return(Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tp(e,t){return(Tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_p(e);if(t){var o=_p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cp(this,n)}}function Cp(e,t){return!t||"object"!==Sp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _p(e){return(_p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tp(e,t)}(i,e);var t,n,r,a=jp(i);function i(){return wp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ep(Object(n),!0).forEach((function(t){kp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ep(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Likelihood Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&Ap(t.prototype,n),r&&Ap(t,r),i}(r.Component);function Ip(e){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Np(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Up(e,t){return(Up=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mp(e);if(t){var o=Mp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bp(this,n)}}function Bp(e,t){return!t||"object"!==Ip(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mp(e){return(Mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Up(e,t)}(i,e);var t,n,r,a=Lp(i);function i(){return Dp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(n),!0).forEach((function(t){Np(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).impactThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"ImapctLegend"},o.a.createElement("h3",null,"Impact Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"impact_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&xp(t.prototype,n),r&&xp(t,r),i}(r.Component);var Fp=n(211),qp=n.n(Fp);function Vp(e){return(Vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kp(e,t){return(Kp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gp(e);if(t){var o=Gp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wp(this,n)}}function Wp(e,t){return!t||"object"!==Vp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gp(e){return(Gp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kp(e,t)}(i,e);var t,n,r,a=Yp(i);function i(){return Hp(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"renderTableHeader",value:function(){return o.a.createElement("tr",{key:"sra_header"},o.a.createElement("th",null,"Risk"),this.props.hasProductAspects&&o.a.createElement("th",null,"Product Aspect"),o.a.createElement("th",null,"Current Controls"),o.a.createElement("th",null,"Current Likelihood"),o.a.createElement("th",null,"Current Impact"),o.a.createElement("th",null,"Current Risk Rating"),o.a.createElement("th",null,"Recommended Treatments"))}},{key:"renderTableBody",value:function(){var e=this;return this.props.hasProductAspects?this.props.calculatedSRAData.map((function(t,n){return t.productAspects.map((function(n,r){var o={riskId:t.riskId,riskName:0==r?"".concat(t.riskName," (").concat(t.baseImpactScore,")"):null,riskDescription:0==r?t.description:null,components:n.components,currentLikelihood:n.currentLikelihood,currentImpact:n.currentImpact,currentRiskRating:n.currentRiskRating};return e.renderTableRow(o,n.productAspectName)}))})):this.props.calculatedSRAData.map((function(t,n){var r={riskId:t.riskId,riskName:"".concat(t.riskName," (").concat(t.baseImpactScore,")"),riskDescription:t.description,components:t.riskDetail.components,currentLikelihood:t.riskDetail.currentLikelihood,currentImpact:t.riskDetail.currentImpact,currentRiskRating:t.riskDetail.currentRiskRating};return e.renderTableRow(r)}))}},{key:"renderTableRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement("tr",{key:t+"_"+e.riskId},o.a.createElement("td",null,o.a.createElement("span",{style:{display:"block"}},e.riskName),o.a.createElement("small",{className:"text-muted"},e.riskDescription)),this.props.hasProductAspects&&t&&o.a.createElement("td",null,t),o.a.createElement("td",null,this.renderComponents(e.components,"Implemented")),o.a.createElement("td",null,this.renderCurrentLikelihood(e.currentLikelihood)),o.a.createElement("td",null,this.renderCurrentImapct(e.currentImpact)),o.a.createElement("td",{style:e.currentRiskRating.colour?{backgroundColor:e.currentRiskRating.colour}:null},this.renderCurrentRiskRating(e.currentRiskRating)),o.a.createElement("td",null,this.renderComponents(e.components,"Recommened")))}},{key:"renderComponents",value:function(e,t){var n=this;return e&&Array.isArray(e)&&0!=e.length?e.map((function(e,r){var a="Implemented"===t?e.implementedControls:e.recommendedControls;return o.a.createElement("div",{key:r+1},o.a.createElement("strong",{key:e.id},a.length>0?e.name:null),a.length>0&&n.renderControls(a,t))})):null}},{key:"renderControls",value:function(e,t){return e.map((function(e,n){var r=!1;return"Recommened"==t&&(qp()(e.likelihoodPenalty)>0||qp()(e.impactPenalty)>0)&&(r=!0),o.a.createElement("div",{key:n+1},o.a.createElement("span",{key:e.id,className:"".concat(r?"font-weight-bold control-title":"font-weight-normal control-title")},e.name,"  "),o.a.createElement("small",{className:"text-muted"},"( L: ",e.likelihoodWeight,", I: ",e.impactWeight,", LP: ",e.likelihoodPenalty,", IP: ",e.impactPenalty,")"))}))}},{key:"renderCurrentLikelihood",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentImapct",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentRiskRating",value:function(e){return o.a.createElement("div",null,e.name)}},{key:"render",value:function(){return this.props.calculatedSRAData?o.a.createElement("div",{className:"RiskMatrix"},o.a.createElement("h3",null,"Your risk assessment results"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},this.renderTableHeader()),o.a.createElement("tbody",null,this.renderTableBody())))):null}}])&&Jp(t.prototype,n),r&&Jp(t,r),i}(r.Component);function $p(e){return($p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nm(e,t){return(nm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=am(e);if(t){var o=am(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return om(this,n)}}function om(e,t){return!t||"object"!==$p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function am(e){return(am=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var im=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nm(e,t)}(i,e);var t,n,r,a=rm(i);function i(){return em(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zp(Object(n),!0).forEach((function(t){Xp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"RiskRatingLegend"},o.a.createElement("h3",null,"Risk Rating Matix"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("p",{className:"impact-heading"},"Impact"),o.a.createElement("table",{className:"table table-sm table-bordered"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",null,e.tableRows.map((function(e,t){return o.a.createElement("tr",{key:"row_"+t},e.map((function(e,t){return o.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)})))})))))):null}}])&&tm(t.prototype,n),r&&tm(t,r),i}(r.Component);function cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cm(Object(n),!0).forEach((function(t){sm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lm(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function fm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){lm(a,r,o,i,c,"next",e)}function c(e){lm(a,r,o,i,c,"throw",e)}i(void 0)}))}}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mm=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:(a=fm(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=um({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,c=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw F;case 8:return u=JSON.parse(k()(c,"SecurityRiskAssessmentData","")),s={uuid:c&&c.UUID?c.UUID:"",taskName:A()(k()(c,"TaskName","")),status:A()(k()(c,"Status","")),submitterID:A()(k()(c,"Submitter.ID","")),isTaskCollborator:"true"===k()(c,"IsTaskCollborator","false"),questionnaireSubmissionUUID:A()(k()(c,"QuestionnaireSubmission.UUID","")),taskSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c),sraData:u},e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchImpactThreshold",value:(o=fm(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Q.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readImpactThreshold",null)){e.next=7;break}throw F;case 7:return r=n.map((function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&pm(t.prototype,n),r&&pm(t,r),e}();function dm(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ym(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){dm(a,r,o,i,c,"next",e)}function c(e){dm(a,r,o,i,c,"throw",e)}i(void 0)}))}}function bm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vm(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bm(Object(n),!0).forEach((function(t){hm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=ym(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,mm.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return o=e.sent,a={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:o},e.next=9,t(a);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:te.displayError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}function Om(e){return(Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gm(Object(n),!0).forEach((function(t){Em(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function km(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Am(e,t){return(Am=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cm(e);if(t){var o=Cm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jm(this,n)}}function jm(e,t){return!t||"object"!==Om(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cm(e){return(Cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Am(e,t)}(i,e);var t,n,r,a=Tm(i);function i(){return km(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Sm({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=Sm({},this.props),n=t.siteConfig,r=t.currentUser,a=t.securityRiskAssessmentData,i=t.secureToken,c=t.impactThresholdData;if(!r||!n||!a)return null;var u=Sm({},a),s=u.uuid,l=(u.taskName,u.questionnaireSubmissionUUID),f=(u.submitterID,u.taskSubmissions),p=u.sraData,m=(u.status,Cc.isSRATaskFinalised(f)),d=o.a.createElement(Gn,{title:"BACK TO QUESTIONNAIRE SUMMARY",classes:["button ml-3"],onClick:function(){D.redirectToQuestionnaireSummary(l,i)}}),y=Cc.isSiblingTaskPending(f),b=a.submitterID===r.id||a.isTaskCollborator,h=m||y||!b?null:o.a.createElement(zo,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(s,i,l)}});return o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement(Gr,{title:a.taskName,subtitle:n.siteTitle,username:r.name,logopath:n.logoPath}),"expired"===a.status&&o.a.createElement(Uc,null),"expired"!==a.status&&o.a.createElement("div",{className:"SecurityRiskAssessmentResult"},!!m&&Cc.getSraIsFinalisedAlert(),o.a.createElement(zp,{calculatedSRAData:p.calculatedSRAData,hasProductAspects:p.hasProductAspects}),o.a.createElement(Pp,{likelihoodThresholds:p.likelihoodThresholds}),o.a.createElement(Qp,{impactThresholds:c}),o.a.createElement(im,{riskRatingThresholds:p.riskRatingThresholds}),o.a.createElement("div",{className:"buttons"},d,h)),o.a.createElement($t,{footerCopyrightText:n.footerCopyrightText}))}}])&&wm(t.prototype,n),r&&wm(t,r),i}(r.Component),Pm=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}}),(function(e,t){return{dispatchLoadDataAction:function(t,n){e(Wi()),e(mn()),e(vm({uuid:t,secureToken:n})),e(function(){var e=ym(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mm.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),te.displayError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},dispatchFinaliseAction:function(t,n,r){e(Fu({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}}))(_m);function Im(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Im(Object(n),!0).forEach((function(t){Nm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Im(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dm(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function xm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Dm(a,r,o,i,c,"next",e)}function c(e){Dm(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Lm=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:(i=xm(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rm({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,Q.request({query:a});case 4:if(i=e.sent,c=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw F;case 8:return u=JSON.parse(k()(c,"CVATaskData","[]")),Array.isArray(u)||(u=[]),s=u.length>0?Sr.parseCVAFromJSONObject(u):u,l={id:A()(k()(c,"ID","")),status:A()(k()(c,"Status","")),uuid:A()(k()(c,"UUID","")),questionnaireSubmissionUUID:A()(k()(c,"QuestionnaireSubmission.UUID","")),taskName:A()(k()(c,"TaskName","")),selectedComponents:s,submitterID:A()(k()(c,"Submitter.ID","")),componentTarget:A()(k()(c,"CVATaskDataSource","")),isTaskCollborator:"true"===k()(c,"IsTaskCollborator","false"),productAspects:_.has(c,"ProductAspects")?JSON.parse(k()(c,"ProductAspects",[])):[],siblingSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c)},e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"saveControlValidationAuditData",value:(a=xm(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rm({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,Q.request({query:c,csrfToken:a});case 5:if(u=e.sent,_.get(u,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw F;case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"reSyncWithJira",value:(o=xm(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rm({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,Q.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw F;case 8:return u=JSON.parse(k()(c,"CVATaskData","[]")),Array.isArray(u)||(u=[]),s=u.length>0?Sr.parseCVAFromJSONObject(u):u,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Um(t.prototype,n),r&&Um(t,r),e}();function Bm(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Mm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Bm(a,r,o,i,c,"next",e)}function c(e){Bm(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qm(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qm(Object(n),!0).forEach((function(t){Fm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Mm(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,Lm.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return o=e.sent,a={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:o},e.next=11,t(a);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:te.displayError(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}function Vm(e){return(Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hm(Object(n),!0).forEach((function(t){Km(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Km(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ym(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wm(e,t){return(Wm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$m(e);if(t){var o=$m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zm(this,n)}}function zm(e,t){return!t||"object"!==Vm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $m(e){return($m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zm(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Xm(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Zm(a,r,o,i,c,"next",e)}function c(e){Zm(a,r,o,i,c,"throw",e)}i(void 0)}))}}var ed=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wm(e,t)}(c,e);var t,n,r,a,i=Gm(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={isCVATaskEditable:!1,isSRATaskFinalised:!1,canEdit:!1},t}return t=c,(n=[{key:"componentDidMount",value:(a=Xm(regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,u,s,l,f,p=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Jm({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:try{a=Jm({},this.props),i=a.controlValidationAuditData,c=a.currentUser,u=i.submitterID===c.id,s=u||i.isTaskCollborator,l=Cc.isSRATaskFinalised(i.siblingSubmissions),f=s&&!l,this.setState({canEdit:s,isSRATaskFinalised:l,isCVATaskEditable:f}),this.autoSaveCVATask=setInterval(Xm(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=3;break}return e.next=3,p.callAutoSaveCvaTaskApi();case 3:case"end":return e.stop()}}),e)}))),6e5)}catch(e){te.displayError(error)}case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearInterval(this.autoSaveCVATask)}},{key:"callAutoSaveCvaTaskApi",value:function(){var e=Jm({},this.props),t=e.uuid,n=e.secureToken,r=e.dispatchSaveControlValidationAuditDataAction,o=e.controlValidationAuditData,a=e.cvaSelectedComponents;e.currentUser,r(t,a,o.questionnaireSubmissionUUID,n,!0)}},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;return this.props.controlValidationAuditData.componentTarget,t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?o.a.createElement("div",null,n.map((function(t){return e.renderComponent(t)}))):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return o.a.createElement("div",null,e.map((function(e,r){var a=t.filter((function(t){return t.productAspect===e}));return 0==a.length?null:o.a.createElement("div",{className:"mt-2",key:r},o.a.createElement("h4",null,e),a.map((function(e){return n.renderComponent(e)})))})))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,a=e.jiraTicketLink?o.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return o.a.createElement("div",{key:n},o.a.createElement("h5",null,e.name,a&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&o.a.createElement("span",null," - ",a)),r&&r.length>0&&r.map((function(n){return t.renderControl(n,e)})),!r||0==r.length&&o.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,a=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return o.a.createElement("div",{className:"my-0 container row",key:t},o.a.createElement("div",{className:"col-xs-2"},a.map((function(a,i){return o.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:a.value,defaultChecked:e.selectedOption===a.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:a.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),a.label)}))),o.a.createElement("div",{className:"col-10"},o.a.createElement("label",{key:e.id},o.a.createElement("strong",null,e.name)),o.a.createElement(kl,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:this.state.isCVATaskEditable,updateEvidenceTextareaData:function(t){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return o.a.createElement("div",{className:"my-0",key:t},o.a.createElement("label",{className:"ml-2",key:e.id},o.a.createElement("span",null,o.a.createElement("strong",null,e.name)," - "),o.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=Jm({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,c=e.cvaSelectedComponents,u=e.dispatchReSyncWithJira;if(!n||!r||!t)return null;var s=this.state.isCVATaskEditable&&c.length>0?o.a.createElement(Gn,{title:"SUBMIT",onClick:function(){return i(r.uuid,c,r.questionnaireSubmissionUUID,a,!1)}}):null,l=o.a.createElement(zo,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}),f=this.state.isCVATaskEditable&&"JIRA Cloud"==r.componentTarget&&c.length>0?o.a.createElement(zo,{title:"RE SYNC WITH JIRA",onClick:function(){return u(r.uuid)}}):null;return o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement(Gr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),"expired"===r.status&&o.a.createElement(Uc,null),"expired"!==r.status&&o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"ControlValidationAuditForm"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!this.state.canEdit&&o.a.createElement(gf,null),(this.state.canEdit||"complete"==r.status)&&o.a.createElement("div",null,!!this.state.isSRATaskFinalised&&Cc.getSraIsFinalisedAlert(),this.renderCVAQuestionsForm())),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},o.a.createElement("div",null,s,f,l))),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&Ym(t.prototype,n),r&&Ym(t,r),c}(r.Component),td=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:(n=Xm(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(qm({uuid:n,secureToken:r})),e(Wi()),e(mn())]);case 2:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o,a){e(function(e,t,n,r,o){return function(){var a=Mm(regeneratorRuntime.mark((function a(i){var c,u,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_e.getCSRFToken();case 3:return c=a.sent,a.next=6,Lm.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:c});case 6:return u=a.sent,s={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:u},a.next=10,i(s);case 10:o||D.redirectToQuestionnaireSummary(n,r),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),te.displayError(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}(t,n,r,o,a))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n;e((n=t,function(){var e=Mm(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},dispatchReSyncWithJira:function(t){e(function(e){return function(){var t=Mm(regeneratorRuntime.mark((function t(n){var r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,_e.getCSRFToken();case 5:return r=t.sent,t.next=8,Lm.reSyncWithJira({uuid:e,csrfToken:r});case 8:return o=t.sent,a={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:o},t.next=12,n(a);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:te.displayError(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}};var n}))(ed),nd=n(50);function rd(e){return(rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function od(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ad(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function id(e,t){return(id=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sd(e);if(t){var o=sd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ud(this,n)}}function ud(e,t){return!t||"object"!==rd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sd(e){return(sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ld=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&id(e,t)}(i,e);var t,n,r,a=cd(i);function i(){return od(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"loading-spinner-page-overlay"},o.a.createElement("div",{className:"loading-spinner"},o.a.createElement(ml.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&ad(t.prototype,n),r&&ad(t,r),i}(r.Component),fd=n(898);function pd(e){return(pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function md(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yd(e,t){return(yd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vd(e);if(t){var o=vd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hd(this,n)}}function hd(e,t){return!t||"object"!==pd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vd(e){return(vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Od=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yd(e,t)}(i,e);var t,n,r,a=bd(i);function i(){return md(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.loading&&o.a.createElement(ld,null),o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(s.a,{exact:!0,path:"/"},(function(){return o.a.createElement(wn,null)})),o.a.createElement(s.a,{path:"/questionnaire/start/:id"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(co,{questionnaireID:t.params.id}))})),o.a.createElement(s.a,{path:"/questionnaire/submission/:hash"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Fa,{submissionHash:t.params.hash}))})),o.a.createElement(s.a,{path:"/questionnaire/review/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(nd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Fi,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/questionnaire/summary/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(nd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(mu,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(nd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Is,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/tasks/standalone/:taskId"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Vs,{taskId:t.params.taskId}))})),o.a.createElement(s.a,{path:"/component-selection/standalone/:taskId"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(nd.parse)(n.search).componentTarget),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(pf,{taskId:t.params.taskId,componentTarget:r}))})),o.a.createElement(s.a,{path:"/component-selection/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(nd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Rf,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/control-validation-audit/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(nd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(td,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/security-risk-assessment/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(nd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Pm,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(s.a,{path:"/MySubmissions"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Yf,null))})),o.a.createElement(s.a,{path:"/AwaitingApprovals"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(cp,null))})),o.a.createElement(s.a,{path:"/MyProducts"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(gp,null))})))))}}])&&dd(t.prototype,n),r&&dd(t,r),i}(r.Component),gd=Object(fd.a)(Object(c.b)((function(e){return{loading:R.a.chain(e.loadingState).values().some((function(e){return e})).value()}}),(function(e,t){return{}}))(Od)),Sd=n(896),Ed=n(18),kd=(n(840),{title:"",subtitle:"",pillars:[],tasks:[]});function wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(n),!0).forEach((function(t){Td(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Td(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jd={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},Cd={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var _d=Object(Ed.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jd,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cd,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex((function(e){return e.id===n.id}));if(r<0)return e;var o=Ad({},e);return R.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=Ad({},t),c=i.targetIndex,u=a.questions.findIndex((function(e){return e.isCurrent}));if(c<0||c>=a.questions.length)return e;var s=Ad({},e);return R.a.set(s,"submission.questions.".concat(u,".isCurrent"),!1),R.a.set(s,"submission.questions.".concat(c,".isCurrent"),!0),s}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var f=e.submission;if(!f)return e;var p=Ad({},e),m=t.nonApplicableIndexes;return m&&m.length>0&&m.forEach((function(e){var t=f.questions[e];t.isApplicable=!1,R.a.set(p,"submission.questions.".concat(e),t)})),p}return e}}),Pd=n(97),Id=n.n(Pd),Rd=n(60),Nd=n.n(Rd);function Dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dd(Object(n),!0).forEach((function(t){Ud(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ld={taskSubmission:null};function Bd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bd(Object(n),!0).forEach((function(t){Qd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fd={user:null};function qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qd(Object(n),!0).forEach((function(t){Hd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jd={siteConfig:null};var Kd=n(474),Yd=n.n(Kd);function Wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wd(Object(n),!0).forEach((function(t){zd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $d={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Zd=nl.isComponentExist,Xd=nl.isSelectedComponentExist;function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(n),!0).forEach((function(t){ny(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ny(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ry={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function oy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oy(Object(n),!0).forEach((function(t){iy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cy={securityRiskAssessmentData:null,impactThresholdData:null};function uy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uy(Object(n),!0).forEach((function(t){ly(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ly(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fy={controlValidationAuditData:null,cvaSelectedComponents:[]};nl.isSelectedComponentExist;function py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function my(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?py(Object(n),!0).forEach((function(t){dy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return by(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return by(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function by(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hy={members:null};var vy=Object(Ed.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:_d,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ld,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var r=t.payload,o=n.questions.findIndex((function(e){return e.id===r.id}));if(o<0)return e;var a=Id()(e);return Nd()(a,"taskSubmission.questions.".concat(o),r),a}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var i=Id()(e),c=t.payload;return c&&c.length>0&&c.forEach((function(e){var t=n.questions[e];t.isApplicable=!1,Nd()(i,"taskSubmission.questions.".concat(e),t)})),i}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var u=xd({},t.payload),s=u.currentIndex,f=u.targetIndex;if(f<0||f>=n.questions.length)return e;var p=Id()(e);return Nd()(p,"taskSubmission.questions.".concat(s,".isCurrent"),!1),Nd()(p,"taskSubmission.questions.".concat(f,".isCurrent"),!0),p}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var m=Id()(e);return Nd()(m,"taskSubmission.status","complete"),t.payload&&Nd()(m,"taskSubmission.result",t.payload),m}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var d=Id()(e);return Nd()(d,"taskSubmission.status","in_progress"),Nd()(d,"taskSubmission.result",null),d}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return Md(Md({},e),{},{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return Vd(Vd({},e),{},{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$d,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS){var n=t;return Gd(Gd({},e),{},{availableComponents:n.payload})}if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var r=t,o=r.payload.id,a=r.payload.productAspect;if(!Xd(o,a,e.selectedComponents)&&Zd(o,e.availableComponents)){var i=e.availableComponents.filter((function(e){return e.id===o})),c=Object.assign({},i[0]);return c.productAspect=a,Gd(Gd({},e),{},{selectedComponents:Yd()(e.selectedComponents,c)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var u=t,s=u.payload.id,f=u.payload.productAspect;if(Xd(s,f,e.selectedComponents)&&Zd(s,e.availableComponents))return Gd(Gd({},e),{},{selectedComponents:e.selectedComponents.filter((function(e){return e.id!==s||e.productAspect!==f}))})}if(t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS){var p=t;return Gd(Gd({},e),{},{jiraTickets:p.payload})}if(t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE){var m=t;return Gd(Gd({},e),{},{viewMode:m.payload})}if(t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS){var d=t;return Gd(Gd({},e),{},{selectedComponents:d.payload})}return e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ry,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?ty(ty({},e),{},{awaitingApprovalList:t.payload}):t.type===l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?ty(ty({},e),{},{awaitingApprovalTaskList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?ty(ty({},e),{},{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?ty(ty({},e),{},{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cy,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?ay(ay({},e),{},{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?ay(ay({},e),{},{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fy,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),sy(sy({},e),{},{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.productAspect,i=t.payload.controlID,c=t.payload.componentID,u=t.payload.implementationEvidenceUserInput,s=Object(I.cloneDeep)(e.cvaSelectedComponents),f=[];if((f=""!==a?s.filter((function(e){return e.id==c&&e.productAspect==a})):s.filter((function(e){return e.id==c}))).length>0){var p=f[0].controls.filter((function(e){return e.id==i}));if(p.length>0)return p[0].selectedOption=o,p[0].implementationEvidenceUserInput=u,sy(sy({},e),{},{cvaSelectedComponents:s})}}if(t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS){var m=t.payload;return sy(sy({},e),{},{cvaSelectedComponents:m})}if(t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA){var d=t.payload;return sy(sy({},e),{},{controlValidationAuditData:d,cvaSelectedComponents:[]})}return e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(n);if(!r)return e;var o=yy(r,3),a=(o[0],o[1]),i=o[2];return my(my({},e),{},dy({},a,"REQUEST"===i))},memberState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.LOAD_MEMBER:return t.payload;default:return e}}}),Oy=n(475),gy=[f.a];var Sy=Object(Ed.createStore)(vy,Object(Oy.composeWithDevTools)(Ed.applyMiddleware.apply(void 0,gy)));function Ey(e){return(Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ay(e,t){return(Ay=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ty(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cy(e);if(t){var o=Cy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jy(this,n)}}function jy(e,t){return!t||"object"!==Ey(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cy(e){return(Cy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Py(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_y(Object(n),!0).forEach((function(t){Iy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ry=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ay(e,t)}(i,e);var t,n,r,a=Ty(i);function i(){return ky(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Py({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Py({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(Gr,{title:n.taskName,subtitle:t.siteTitle,showLogoutButton:!1,logopath:t.logoPath}),o.a.createElement(Os,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText})):null}}])&&wy(t.prototype,n),r&&wy(t,r),i}(r.Component),Ny=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=Py({},t),r=n.uuid,o=n.secureToken;e(Bu({uuid:r,secureToken:o})),e(mn())},dispatchSaveAnsweredQuestionAction:function(n){var r=Py({},t).secureToken;e(Mu({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=Py({},t).secureToken;e(qu({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=Py({},t).secureToken;e(Vu({secureToken:n}))}}}))(Ry);function Dy(e){return(Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ly(e,t){return(Ly=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function By(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qy(e);if(t){var o=Qy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return My(this,n)}}function My(e,t){return!t||"object"!==Dy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qy(e){return(Qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ly(e,t)}(i,e);var t,n,r,a=By(i);function i(){return xy(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(u.a,null,o.a.createElement(s.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r=Object(nd.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ny,{uuid:t.params.uuid,secureToken:r.token||""}))})))))}}])&&Uy(t.prototype,n),r&&Uy(t,r),i}(r.Component);window.addEventListener("load",(function(){qc.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(Sd.a,null,o.a.createElement(c.a,{store:Sy},o.a.createElement(gd,null))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(Sd.a,null,o.a.createElement(c.a,{store:Sy},o.a.createElement(Fy,null))),t)}))},95:function(e,t,n){e.exports=n.p+"../img/e5ade74409af1721ad1dfcadb7f04aee.svg"}});
//# sourceMappingURL=main.bundle.js.map