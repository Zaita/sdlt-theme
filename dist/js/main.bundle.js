!function(e){function t(t){for(var r,o,a=t[0],i=t[1],c=t[2],s=0,u=[];s<a.length;s++)o=a[s],Object.prototype.hasOwnProperty.call(I,o)&&I[o]&&u.push(I[o][0]),I[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(L&&L(t);u.length;)u.shift()();return N.push.apply(N,c||[]),n()}function n(){for(var e,t=0;t<N.length;t++){for(var n=N[t],r=!0,o=1;o<n.length;o++){var a=n[o];0!==I[a]&&(r=!1)}r&&(N.splice(t--,1),e=R(R.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!E[e]||!S[e])return;for(var n in S[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--v&&0===g&&T()}(e,t),r&&r(e,t)};var o,a=!0,i="928e47c565d1c29690dd",c={},s=[],u=[];function l(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:o!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(y={})[t]=e[t],m("ready");break;case"ready":_(t);break;case"prepare":case"check":case"dispose":case"apply":(h=h||[]).push(t)}},check:w,apply:j,status:function(e){if(!e)return p;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:c[t]};return o=void 0,n}var f=[],p="idle";function m(e){p=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var d,y,b,h,v=0,g=0,O={},S={},E={};function k(e){return+e+""===e?+e:e}function w(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return a=e,m("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=R.p+"hot/hot-update.json";r.open("GET",o,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return m(C()?"ready":"idle"),null;S={},O={},E=e.c,b=e.h,m("prepare");var t=new Promise((function(e,t){d={resolve:e,reject:t}}));for(var n in y={},I)A(n);return"prepare"===p&&0===g&&0===v&&T(),t}));var t}function A(e){var t;E[e]?(S[e]=!0,v++,(t=document.createElement("script")).charset="utf-8",t.src=R.p+"hot/hot-update.js",document.head.appendChild(t)):O[e]=!0}function T(){m("ready");var e=d;if(d=null,e)if(a)Promise.resolve().then((function(){return j(a)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(k(n));e.resolve(t)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function t(n){var r,a,u,l,f;function p(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),a=o.id,i=o.chain;if((l=P[a])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var c=0;c<l.parents.length;c++){var s=l.parents[c],u=P[s];if(u){if(u.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([s]),moduleId:a,parentId:s};-1===t.indexOf(s)&&(u.hot._acceptedDependencies[a]?(n[s]||(n[s]=[]),d(n[s],[a])):(delete n[s],t.push(s),r.push({chain:i.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}C();var v={},g=[],O={},S=function(){console.warn("[HMR] unexpected require("+A.moduleId+") to disposed module")};for(var w in y)if(Object.prototype.hasOwnProperty.call(y,w)){var A;f=k(w),A=y[w]?p(f):{type:"disposed",moduleId:w};var T=!1,j=!1,_=!1,N="";switch(A.chain&&(N="\nUpdate propagation: "+A.chain.join(" -> ")),A.type){case"self-declined":n.onDeclined&&n.onDeclined(A),n.ignoreDeclined||(T=new Error("Aborted because of self decline: "+A.moduleId+N));break;case"declined":n.onDeclined&&n.onDeclined(A),n.ignoreDeclined||(T=new Error("Aborted because of declined dependency: "+A.moduleId+" in "+A.parentId+N));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(A),n.ignoreUnaccepted||(T=new Error("Aborted because "+f+" is not accepted"+N));break;case"accepted":n.onAccepted&&n.onAccepted(A),j=!0;break;case"disposed":n.onDisposed&&n.onDisposed(A),_=!0;break;default:throw new Error("Unexception type "+A.type)}if(T)return m("abort"),Promise.reject(T);if(j)for(f in O[f]=y[f],d(g,A.outdatedModules),A.outdatedDependencies)Object.prototype.hasOwnProperty.call(A.outdatedDependencies,f)&&(v[f]||(v[f]=[]),d(v[f],A.outdatedDependencies[f]));_&&(d(g,[A.moduleId]),O[f]=S)}var D,x=[];for(a=0;a<g.length;a++)f=g[a],P[f]&&P[f].hot._selfAccepted&&O[f]!==S&&!P[f].hot._selfInvalidated&&x.push({module:f,parents:P[f].parents.slice(),errorHandler:P[f].hot._selfAccepted});m("dispose"),Object.keys(E).forEach((function(e){!1===E[e]&&function(e){delete I[e]}(e)}));var U,L,B=g.slice();for(;B.length>0;)if(f=B.pop(),l=P[f]){var M={},F=l.hot._disposeHandlers;for(u=0;u<F.length;u++)(r=F[u])(M);for(c[f]=M,l.hot.active=!1,delete P[f],delete v[f],u=0;u<l.children.length;u++){var Q=P[l.children[u]];Q&&((D=Q.parents.indexOf(f))>=0&&Q.parents.splice(D,1))}}for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)&&(l=P[f]))for(L=v[f],u=0;u<L.length;u++)U=L[u],(D=l.children.indexOf(U))>=0&&l.children.splice(D,1);m("apply"),void 0!==b&&(i=b,b=void 0);for(f in y=void 0,O)Object.prototype.hasOwnProperty.call(O,f)&&(e[f]=O[f]);var q=null;for(f in v)if(Object.prototype.hasOwnProperty.call(v,f)&&(l=P[f])){L=v[f];var H=[];for(a=0;a<L.length;a++)if(U=L[a],r=l.hot._acceptedDependencies[U]){if(-1!==H.indexOf(r))continue;H.push(r)}for(a=0;a<H.length;a++){r=H[a];try{r(L)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:f,dependencyId:L[a],error:e}),n.ignoreErrored||q||(q=e)}}}for(a=0;a<x.length;a++){var V=x[a];f=V.module,s=V.parents,o=f;try{R(f)}catch(e){if("function"==typeof V.errorHandler)try{V.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:f,error:t,originalError:e}),n.ignoreErrored||q||(q=t),q||(q=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:f,error:e}),n.ignoreErrored||q||(q=e)}}if(q)return m("fail"),Promise.reject(q);if(h)return t(n).then((function(e){return g.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return m("idle"),new Promise((function(e){e(g)}))}(t=t||{})}function C(){if(h)return y||(y={}),h.forEach(_),h=void 0,!0}function _(t){Object.prototype.hasOwnProperty.call(y,t)||(y[t]=e[t])}var P={},I={2:0},N=[];function R(t){if(P[t])return P[t].exports;var n=P[t]={i:t,l:!1,exports:{},hot:l(t),parents:(u=s,s=[],u),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=P[e];if(!t)return R;var n=function(n){return t.hot.active?(P[n]?-1===P[n].parents.indexOf(e)&&P[n].parents.push(e):(s=[e],o=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),s=[]),R(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return R[e]},set:function(t){R[e]=t}}};for(var a in R)Object.prototype.hasOwnProperty.call(R,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(n,a,r(a));return n.e=function(e){return"ready"===p&&m("prepare"),g++,R.e(e).then(t,(function(e){throw t(),e}));function t(){g--,"prepare"===p&&(O[e]||A(e),0===g&&0===v&&T())}},n.t=function(e,t){return 1&t&&(e=n(e)),R.t(e,-2&t)},n}(t)),n.l=!0,n.exports}R.m=e,R.c=P,R.d=function(e,t,n){R.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},R.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},R.t=function(e,t){if(1&t&&(e=R(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(R.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)R.d(n,r,function(t){return e[t]}.bind(null,r));return n},R.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return R.d(t,"a",t),t},R.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},R.p="/resources/themes/sdlt/dist/img/",R.h=function(){return i};var D=window.webpackJsonp=window.webpackJsonp||[],x=D.push.bind(D);D.push=t,D=D.slice();for(var U=0;U<D.length;U++)t(D[U]);var L=x;N.push([486,0]),n()}({100:function(e,t,n){e.exports=n.p+"../img/dab319c4a5240b45e9eacf3657dabef9.svg"},102:function(e,t,n){e.exports=n.p+"../img/49c23560990f01bdb9dbb0aca57ebc16.svg"},103:function(e,t,n){e.exports=n.p+"../img/00e771ee64f774bb995c8301a0276310.svg"},113:function(e,t,n){e.exports=n.p+"../img/9480e88b542db6f375b12f4016ad3cf1.svg"},117:function(e,t,n){e.exports=n.p+"../img/e5dfac45674afc1ceaa06543fe8459f8.svg"},145:function(e,t,n){e.exports=n.p+"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg"},148:function(e,t,n){e.exports=n.p+"../img/99de1aaa8b5b87899363a95004d73fd3.svg"},149:function(e,t,n){e.exports=n.p+"../img/8c940e4f505b38895423737310f1fb6c.svg"},205:function(e,t,n){e.exports=n.p+"../img/f0545538d29150bca803dd2e1d422c11.jpg"},211:function(e,t,n){e.exports=n.p+"../img/b2ce59ecfcc515cb33d81013163089b9.svg"},212:function(e,t,n){e.exports=n.p+"../img/de677722d74728fea0aa7cb12a510519.svg"},217:function(e,t,n){e.exports=n.p+"../img/80b11e3269520032c200106f4eb3a353.svg"},438:function(e,t){},446:function(e,t,n){e.exports=n.p+"../img/41e304962a77cf734f9bfe9772ab12b9.svg"},447:function(e,t,n){e.exports=n.p+"../img/0e61629440d7a6d860ba88aad4af303a.svg"},448:function(e,t,n){e.exports=n.p+"../img/442b4a253c2be23661dc12e64f264053.svg"},449:function(e,t,n){e.exports=n.p+"../img/2d7ab2e275175116af7444a221be9f74.svg"},451:function(e,t,n){e.exports=n.p+"../img/44cca0ef5b0830924492e8a8413b854e.svg"},452:function(e,t,n){e.exports=n.p+"../img/fb467c695d06bcd18d012bd28ff6f583.svg"},453:function(e,t,n){e.exports=n.p+"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg"},454:function(e,t,n){e.exports=n.p+"../img/b002cf666ac7512c21ad21462efdf4e8.svg"},455:function(e,t,n){e.exports=n.p+"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg"},456:function(e,t,n){e.exports=n.p+"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg"},460:function(e,t,n){e.exports=n.p+"../img/9198e472a6c8367f8732e615d77f5cba.svg"},461:function(e,t,n){e.exports=n.p+"../img/0c865019e25308a0cb171f68cadd01bc.svg"},462:function(e,t,n){e.exports=n.p+"../img/c67b16dbdf2cbda4870d66a28b326761.svg"},463:function(e,t,n){e.exports=n.p+"../img/b12b0e8b32fffee92478e00d635ffd41.svg"},464:function(e,t,n){e.exports=n.p+"../img/253fcb80900dd1752b22f7607d2c75bb.svg"},468:function(e,t,n){e.exports=n.p+"../img/1f41b999d8c492059354357358576c11.svg"},469:function(e,t,n){e.exports=n.p+"../img/5026d4f7013eb6750fe473b8b1f857fc.svg"},470:function(e,t,n){e.exports=n.p+"../img/b4059ba2a80c6df051a8c5e3a0db180b.svg"},473:function(e,t,n){e.exports=n.p+"../img/9f61063964aa72748e2ad460ce525fdf.svg"},474:function(e,t,n){e.exports=n.p+"../img/4aa06b86ab33745eda39a0996b2a31bd.svg"},475:function(e,t,n){e.exports=n.p+"../img/1a64300e65fb7c88203c303f0c9a1a54.svg"},476:function(e,t,n){e.exports=n.p+"../img/b49e6ec0cb091b6e52f39a9c84e6fcc6.svg"},477:function(e,t,n){e.exports=n.p+"../img/39defb22ab1da0d7785089dbadf296ff.svg"},486:function(e,t,n){n(219),e.exports=n(885)},61:function(e,t,n){e.exports=n.p+"../img/7f858504e1409f70135d863bcb581914.svg"},67:function(e,t,n){e.exports=n.p+"../img/e5ade74409af1721ad1dfcadb7f04aee.svg"},719:function(e,t,n){var r={"./af":270,"./af.js":270,"./ar":271,"./ar-dz":272,"./ar-dz.js":272,"./ar-kw":273,"./ar-kw.js":273,"./ar-ly":274,"./ar-ly.js":274,"./ar-ma":275,"./ar-ma.js":275,"./ar-sa":276,"./ar-sa.js":276,"./ar-tn":277,"./ar-tn.js":277,"./ar.js":271,"./az":278,"./az.js":278,"./be":279,"./be.js":279,"./bg":280,"./bg.js":280,"./bm":281,"./bm.js":281,"./bn":282,"./bn-bd":283,"./bn-bd.js":283,"./bn.js":282,"./bo":284,"./bo.js":284,"./br":285,"./br.js":285,"./bs":286,"./bs.js":286,"./ca":287,"./ca.js":287,"./cs":288,"./cs.js":288,"./cv":289,"./cv.js":289,"./cy":290,"./cy.js":290,"./da":291,"./da.js":291,"./de":292,"./de-at":293,"./de-at.js":293,"./de-ch":294,"./de-ch.js":294,"./de.js":292,"./dv":295,"./dv.js":295,"./el":296,"./el.js":296,"./en-au":297,"./en-au.js":297,"./en-ca":298,"./en-ca.js":298,"./en-gb":299,"./en-gb.js":299,"./en-ie":300,"./en-ie.js":300,"./en-il":301,"./en-il.js":301,"./en-in":302,"./en-in.js":302,"./en-nz":303,"./en-nz.js":303,"./en-sg":304,"./en-sg.js":304,"./eo":305,"./eo.js":305,"./es":306,"./es-do":307,"./es-do.js":307,"./es-mx":308,"./es-mx.js":308,"./es-us":309,"./es-us.js":309,"./es.js":306,"./et":310,"./et.js":310,"./eu":311,"./eu.js":311,"./fa":312,"./fa.js":312,"./fi":313,"./fi.js":313,"./fil":314,"./fil.js":314,"./fo":315,"./fo.js":315,"./fr":316,"./fr-ca":317,"./fr-ca.js":317,"./fr-ch":318,"./fr-ch.js":318,"./fr.js":316,"./fy":319,"./fy.js":319,"./ga":320,"./ga.js":320,"./gd":321,"./gd.js":321,"./gl":322,"./gl.js":322,"./gom-deva":323,"./gom-deva.js":323,"./gom-latn":324,"./gom-latn.js":324,"./gu":325,"./gu.js":325,"./he":326,"./he.js":326,"./hi":327,"./hi.js":327,"./hr":328,"./hr.js":328,"./hu":329,"./hu.js":329,"./hy-am":330,"./hy-am.js":330,"./id":331,"./id.js":331,"./is":332,"./is.js":332,"./it":333,"./it-ch":334,"./it-ch.js":334,"./it.js":333,"./ja":335,"./ja.js":335,"./jv":336,"./jv.js":336,"./ka":337,"./ka.js":337,"./kk":338,"./kk.js":338,"./km":339,"./km.js":339,"./kn":340,"./kn.js":340,"./ko":341,"./ko.js":341,"./ku":342,"./ku.js":342,"./ky":343,"./ky.js":343,"./lb":344,"./lb.js":344,"./lo":345,"./lo.js":345,"./lt":346,"./lt.js":346,"./lv":347,"./lv.js":347,"./me":348,"./me.js":348,"./mi":349,"./mi.js":349,"./mk":350,"./mk.js":350,"./ml":351,"./ml.js":351,"./mn":352,"./mn.js":352,"./mr":353,"./mr.js":353,"./ms":354,"./ms-my":355,"./ms-my.js":355,"./ms.js":354,"./mt":356,"./mt.js":356,"./my":357,"./my.js":357,"./nb":358,"./nb.js":358,"./ne":359,"./ne.js":359,"./nl":360,"./nl-be":361,"./nl-be.js":361,"./nl.js":360,"./nn":362,"./nn.js":362,"./oc-lnc":363,"./oc-lnc.js":363,"./pa-in":364,"./pa-in.js":364,"./pl":365,"./pl.js":365,"./pt":366,"./pt-br":367,"./pt-br.js":367,"./pt.js":366,"./ro":368,"./ro.js":368,"./ru":369,"./ru.js":369,"./sd":370,"./sd.js":370,"./se":371,"./se.js":371,"./si":372,"./si.js":372,"./sk":373,"./sk.js":373,"./sl":374,"./sl.js":374,"./sq":375,"./sq.js":375,"./sr":376,"./sr-cyrl":377,"./sr-cyrl.js":377,"./sr.js":376,"./ss":378,"./ss.js":378,"./sv":379,"./sv.js":379,"./sw":380,"./sw.js":380,"./ta":381,"./ta.js":381,"./te":382,"./te.js":382,"./tet":383,"./tet.js":383,"./tg":384,"./tg.js":384,"./th":385,"./th.js":385,"./tk":386,"./tk.js":386,"./tl-ph":387,"./tl-ph.js":387,"./tlh":388,"./tlh.js":388,"./tr":389,"./tr.js":389,"./tzl":390,"./tzl.js":390,"./tzm":391,"./tzm-latn":392,"./tzm-latn.js":392,"./tzm.js":391,"./ug-cn":393,"./ug-cn.js":393,"./uk":394,"./uk.js":394,"./ur":395,"./ur.js":395,"./uz":396,"./uz-latn":397,"./uz-latn.js":397,"./uz.js":396,"./vi":398,"./vi.js":398,"./x-pseudo":399,"./x-pseudo.js":399,"./yo":400,"./yo.js":400,"./zh-cn":401,"./zh-cn.js":401,"./zh-hk":402,"./zh-hk.js":402,"./zh-mo":403,"./zh-mo.js":403,"./zh-tw":404,"./zh-tw.js":404};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=719},728:function(e,t){},828:function(e,t){},885:function(e,t,n){"use strict";n.r(t);n(487),n(489),n(490),n(492),n(493),n(494),n(496),n(497),n(163),n(500),n(501),n(502),n(503),n(504),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(537),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(563),n(564),n(565),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(238),n(579),n(581),n(582),n(583),n(584),n(585),n(586),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629);var r=n(0),o=n.n(r),a=n(29),i=n.n(a),c=n(11),s=n(906),u=n(903),l={HOME:{LOAD_HOME_STATE_STARTED:"LOAD_HOME_STATE_STARTED",LOAD_HOME_STATE_FAILED:"LOAD_HOME_STATE_FAILED",LOAD_HOME_STATE_FINISHED:"LOAD_HOME_STATE_FINISHED"},QUESTIONNAIRE:{LOAD_QUESTIONNAIRE_START_STATE:"LOAD_QUESTIONNAIRE_START_STATE",PUT_DATA_IN_QUESTIONNAIRE_ANSWER:"PUT_DATA_IN_QUESTIONNAIRE_ANSWER",MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION:"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION",MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE:"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE",FETCH_MY_SUBMISSION_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST",FETCH_MY_SUBMISSION_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS",FETCH_MY_SUBMISSION_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE",FETCH_AWAITING_APPROVAL_LIST_REQUEST:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST",FETCH_AWAITING_APPROVAL_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_LIST_FAILURE:"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE",FETCH_MY_PRODUCT_LIST_REQUEST:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST",FETCH_MY_PRODUCT_LIST_SUCCESS:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS",FETCH_MY_PRODUCT_LIST_FAILURE:"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS",LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE:"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE",ADD_COLLABORATOR:"QUESTIONNAIRE/ADD_COLLABORATOR"},TASK:{LOAD_TASK_SUBMISSION:"ACTION_TASK_LOAD_TASK_SUBMISSION",LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION:"TASK/LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION",PUT_DATA_IN_TASK_SUBMISSION:"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION",MARK_TASK_QUESTION_NOT_APPLICABLE:"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE",MOVE_TO_ANOTHER_TASK_QUESTION:"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION",COMPLETE_TASK_SUBMISSION:"ACTION_TASK_COMPLETE_TASK_SUBMISSION",EDIT_TASK_SUBMISSION:"ACTION_TASK_EDIT_TASK_SUBMISSION",SAVE_SELECTED_COMPONENT_REQUEST:"TASK/SAVE_SELECTED_COMPONENT/REQUEST",SAVE_SELECTED_COMPONENT_SUCCESS:"TASK/SAVE_SELECTED_COMPONENT/SUCCESS",SAVE_SELECTED_COMPONENT_FAILURE:"TASK/SAVE_SELECTED_COMPONENT/FAILURE",FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST",FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS",FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE:"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE",ADD_TASK_RECOMMENDATION:"TASK/ADD_RECOMMENDATION"},PAGINATION:{FETCH_NEXT_PAGE:"PAGINATION/FETCH_NEXT_PAGE",FETCH_PREV_PAGE:"PAGINATION/FETCH_PREV_PAGE",FETCH_FIRST_PAGE:"PAGINATION/FETCH_FIRST_PAGE",FETCH_LAST_PAGE:"PAGINATION/FETCH_LAST_PAGE",SET_SELECTED_ROWS:"PAGINATION/SET_SELECTED_ROWS",RESET_PAGINATION:"PAGINATION/RESET"},COMPONENT_SELECTION:{SET_AVAILABLE_COMPONENTS:"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS",ADD_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT",REMOVE_SELECTED_COMPONENT:"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT",SET_JIRA_TICKETS:"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS",SET_VIEW_MODE:"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE",LOAD_SELECTED_COMPONENTS:"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS"},SRA:{LOAD_SECURITY_RISK_ASSESSMENT_REQUEST:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST",LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS",LOAD_SECURITY_RISK_ASSESSMENT_FAILURE:"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE",LOAD_IMPACT_THRESHOLD:"SRA/LOAD_IMPACT_THRESHOLD"},CVA:{LOAD_CONTROL_VALIDATION_AUDIT_REQUEST:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST",LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS",LOAD_CONTROL_VALIDATION_AUDIT_FAILURE:"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE",EMPTY_CONTROL_VALIDATION_AUDIT_DATA:"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA",UPDATE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA",SAVE_CONTROL_VALIDATION_AUDIT_DATA:"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA",RE_SYNC_WITH_JIRA_REQUEST:"CVA/RE_SYNC_WITH_JIRA/REQUEST",RE_SYNC_WITH_JIRA_SUCCESS:"CVA/RE_SYNC_WITH_JIRA/SUCCESS",RE_SYNC_WITH_JIRA_FAILURE:"CVA/RE_SYNC_WITH_JIRA/FAILURE"},UI:{LOAD_DATA_STARTED:"LOAD_DATA_STARTED",LOAD_DATA_FAILED:"LOAD_DATA_FAILED",LOAD_DATA_FINISHED:"LOAD_DATA_FINISHED"},USER:{SET_CURRENT_USER:"ACTION_USER_SET_CURRENT_USER",LOAD_MEMBER:"USER/LOAD_MEMBER"},SITE_CONFIG:{LOAD_SITE_CONFIG:"SITE_CONFIG/LOAD_SITE_CONFIG"}},f=n(49),p=n(211),m=n.n(p),d=n(446),y=n.n(d),b=n(447),h=n.n(b),v=n(448),g=n.n(v),O=n(449),S=n.n(O),E=n(2),k=n.n(E),w=n(6),A=n.n(w),T=n(450),j=n.n(T),C=n(144),P=n.n(C),I=n(1),N=n.n(I);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"redirectToQuestionnaireEditing",value:function(e){window.location.href="/#/questionnaire/submission/".concat(e)}},{key:"redirectToQuestionnaireReview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/review/".concat(e,"?token=").concat(t):"/#/questionnaire/review/".concat(e)}},{key:"redirectToQuestionnaireSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.location.href=t?"/#/questionnaire/summary/".concat(e,"?token=").concat(t):"/#/questionnaire/summary/".concat(e)}},{key:"redirectToTaskSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/task/submission/".concat(e);if(t&&(r="/task/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToComponentSelectionSubmission",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/component-selection/submission/".concat(e);if(t&&(r="/component-selection/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToSecurityRiskAssessment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/security-risk-assessment/submission/".concat(e);if(t&&(r="/security-risk-assessment/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToControlValidationAudit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"redirect",r="/control-validation-audit/submission/".concat(e);if(t&&(r="/control-validation-audit/submission/".concat(e,"?token=").concat(t)),"urlString"==n)return r;window.location.href="/#/".concat(r)}},{key:"redirectToLogout",value:function(){window.location.href="/Security/Logout"}},{key:"redirectToLogin",value:function(){window.location.href="/Security/login?BackURL=%2F"}},{key:"redirectToHome",value:function(){window.location.href="/"}}],(n=null)&&R(t.prototype,n),r&&R(t,r),e}();function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"request",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U({},t),r=n.query,o=n.variables,a=n.csrfToken,i={},a&&(i["X-CSRF-TOKEN"]=a),c={query:j()(r),variables:o},e.next=6,P.a.request({url:"/graphql",method:"post",data:c,headers:i});case 6:if(s=e.sent,u=s.data,!(l=N.a.get(u,"errors.0.message",null))){e.next=11;break}throw new Error(l);case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){B(a,n,r,i,c,"next",e)}function c(e){B(a,n,r,i,c,"throw",e)}i(void 0)}))},function(e){return a.apply(this,arguments)})}],n&&M(t.prototype,n),r&&M(t,r),e}(),Q=new Error("There is an error when fetching data..."),q=new Error("There is an error when parsing data...");function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseQuestionsFromJSON",value:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.schemaJSON,r=t.answersJSON,o=function(e){var t=JSON.parse(e);if(!t||!Array.isArray(t))throw q;return t}(n),a=function(e){if(!e)return{};var t=JSON.parse(e),n={};return t&&N.a.keys(t).forEach((function(e){n[N.a.toString(e)]=t[e]})),n}(r),i=function(e){var t="";return N.a.keys(e).forEach((function(n){var r=e[n];!t&&Boolean(N.a.get(r,"isCurrent",!1))&&(t=n)})),t}(a);return o.map((function(e,t){var n=N.a.toString(N.a.get(e,"ID","")),r=Boolean(N.a.get(a,"".concat(n,".hasAnswer"),!1)),o=Boolean(N.a.get(a,"".concat(n,".isApplicable"),!0)),c=!1;c=i?i===n:0===t;var s=null,u=null,l=r?N.a.get(a,"".concat(n,".inputs"),[]):[],f=r?N.a.get(a,"".concat(n,".actions"),[]):[],p=N.a.get(e,"AnswerInputFields",[]),m=N.a.get(e,"AnswerActionFields",[]);p&&Array.isArray(p)&&p.length>0&&(s=p.map((function(e){var t=N.a.toString(N.a.get(e,"InputType","")).toLowerCase();"multiple-choice: single selection"===t&&(t="radio"),"multiple-choice: multiple selection"===t&&(t="checkbox"),["text","email","textarea","rich text editor","service register","information classification","dropdown","product aspects","date","url","radio","checkbox","release date"].includes(t)||(t="text");var n=N.a.toString(N.a.get(e,"ID","")),r={id:n,label:N.a.toString(N.a.get(e,"Label","")),type:t,required:Boolean(N.a.toInteger(N.a.get(e,"Required",!1))),minLength:Number.parseInt(N.a.toString(N.a.get(e,"MinLength",0))),maxLength:Number.parseInt(N.a.toString(N.a.get(e,"MaxLength",0))),placeholder:N.a.toString(N.a.get(e,"PlaceHolder","")),options:N.a.has(e,"MultiChoiceAnswer")?JSON.parse(N.a.get(e,"MultiChoiceAnswer","")):"",defaultRadioButtonValue:N.a.has(e,"MultiChoiceSingleAnswerDefault")?N.a.toString(N.a.get(e,"MultiChoiceSingleAnswerDefault","")):"",defaultCheckboxValue:N.a.has(e,"MultiChoiceMultipleAnswerDefault")?N.a.get(e,"MultiChoiceMultipleAnswerDefault",""):"",data:null};if(l&&Array.isArray(l)&&l.length>0){var o=N.a.head(l.filter((function(e){return e.id===n})));if(o){var a=N.a.toString(N.a.get(o,"data",null));a&&(r.data=a)}}return r}))),m&&Array.isArray(m)&&m.length>0&&(u=m.map((function(e){var t=N.a.toString(N.a.get(e,"ActionType","")).toLowerCase();["continue","goto","message","finish"].includes(t)||(t="continue");var n=N.a.toString(N.a.get(e,"ID","")),r={id:n,label:N.a.toString(N.a.get(e,"Label","")),type:t,isChose:!1};"message"===t&&(r.message=N.a.toString(N.a.get(e,"Message",""))),"goto"===t&&(r.goto=N.a.toString(N.a.get(e,"GotoID",""))),"finish"===t&&(r.result=N.a.toString(N.a.get(e,"Result","")));var o=N.a.toString(N.a.get(e,"TaskID",""));if(r.taskID=o,f&&Array.isArray(f)&&f.length>0){var a=N.a.head(f.filter((function(e){return e.id===n})));if(a){var i=Boolean(N.a.get(a,"isChose",!1));r.isChose=i}}return r})));var d={id:n,title:N.a.toString(N.a.get(e,"Title","")),heading:N.a.toString(N.a.get(e,"QuestionHeading","")),description:N.a.toString(N.a.get(e,"Description","")),type:N.a.toString(N.a.get(e,"AnswerFieldType","")).toLowerCase(),isCurrent:c,hasAnswer:r,isApplicable:o};if(N.a.isEmpty(N.a.get(d,"heading"))){var y=N.a.toString(N.a.get(e,"Question",""));N.a.set(d,"heading",y)}return s&&(d.inputs=s),u&&(d.actions=u),d}))}}],(n=null)&&J(t.prototype,n),r&&J(t,r),e}(),G=n(57),Y=n.n(G);function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONObject",value:function(e){var t=A()(k()(e,"ID","")),n=A()(k()(e,"Name","")),r=A()(k()(e,"ComponentTarget","")),o=A()(k()(e,"TaskType",""));switch(o){case"questionnaire":case"selection":break;default:o="questionnaire"}var a=[],i=A()(k()(e,"QuestionsDataJSON",""));return i&&(a=K.parseQuestionsFromJSON({schemaJSON:i,answersJSON:"{}"})),{id:t,name:n,type:o,componentTarget:r,questions:a}}},{key:"parseLikelihoodJSONObject",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return t?Y()(t).map((function(e){return{name:A()(k()(e,"Name")),value:A()(k()(e,"Value")),operator:A()(k()(e,"Operator")),colour:A()(k()(e,"Colour"))}})):[]}},{key:"parseAlltaskSubmissionforQuestionnaire",value:function(e){if(!e)return[];var t=k()(e,"QuestionnaireSubmission.TaskSubmissions","");return"questionnaire"===k()(e,"Submission.TaskType","")?[]:t?t.map((function(e){return{uuid:A()(k()(e,"UUID")),taskType:A()(k()(e,"TaskType")),status:A()(k()(e,"Status"))}})):[]}},{key:"parseServiceRegister",value:function(e){return e.map((function(e){return{value:A()(k()(e,"ID")),label:A()(k()(e,"ServiceName"))}}))}}],(n=null)&&W(t.prototype,n),r&&W(t,r),e}();function $(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchHomeData",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,F.request({query:"\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readDashboard",[]),Array.isArray(n)&&0!==n.length){e.next=7;break}throw Q;case 7:return r=n[0],o=A()(k()(r,"Title","")),a=A()(k()(r,"Subtitle","")),i=k()(r,"Pillars",[]),c=this.parsePillars(i),s=k()(r,"Tasks",[]),u=this.parseTasks(s),e.abrupt("return",{title:o,subtitle:a,pillars:c,tasks:u});case 15:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){$(a,n,r,i,c,"next",e)}function c(e){$(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})},{key:"parsePillars",value:function(e){return Array.isArray(e)?e.map((function(e){var t=m.a;switch(e.Type){case"proof_of_concept":t=m.a;break;case"software_as_service":t=y.a;break;case"product_project_or_solution":t=h.a;break;case"feature_or_bug_fix":t=g.a;break;case"risk_questionnaire":t=S.a}return{title:A()(k()(e,"Label","")),disabled:Boolean(k()(e,"Disabled",!0)),questionnaireID:A()(k()(e,"Questionnaire.0.ID","")),icon:t}})):[]}},{key:"parseTasks",value:function(e){if(!Array.isArray(e))return[];var t=[];return e.forEach((function(e){var n=z.parseFromJSONObject(e);t.push(n)})),t}}],n&&X(t.prototype,n),r&&X(t,r),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"displayError",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(alert(e),t)throw e}}],(n=null)&&ee(t.prototype,n),r&&ee(t,r),e}();function ne(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function re(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.fetchHomeData();case 3:n=e.sent,r={type:l.HOME.LOAD_HOME_STATE_FINISHED,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ne(a,r,o,i,c,"next",e)}function c(e){ne(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}var oe=n(902);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,e);var t,n,r,a=fe(i);function i(){return se(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=["Pillar"].concat(ie(this.props.classes));return this.props.pillar.disabled&&t.push("disabled"),o.a.createElement(oe.a,{className:t.join(" "),to:this.props.link,onClick:function(t){e.props.pillar.disabled&&(t.preventDefault(),alert("Coming soon..."))}},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:this.props.pillar.icon,alt:this.props.pillar.title})),o.a.createElement("div",{className:"title"},this.props.pillar.title))}}])&&ue(t.prototype,n),r&&ue(t,r),i}(r.Component);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ee(this,n)}}function Ee(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(i,e);var t,n,r,a=Se(i);function i(){return ve(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=["TaskButton"].concat(be(this.props.classes));return o.a.createElement(oe.a,{className:e.join(" "),to:this.props.link},this.props.title)}}])&&ge(t.prototype,n),r&&ge(t,r),i}(r.Component),Ae=n(451),Te=n.n(Ae);function je(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"getCSRFToken",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.request({url:"/getCSRFToken",method:"get",headers:{"x-requested-with":"XMLHttpRequest"}});case 2:if(t=e.sent,n=t.data,r=N.a.get(n,"CSRFToken",null)){e.next=7;break}throw new Error(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){je(a,n,r,i,c,"next",e)}function c(e){je(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&Ce(t.prototype,n),r&&Ce(t,r),e}();function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(s,e);var t,n,r,a,i,c=Le(s);function s(){return De(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.logout()}},o.a.createElement("div",null,o.a.createElement("img",{src:Te.a}),"Log Out"))}},{key:"logout",value:(a=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.getCSRFToken();case 2:t=e.sent,window.location.href="/Security/Logout?SecurityID=".concat(t);case 4:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Ie(o,n,r,i,c,"next",e)}function c(e){Ie(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&xe(t.prototype,n),r&&xe(t,r),s}(r.Component);Fe.defaultProps={classes:[]};var Qe=Fe,qe=n(145),He=n.n(qe);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ze(e);if(t){var o=Ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(s,e);var t,n,r,a,i,c=$e(s);function s(){return Ye(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:He.a}),"My Submissions"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MySubmissions";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){Je(o,n,r,i,c,"next",e)}function c(e){Je(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&We(t.prototype,n),r&&We(t,r),s}(r.Component);et.defaultProps={classes:[]};var tt=et,nt=n(452),rt=n.n(nt);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mt(e);if(t){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pt(this,n)}}function pt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(s,e);var t,n,r,a,i,c=ft(s);function s(){return st(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.awaitingApprovals()}},o.a.createElement("div",null,o.a.createElement("img",{src:rt.a}),"Awaiting Approvals"))}},{key:"awaitingApprovals",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/AwaitingApprovals";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){at(o,n,r,i,c,"next",e)}function c(e){at(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&ut(t.prototype,n),r&&ut(t,r),s}(r.Component);dt.defaultProps={classes:[]};var yt=dt,bt=n(453),ht=n.n(bt);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(s,e);var t,n,r,a,i,c=At(s);function s(){return Et(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).classes;return o.a.createElement("button",{className:"HeaderButton ".concat(t.join(" ")),onClick:function(){e.allSubmission()}},o.a.createElement("div",null,o.a.createElement("img",{src:ht.a}),"My Products"))}},{key:"allSubmission",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="#/MyProducts";case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){gt(o,n,r,i,c,"next",e)}function c(e){gt(o,n,r,i,c,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})}])&&kt(t.prototype,n),r&&kt(t,r),s}(r.Component);Ct.defaultProps={classes:[]};var _t=Ct;function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bt(this,n)}}function Bt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(i,e);var t,n,r,a=Lt(i);function i(){return Dt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=Nt({},this.props.homeState),t=e.title,n=e.subtitle,r=e.pillars,a=e.tasks,i=Nt({},this.props.siteConfig).logoPath;return o.a.createElement("div",{className:"Home"},o.a.createElement(Qe,{classes:["clearfix","float-right","mt-5","mr-4"]}),o.a.createElement(tt,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(yt,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement(_t,{classes:["clearfix","float-right","mt-5","mr-1"]}),o.a.createElement("div",{className:"layout"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"})),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n),o.a.createElement("div",{className:"pillars"},o.a.createElement("div",{className:"row"},r.map((function(e,t){return o.a.createElement(de,{link:"/questionnaire/start/".concat(e.questionnaireID),classes:["col","mx-1"],pillar:e,key:"pillar_"+(t+1)})})))),o.a.createElement("div",{className:"tasks"},a.map((function(e,t){var n="/tasks/standalone/".concat(e.id);return"selection"===e.type&&(n="/component-selection/standalone/".concat(e.id,"?componentTarget=").concat(e.componentTarget)),o.a.createElement(we,{link:n,classes:["mx-1"],title:e.name,key:"standalone_task_"+(t+1)})})))))}}])&&xt(t.prototype,n),r&&xt(t,r),i}(r.Component);function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wt(e);if(t){var o=Wt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(i,e);var t,n,r,a=Gt(i);function i(){return Vt(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).footerCopyrightText;return o.a.createElement("footer",{className:"Footer"},o.a.createElement("div",null,e))}}])&&Jt(t.prototype,n),r&&Jt(t,r),i}(r.Component);zt.defaultProps={footerCopyrightText:""};var $t=zt,Xt=n(205),Zt=n.n(Xt),en=n(454),tn=n.n(en),nn=n(455),rn=n.n(nn),on=n(456),an=n.n(on);function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var sn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseSiteConfigFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=String.fromCharCode(169)+" NZTA "+(new Date).getFullYear();return{siteTitle:A()(k()(t,"Title")||"NZTA SDLT"),footerCopyrightText:A()(k()(t,"FooterCopyrightText","")||n),logoPath:A()(k()(t,"LogoPath","")||tn.a),homePageBackgroundImagePath:A()(k()(t,"HomePageBackgroundImagePath","")||Zt.a),pdfHeaderImageLink:A()(k()(t,"PdfHeaderImageLink","")||rn.a),pdfFooterImageLink:A()(k()(t,"PdfFooterImageLink","")||an.a),securityTeamEmail:A()(k()(t,"SecurityTeamEmail")||"")}}}],(n=null)&&cn(t.prototype,n),r&&cn(t,r),e}();function un(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSiteConfig",value:(o=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,F.request({query:"\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}"});case 3:return t=e.sent,n=N.a.get(t,"data.readSiteConfig.0",null),r=sn.parseSiteConfigFromJSON(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var a=o.apply(e,t);function i(e){un(a,n,r,i,c,"next",e)}function c(e){un(a,n,r,i,c,"throw",e)}i(void 0)}))},function(){return a.apply(this,arguments)})}],n&&ln(t.prototype,n),r&&ln(t,r),e}();function pn(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function mn(){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fn.fetchSiteConfig();case 3:n=e.sent,r={type:l.SITE_CONFIG.LOAD_SITE_CONFIG,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){pn(a,r,o,i,c,"next",e)}function c(e){pn(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()}function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=En(e);if(t){var o=En(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(e,t){return!t||"object"!==dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(i,e);var t,n,r,a=On(i);function i(){return hn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.dispatchLoadHomeDataAction&&this.props.dispatchLoadHomeDataAction()}},{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.siteConfig,n=e.homeState;return n&&t?o.a.createElement("div",{className:"HomeContainer",style:{backgroundImage:'url("'.concat(t.homePageBackgroundImagePath,'")'),backgroundSize:"cover"}},o.a.createElement(Ft,{homeState:n,siteConfig:t}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText})):null}}])&&vn(t.prototype,n),r&&vn(t,r),i}(r.Component),wn=Object(c.b)((function(e){return{homeState:e.homeState,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadHomeDataAction:function(){e(re()),e(mn())}}}))(kn),An=n(206),Tn=n.n(An);function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xn(e);if(t){var o=xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dn(this,n)}}function Dn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(i,e);var t,n,r,a=Rn(i);function i(){return Pn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.classes,r=e.disabled,a=e.onClick,i=e.iconImage,c=e.rightIconImage,s=null,u=null;return i&&(s=o.a.createElement("img",{src:i})),c&&(u=o.a.createElement("img",{className:"img-right",src:c})),o.a.createElement("button",{className:Tn()("BaseButton",n,{disabled:r}),onClick:function(e){r?e.preventDefault():a(e)}},s,t,u)}}])&&In(t.prototype,n),r&&In(t,r),i}(r.Component);Un.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Ln=Un;function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fn(e){return function(e){if(Array.isArray(e))return Qn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gn(e);if(t){var o=Gn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kn(this,n)}}function Kn(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(i,e);var t,n,r,a=Jn(i);function i(){return qn(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,Mn({},this.props,{classes:["LightButton"].concat(Fn(this.props.classes))}))}}])&&Hn(t.prototype,n),r&&Hn(t,r),i}(r.Component);Yn.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Wn=Yn;function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nr(e);if(t){var o=nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tr(this,n)}}function tr(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(i,e);var t,n,r,a=er(i);function i(){return $n(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.keyInformation,n=e.user,r=e.onStartButtonClick;return o.a.createElement("div",{className:"Start"},o.a.createElement("div",{className:"start-form"},o.a.createElement("div",{className:"info-box"},o.a.createElement("div",{className:"key-info-title"},"Key Information:"),o.a.createElement("div",{className:"key-info",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{className:"user-info"},o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Your Name: "),o.a.createElement("span",null,n.name)),o.a.createElement("div",{className:"info-line"},o.a.createElement("b",null,"Email Address: "),o.a.createElement("span",null,n.email))),o.a.createElement("div",{className:"actions"},o.a.createElement(Wn,{title:"START",onClick:r})))))}}])&&Xn(t.prototype,n),r&&Xn(t,r),i}(r.Component);function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ar=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseUserFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,n=k()(t,"FirstName")?A()(k()(t,"FirstName",""))+" "+A()(k()(t,"Surname","")):"";return{id:A()(k()(t,"ID")),name:n,email:k()(t,"Email"),isSA:"true"===A()(k()(t,"IsSA")),isCISO:"true"===A()(k()(t,"IsCISO")),isCertificationAuthority:"true"===A()(k()(t,"IsCertificationAuthority")),isAccreditationAuthority:"true"===A()(k()(t,"IsAccreditationAuthority"))}}},{key:"parserMemberFromJSON",value:function(e){return Y()(e).map((function(e){var t=k()(e,"FirstName")?A()(k()(e,"FirstName",""))+" "+A()(k()(e,"Surname","")):"";return{value:k()(e,"ID"),label:t}}))}},{key:"parserCollaboratorsFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return Y()(t).map((function(e){var t=k()(e,"Name")?A()(k()(e,"Name","")):"";return{value:k()(e,"ID"),label:t}}))}}],(n=null)&&or(t.prototype,n),r&&or(t,r),e}();function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ur(a,r,o,i,c,"next",e)}function c(e){ur(a,r,o,i,c,"throw",e)}i(void 0)}))}}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,s,u,l,f,p,m,d,y,b,h,v,g,O,S,E,k;return t=e,n=null,r=[{key:"createInProgressSubmission",value:(k=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.questionnaireID,o=n.csrfToken,a="\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ".concat(r,"){\n   UUID\n }\n}"),e.next=4,F.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=N.a.get(i,"data.createQuestionnaireSubmission.UUID",null)){e.next=8;break}throw Q;case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})},{key:"fetchStartData",value:(E=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='\nquery {\n  readMember(Type: "Current")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: '.concat(t,") {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n"),e.next=3,F.request({query:n});case 3:if(r=e.sent,o=N.a.get(r,"data.readMember.0",null),a=N.a.get(r,"data.readQuestionnaire",null),i=N.a.get(r,"data.readSiteConfig.0",null),o&&a&&i){e.next=9;break}throw Q;case 9:return e.abrupt("return",{title:N.a.get(a,"Name",""),siteConfig:sn.parseSiteConfigFromJSON(i),subtitle:N.a.get(i,"Title",""),questionnaireID:N.a.get(a,"ID",""),keyInformation:N.a.get(a,"KeyInformation",""),user:ar.parseUserFromJSON(o)});case 10:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)})},{key:"fetchSubmissionData",value:(S=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsCertificationAuthority\n    IsAccreditationAuthority\n  }\n  readQuestionnaireSubmission(UUID: "'.concat(t,'", SecureToken: "').concat(n,'") {\n    ID\n    UUID\n    ApprovalLinkToken\n    BusinessOwnerAcknowledgementText\n    CertificationAuthorityAcknowledgementText\n    AccreditationAuthorityAcknowledgementText\n    IsCertificationAndAccreditationTaskExists\n    ProductAspects\n    User {\n      ID\n    }\n    SubmitterName\n    SubmitterEmail\n    QuestionnaireStatus\n    BusinessOwnerApproverName\n    RiskResultData\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      IsTaskApprovalRequired\n      TimeToComplete\n      TimeToReview\n      CanTaskCreateNewTasks\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    AccreditationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprovalStatus\n    AccreditationAuthorityApprovalStatus\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n    Created\n    ReleaseDate\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    SecurityTeamEmail\n  }\n}'),e.next=3,F.request({query:r});case 3:if(o=e.sent,a=N.a.get(o,"data.readMember.0",{}),i=N.a.get(o,"data.readQuestionnaireSubmission.0",{}),c=N.a.get(o,"data.readSiteConfig.0",null),a&&i&&c){e.next=9;break}throw Q;case 9:return s={title:N.a.toString(N.a.get(i,"Questionnaire.Name","")),siteConfig:sn.parseSiteConfigFromJSON(c),user:ar.parseUserFromJSON(a),isCurrentUserApprover:"true"===N.a.get(i,"IsCurrentUserAnApprover","false"),isCurrentUserABusinessOwnerApprover:"true"===N.a.get(i,"IsCurrentUserABusinessOwnerApprover","false"),submission:{isApprovalOverrideBySecurityArchitect:Boolean(N.a.get(i,"ApprovalOverrideBySecurityArchitect",!1)),hideWeightsAndScore:"true"===N.a.get(i,"HideWeightsAndScore","false"),questionnaireID:N.a.toString(N.a.get(i,"Questionnaire.ID","")),questionnaireTitle:N.a.toString(N.a.get(i,"Questionnaire.Name","")),submissionID:N.a.toString(N.a.get(i,"ID","")),submissionUUID:N.a.toString(N.a.get(i,"UUID","")),submissionToken:N.a.toString(N.a.get(i,"ApprovalLinkToken","")),productName:N.a.toString(N.a.get(i,"ProductName","")),submitter:{id:N.a.toString(N.a.get(i,"User.ID")),name:N.a.toString(N.a.get(i,"SubmitterName","")),email:N.a.toString(N.a.get(i,"SubmitterEmail","")),isSA:!1,isCISO:!1},status:N.a.toString(N.a.get(i,"QuestionnaireStatus","")).toLowerCase().replace("-","_"),approvalStatus:{chiefInformationSecurityOfficer:N.a.toString(N.a.get(i,"CisoApprovalStatus","")),businessOwner:N.a.toString(N.a.get(i,"BusinessOwnerApprovalStatus","")),securityArchitect:N.a.toString(N.a.get(i,"SecurityArchitectApprovalStatus","")),certificationAuthority:N.a.toString(N.a.get(i,"CertificationAuthorityApprovalStatus","")),accreditationAuthority:N.a.toString(N.a.get(i,"AccreditationAuthorityApprovalStatus",""))},securityArchitectApprover:{firstName:N.a.toString(N.a.get(i,"SecurityArchitectApprover.FirstName","")),surname:N.a.toString(N.a.get(i,"SecurityArchitectApprover.Surname",""))},cisoApprover:{firstName:N.a.toString(N.a.get(i,"CisoApprover.FirstName","")),surname:N.a.toString(N.a.get(i,"CisoApprover.Surname",""))},certificationAuthorityApprover:{firstName:N.a.toString(N.a.get(i,"CertificationAuthorityApprover.FirstName","")),surname:N.a.toString(N.a.get(i,"CertificationAuthorityApprover.Surname",""))},accreditationAuthorityApprover:{firstName:N.a.toString(N.a.get(i,"AccreditationAuthorityApprover.FirstName","")),surname:N.a.toString(N.a.get(i,"AccreditationAuthorityApprover.Surname",""))},questions:K.parseQuestionsFromJSON({schemaJSON:N.a.toString(N.a.get(i,"QuestionnaireData","")),answersJSON:N.a.toString(N.a.get(i,"AnswerData",""))}),businessOwnerApproverName:N.a.toString(N.a.get(i,"BusinessOwnerApproverName","")),businessOwnerAcknowledgementText:N.a.toString(N.a.get(i,"BusinessOwnerAcknowledgementText","")),certificationAuthorityAcknowledgementText:N.a.toString(N.a.get(i,"CertificationAuthorityAcknowledgementText","")),accreditationAuthorityAcknowledgementText:N.a.toString(N.a.get(i,"AccreditationAuthorityAcknowledgementText","")),isCertificationAndAccreditationTaskExists:"true"===N.a.get(i,"IsCertificationAndAccreditationTaskExists","false"),taskSubmissions:N.a.toArray(N.a.get(i,"TaskSubmissions",[])).map((function(e){return{uuid:N.a.toString(N.a.get(e,"UUID","")),taskName:N.a.toString(N.a.get(e,"TaskName","")),taskType:N.a.toString(N.a.get(e,"TaskType","")),status:N.a.toString(N.a.get(e,"Status","")),approver:ar.parseUserFromJSON(N.a.get(e,"TaskApprover")),isTaskApprovalRequired:"true"===N.a.get(e,"IsTaskApprovalRequired","false"),timeToComplete:N.a.toString(N.a.get(e,"TimeToComplete","")),timeToReview:N.a.toString(N.a.get(e,"TimeToReview","")),canTaskCreateNewTasks:"true"===N.a.get(e,"CanTaskCreateNewTasks","false")}})),collaborators:ar.parserCollaboratorsFromJSON(N.a.get(i,"CollaboratorList",[])),riskResults:N.a.has(i,"RiskResultData")?JSON.parse(N.a.get(i,"RiskResultData","[]")):"[]",created:N.a.toString(N.a.get(i,"Created","")),releaseDate:N.a.toString(N.a.get(i,"ReleaseDate","")),productAspects:N.a.has(i,"ProductAspects")?JSON.parse(N.a.get(i,"ProductAspects","[]")):"[]"}},e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)}))),function(e,t){return S.apply(this,arguments)})},{key:"updateSubmissionData",value:(O=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.questionID,a=n.answerData,i=n.csrfToken,c=window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s='\nmutation {\n  updateQuestionnaireSubmission(ID: "'.concat(r,'", QuestionID: "').concat(o,'", AnswerData: "').concat(c,'") {\n    ID\n    AnswerData\n  }\n}'),e.next=5,F.request({query:s,csrfToken:i});case 5:if(u=e.sent,N.a.get(u,"data.updateQuestionnaireSubmission.AnswerData",null)){e.next=9;break}throw Q;case 9:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)})},{key:"batchUpdateSubmissionData",value:(g=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,f,p,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=cr({},t),r=n.submissionID,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,o.length===a.length){e.next=3;break}throw Q;case 3:for(c=[],s=0;s<o.length;s++)u=o[s],l=a[s],f=window.btoa(unescape(encodeURIComponent(JSON.stringify(l)))),p="\nupdateQuestion".concat(u,': updateQuestionnaireSubmission(ID: "').concat(r,'", QuestionID: "').concat(u,'", AnswerData: "').concat(f,'") {\n  ID\n  AnswerData\n}'),c.push(p);return m="\nmutation {\n  ".concat(c.join("\n"),"\n}\n"),e.next=8,F.request({query:m,csrfToken:i});case 8:if(d=e.sent,N.a.get(d,"data",null)){e.next=12;break}throw Q;case 12:case"end":return e.stop()}}),e)}))),function(e){return g.apply(this,arguments)})},{key:"submitQuestionnaire",value:(v=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToSubmitted.UUID",null)),c&&s){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})},{key:"submitQuestionnaireForApproval",value:(h=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID",null)),c&&s){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"assignQuestionnaireSubmissionToSecurityArchitect",value:(b=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID",null)),c&&s){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)})},{key:"approveQuestionnaireSubmission",value:(y=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,F.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=N.a.toString(N.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus",null)),u=N.a.toString(N.a.get(c,"data.updateQuestionnaireOnApproveByGroupMember.UUID",null)),s&&u){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return y.apply(this,arguments)})},{key:"denyQuestionnaireSubmission",value:(d=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.skipBoAndCisoApproval,i='\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: "'.concat(r,'", SkipBoAndCisoApproval: ').concat(a,") {\n   QuestionnaireStatus\n   UUID\n }\n}"),e.next=4,F.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=N.a.toString(N.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus",null)),u=N.a.toString(N.a.get(c,"data.updateQuestionnaireOnDenyByGroupMember.UUID",null)),s&&u){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"editQuestionnaireSubmission",value:(m=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToInProgress(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToInProgress.UUID",null)),c&&s){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"updateQuestionnaireStatusToSendBackForChanges",value:(p=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a='\nmutation {\n updateQuestionnaireStatusToSendBackForChanges(ID: "'.concat(r,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.QuestionnaireStatus",null)),s=N.a.toString(N.a.get(i,"data.updateQuestionnaireStatusToSendBackForChanges.UUID",null)),c&&s){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:s});case 10:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"fetchQuestionnaireSubmissionList",value:(f=lr(regeneratorRuntime.mark((function e(t,n,r,o){var a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='query {\n      paginatedReadQuestionnaireSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(o,") {\n        edges {\n          node {\n            ID\n            UUID\n            QuestionnaireStatus\n            QuestionnaireName\n            Created\n            ProductName\n            ReleaseDate\n            BusinessOwnerApproverName\n            SubmitterName\n            SecurityArchitectApprover {\n              FirstName\n              Surname\n              ID\n            }\n            CisoApprovalStatus\n            BusinessOwnerApprovalStatus\n          }\n        }\n        pageInfo {\n          hasNextPage,\n          hasPreviousPage,\n          totalCount\n        }\n      }\n    }"),e.next=3,F.request({query:a});case 3:if(i=e.sent,c=N.a.get(i,"data.paginatedReadQuestionnaireSubmissions.edges",[]),s=N.a.get(i,"data.paginatedReadQuestionnaireSubmissions.pageInfo",[]),Array.isArray(c)){e.next=8;break}throw"error";case 8:return u={totalCount:N.a.get(s,"totalCount",0),hasNextPage:Boolean(N.a.get(s,"hasNextPage",!1)),hasPreviousPage:Boolean(N.a.get(s,"hasPreviousPage",!1))},l=c.map((function(e){var t={};return t.id=N.a.get(e,"node.ID",""),t.uuid=N.a.get(e,"node.UUID",""),t.status=N.a.get(e,"node.QuestionnaireStatus",""),t.productName=N.a.get(e,"node.ProductName",""),t.questionnaireName=N.a.get(e,"node.QuestionnaireName",""),t.created=N.a.get(e,"node.Created",""),t.releaseDate=N.a.get(e,"node.ReleaseDate",""),t.businessOwner=N.a.get(e,"node.BusinessOwnerApproverName",""),t.submitterName=N.a.get(e,"node.SubmitterName",""),t.SecurityArchitectApprover=N.a.toString(N.a.get(e,"node.SecurityArchitectApprover.FirstName","")+" "+N.a.get(e,"node.SecurityArchitectApprover.Surname","")),t.SecurityArchitectApproverID=N.a.get(e,"node.SecurityArchitectApprover.ID",""),t.CisoApprovalStatus=N.a.get(e,"node.CisoApprovalStatus",""),t.BusinessOwnerApprovalStatus=N.a.get(e,"node.BusinessOwnerApprovalStatus",""),t[""],t})),e.abrupt("return",{questionnaireSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return f.apply(this,arguments)})},{key:"approveQuestionnaireSubmissionAsBusinessOwner",value:(l=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToApproved(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=N.a.toString(N.a.get(c,"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus",null)),u=N.a.toString(N.a.get(c,"data.updateQuestionnaireStatusToApproved.UUID",null)),s&&u){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"denyQuestionnaireSubmissionAsBusinessOwner",value:(u=lr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr({},t),r=n.submissionID,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n updateQuestionnaireStatusToDenied(ID: "'.concat(r,'", SecureToken: "').concat(a,'") {\n   QuestionnaireStatus\n   UUID\n }\n}'),e.next=4,F.request({query:i,csrfToken:o});case 4:if(c=e.sent,s=N.a.toString(N.a.get(c,"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus",null)),u=N.a.toString(N.a.get(c,"data.updateQuestionnaireStatusToDenied.UUID",null)),s&&u){e.next=9;break}throw Q;case 9:return e.abrupt("return",{uuid:u});case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"addCollaborator",value:(s=lr(regeneratorRuntime.mark((function e(t,n,r){var o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],n&&n.length>0&&(o=n.map((function(e){return N.a.get(e,"value","")}))),a=window.btoa(JSON.stringify(o)),i='mutation {\n     addCollaborator(ID: "'.concat(t,'", SelectedCollaborator: "').concat(a,'") {\n       UUID\n     }\n    }'),e.next=6,F.request({query:i,csrfToken:r});case 6:if(c=e.sent,s=N.a.toString(N.a.get(c,"data.addCollaborator.UUID",null))){e.next=10;break}throw Q;case 10:return e.abrupt("return",{uuid:s});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n){return s.apply(this,arguments)})},{key:"grantCertification",value:(c=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     grantCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=N.a.toString(N.a.get(o,"data.grantCertification.UUID",null))){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"denyCertification",value:(i=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyCertification(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=N.a.toString(N.a.get(o,"data.denyCertification.UUID",null))){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"issueAccreditation",value:(a=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     issueAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=N.a.toString(N.a.get(o,"data.issueAccreditation.UUID",null))){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})},{key:"denyAccreditation",value:(o=lr(regeneratorRuntime.mark((function e(t,n){var r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r='mutation {\n     denyAccreditation(ID: "'.concat(t,'") {\n       UUID\n     }\n    }'),e.next=3,F.request({query:r,csrfToken:n});case 3:if(o=e.sent,a=N.a.toString(N.a.get(o,"data.denyAccreditation.UUID",null))){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:a});case 8:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})}],n&&fr(t.prototype,n),r&&fr(t,r),e}();function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){yr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"transformFromFullQuestionToData",value:function(e){var t={isCurrent:e.isCurrent,hasAnswer:e.hasAnswer,isApplicable:e.isApplicable,answerType:e.type};return"input"===e.type&&Array.isArray(e.inputs)&&(t.inputs=e.inputs.map((function(e){var t=e.data;return t&&N.a.isString(t)&&(t=t.trim()),{id:e.id,data:t}}))),"action"===e.type&&Array.isArray(e.actions)&&(t.actions=e.actions.map((function(e){return{id:e.id,isChose:e.isChose}}))),t}},{key:"existsUnansweredQuestion",value:function(e){var t=!1;return e.forEach((function(e){var n=dr({},e),r=n.hasAnswer,o=n.isApplicable;!r&&o&&(t=!0)})),t}},{key:"existsIncompleteTaskSubmission",value:function(e){var t=!1;return e.forEach((function(e){"in_progress"!==e.status&&"start"!==e.status&&"waiting_for_approval"!==e.status&&"denied"!==e.status||(t=!0)})),t}},{key:"getDataUpdateIntent",value:function(e){var t=dr({},e),n=t.answeredQuestion,r=t.questions,o=r.findIndex((function(e){return e.id===n.id})),a=o===r.length-1,i={currentIndex:o,nonApplicableIndexes:[],targetIndex:0,complete:!1,terminate:!1,result:""};if("input"===n.type||"display"===n.type)return a?i.complete=!0:i.targetIndex=i.currentIndex+1,i;if("action"===n.type){if(!n.actions)throw new Error("This question does not have any action!");var c=n.actions.find((function(e){return e.isChose}));if(!c)throw new Error("This question does not have any chosen action!");if("finish"===c.type){for(var s=i.currentIndex+1;s<r.length;s++)i.nonApplicableIndexes.push(s);i.result=c.result||"",i.complete=!0}if("message"===c.type&&(i.terminate=!0),"continue"!==c.type||a||(i.targetIndex=i.currentIndex+1),"goto"===c.type){var u=c.goto;if(i.targetIndex=r.findIndex((function(e){return e.id===u})),i.targetIndex<=i.currentIndex)throw new Error("The next question is not set correctly!");if(i.targetIndex-i.currentIndex>1)for(var l=i.currentIndex+1;l<i.targetIndex;)i.nonApplicableIndexes.push(l),l++}return a&&!i.terminate&&(i.complete=!0),i}throw new Error("Wrong question type!")}}],(n=null)&&br(t.prototype,n),r&&br(t,r),e}(),vr=n(207),gr=n.n(vr);function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Sr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONOArray",value:function(t){return Y()(t).map((function(t){var n=e.parseFromJSONObject(k()(t,"SecurityComponent"));return n.productAspect=A()(k()(t,"ProductAspect","")),n}))}},{key:"parseFromJSONObject",value:function(e){return{id:A()(k()(e,"ID","")),name:A()(k()(e,"Name","")),description:A()(k()(e,"Description")),controls:(k()(e,"Controls")||[]).map((function(e){return{id:A()(k()(e,"ID","")),name:A()(k()(e,"Name","")),description:A()(k()(e,"Description","")),implementationGuidance:A()(k()(e,"ImplementationGuidance",""))}}))}}},{key:"parseCVAFromJSONObject",value:function(e){return e.map((function(e){return{id:A()(k()(e,"id","")),name:A()(k()(e,"name","")),productAspect:A()(k()(e,"productAspect","")),controls:(k()(e,"controls")||[]).map((function(e){return{id:A()(k()(e,"id","")),name:A()(k()(e,"name","")),selectedOption:A()(k()(e,"selectedOption","")),description:A()(k()(e,"description","")),implementationGuidance:A()(k()(e,"implementationGuidance","")),implementationEvidence:A()(k()(e,"implementationEvidence","")),implementationEvidenceUserInput:A()(k()(e,"implementationEvidenceUserInput",""))}})),jiraTicketLink:A()(k()(e,"jiraTicketLink",""))}}))}}],(n=null)&&Or(t.prototype,n),r&&Or(t,r),e}();function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"parseFromJSONArray",value:function(t){return Y()(t).map((function(t){return e.parseFromJSONObject(t)}))}},{key:"parseFromJSONObject",value:function(e){return{id:A()(k()(e,"ID")),jiraKey:A()(k()(e,"JiraKey")),link:A()(k()(e,"TicketLink"))}}}],(n=null)&&Er(t.prototype,n),r&&Er(t,r),e}();function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Cr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){jr(a,r,o,i,c,"next",e)}function c(e){jr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i,c,s,u,l,f,p,m,d;return t=e,n=null,r=[{key:"fetchTaskSubmission",value:(d=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    RiskProfileData\n    ResultForCertificationAndAccreditation\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    IsDisplayPreventMessage\n    PreventMessage\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n    InformationClassificationTaskResult\n  }\n  readServiceInventory {\n    ID\n    ServiceName\n  }\n}'),e.next=4,F.request({query:a});case 4:if(i=e.sent,c=k()(i,"data.readTaskSubmission.0",null),s=k()(i,"data.readServiceInventory",null),c){e.next=9;break}throw Q;case 9:return u={id:A()(k()(c,"ID","")),uuid:A()(k()(c,"UUID","")),taskName:A()(k()(c,"TaskName","")),taskType:A()(k()(c,"TaskType","")),status:A()(k()(c,"Status","")),result:A()(k()(c,"Result","")),informationClassificationTaskResult:A()(k()(c,"InformationClassificationTaskResult","")),submitter:ar.parseUserFromJSON(k()(c,"Submitter")),lockWhenComplete:Boolean(k()(c,"LockAnswersWhenComplete",!1)),questionnaireSubmissionUUID:A()(k()(c,"QuestionnaireSubmission.UUID","")),questionnaireSubmissionID:A()(k()(c,"QuestionnaireSubmission.ID","")),questionnaireSubmissionStatus:A()(k()(c,"QuestionnaireSubmission.QuestionnaireStatus","")),questions:K.parseQuestionsFromJSON({schemaJSON:A()(k()(c,"QuestionnaireData","")),answersJSON:A()(k()(c,"AnswerData",""))}),selectedComponents:Sr.parseFromJSONOArray(k()(c,"SelectedComponents",[])),jiraTickets:kr.parseFromJSONArray(k()(c,"JiraTickets",[])),isCurrentUserAnApprover:"true"===k()(c,"IsCurrentUserAnApprover","false"),isTaskApprovalRequired:"true"===k()(c,"IsTaskApprovalRequired",!1),riskResults:_.has(c,"RiskResultData")?JSON.parse(k()(c,"RiskResultData","[]")):"[]",taskRecommendations:_.has(c,"TaskRecommendationData")?JSON.parse(_.defaultTo(k()(c,"TaskRecommendationData","[]"),"[]")):"[]",productAspects:_.has(c,"ProductAspects")?JSON.parse(k()(c,"ProductAspects",[])):[],componentTarget:A()(k()(c,"ComponentTarget","")),hideWeightsAndScore:"true"===_.get(c,"HideWeightsAndScore","false"),isTaskCollborator:"true"===_.get(c,"IsTaskCollborator","false"),isDisplayPreventMessage:"true"===_.get(c,"IsDisplayPreventMessage","false"),preventMessage:A()(k()(c,"PreventMessage","")),siblingSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c),serviceRegister:z.parseServiceRegister(s),riskProfileData:_.has(c,"RiskProfileData")?JSON.parse(k()(c,"RiskProfileData",[])):[],resultForCertificationAndAccreditation:_.has(c,"ResultForCertificationAndAccreditation")?JSON.parse(k()(c,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"fetchResultForCertificationAndAccreditation",value:(m=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    ResultForCertificationAndAccreditation\n  }\n}'),e.next=4,F.request({query:a});case 4:if(i=e.sent,c=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw Q;case 8:return s={id:A()(k()(c,"ID","")),uuid:A()(k()(c,"UUID","")),resultForCertificationAndAccreditation:_.has(c,"ResultForCertificationAndAccreditation")?JSON.parse(k()(c,"ResultForCertificationAndAccreditation",[])):[]},e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})},{key:"batchUpdateTaskSubmissionData",value:(p=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,f,p,m,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ar({},t),r=n.uuid,o=n.questionIDList,a=n.answerDataList,i=n.csrfToken,c=n.secureToken,o.length===a.length){e.next=3;break}throw Q;case 3:for(s=[],u=0;u<o.length;u++)l=o[u],f=a[u],p=window.btoa(unescape(encodeURIComponent(JSON.stringify(f)))),m="\nupdateQuestion".concat(l,': updateTaskSubmission(\n  UUID: "').concat(r,'",\n  QuestionID: "').concat(l,'",\n  AnswerData: "').concat(p,'",\n  SecureToken: "').concat(c||"",'"\n) {\n  UUID\n  Status\n\n}'),s.push(m);return d="\nmutation {\n  ".concat(s.join("\n"),"\n}\n"),e.next=8,F.request({query:d,csrfToken:i});case 8:if(y=e.sent,k()(y,"data",null)){e.next=12;break}throw Q;case 12:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"completeTaskSubmission",value:(f=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.result,a=n.csrfToken,i=n.secureToken,c='\nmutation {\n completeTaskSubmission(UUID: "'.concat(r,'", Result: "').concat(o,'", SecureToken: "').concat(i||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:c,csrfToken:a});case 4:if(s=e.sent,k()(s,"data.completeTaskSubmission.UUID",null)){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"editTaskSubmission",value:(l=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a=n.secureToken,i='\nmutation {\n editTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(a||"",'") {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:i,csrfToken:o});case 4:if(c=e.sent,k()(c,"data.editTaskSubmission.UUID",null)){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"fetchStandaloneTask",value:(u=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.taskId,o='\nquery {\n  readTask(ID: "'.concat(r,'") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}'),e.next=4,F.request({query:o});case 4:if(a=e.sent,i=k()(a,"data.readTask",null)){e.next=8;break}throw Q;case 8:return c=z.parseFromJSONObject(i),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"updateTaskSubmissionWithSelectedComponents",value:(s=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a=n.components,i=n.jiraKey,c='\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: "'.concat(r,'",\n Components: "').concat(window.btoa(JSON.stringify(a)),'",\n JiraKey: "').concat(i,'"\n ) {\n   UUID\n   Status\n }\n}'),e.next=4,F.request({query:c,csrfToken:o});case 4:if(s=e.sent,k()(s,"data.updateTaskSubmissionWithSelectedComponents.UUID",null)){e.next=7;break}throw Q;case 7:return e.abrupt("return",{uuid:r});case 8:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"approveTaskSubmission",value:(c=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToApproved(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,F.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=A()(k()(i,"data.updateTaskStatusToApproved.Status",null)))&&r){e.next=8;break}throw Q;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"denyTaskSubmission",value:(i=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n updateTaskStatusToDenied(UUID: "'.concat(r,'") {\n   Status\n   UUID\n }\n}'),e.next=4,F.request({query:a,csrfToken:o});case 4:if(i=e.sent,(c=A()(k()(i,"data.updateTaskStatusToDenied.Status",null)))&&r){e.next=8;break}throw Q;case 8:return e.abrupt("return",{status:c});case 9:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"updateTaskRecommendation",value:(a=Cr(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar({},t),r=n.uuid,o=n.csrfToken,a=n.taskRecommendations,i='\n  mutation {\n    updateTaskRecommendation(\n      UUID: "'.concat(r,'",\n      TaskRecommendationData: "').concat(window.btoa(unescape(encodeURIComponent(JSON.stringify(a)))),'"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }'),e.next=4,F.request({query:i,csrfToken:o});case 4:if(c=e.sent,(s=_.has(c,"TaskRecommendationData")?JSON.parse(k()(submissionJSONObject,"TaskRecommendationData","[]")):"[]")&&r){e.next=8;break}throw Q;case 8:return e.abrupt("return",{taskRecommendationData:s});case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchTaskSubmissionList",value:(o=Cr(regeneratorRuntime.mark((function e(t,n,r,o){var a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a='query {\n      paginatedReadTaskSubmissions(UserID: "'.concat(t,'", PageType: "').concat(n,'", limit: ').concat(r,", offset: ").concat(o,") {\n        edges {\n          node {\n            ID\n            UUID\n            Created\n            TaskName\n            QuestionnaireSubmission {\n              ProductName\n            }\n            Submitter {\n              FirstName\n              Surname\n            }\n            Status\n          }\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          totalCount\n        }\n      }\n    }"),e.next=3,F.request({query:a});case 3:if(i=e.sent,c=k()(i,"data.paginatedReadTaskSubmissions.edges",[]),s=k()(i,"data.paginatedReadTaskSubmissions.pageInfo",[]),Array.isArray(c)){e.next=8;break}throw"error";case 8:return u={totalCount:k()(s,"totalCount",0),hasNextPage:Boolean(k()(s,"hasNextPage",!1)),hasPreviousPage:Boolean(k()(s,"hasPreviousPage",!1))},l=c.map((function(e){var t={};return t.id=k()(e,"node.ID",""),t.uuid=k()(e,"node.UUID",""),t.created=k()(e,"node.Created",""),t.taskName=k()(e,"node.TaskName",""),t.productName=k()(e,"node.QuestionnaireSubmission.ProductName",""),t.submitterName=A()(k()(e,"node.Submitter.FirstName",""))+" "+A()(k()(e,"node.Submitter.Surname","")),t.status=k()(e,"node.Status",""),t})),e.abrupt("return",{taskSubmissionList:l,pageInfo:u});case 11:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return o.apply(this,arguments)})}],n&&_r(t.prototype,n),r&&_r(t,r),e}();function Ir(e){return function(e){if(Array.isArray(e))return Nr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rr(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Dr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Rr(a,r,o,i,c,"next",e)}function c(e){Rr(a,r,o,i,c,"throw",e)}i(void 0)}))}}function xr(e,t){return void 0===t&&(t=""),function(){var n=Dr(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});case 2:return n.prev=2,n.next=5,pr.fetchSubmissionData(e,t);case 5:o=n.sent,r((a=o,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,payload:a})),n.next=14;break;case 9:return n.prev=9,n.t0=n.catch(2),n.next=13,r({type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE,error:n.t0});case 13:alert(n.t0);case 14:case"end":return n.stop()}var a}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}function Ur(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i,c,s,u,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:return i=hr.getDataUpdateIntent({answeredQuestion:e,questions:a.questions}),c=i.currentIndex,s=i.targetIndex,u=i.nonApplicableIndexes,f=i.complete,u.length>0&&n({type:l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,nonApplicableIndexes:u}),s>c&&n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:s}),t.next=9,Br(r(),N.a.uniq([c].concat(Ir(u),[s])));case 9:f&&D.redirectToQuestionnaireReview(a.submissionUUID);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function Lr(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});case 5:return n.prev=5,n.next=8,pr.fetchQuestionnaireSubmissionList(a.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE,error:n.t0});case 16:ErrorUtil.displayError(n.t0);case 17:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t){return n.apply(this,arguments)}}()}function Br(e,t){return Mr.apply(this,arguments)}function Mr(){return(Mr=Dr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.questionnaireState.submissionState.submission){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_e.getCSRFToken();case 5:return o=e.sent,e.prev=6,e.next=9,pr.batchUpdateSubmissionData({submissionID:r.submissionID,questionIDList:n.map((function(e){return r.questions[e].id})),answerDataList:n.map((function(e){return hr.transformFromFullQuestionToData(r.questions[e])})),csrfToken:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),alert(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yr(e);if(t){var o=Yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gr(this,n)}}function Gr(e,t){return!t||"object"!==Fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jr(e,t)}(i,e);var t,n,r,a=Kr(i);function i(){return Hr(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){qr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.title,n=e.subtitle,r=e.showLogoutButton,a=e.username,i=e.logopath;return o.a.createElement("header",{className:"Header"},o.a.createElement("div",{className:"top-banner"},o.a.createElement("a",{href:"/"},o.a.createElement("img",{src:i,className:"logo"}))),o.a.createElement("div",{className:"logout-layout"},r&&o.a.createElement("div",{className:"logout-block"},o.a.createElement("span",{className:"username"},a),o.a.createElement(Qe,null))),o.a.createElement("h1",null,t),o.a.createElement("h2",null,n))}}])&&Vr(t.prototype,n),r&&Vr(t,r),i}(r.Component);Wr.defaultProps={title:"",subtitle:"",username:"",logopath:"",showLogoutButton:!0};var zr=Wr;function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e,t){return(ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=io(e);if(t){var o=io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ao(this,n)}}function ao(e,t){return!t||"object"!==$r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function io(e){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ro(e,t)}(i,e);var t,n,r,a=oo(i);function i(){return to(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Zr({},this.props),t=e.questionnaireID;(0,e.dispatchLoadQuestionnaireAction)(t)}},{key:"render",value:function(){var e=Zr({},this.props.startState),t=e.title,n=e.siteConfig,r=e.keyInformation,a=e.user,i=Zr({},this.props),c=i.questionnaireID,s=i.dispatchCreateInProgressSubmissionAction;return a?o.a.createElement("div",{className:"StartContainer"},o.a.createElement(zr,{title:t,subtitle:n.siteTitle,username:a.name,logopath:n.logoPath}),o.a.createElement(rr,{keyInformation:r,user:a,onStartButtonClick:function(){s(c)}}),o.a.createElement($t,{footerCopyrightText:n.footerCopyrightText})):null}}])&&no(t.prototype,n),r&&no(t,r),i}(r.Component),so=Object(c.b)((function(e){return{startState:e.questionnaireState.startState}}),(function(e,t){return{dispatchLoadQuestionnaireAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pr.fetchStartData(e);case 3:r=t.sent,n((o=r,{type:l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0);case 10:case"end":return t.stop()}var o}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},dispatchCreateInProgressSubmissionAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return r=t.sent,t.next=6,pr.createInProgressSubmission({questionnaireID:e,csrfToken:r});case 6:o=t.sent,D.redirectToQuestionnaireEditing(o),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(co),uo=n(31),lo=n(460),fo=n.n(lo),po=n(461),mo=n.n(po),yo=n(462),bo=n.n(yo),ho=n(463),vo=n.n(ho);function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){Eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,t){return(Ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function To(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Co(e);if(t){var o=Co(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jo(this,n)}}function jo(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ao(e,t)}(i,e);var t,n,r,a=To(i);function i(){return ko(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=So({},this.props),t=e.question,n=e.onItemClick,r=e.index;return o.a.createElement("div",{className:"LeftBarItem"},this.renderIcon(t),o.a.createElement("button",{className:"btn",disabled:!t.isApplicable,onClick:function(e){n(t)}},r+1,".  ",t.title))}},{key:"renderIcon",value:function(e){var t=So({},e),n=t.isCurrent,r=t.hasAnswer,a=t.isApplicable;return n?o.a.createElement("img",{src:fo.a}):a?r&&a?o.a.createElement("img",{src:bo.a}):o.a.createElement("img",{src:mo.a}):o.a.createElement("img",{src:vo.a})}}])&&wo(t.prototype,n),r&&wo(t,r),i}(r.Component);function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bo(e);if(t){var o=Bo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lo(this,n)}}function Lo(e,t){return!t||"object"!==Po(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xo(e,t)}(i,e);var t,n,r,a=Uo(i);function i(){return Ro(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){No(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.questions,n=e.onItemClick;return o.a.createElement("div",{className:"LeftBar"},o.a.createElement("div",{className:"items"},t.map((function(e,t){return o.a.createElement(_o,{question:e,onItemClick:n,key:e.id,index:t})}))))}}])&&Do(t.prototype,n),r&&Do(t,r),i}(r.Component);function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(){return(Qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qo(e){return function(e){if(Array.isArray(e))return Ho(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ho(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Go(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wo(e);if(t){var o=Wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yo(this,n)}}function Yo(e,t){return!t||"object"!==Fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(i,e);var t,n,r,a=Go(i);function i(){return Vo(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,Qo({},this.props,{classes:["DarkButton"].concat(qo(this.props.classes))}))}}])&&Jo(t.prototype,n),r&&Jo(t,r),i}(r.Component);zo.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var $o=zo,Xo=n(4),Zo=n.n(Xo),ea=n(465),ta=n.n(ea),na=(n(720),n(117)),ra=n.n(na),oa=n(212),aa=n.n(oa),ia=(n(191),n(408),n(112)),ca=(n(724),n(726),n(88)),sa=n(102),ua=n.n(sa),la=n(103),fa=n.n(la),pa=n(61),ma=n.n(pa),da=n(113),ya=n.n(da),ba=n(148),ha=n.n(ba),va=n(149),ga=n.n(va),Oa=n(464),Sa=n.n(Oa),Ea=n(67),ka=n.n(Ea),wa=(n(728),n(68)),Aa=n.n(wa);function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _a(){return(_a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xa(e);if(t){var o=xa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Da(this,n)}}function Da(e,t){return!t||"object"!==Ta(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(i,e);var t,n,r,a=Ra(i);function i(){var e;Pa(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={showModal:!1,FormType:"Add",issueID:"0"},e.handleOpenModal=function(){e.setState({showModal:!0})},e.handleCloseModal=function(){e.setState({showModal:!1,issueID:0})},e.handleOpenAddRecommendationModal=function(){var t=1;if(e.props.taskRecommendations.length>0){var n=e.props.taskRecommendations.reduce((function(e,t){return e.id>t.id?e:t}));n&&(t=n.id+1)}e.setState({showModal:!0,issueID:t,FormType:"Add"})},e.handleOpenEditRecommendationModal=function(t){e.setState({showModal:!0,issueID:t,FormType:"Edit"})},e.getFormInitialValues=function(){var t={id:e.state.issueID,title:"",description:"",recommendation:"",status:""};return"Edit"==e.state.FormType&&e.props.taskRecommendations.length>0&&0!=e.state.issueID&&(t=e.props.taskRecommendations.find((function(t){return t.id===e.state.issueID}))),t},e.renderRecommendationform=function(){return o.a.createElement(uo.c,{initialValues:e.getFormInitialValues(),validate:function(e){var t={};return e.title||(t.title="Please enter the issue title."),e.status||(t.status="Please enter the status."),e.description||(t.description="Please enter the issue description."),e.recommendation||(t.recommendation="Please enter the recommendation."),t},onSubmit:function(t,n){"Add"==e.state.FormType&&e.props.handleAddTaskRecommendationButtonClick(t),"Edit"==e.state.FormType&&e.props.handleEditTaskRecommendationButtonClick(t),e.handleCloseModal()},validateOnChange:!1,validateOnBlur:!1},(function(t){t.isSubmitting;var n=t.errors,r=(t.touched,t.setFieldValue,t.values),a=t.handleChange,i=t.handleSubmit;return o.a.createElement(uo.b,null,o.a.createElement("div",{className:"title-and-status-container"},o.a.createElement("div",{className:"title-field-container"},o.a.createElement("label",null,"Issue title",o.a.createElement(uo.a,{type:"text",name:"title",className:n.title&&"input-error"}),n.title&&o.a.createElement("span",{className:"error"},n.title))),o.a.createElement("div",{className:"status-field-container"},o.a.createElement("label",null,"Status",o.a.createElement("select",{name:"status",value:r.status,onChange:a,className:n.status&&"input-error",style:{display:"block"}},o.a.createElement("option",{value:"",label:"Select"}),o.a.createElement("option",{value:"open",label:"Open"}),o.a.createElement("option",{value:"closed",label:"Closed"})),n.status&&o.a.createElement("span",{className:"error"},n.status)))),o.a.createElement("div",{className:"issue-container"},o.a.createElement("label",null,"Issue description",o.a.createElement(uo.a,{name:"description"},(function(e){var t=e.field;return o.a.createElement("textarea",_a({},t,{className:n.description&&"input-error"}))})),n.description&&o.a.createElement("span",{className:"error"},n.description))),o.a.createElement("div",null,o.a.createElement("label",null,"Recommendation",o.a.createElement(uo.a,{name:"recommendation"},(function(e){var t=e.field;return o.a.createElement("textarea",_a({},t,{className:n.recommendation&&"input-error"}))})),n.recommendation&&o.a.createElement("span",{className:"error"},n.recommendation))),o.a.createElement("div",{className:"buttons"},o.a.createElement(Wn,{title:"Cancel",onClick:e.handleCloseModal}),"Add"==e.state.FormType&&o.a.createElement($o,{type:"button",title:"Add","data-flag":"action-add",onClick:i}),"Edit"==e.state.FormType&&o.a.createElement($o,{type:"button",title:"Save","data-flag":"action-add",onClick:i})))}))},e.renderRecommendationModal=function(){return o.a.createElement("div",{className:"RecommendationModal"},o.a.createElement(Aa.a,{isOpen:e.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".TaskSubmissionContainer")}},o.a.createElement("div",{className:"modal-header"},o.a.createElement("span",{className:"header-title"},"Add"==e.state.FormType?"Add Recommendation":"Edit Recommendation"),o.a.createElement("div",{className:"close-icon-container",onClick:e.handleCloseModal},o.a.createElement("img",{src:Sa.a}))),o.a.createElement("div",{className:"content"},e.renderRecommendationform())))},e}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(n),!0).forEach((function(t){Ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),n=t.taskRecommendations,r=t.viewAs,a=t.status;return o.a.createElement("div",{className:"recommendation-container"},("approver"===r&&"waiting_for_approval"===a||n&&n.length>0)&&o.a.createElement("h4",null,"Approver's recommendations"),n&&n.length>0&&o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"recommendation_table_header"},o.a.createElement("th",{className:"issue-title-col"},"Issue title"),o.a.createElement("th",null,"Issue description"),o.a.createElement("th",null,"Recommendation"),o.a.createElement("th",null,"Status"),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("th",{className:"edit-col"}))),o.a.createElement("tbody",null,n.map((function(t,n){return o.a.createElement("tr",{key:n+1},o.a.createElement("td",null,t.title),o.a.createElement("td",null,t.description),o.a.createElement("td",null,t.recommendation),o.a.createElement("td",null,t.status),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("td",{className:"edit-col"},o.a.createElement("img",{className:"edit-icon",src:ka.a,onClick:function(){return e.handleOpenEditRecommendationModal(t.id)}})))}))))),"approver"===r&&"waiting_for_approval"===a&&o.a.createElement("div",{className:"add-recommendation-link",onClick:function(){return e.handleOpenAddRecommendationModal()}},o.a.createElement("img",{src:ga.a})," Add recommendation"),this.renderRecommendationModal())}}])&&Ia(t.prototype,n),r&&Ia(t,r),i}(r.Component);function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(n),!0).forEach((function(t){Fa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ka(e);if(t){var o=Ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ja(this,n)}}function Ja(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ga=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(i,e);var t,n,r,a=Va(i);function i(){return Qa(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Ma({},this.props.resultForCertificationAndAccreditation);e.organisationName,e.serviceName,e.createdAt,e.securityArchitectName,e.businessOwnerName,e.productName,e.productDescription,e.accreditationLevel,e.accreditationDescription,e.accreditationType,e.accreditationPeriod,e.accreditationRenewalRecommendations,e.classificationLevel,e.riskProfileData,e.tasks,e.taskRecommendations,e.reportLogo}},{key:"render",value:function(){var e=Ma({},this.props.resultForCertificationAndAccreditation),t=e.organisationName,n=e.serviceName,r=e.createdAt,a=e.securityArchitectName,i=e.businessOwnerName,c=e.productName,s=e.productDescription,u=e.accreditationLevel,l=e.accreditationDescription,f=e.accreditationType,p=e.accreditationPeriod,m=e.accreditationRenewalRecommendations,d=e.classificationLevel,y=e.riskProfileData,b=e.tasks,h=e.taskRecommendations,v=e.reportLogo;return o.a.createElement("div",{className:"certification-and-accreditation-report-container"},o.a.createElement("div",{className:"about-report-container"},o.a.createElement("div",{className:"report-heading"},o.a.createElement("div",{className:"report-heading-left-container"},o.a.createElement("h3",null,n),o.a.createElement("p",{className:"certification-accreditation-memo-heading"},"Certification and Accreditation Memo for ",t)),o.a.createElement("div",{className:"report-heading-right-container"},this.props.isDisplayReportLogo&&o.a.createElement("img",{src:v}))),o.a.createElement("div",{className:"report-intro-container"},o.a.createElement("p",{className:"report-intro"},"Prepared at ",r," by ",a),o.a.createElement("p",{className:"report-intro"},"Delivered to ",i," as part of the ",c," delivery."))),o.a.createElement("div",{className:"about-product-container sub-container"},o.a.createElement("h5",null,"About ",c),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}})),o.a.createElement("div",{className:"certificate-recommendation-container sub-container"},o.a.createElement("h5",null,"Certification Recommendation"),o.a.createElement("p",{className:"intro-container"},"It has been recommended by ",a," that this change ",c," be certified against ",u," with an accreditation level of: ",f," for a period of no longer than ",p,"."),o.a.createElement("p",null,"Re-certification after this period should be conditional on the following post go-live remediations being resolved:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:m}})),o.a.createElement("div",{className:"information-classification-container sub-container"},o.a.createElement("h5",null,"Information Classification"),o.a.createElement("p",{className:"intro-container"},"This memo certifies ",n," has been endorsed to store, transmit and receive data to an Information Classification up to ",d,".")),o.a.createElement("div",{className:"certificate-scope-container sub-container"},o.a.createElement("h5",null,"Certification Scope"),o.a.createElement("p",{className:"intro-container"},"This certification is a ",u," level certification for ",n,". It covers ",n," and the following dependencies only."),o.a.createElement("div",{className:"certificate-scope-description",dangerouslySetInnerHTML:{__html:l}})),o.a.createElement("div",{className:"risk-profile-container sub-container"},o.a.createElement("h5",null,"Risk Profile"),o.a.createElement("p",{className:"intro-container"},"After completing a risk assessment process, it was determined that the residual risk ratings for this delivery are:"),this.renderRiskProfile(y)),o.a.createElement("div",{className:"recommendation-container sub-container"},o.a.createElement("h5",null,"Recommendations against ",c),this.renderTaskRecommendation(h)),o.a.createElement("div",{className:"task-container sub-container"},o.a.createElement("h5",null,"Tasks Completed"),o.a.createElement("p",{className:"intro-container"},"The certification of ",n," for ",c," was completed after ",t," completed the following assurance activities:"),this.renderTaskTable(b)))}},{key:"renderRiskProfile",value:function(e){var t=this;if(e&&void 0!==e){var n=JSON.parse(e);return o.a.createElement("div",{className:"risk-container"},n.isDisplayMessage&&o.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map((function(e,n){return o.a.createElement("div",{key:n},o.a.createElement("div",{className:"product-aspect-container"},e[0]),t.renderRiskProfileTable(e[1]))})),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result))}}},{key:"renderRiskProfileTable",value:function(e){return e&&0!=e.length?o.a.createElement("div",{className:"risk-profile-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_profile_table_header"},o.a.createElement("th",null,"Risk category"),o.a.createElement("th",null,"Current risk rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))}))))):""}},{key:"renderTaskRecommendation",value:function(e){var t=this;if(e&&void 0!==e)return 0==e.length?o.a.createElement("div",{className:"intro-container"},"No recommendation available."):o.a.createElement("div",null,e.map((function(e,n){var r=e.taskName,a=e.taskApproverName,i=e.taskRecommendationData;return o.a.createElement("div",{key:n},o.a.createElement("p",{className:"intro-container"},"Recommendations from: ",o.a.createElement("b",null,r)," by ",a),t.renderRecommendationTable(i))})))}},{key:"renderRecommendationTable",value:function(e){var t=JSON.parse(e);return o.a.createElement("div",{className:"recommendation-table-container"},t&&t.length>0&&o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"recommendation_table_header"},o.a.createElement("th",{className:"issue-title-col"},"Issue title"),o.a.createElement("th",null,"Issue description"),o.a.createElement("th",null,"Recommendation"))),o.a.createElement("tbody",null,t.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.title),o.a.createElement("td",null,e.description),o.a.createElement("td",null,e.recommendation))})))))}},{key:"renderTaskTable",value:function(e){if(e&&void 0!==e)return o.a.createElement("div",{className:"task-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"task_table_header"},o.a.createElement("th",null,"Task"),o.a.createElement("th",null,"Approved by"),o.a.createElement("th",null,"Task status"))),o.a.createElement("tbody",null,e.map((function(e,t){var n=e.taskName,r=e.taskApproverName,a=e.taskStatus,i=ha.a;"in_progress"==a&&(i=ya.a),"waiting_for_approval"==a&&(i=ma.a),"approved"!=a&&"complete"!=a||(i=ua.a),"denied"==a&&(i=fa.a);var c=r;return c||(c="No approval needed"),o.a.createElement("tr",{key:t},o.a.createElement("td",{className:""},n),o.a.createElement("td",null,c),o.a.createElement("td",null,o.a.createElement("img",{className:"task-status-icon",src:i}),o.a.createElement("span",{className:"task-status"}," ",function(e){if(e)return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}(a))))})))))}}])&&qa(t.prototype,n),r&&qa(t,r),i}(r.Component);function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(){return(Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach((function(t){Xa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ni(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oi(e);if(t){var o=oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ri(this,n)}}function ri(e,t){return!t||"object"!==Ya(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ti(e,t)}(i,e);var t,n,r,a=ni(i);function i(){return Za(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){"Review"==this.props.question.title&&this.props.loadResultForCertificationAndAccreditation()}},{key:"render",value:function(){var e=$a({},this.props),t=e.question,n=e.index;return o.a.createElement("div",{className:"QuestionForm"},o.a.createElement("div",{className:"heading"},n+1,". ",t.heading),o.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:t.description}}),this.renderActions(t),this.renderInputsForm(t),this.renderDisplayField(t))}},{key:"renderDisplayField",value:function(e){if("display"===e.type)return"Risk Profile"==e.title?this.renderRiskProfile():"Review"==e.title?this.renderReview():void 0}},{key:"renderReview",value:function(){var e=$a({},this.props),t=e.resultForCertificationAndAccreditation,n=e.handleTaskSaveDraftButtonClick,r=e.handleNextButtonClickForDisplayField;return o.a.createElement("div",null,o.a.createElement("div",{className:"review-container"},o.a.createElement(Ga,{resultForCertificationAndAccreditation:t,isDisplayReportLogo:!1})),o.a.createElement("div",{className:"buttons review-button-container"},o.a.createElement("div",{className:"buttons-left"}),o.a.createElement("div",{className:"buttons-right"},o.a.createElement(Wn,{title:"Save draft",onClick:function(){n()}}),o.a.createElement($o,{title:"Submit",onClick:function(){r()}})),o.a.createElement("div",null)))}},{key:"renderRiskProfile",value:function(){var e=this,t=$a({},this.props),n=t.riskProfileData,r=t.handleNextButtonClickForDisplayField;return o.a.createElement("div",{className:"risk-profile-container"},n.isDisplayMessage&&o.a.createElement("div",{className:"alert alert-danger"},n.message),!n.isDisplayMessage&&n.hasProductAspects&&Object.entries(n.result).map((function(t,n){return o.a.createElement("div",{key:n},o.a.createElement("div",{className:"product-aspect-container"},t[0]),e.renderRiskProfileTable(t[1]))})),!n.isDisplayMessage&&!n.hasProductAspects&&this.renderRiskProfileTable(n.result),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:ra.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),o.a.createElement("div",{className:"button-container"},o.a.createElement($o,{title:"Next",rightIconImage:aa.a,onClick:function(){r()}}))))}},{key:"renderRiskProfileTable",value:function(e){return o.a.createElement("div",{className:"risk-profile-table-container"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_profile_table_header"},o.a.createElement("th",null,"Risk category"),o.a.createElement("th",null,"Current risk rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.riskName),o.a.createElement("td",{style:{backgroundColor:e.currentRiskRating.colour}},e.currentRiskRating.name))})))))}},{key:"renderActions",value:function(e){var t=$a({},this.props).handleActionClick;if("action"===e.type){var n=N.a.get(e,"actions",null);if(!n)return null;var r=null,a=n.find((function(e){return e.isChose}));return a&&a.message&&(r=o.a.createElement("div",{className:"action-message"},o.a.createElement("b",null,"Message:"),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.message}}))),a?o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map((function(e){switch(e.isChose){case!0:return o.a.createElement($o,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Wn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:ra.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))))):o.a.createElement("div",{className:"field-container"},o.a.createElement("div",{className:"actions"},n.map((function(e,n){switch(n){case 0:return o.a.createElement($o,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}});default:return o.a.createElement(Wn,{title:e.label,key:e.id,classes:["mr-3"],onClick:function(){t(e)}})}}))),r,o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:ra.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question.")))))}}},{key:"renderInputsForm",value:function(e){var t=$a({},this.props),n=t.handleFormSubmit,r=t.serviceRegister,a=t.informationClassificationTaskResult;if("input"===e.type){var i=N.a.get(e,"inputs",null);if(!i)return null;var c={};return i.forEach((function(e){c[e.id]=e.data||"","radio"==e.type&&null===e.data&&e.defaultRadioButtonValue&&(c[e.id]=e.defaultRadioButtonValue),"checkbox"==e.type&&null===e.data&&e.defaultCheckboxValue&&(c[e.id]=e.defaultCheckboxValue),"information classification"==e.type&&null===e.data&&a&&(c[e.id]=a)})),o.a.createElement(uo.c,{initialValues:c,validate:function(e){var t={};return i.forEach((function(n){var r=$a({},n),o=r.id,a=r.type,i=r.required,c=r.label,s=r.minLength,u=N.a.get(e,o,null),l=c||"field";if(i&&(!u||"[]"===u))return t[o]="Please enter a value for ".concat(l),void("radio"!==a&&"checkbox"!==a&&"service register"!==a||(t[o]="Please select an option for ".concat(l)));s>0&&u&&u.length<s?t[o]="Please enter a value with at least ".concat(s," characters for ").concat(l):"email"!==a||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(u)?("date"!==a&&"release date"!==a||Zo()(u,"YYYY-MM-DD").isValid()||(t[o]="Invalid date"),"product aspects"!==a||!u||/^[0-9a-zA-Z\s\n]+$/i.test(u)||(t[o]="Please enter alpha-numeric characters only.")):t[o]="Invalid email address"})),t},onSubmit:function(e,t){n(t,e)}},(function(e){var t=e.handleChange,n=(e.isSubmitting,e.errors),a=e.touched,s=e.setFieldValue,u=e.values,l=[];return N.a.keys(n).filter((function(e){return Boolean(a[e])})).forEach((function(e){l[e]=n[e]})),o.a.createElement(uo.b,{className:"scroller"},i.map((function(e){var n=$a({},e),a=n.id,i=n.type,f=n.label,p=n.placeholder,m=n.options,d=(n.defaultRadioButtonValue,n.defaultCheckboxValue,n.maxLength),y=n.required,b=N.a.get(l,a,null),h=Boolean(b),v=[];if(h&&v.push("error"),["text","email","url"].includes(i))return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",null,o.a.createElement(uo.a,{type:i,name:a,className:v.join(" "),placeholder:p,maxLength:d>0?d:4096})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("radio"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",{className:h?"radio-container-error radio-container":"radio-container"},m.length&&m.map((function(e,t){var n=N.a.toString(e.value)===N.a.toString(u[a]);return o.a.createElement("div",{key:t,className:"Accreditation level"===f?"accreditation-level-option radio-option":"radio-option"},o.a.createElement("label",{className:"radio-label"},o.a.createElement(uo.a,{type:"radio",name:a,value:e.value,className:"radio",checked:n}),e.label))}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("checkbox"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",{className:h?"checkbox-container-error checkbox-container":"checkbox-container"},m.length&&m.map((function(e,t){var n=u[a]?JSON.parse(u[a]):[],r=n.includes(e.value);return o.a.createElement("div",{key:t},o.a.createElement("label",{className:"checkbox-label"},o.a.createElement("input",{type:"checkbox",name:a,className:"checkbox",checked:r,onChange:function(t){t.target.checked?n.push(e.value):n.splice(n.indexOf(e.value),1),s(a,JSON.stringify(n))}}),e.label))}))),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("date"===i||"release date"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",null,o.a.createElement(uo.a,{name:a,render:function(e){var t=null,n=e.field.value||null;return n&&n.trim().length>0&&(t=Zo()(n).toDate()),o.a.createElement(ta.a,{dateFormat:"dd-MM-yyyy",className:v.join(" "),selected:t,onChange:function(e){if(e){var t=Zo()(e).format("YYYY-MM-DD");s(a,t)}else s(a,null)},placeholderText:p,dropdownMode:"scroll",withPortal:!0})}})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)));if("textarea"===i||"product aspects"===i)return o.a.createElement("div",{key:a,className:"field-container"},o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",null,o.a.createElement(uo.a,{name:a},(function(e){var t=e.field;return o.a.createElement("textarea",Wa({},t,{className:v.join(" "),placeholder:p}))})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b))));if("rich text editor"===i)return o.a.createElement("div",{key:a,className:"field-container"},f&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",null,o.a.createElement(ia.a,{className:"implementation-evidence",initialValue:c[a],init:{selector:"textarea",height:"280",menubar:!1,plugins:"lists advlist",toolbar:"+ removeformat bold italic underline strikethrough bullist numlist",statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(e){t({target:{name:a,value:e.target.getContent()}})}}),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b))));if("service register"===i||"dropdown"===i||"information classification"===i){var g=r;return"service register"!==i&&(g=m.map((function(e){return{value:e.value,label:e.label}}))),o.a.createElement("div",{key:a,className:"field-container"},f&&o.a.createElement("div",{className:"label"},o.a.createElement("label",{className:y>0?"required":""},f)),o.a.createElement("div",{className:"dropdown-container"},o.a.createElement(ca.a,{name:a,options:g,defaultValue:c[a]&&g.find((function(e){return e.value===JSON.parse(c[a]).value}))?JSON.parse(c[a]):"",classNamePrefix:"react-select",className:h?"react-select-error":"",maxMenuHeight:250,placeholder:"Select",onChange:function(e){t({target:{name:a,value:JSON.stringify(e)}})}})),h&&o.a.createElement("div",{className:"error-message-container",key:"error_"+a},o.a.createElement("i",{className:"fas fa-exclamation-circle text-danger ml-1 error-icon"}),o.a.createElement("span",{className:"error-message"},b)))}return null})),o.a.createElement("div",{className:"bottom-container"},o.a.createElement("div",{className:"message-container"},o.a.createElement("span",null,o.a.createElement("img",{src:ra.a}),o.a.createElement("span",{className:"saveMessage"},"Your answers will be saved when you continue to the next question."))),o.a.createElement("div",{className:"button-container"},o.a.createElement($o,{title:"Next",rightIconImage:aa.a}))))}))}}}])&&ei(t.prototype,n),r&&ei(t,r),i}(r.Component);function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=yi(e);if(t){var o=yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return di(this,n)}}function di(e,t){return!t||"object"!==ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yi(e){return(yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(i,e);var t,n,r,a=mi(i);function i(){return li(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"handleFormSubmit",value:function(e,t){var n=si({},this.props),r=n.questions,o=n.saveAnsweredQuestion,a=r.find((function(e){return!0===e.isCurrent}));if(a){var i=si({},a);N.a.forIn(t,(function(e,t){var n=i.inputs.findIndex((function(e){return e.id===t}));n>=0&&N.a.set(i,"inputs.".concat(n,".data"),e)})),i.hasAnswer=!0,i.isApplicable=!0,o(i)}}},{key:"handleActionClick",value:function(e){var t=si({},this.props),n=t.questions,r=t.saveAnsweredQuestion,o=n.find((function(e){return!0===e.isCurrent}));if(o){var a=si({},o);a.actions=a.actions.map((function(t){return t.isChose=t.id===e.id,t})),a.hasAnswer=!0,a.isApplicable=!0,r(a)}}},{key:"handleNextButtonClickForDisplayField",value:function(){var e=si({},this.props),t=e.questions,n=e.saveAnsweredQuestion,r=t.find((function(e){return!0===e.isCurrent}));if(r){var o=si({},r);o.hasAnswer=!0,o.isApplicable=!0,n(o)}}},{key:"render",value:function(){var e=si({},this.props),t=e.questions,n=e.onLeftBarItemClick,r=e.serviceRegister,a=e.informationClassificationTaskResult,i=e.riskProfileData,c=e.resultForCertificationAndAccreditation,s=e.handleTaskSaveDraftButtonClick,u=(e.handleTaskSubmitButtonClick,e.loadResultForCertificationAndAccreditation),l=t.find((function(e){return!0===e.isCurrent})),f=t.findIndex((function(e){return e.id===l.id}));return o.a.createElement("div",{className:"Questionnaire mx-1"},o.a.createElement("div",{className:"major"},o.a.createElement("div",{className:"title"},"Questions"),o.a.createElement("div",{className:"form-container"},o.a.createElement(Mo,{questions:t,onItemClick:n}),l&&o.a.createElement(ai,{index:f,key:l.id,question:l,serviceRegister:r,riskProfileData:i,resultForCertificationAndAccreditation:c,loadResultForCertificationAndAccreditation:u,informationClassificationTaskResult:a,handleTaskSaveDraftButtonClick:s,handleFormSubmit:this.handleFormSubmit.bind(this),handleActionClick:this.handleActionClick.bind(this),handleNextButtonClickForDisplayField:this.handleNextButtonClickForDisplayField.bind(this)}))))}}])&&fi(t.prototype,n),r&&fi(t,r),i}(r.Component);function hi(e){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach((function(t){Oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Si(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t){return(ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ti(e);if(t){var o=Ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ai(this,n)}}function Ai(e,t){return!t||"object"!==hi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ti(e){return(Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ki(e,t)}(i,e);var t,n,r,a=wi(i);function i(){return Si(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=gi({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=gi({},this.props),t=e.dispatchSaveAnsweredQuestionAction,n=e.dispatchMoveToPreviousQuestionAction,r=e.loadingState,a=gi({},this.props.submissionState),i=a.title,c=a.siteConfig,s=a.user,u=a.submission;return s&&u&&c?r["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"]?null:"in_progress"!==u.status?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(zr,{title:i,subtitle:c.siteTitle,username:s.name,logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"The questionnaire is not in progress. Please check the summary screen.")),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):s.id===u.submitter.id?o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(zr,{title:i,subtitle:c.siteTitle,logopath:c.logoPath,username:s.name}),o.a.createElement(bi,{questions:u.questions,saveAnsweredQuestion:function(e){t(e)},onLeftBarItemClick:function(e){n(e)}}),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):o.a.createElement("div",{className:"QuestionnaireContainer"},o.a.createElement(zr,{title:i,subtitle:c.siteTitle,username:s.name,logopath:c.logoPath}),o.a.createElement("div",{className:"questionnaire-message"},o.a.createElement("h4",null,"It appears this submission has not yet been submitted. Only the submitter can edit a submission and must submit before it can be reviewed.")),o.a.createElement($t,{footerCopyrightText:c.footerCopyrightText})):null}}])&&Ei(t.prototype,n),r&&Ei(t,r),i}(r.Component),Ci=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(xr(t))},dispatchSaveAnsweredQuestionAction:function(t){var n;e((n=t,function(){var e=Dr(regeneratorRuntime.mark((function e(t,r){var o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,payload:n}),o=r(),a=N.a.get(o,"questionnaireState.submissionState.submission.submissionID",null)){e.next=5;break}throw new Error("Something is wrong, please reload the page");case 5:return e.next=7,_e.getCSRFToken();case 7:return i=e.sent,c=n.id,s=hr.transformFromFullQuestionToData(n),e.prev=10,e.next=13,pr.updateSubmissionData({submissionID:a,questionID:c,csrfToken:i,answerData:s});case 13:t(Ur(n)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),alert(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t,n){return e.apply(this,arguments)}}()))},dispatchMoveToPreviousQuestionAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.questionnaireState.submissionState.submission){t.next=4;break}return t.abrupt("return");case 4:if(!((i=a.questions.findIndex((function(e){return e.isCurrent})))<0)){t.next=7;break}throw new Error("Wrong state, please reload the questionnaire");case 7:if(e.isApplicable&&e.hasAnswer){t.next=9;break}return t.abrupt("return");case 9:if(!((c=a.questions.findIndex((function(t){return t.id===e.id})))<0)){t.next=12;break}return t.abrupt("return");case 12:return n({type:l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,targetIndex:c}),t.next=15,Br(r(),[i,c]);case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(ji),_i=n(100),Pi=n.n(_i);function Ii(e){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Li(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mi(e);if(t){var o=Mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bi(this,n)}}function Bi(e,t){return!t||"object"!==Ii(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(i,e);var t,n,r,a=Li(i);function i(){return Di(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ni(Object(n),!0).forEach((function(t){Ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).questions;return o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement("div",{className:"questions"},t.map((function(t,n,r){var a=e.renderData(t);return o.a.createElement("div",{className:"row",key:t.id},o.a.createElement("div",{className:"col"},o.a.createElement("b",null,n+1,". ",t.heading)),o.a.createElement("div",{className:"vertical-divider"}),o.a.createElement("div",{className:"col"},a))}))))}},{key:"renderData",value:function(e){if(!e.isApplicable)return o.a.createElement("div",null,"(Not applicable)");if(!e.hasAnswer)return o.a.createElement("div",null,"(Has no answer)");if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var t=function(e){var t=e.data||"";if("date"!==e.type&&"release date"!==e.type||(t=Zo()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?o.a.createElement("div",null,e.inputs.map((function(e){var n=t(e);return o.a.createElement("div",{key:e.id},o.a.createElement("b",null,e.label)," ",o.a.createElement("span",null,"-")," ",o.a.createElement("span",null,n))}))):o.a.createElement("div",null,t(e.inputs[0]).trim())}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var n=N.a.head(e.actions.filter((function(e){return e.isChose})));return o.a.createElement("div",null,n&&o.a.createElement("div",null,n.label))}}}])&&xi(t.prototype,n),r&&xi(t,r),i}(r.Component);function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ki(e,t){return(Ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wi(e);if(t){var o=Wi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yi(this,n)}}function Yi(e,t){return!t||"object"!==Qi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wi(e){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ki(e,t)}(i,e);var t,n,r,a=Gi(i);function i(){return Vi(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach((function(t){Hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.submission,n=e.viewAs,r=e.secureToken,a=e.handleSubmitButtonClick,i=e.handlePDFDownloadButtonClick,c=e.handleEditAnswerButtonClick;if(!t)return null;var s=o.a.createElement("div",{className:"alert alert-success text-center"},"This questionnaire has already been submitted."),u=o.a.createElement("div",{className:"buttons"},o.a.createElement(Wn,{title:"Edit",iconImage:ka.a,classes:["button"],onClick:c}),o.a.createElement(Wn,{title:"PDF",iconImage:Pi.a,classes:["button"],onClick:i}),o.a.createElement($o,{title:"SUBMIT QUESTIONNAIRE",classes:["button"],disabled:hr.existsUnansweredQuestion(t.questions),onClick:a})),l=o.a.createElement("div",{className:"buttons"},o.a.createElement(Wn,{title:"BACK TO SUMMARY",classes:["button"],onClick:function(){return D.redirectToQuestionnaireSummary(t.submissionUUID,r)}}));return o.a.createElement("div",{className:"Review"},"in_progress"!==t.status&&s,o.a.createElement(Fi,{questions:t.questions}),"submitter"===n&&("in_progress"===t.status||"submitted"===t.status)&&u,"submitter"!==n&&l)}}])&&Ji(t.prototype,n),r&&Ji(t,r),i}(r.Component),$i=n(216),Xi=n.n($i),Zi=n(467),ec=n.n(Zi);function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"toString",value:function(e){return e?"".concat(e):""}}],(n=null)&&tc(t.prototype,n),r&&tc(t,r),e}();function rc(e){return(rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){ic(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function uc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){sc(a,r,o,i,c,"next",e)}function c(e){sc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function lc(e){return fc.apply(this,arguments)}function fc(){return(fc=uc(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.addEventListener("load",(function(t){e(t.target.result)})),n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(e){return mc.apply(this,arguments)}function mc(){return(mc=uc(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t||fallback);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,lc(r);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"generatePDF",value:(a=uc(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l,f,p,m,d,y,b,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ac({},t),r=n.questions,o=n.submitter,a=n.questionnaireTitle,i=n.siteConfig,c=n.result,s=n.riskResults,l=[],f={questionnaireTitle:{bold:!0,fontSize:4+(u=12),color:"#004071",alignment:"center"},siteTitle:{bold:!0,fontSize:u,color:"#004071",alignment:"center"},sectionHeading:{bold:!0,fontSize:u+2,color:"#004071"},questionHeading:{bold:!0}},p={fontSize:u},m={title:"".concat(a," - ").concat(o.name,".pdf")},d=ec.a.pdfMake.vfs,Xi.a.vfs=d,e.next=10,pc(i.pdfHeaderImageLink);case 10:return y=e.sent,l.push({image:y,width:500,margin:[0,0,0,u]}),l.push({text:a,style:"questionnaireTitle",margin:[0,0,0,u/2]}),l.push({text:i.siteTitle,style:"siteTitle",margin:[0,0,0,2*u]}),l.push({text:"Submitted by:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"Name: ".concat(o.name),style:"questionHeading",margin:[0,0,0,u/2]}),l.push({text:"Email: ".concat(o.email),margin:[0,0,0,2*u]}),c&&(l.push({text:"Result:",style:"sectionHeading",margin:[0,0,0,u]}),l.push({text:"".concat(c),margin:[0,0,0,2*u]})),l.push({text:"Responses",style:"sectionHeading",margin:[0,0,0,u]}),r.forEach((function(e,t){if(l.push({text:"".concat(t+1,". ").concat(e.heading),style:"questionHeading",margin:[0,0,0,u/2]}),e.isApplicable)if(e.hasAnswer){if("input"===e.type&&e.inputs&&Array.isArray(e.inputs)&&e.inputs.length>0){var n=function(e){var t=e.data||"";if("date"===e.type&&(t=Zo()(t).format("DD-MM-YYYY")),"textarea"!==e.type&&"product aspects"!==e.type||(t="\n"+t),"radio"===e.type&&t){var n=e.options.find((function(e){return e.value===t}));n&&(t=n.label)}if("checkbox"===e.type&&t&&"[]"!==t){var r=JSON.parse(t),o=e.options.filter((function(e){return r.includes(e.value)})).map((function(e){return e.label}));t=o.join(", ")}return t};return e.inputs.length>1?void e.inputs.forEach((function(e,t,r){var o=t===r.length-1;l.push({text:"".concat(e.label,": ").concat(nc.toString(n(e))),margin:[0,0,0,o?u:parseInt("".concat(u/3))]})})):void l.push({text:n(e.inputs[0]).trim(),margin:[0,0,0,u]})}if("action"===e.type&&e.actions&&Array.isArray(e.actions)){var r=N.a.head(e.actions.filter((function(e){return e.isChose})));l.push({text:r.label,margin:[0,0,0,u]})}}else l.push({text:"(Has no answer)",margin:[0,0,0,u]});else l.push({text:"(Not applicable)",margin:[0,0,0,u]})})),"object"===rc(s)&&s.length>0&&(b=[[{text:"Risk Name",bold:!0,alignment:"center"},{text:"Weights",bold:!0,alignment:"center"},{text:"Score",bold:!0,alignment:"center"},{text:"Rating",bold:!0,alignment:"center"}]],s.forEach((function(e,t){var n={text:e.rating,alignment:"center",color:"#"+e.colour,bold:!0};"Unknown"==e.rating&&(n={text:"Unknown",alignment:"center",color:"#000000",bold:!0}),b.push([{text:e.riskName},e.weights,e.score,n])})),l.push({table:{headerRows:1,widths:[237,75,75,75],body:b},width:500,margin:[0,0,0,u]})),e.next=23,pc(i.pdfFooterImageLink);case 23:return h=e.sent,l.push({image:h,width:500,margin:[0,0,0,u]}),e.prev=25,e.next=28,Xi.a.createPdf({info:m,content:l,styles:f,defaultStyle:p}).download(m.title);case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(25),alert("Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?");case 33:case"end":return e.stop()}}),e,null,[[25,30]])}))),function(e){return a.apply(this,arguments)})},{key:"blobToDataURL",value:(o=uc(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&cc(t.prototype,n),r&&cc(t,r),e}();function yc(e){return(yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sc(e,t){return(Sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wc(e);if(t){var o=wc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kc(this,n)}}function kc(e,t){return!t||"object"!==yc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sc(e,t)}(i,e);var t,n,r,a=Ec(i);function i(){return gc(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=hc({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t)}},{key:"render",value:function(){var e=hc({},this.props).secureToken,t=hc({},this.props.submissionState),n=t.title,r=t.siteConfig,a=t.user,i=t.submission,c=t.isCurrentUserApprover,s=t.isCurrentUserABusinessOwnerApprover;if(!a||!r)return null;var u="others";do{if(a.id===i.submitter.id){u="submitter";break}if(c){u="approver";break}if(s&&"waiting_for_approval"==i.status){u="businessOwnerApprover";break}}while(0);return o.a.createElement("div",{className:"ReviewContainer"},o.a.createElement(zr,{title:n,subtitle:"Review Responses",username:a.name,logopath:r.logoPath}),o.a.createElement(zi,{siteTitle:r.siteTitle,viewAs:u,submission:i,secureToken:e,handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleEditAnswerButtonClick:this.handleEditAnswerButtonClick.bind(this)}),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText}))}},{key:"handleSubmitButtonClick",value:function(){this.props.dispatchSubmitQuestionnaire()}},{key:"handlePDFDownloadButtonClick",value:function(){var e=hc({},this.props.submissionState),t=e.submission,n=(e.siteTitle,e.siteConfig);t&&n&&dc.generatePDF({questions:t.questions,submitter:t.submitter,questionnaireTitle:t.questionnaireTitle,siteConfig:n})}},{key:"handleEditAnswerButtonClick",value:function(){var e=N.a.get(this.props.submissionState,"submission.submissionUUID","");e&&D.redirectToQuestionnaireEditing(e)}}])&&Oc(t.prototype,n),r&&Oc(t,r),i}(r.Component),Tc=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t){e(xr(t))},dispatchSubmitQuestionnaire:function(){e(function(){var e=Dr(regeneratorRuntime.mark((function e(t,n){var r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(),o=r.questionnaireState.submissionState,a=o.submission){e.next=6;break}return e.abrupt("return");case 6:if(!hr.existsUnansweredQuestion(a.questions)){e.next=9;break}return alert("There are questions not answered properly, please check your answers"),e.abrupt("return");case 9:return e.next=11,_e.getCSRFToken();case 11:return i=e.sent,e.next=14,pr.submitQuestionnaire({submissionID:a.submissionID,csrfToken:i});case 14:c=e.sent,s=c.uuid,D.redirectToQuestionnaireSummary(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(Ac);function jc(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Cc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){jc(a,r,o,i,c,"next",e)}function c(e){jc(a,r,o,i,c,"throw",e)}i(void 0)}))}}function _c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchCurrentUser",value:(a=Cc(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,F.request({query:'\nquery {\n  readMember(Type: "Current") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}'});case 3:if(t=e.sent,n=N.a.get(t,"data.readMember.0",null)){e.next=7;break}throw new Error("Authenticate error");case 7:if((r=ar.parseUserFromJSON(n)).id){e.next=10;break}throw new Error("Authenticate error");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"fetchMembers",value:(o=Cc(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,F.request({query:'\nquery {\n  readMember(Type: "All") {\n    ID\n    FirstName\n    Surname\n  }\n}'});case 3:if(t=e.sent,n=N.a.get(t,"data.readMember",null)){e.next=7;break}throw new Error("Authenticate error");case 7:return r=ar.parserMemberFromJSON(n),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&_c(t.prototype,n),r&&_c(t,r),e}();function Ic(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Nc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Ic(a,r,o,i,c,"next",e)}function c(e){Ic(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Rc(){return function(){var e=Nc(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pc.fetchCurrentUser();case 3:n=e.sent,r={type:l.USER.SET_CURRENT_USER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function Dc(e){return(Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xc(){return(xc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Uc(e){return function(e){if(Array.isArray(e))return Lc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fc(e,t){return(Fc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hc(e);if(t){var o=Hc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qc(this,n)}}function qc(e,t){return!t||"object"!==Dc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hc(e){return(Hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fc(e,t)}(i,e);var t,n,r,a=Qc(i);function i(){return Bc(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement(Ln,xc({},this.props,{classes:["RedButton"].concat(Uc(this.props.classes))}))}}])&&Mc(t.prototype,n),r&&Mc(t,r),i}(r.Component);Vc.defaultProps={title:"",disabled:!1,classes:[],onClick:function(){}};var Jc=Vc,Kc=n(468),Gc=n.n(Kc),Yc=n(469),Wc=n.n(Yc),zc=n(89),$c=n.n(zc),Xc=n(470),Zc=n.n(Xc);function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function as(e,t){return(as=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function is(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ss(e);if(t){var o=ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cs(this,n)}}function cs(e,t){return!t||"object"!==es(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var us=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&as(e,t)}(i,e);var t,n,r,a=is(i);function i(){return rs(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach((function(t){ns(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.riskResults,n=e.hideWeightsAndScore;return t&&0!==t.length?o.a.createElement("div",{className:"risk-result-container"},o.a.createElement("h4",null,"Risk Result"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:""},o.a.createElement("tr",{key:"risk_table_header"},o.a.createElement("th",null,"Risk Name"),!n&&o.a.createElement("th",null,"Weights"),!n&&o.a.createElement("th",null,"Score"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,t.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.riskName),!n&&o.a.createElement("td",null,e.weights),!n&&o.a.createElement("td",null,e.score),o.a.createElement("td",{style:{color:"#"+e.colour}},e.rating))})))))):null}}])&&os(t.prototype,n),r&&os(t,r),i}(r.Component);n(828);function ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isSRATaskFinalised",value:function(e){return e.filter((function(e){return"security risk assessment"===e.taskType&&"complete"===e.status})).length>0}},{key:"isSiblingTaskPending",value:function(e){var t=["start","in_progress","waiting_for_approval"];return e.filter((function(e){return"security risk assessment"!==e.taskType&&"control validation audit"==e.taskType&&t.includes(e.status)})).length>0}},{key:"getSraIsFinalisedAlert",value:function(){return o.a.createElement("div",{className:"alert alert-success text-center"},"The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.")}}],(n=null)&&ls(t.prototype,n),r&&ls(t,r),e}();function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ms(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ys(e,t){return(ys=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vs(e);if(t){var o=vs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hs(this,n)}}function hs(e,t){return!t||"object"!==ps(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vs(e){return(vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ys(e,t)}(i,e);var t,n,r,a=bs(i);function i(){return ms(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"The submission you are attempting to view does not exist or has expired. Please follow ",o.a.createElement("a",{href:"/"},"this link")," to the homepage where you can create a new submission."))}}])&&ds(t.prototype,n),r&&ds(t,r),i}(r.Component),Os=n(471),Ss=n.n(Os),Es=n(904);function ks(e){return(ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(n),!0).forEach((function(t){Ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cs(e,t){return(Cs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Is(e);if(t){var o=Is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ps(this,n)}}function Ps(e,t){return!t||"object"!==ks(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Is(e){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ns=function(e){if(e)return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},Rs=function(e,t){if(e)return"pending"==e?"Awaiting approval":"not_required"==e?"Not required":"approved"==e&&"Certification Authority"==t?"Certification granted":"denied"==e&&"Certification Authority"==t?"Certification denied":"approved"==e&&"Accreditation Authority"==t?"Accreditation issued":"denied"==e&&"Accreditation Authority"==t?"Accreditation denied":"denied"==e?"Not approved":Ns(e)},Ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cs(e,t)}(i,e);var t,n,r,a=_s(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={skipBoAndCisoApproval:!1,enableApproveButton:!0,showModal:!1,selectedCollaborators:e.submission.collaborators},t}return t=i,(n=[{key:"componentDidMount",value:function(){""!==this.getAcknowledgeText()&&this.setState({enableApproveButton:!1})}},{key:"getAcknowledgeText",value:function(){if(this.props.submission.isCertificationAndAccreditationTaskExists){if("businessOwnerApprover"===this.props.viewAs&&this.props.submission.businessOwnerAcknowledgementText)return this.props.submission.businessOwnerAcknowledgementText;if("approver"===this.props.viewAs){if(this.props.user.isCertificationAuthority&&this.props.submission.certificationAuthorityAcknowledgementText)return this.props.submission.certificationAuthorityAcknowledgementText;if(this.props.user.isAccreditationAuthority&&this.props.submission.accreditationAuthorityAcknowledgementText)return this.props.submission.accreditationAuthorityAcknowledgementText}}return""}},{key:"unfinishedTaskSubmissionMessage",value:function(){var e="",t=this.props.submission.taskSubmissions.filter((function(e){return"risk questionnaire"===e.taskType}));if(t.length>0){var n=t[0],r="complete"===n.status||"approved"==n.status;n&&!r&&(e='Please complete "'.concat(n.taskName,'" to see the Security Risk Assessment'))}return e}},{key:"hasSelectableComponents",value:function(e){var t=e.taskSubmissions,n=!1;return t.forEach((function(e,t){"selection"===e.taskType&&(n=!0)})),n}},{key:"handleAddCollaboratorsModalButtonClick",value:function(){this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators),this.handleCloseModalForCollaborators()}},{key:"handleOpenModalForCollaborators",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModalForCollaborators",value:function(){this.setState({showModal:!1}),this.setState({selectedCollaborators:this.props.submission.collaborators})}},{key:"handleChangeForCollaborators",value:function(e){this.setState({selectedCollaborators:e})}},{key:"render",value:function(){var e=As({},this.props),t=e.submission,n=e.viewAs,r=e.user,a=e.members;return t&&a?"in_progress"===t.status&&"submitter"===n?o.a.createElement("div",{className:"Summary"},o.a.createElement("h4",null,"Questionnaire Submission has not been completed...")):"expired"===t.status?o.a.createElement(gs,null):o.a.createElement("div",{className:"Summary"},o.a.createElement("h3",null,"Submission details"),this.renderSubmissionDetails(t),this.renderCollboratorsAndComponentsInfo(t,a),this.renderTasks(t),this.renderApprovals(t),o.a.createElement(us,{riskResults:t.riskResults,hideWeightsAndScore:t.hideWeightsAndScore}),this.renderSkipCheckbox(t,n,r),this.renderAcknowledgements(t,n,r),this.renderButtons(t)):null}},{key:"renderCollboratorsModal",value:function(e,t){return o.a.createElement(Aa.a,{isOpen:this.state.showModal,ariaHideApp:!1,parentSelector:function(){return document.querySelector(".Summary")}},o.a.createElement("div",{className:"collaborator-model-title"},o.a.createElement("span",null,o.a.createElement("h4",null,"Add Collaborators")),o.a.createElement(Es.a,{"aria-label":"close",component:"span",className:"collaborator-model-close icon-gray",onClick:this.handleCloseModalForCollaborators.bind(this)},o.a.createElement(Ss.a,null))),o.a.createElement("div",{className:"content"},"Start typing names, to add them as collaborators for your submission."),o.a.createElement("div",{className:"content"},o.a.createElement(ca.a,{options:t,defaultValue:e.collaborators,isMulti:!0,maxMenuHeight:200,onChange:this.handleChangeForCollaborators.bind(this)})),o.a.createElement("div",null,o.a.createElement($o,{title:"Add",onClick:this.handleAddCollaboratorsModalButtonClick.bind(this)})))}},{key:"renderSubmissionDetails",value:function(e){var t=e.submitter,n=Ns(e.status),r=ma.a;"Submitted"==n&&hr.existsIncompleteTaskSubmission(e.taskSubmissions)?(n="Tasks to complete",r=Wc.a):"Submitted"!=n||hr.existsIncompleteTaskSubmission(e.taskSubmissions)||(n="Ready to submit",r=Gc.a),"In progress"==n&&(r=ya.a),"Approved"==n&&(r=ua.a),"Denied"==n&&(r=fa.a);var a=e.productName;return""==a&&(a="Product Name: Please add a product name"),o.a.createElement("div",{className:"submission-details-container"},o.a.createElement("div",{className:"submission-detail-left-container"},o.a.createElement("div",null,o.a.createElement("span",{className:"product-name"},a)),o.a.createElement("span",null,e.questionnaireTitle),o.a.createElement("div",{className:"submitter-name-created-date-row"},o.a.createElement("span",{className:"submission-details-label"},"Submission created: "),o.a.createElement("span",{className:"submission-details-data"},Zo()(e.created).format("DD/MM/YYYY"))),o.a.createElement("div",null,o.a.createElement("span",{className:"submission-details-label"},"Go live date: "),o.a.createElement("span",{className:"submission-details-data"},e.releaseDate?Zo()(e.releaseDate).format("DD/MM/YYYY"):""))),o.a.createElement("div",{className:"submission-detail-right-container"},o.a.createElement("div",null,o.a.createElement("span",{className:"submission-status"},o.a.createElement("img",{src:r}),n)),o.a.createElement("div",{className:"submitter-name-created-date-row"},o.a.createElement("span",{className:"submission-details-label"},"Submitted by: "),o.a.createElement("span",{className:"submission-details-data"},t.name)),o.a.createElement("div",null,o.a.createElement("span",{className:"submission-details-label"},"Email: "),o.a.createElement("span",{className:"submission-details-data"},t.email))))}},{key:"renderCollboratorsInfo",value:function(e,t){return o.a.createElement("div",{className:"collaborators-container"},o.a.createElement("h4",null,"Collaborators"),o.a.createElement("div",{className:"collaborator-message"},"You can add people to help complete your submission. Please contact the ",o.a.createElement("a",{href:"mailto:"+this.props.securityTeamEmail},"security team")," for more information."),e.collaborators.length>0&&o.a.createElement("div",null,e.collaborators.map((function(e,t){var n=e.label;return o.a.createElement("div",{className:"collaborator-name",key:t},n)}))),"submitter"===this.props.viewAs&&o.a.createElement("div",null,o.a.createElement("button",{className:"btn add-collaborators-btn",onClick:this.handleOpenModalForCollaborators.bind(this)},o.a.createElement("img",{src:ga.a})," Add collaborators")),this.renderCollboratorsModal(e,t))}},{key:"renderComponentsInfo",value:function(e){var t=e.productAspects;return o.a.createElement("div",{className:t.length>0?"components-container":"hide-components-container"},o.a.createElement("h4",null,"Components"),o.a.createElement("div",null,"Please specify if there are multiple components impacted for this submission. This will help group your tasks per component."),o.a.createElement("div",null,t.map((function(e,t){return o.a.createElement("div",{className:"component-name",key:t},e)}))))}},{key:"renderCollboratorsAndComponentsInfo",value:function(e,t){return o.a.createElement("div",{className:"collaborators-components-container"},this.renderCollboratorsInfo(e,t),this.renderComponentsInfo(e))}},{key:"renderTasks",value:function(e){var t=this,n=e.taskSubmissions,r=fs.isSRATaskFinalised(e.taskSubmissions);if(0===n.length)return null;var a=this.unfinishedTaskSubmissionMessage()?o.a.createElement("div",{className:"alert alert-warning"},this.unfinishedTaskSubmissionMessage()):null;return o.a.createElement("div",{className:"tasks-container"},o.a.createElement("h4",null,"Tasks"),o.a.createElement("div",{className:"task-instruction-message"},"Please complete the tasks below. Note the tasks marked with a red asterisk (",o.a.createElement("span",{className:"multiple-tasks-created"},"*"),") may create new tasks, depending on your answers."),a,r?fs.getSraIsFinalisedAlert():null,o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"task-thead"},o.a.createElement("tr",{key:"task-table-header"},o.a.createElement("th",null,"Task"),o.a.createElement("th",{className:"completion-time-col"},"Time to complete"),o.a.createElement("th",null,"Approved by"),o.a.createElement("th",null,"Time to review"),o.a.createElement("th",null,"Task status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,n.map((function(e){var n=e.uuid,r=e.taskName,i=e.taskType,c=e.status,s=e.approver,u=e.isTaskApprovalRequired,l=e.timeToComplete,f=e.timeToReview,p=e.canTaskCreateNewTasks,m=ha.a;"start"==c&&(c="To do"),"in_progress"==c&&(m=ya.a),"waiting_for_approval"==c&&(m=ma.a),"approved"!=c&&"complete"!=c||(m=ua.a),"denied"==c&&(m=fa.a);var d=As({},t.props).token,y=D.redirectToTaskSubmission(n,d,"urlString");"selection"===i&&(y=D.redirectToComponentSelectionSubmission(n,d,"urlString")),"security risk assessment"===i&&(y=D.redirectToSecurityRiskAssessment(n,d,"urlString")),"control validation audit"===i&&(y=D.redirectToControlValidationAudit(n,d,"urlString"));var b=o.a.createElement(oe.a,{to:y},o.a.createElement("img",{src:$c.a})),h="";return h=u?s.name:"No approval needed",o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"task-table-title-data"},r,p?o.a.createElement("span",{className:"multiple-tasks-created"}," *"):null),o.a.createElement("td",null,l),o.a.createElement("td",null,h),o.a.createElement("td",null,f),o.a.createElement("td",null,o.a.createElement("img",{src:m}),o.a.createElement("span",{className:"task-status"},Ns(c))),o.a.createElement("td",null,a&&"security risk assessment"===i?null:b))}))))))}},{key:"renderApprovals",value:function(e){if("in_progress"===e.status||"submitted"===e.status)return null;var t=e.approvalStatus,n=e.securityArchitectApprover,r=e.cisoApprover,a=e.certificationAuthorityApprover,i=e.accreditationAuthorityApprover,c=Rs(t.securityArchitect),s="Unassigned";n.firstName&&(s=n.firstName+" "+n.surname);var u=Rs(t.chiefInformationSecurityOfficer),l="Unassigned";r.firstName&&(l=r.firstName+" "+r.surname);var f=Rs(t.businessOwner),p=[{role:"Security Architect",name:s,status:c},{role:"Chief Information Security Officer",name:l,status:u},{role:"Business Owner",name:e.businessOwnerApproverName?e.businessOwnerApproverName:"Unassigned",status:f}];if(this.props.submission.isCertificationAndAccreditationTaskExists){var m=Rs(t.certificationAuthority,"Certification Authority"),d="Unassigned";a.firstName&&(d=a.firstName+" "+a.surname);var y=Rs(t.accreditationAuthority,"Accreditation Authority"),b="Unassigned";i.firstName&&(b=i.firstName+" "+i.surname),p.push({role:"Certification Authority",name:d,status:m},{role:"Accreditation Authority",name:b,status:y})}return o.a.createElement("div",{className:"submission-approval-container"},o.a.createElement("h4",null,"Submission approvals"),o.a.createElement("div",{className:"table-responsive table-continer"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"submission-approval-thead"},o.a.createElement("tr",{key:"approval_table_header"},o.a.createElement("th",null,"Role"),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Approval status"))),o.a.createElement("tbody",null,p.map((function(e,t){var n=e.status,r=ma.a;return"Approved"!=n&&"Certification granted"!=n&&"Accreditation issued"!=n||(r=ua.a),"Not approved"!=n&&"Certification denied"!=n&&"Accreditation denied"!=n&&"Not required"!=n||(r=fa.a),o.a.createElement("tr",{key:t+1},o.a.createElement("td",{className:"table-title-data"},e.role),o.a.createElement("td",{className:"Unassigned"==e.name?"unassigned-approver":""},e.name),o.a.createElement("td",null,o.a.createElement("img",{src:r}),o.a.createElement("span",{className:"approval-status"}," ",n," ")))}))))))}},{key:"renderSkipCheckbox",value:function(e,t,n){var r=this;return n&&!n.isSA||!e.isApprovalOverrideBySecurityArchitect?null:"approver"===t&&n.isSA&&"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"sub-container"},o.a.createElement("h4",null,"Skip Business Owner and CISO approval"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.skipBoAndCisoApproval,onChange:function(e){r.setState({skipBoAndCisoApproval:e.target.checked})}}),"  This deliverable does not modify the current risk rating for this project. Business Owner and CISO approval is not required")):null}},{key:"renderAcknowledgements",value:function(e,t,n){var r=this;if(!e.isCertificationAndAccreditationTaskExists)return null;var a=this.getAcknowledgeText();return""!==a?o.a.createElement("div",{className:"acknowledgement-container"},o.a.createElement("h4",null,"Acknowledgements"),o.a.createElement("div",{className:"sub-container"},o.a.createElement("div",{className:"form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:this.state.enableApproveButton,onChange:function(e){r.setState({enableApproveButton:e.target.checked})}}),o.a.createElement("label",{className:"form-check-label"},a)))):null}},{key:"renderButtons",value:function(e){var t=this,n=As({},this.props),r=n.user,a=n.viewAs,i=(n.showNotApproveButton,n.token),c=n.handleSubmitButtonClick,s=n.handlePDFDownloadButtonClick,u=(n.handleSendBackForChangesButtonClick,n.handleApproveButtonClick),l=(n.handleOptionalApproveButtonClick,n.handleAssignToMeButtonClick),f=n.handleDenyButtonClick,p=n.handleEditButtonClick,m=n.handleGrantCertificationButtonClick,d=n.handleDenyCertificationButtonClick,y=n.handleIssueAccreditationButtonClick,b=n.handleDenyAccreditationButtonClick,h=o.a.createElement(Wn,{title:"PDF",iconImage:Pi.a,classes:["button"],onClick:s}),v=r?o.a.createElement(Wn,{title:"VIEW ANSWERS",classes:["button"],onClick:function(){return D.redirectToQuestionnaireReview(e.submissionUUID,i)}}):"";if("submitter"===a){var g=o.a.createElement(Wn,{title:"Edit",iconImage:ka.a,classes:["button"],onClick:p}),O=o.a.createElement($o,{title:"Submit for approval",iconImage:Zc.a,classes:["button"],disabled:hr.existsIncompleteTaskSubmission(e.taskSubmissions),onClick:c});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},g,h),o.a.createElement("div",{className:"buttons-right"},O)):"waiting_for_security_architect_approval"===e.status||"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,g,h),o.a.createElement("div",null)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,h),o.a.createElement("div",null))}if("approver"===a||"businessOwnerApprover"===a){var S=o.a.createElement(Wn,{title:"Assign to Me",classes:["button"],onClick:l}),E="Approve";r.isSA&&(E="Endorsed"),r.isCISO&&(E="Recommend Approval"),"businessOwnerApprover"===a&&(E="Accept risks and approve");var k=o.a.createElement($o,{title:E,classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return u(t.state.skipBoAndCisoApproval)}}),w="Not approved";r.isSA&&(w="Not endorsed"),r.isCISO&&(w="Recommend Rejection");var A=o.a.createElement(Jc,{title:w,classes:["button"],onClick:function(){return f(t.state.skipBoAndCisoApproval)}}),T=o.a.createElement($o,{title:"Grant Certification",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return m()}}),j=o.a.createElement(Jc,{title:"Deny Certification",classes:["button"],onClick:function(){return d()}}),C=o.a.createElement($o,{title:"Issue Accreditation",classes:["button"],disabled:!this.state.enableApproveButton,onClick:function(){return y()}}),_=o.a.createElement(Jc,{title:"Deny Accreditation",classes:["button"],onClick:function(){return b()}});return"submitted"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,v,h),o.a.createElement("div",null)):"awaiting_security_architect_review"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},S),o.a.createElement("div",null)):"waiting_for_security_architect_approval"===e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),A,k)):!r.isCertificationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_certification"!==e.status?!r.isAccreditationAuthority||"awaiting_certification_and_accreditation"!==e.status&&"awaiting_accreditation"!==e.status?o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),A,k)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),_,C)):o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"buttons-left"},v,h),o.a.createElement("div",{className:"buttons-right"},o.a.createElement("span",{className:"approver-action"},"Approver action: "),j,T))}return o.a.createElement("div",{className:"buttons"},o.a.createElement("div",null,v,h),o.a.createElement("div",null))}}])&&js(t.prototype,n),r&&js(t,r),i}(r.Component);Ds.defaultProps={submission:null,handlePDFDownloadButtonClick:function(){},handleSubmitButtonClick:function(){},handleSendBackForChangesButtonClick:function(){},handleApproveButtonClick:function(){},handleDenyButtonClick:function(){},handleEditButtonClick:function(){},handleAssignToMeButtonClick:function(){},handleCollaboratorAddButtonClick:function(){},handleGrantCertificationButtonClick:function(){},handleDenyCertificationButtonClick:function(){},handleIssueAccreditationButtonClick:function(){},handleDenyAccreditationButtonClick:function(){},viewAs:"others",showNotApproveButton:!1,token:"",user:null,members:null,securityTeamEmail:""};var xs=Ds;function Us(e){return(Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){Ms(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qs(e,t){return(Qs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vs(e);if(t){var o=Vs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hs(this,n)}}function Hs(e,t){return!t||"object"!==Us(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vs(e){return(Vs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Js=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qs(e,t)}(i,e);var t,n,r,a=qs(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a.call(this)).state={showModal:!1},e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Bs({},this.props),t=e.submissionHash;(0,e.dispatchLoadSubmissionAction)(t,e.secureToken),this.props.dispatchLoadMembersAction()}},{key:"render",value:function(){var e=Bs({},this.props),t=e.secureToken,n=e.loadingState,r=e.members,a=Bs({},this.props.submissionState),i=(a.location,a.title),c=a.user,s=a.submission,u=a.isCurrentUserApprover,l=a.isCurrentUserABusinessOwnerApprover,f=a.siteConfig;if(!(c&&s&&f&&r))return null;if(n["QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE"])return null;var p="others",m=!1;!c.isSA||c.isCISO||l||(m=!0);do{if(c.id===s.submitter.id){p="submitter";break}if(l&&"waiting_for_approval"==s.status){p="businessOwnerApprover";break}if(u){p="approver";break}}while(0);return o.a.createElement("div",{className:"SummaryContainer"},o.a.createElement(zr,{title:i,subtitle:"Summary",username:c.name,logopath:f.logoPath}),o.a.createElement(xs,{submission:s,handlePDFDownloadButtonClick:this.handlePDFDownloadButtonClick.bind(this),handleSubmitButtonClick:this.handleSubmitButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleEditButtonClick:this.handleOpenModal.bind(this),handleAssignToMeButtonClick:this.handleAssignToMeButtonClick.bind(this),handleCollaboratorAddButtonClick:this.handleCollaboratorAddButtonClick.bind(this),handleGrantCertificationButtonClick:this.handleGrantCertificationButtonClick.bind(this),handleDenyCertificationButtonClick:this.handleDenyCertificationButtonClick.bind(this),handleIssueAccreditationButtonClick:this.handleIssueAccreditationButtonClick.bind(this),handleDenyAccreditationButtonClick:this.handleDenyAccreditationButtonClick.bind(this),viewAs:p,user:c,token:t,members:r,showNotApproveButton:m,securityTeamEmail:f.securityTeamEmail}),o.a.createElement($t,{footerCopyrightText:f.footerCopyrightText}),o.a.createElement(Aa.a,{isOpen:this.state.showModal,parentSelector:function(){return document.querySelector(".SummaryContainer")}},o.a.createElement("h3",null,"Are you sure you want to edit this submission?"),o.a.createElement("div",{className:"content"},"This will cancel your current submission and require it to be resubmitted for approval."),o.a.createElement("div",null,o.a.createElement($o,{title:"Yes",onClick:this.handleEditButtonClick.bind(this)}),o.a.createElement(Wn,{title:"No",onClick:this.handleCloseModal.bind(this)}))))}},{key:"handlePDFDownloadButtonClick",value:function(){var e,t=Bs({},this.props.submissionState),n=t.submission,r=t.siteConfig;n&&r&&(n&&n.riskResults&&(e=n.riskResults),dc.generatePDF({questions:n.questions,submitter:n.submitter,questionnaireTitle:n.questionnaireTitle,siteConfig:r,riskResults:e||[]}))}},{key:"handleSubmitButtonClick",value:function(){var e=Bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchSubmitForApprovalAction(n.submissionID)}},{key:"handleApproveButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Bs({},this.props),n=t.secureToken,r=Bs({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerApproveSubmissionAction(a.submissionID,n):i&&this.props.dispatchApproveSubmissionAction(a.submissionID,e))}},{key:"handleDenyButtonClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Bs({},this.props),n=t.secureToken,r=Bs({},this.props.submissionState),o=r.user,a=r.submission,i=r.isCurrentUserApprover,c=r.isCurrentUserABusinessOwnerApprover;o&&a&&(c&&"waiting_for_approval"==a.status?this.props.dispatchBusinessOwnerDenySubmissionAction(a.submissionID,n):i&&this.props.dispatchDenySubmissionAction(a.submissionID,e))}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=Bs({},this.props.submissionState),t=e.user,n=e.submission,r=e.isCurrentUserApprover;t&&n&&r&&this.props.dispatchSendBackForChangesSubmissionAction(n.submissionID)}},{key:"handleAssignToMeButtonClick",value:function(){var e=Bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchAssignToMeAction(n.submissionID)}},{key:"handleEditButtonClick",value:function(){var e=Bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&(this.handleCloseModal(),this.props.dispatchEditSubmissionAction(n.submissionID))}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"handleCollaboratorAddButtonClick",value:function(e){var t=Bs({},this.props.submissionState),n=t.user,r=t.submission;n&&r&&this.props.dispatchAddCollaboratorAction(r.submissionID,e)}},{key:"handleGrantCertificationButtonClick",value:function(){var e=Bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchGrantCertificationAction(n.submissionID)}},{key:"handleDenyCertificationButtonClick",value:function(){var e=Bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyCertificationAction(n.submissionID)}},{key:"handleIssueAccreditationButtonClick",value:function(){var e=Bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchIssueAccreditationAction(n.submissionID)}},{key:"handleDenyAccreditationButtonClick",value:function(){var e=Bs({},this.props.submissionState),t=e.user,n=e.submission;t&&n&&this.props.dispatchDenyAccreditationAction(n.submissionID)}}])&&Fs(t.prototype,n),r&&Fs(t,r),i}(r.Component),Ks=Object(c.b)((function(e){return{submissionState:e.questionnaireState.submissionState,loadingState:e.loadingState,members:e.memberState}}),(function(e,t){return{dispatchLoadSubmissionAction:function(t,n){e(xr(t,n))},dispatchLoadMembersAction:function(){e(function(){var e=Nc(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pc.fetchMembers();case 3:n=e.sent,r={type:l.USER.LOAD_MEMBER,payload:n},t(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),te.displayError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},dispatchBusinessOwnerApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.approveQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(xr(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchBusinessOwnerDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.denyQuestionnaireSubmissionAsBusinessOwner({submissionID:e,csrfToken:a,secureToken:t});case 6:i=n.sent,c=i.uuid,r(xr(c,t)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSubmitForApprovalAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.submitQuestionnaireForApproval({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchEditSubmissionAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.editQuestionnaireSubmission({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,D.redirectToQuestionnaireEditing(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchApproveSubmissionAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.approveQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchDenySubmissionAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_e.getCSRFToken();case 3:return a=n.sent,n.next=6,pr.denyQuestionnaireSubmission({submissionID:e,csrfToken:a,skipBoAndCisoApproval:t});case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchSendBackForChangesSubmissionAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.updateQuestionnaireStatusToSendBackForChanges({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAssignToMeAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,pr.assignQuestionnaireSubmissionToSecurityArchitect({submissionID:e,csrfToken:o});case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAddCollaboratorAction:function(t,n){e(function(e,t){return function(){var n=Dr(regeneratorRuntime.mark((function n(r,o){var a,i,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_e.getCSRFToken();case 2:return a=n.sent,n.prev=3,n.next=6,pr.addCollaborator(e,t,a);case 6:i=n.sent,c=i.uuid,r(xr(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),alert(n.t0);case 14:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(t,n))},dispatchGrantCertificationAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,pr.grantCertification(e,o);case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyCertificationAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,pr.denyCertification(e,o);case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchIssueAccreditationAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,pr.issueAccreditation(e,o);case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyAccreditationAction:function(t){e(function(e){return function(){var t=Dr(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.getCSRFToken();case 2:return o=t.sent,t.prev=3,t.next=6,pr.denyAccreditation(e,o);case 6:a=t.sent,i=a.uuid,n(xr(i)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),alert(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Js),Gs=n(472),Ys=n.n(Gs);function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){$s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xs(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Zs(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Xs(a,r,o,i,c,"next",e)}function c(e){Xs(a,r,o,i,c,"throw",e)}i(void 0)}))}}function eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"loadAvailableComponents",value:(a=Zs(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,F.request({query:"\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readSecurityComponents"),Array.isArray(n)){e.next=7;break}return e.abrupt("return",[]);case 7:return r=n.map((function(e){return Sr.parseFromJSONObject(e)})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"createJiraTickets",value:(o=Zs(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zs({},t),r=n.jiraKey,o=n.componentIDList,a=n.csrfToken,i=o.map((function(e){return"\ncreateJiraTicket".concat(e,': createJiraTicket(ComponentID: "').concat(e,'", JiraKey: "').concat(r,'") {\n  ID\n  JiraKey\n  TicketLink\n}')})),c="\nmutation {\n  ".concat(i.join("\n"),"\n}"),e.next=5,F.request({query:c,csrfToken:a});case 5:if(s=e.sent,u=k()(s,"data",null)){e.next=9;break}throw Q;case 9:return l=Ys()(o.map((function(e){var t="createJiraTicket".concat(e),n=k()(u,t,null);return n?{id:A()(k()(n,"ID","")),jiraKey:A()(k()(n,"JiraKey","")),link:A()(k()(n,"TicketLink",""))}:null}))),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&eu(t.prototype,n),r&&eu(t,r),e}();function nu(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ru(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){nu(a,r,o,i,c,"next",e)}function c(e){nu(a,r,o,i,c,"throw",e)}i(void 0)}))}}function ou(){return function(){var e=ru(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tu.loadAvailableComponents();case 2:return n=e.sent,r={type:l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,payload:n},e.next=6,t(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function au(e,t){return function(){var n=ru(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function iu(e,t){return function(){var n=ru(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={type:l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,payload:{id:e,productAspect:t}},n.next=3,r(o);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function cu(e){return function(){var t=ru(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_VIEW_MODE,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function su(e){return function(){var t=ru(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.COMPONENT_SELECTION.SET_JIRA_TICKETS,payload:e},t.next=3,n(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function uu(e){var t=e.selectedComponents.map((function(e){return e.isSaved=!0,e}));return function(){var e=ru(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,payload:t},e.next=3,n(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function lu(e){return function(e){if(Array.isArray(e))return fu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pu(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function mu(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){pu(a,r,o,i,c,"next",e)}function c(e){pu(a,r,o,i,c,"throw",e)}i(void 0)}))}}function du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?du(Object(n),!0).forEach((function(t){bu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hu(e){var t=yu({},e),n=t.uuid,r=t.secureToken,o=t.type;return function(){var e=mu(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pr.fetchTaskSubmission({uuid:n,secureToken:r});case 3:return a=e.sent,i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=7,t(i);case 7:if("componentSelection"!==o){e.next=10;break}return e.next=10,t(uu(a));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),te.displayError(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}function vu(e){var t=yu({},e),n=t.answeredQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=mu(regeneratorRuntime.mark((function e(t,a){var i,c,s,u,f,p,m,d,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=function(){return a().taskSubmissionState.taskSubmission})()){e.next=3;break}return e.abrupt("return");case 3:return c={type:l.TASK.PUT_DATA_IN_TASK_SUBMISSION,payload:n},e.next=6,t(c);case 6:if(o){e.next=24;break}return e.prev=7,e.t0=Pr,e.t1=i().uuid,e.t2=[n.id],e.t3=[hr.transformFromFullQuestionToData(n)],e.next=14,_e.getCSRFToken();case 14:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=19,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 19:e.next=24;break;case 21:e.prev=21,e.t7=e.catch(7),te.displayError(e.t7);case 24:if(s=hr.getDataUpdateIntent({answeredQuestion:n,questions:i().questions}),u=s.currentIndex,f=s.nonApplicableIndexes,p=s.targetIndex,m=s.complete,s.terminate,d=s.result,!(f.length>0)){e.next=29;break}return y={type:l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,payload:f},e.next=29,t(y);case 29:if(!(p>u)){e.next=33;break}return b={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:u,targetIndex:p}},e.next=33,t(b);case 33:if(o){e.next=42;break}return e.prev=34,e.next=37,ku(i(),N.a.uniq([u].concat(lu(f),[p])),r);case 37:e.next=42;break;case 39:e.prev=39,e.t8=e.catch(34),te.displayError(e.t8);case 42:if(!m){e.next=45;break}return e.next=45,t(Ou({bypassNetwork:o,secureToken:r,result:d}));case 45:case"end":return e.stop()}}),e,null,[[7,21],[34,39]])})));return function(t,n){return e.apply(this,arguments)}}()}function gu(e){return function(){var t=mu(regeneratorRuntime.mark((function t(n,r){var o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.taskSubmissionState.taskSubmission){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n({type:l.TASK.SAVE_SELECTED_COMPONENT_REQUEST});case 6:return i=o.componentSelectionState.selectedComponents.map((function(e){return{SecurityComponentID:e.id,ProductAspect:e.productAspect,TaskSubmissionID:a.id}})),t.prev=7,t.t0=Pr,t.t1=e,t.t2=i,t.t3=a.uuid,t.next=14,_e.getCSRFToken();case 14:return t.t4=t.sent,t.t5={jiraKey:t.t1,components:t.t2,uuid:t.t3,csrfToken:t.t4},t.next=18,t.t0.updateTaskSubmissionWithSelectedComponents.call(t.t0,t.t5);case 18:return t.next=20,n(Ou());case 20:return t.next=22,n({type:l.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});case 22:t.next=29;break;case 24:return t.prev=24,t.t6=t.catch(7),t.next=28,n({type:l.TASK.SAVE_SELECTED_COMPONENT_FAILURE});case 28:te.displayError(t.t6);case 29:case"end":return t.stop()}}),t,null,[[7,24]])})));return function(e,n){return t.apply(this,arguments)}}()}function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=yu({},e),n=t.secureToken,r=t.bypassNetwork,o=t.result,a=t.taskSubmissionUUID,i=t.questionnaireUUID;return function(){var e=mu(regeneratorRuntime.mark((function e(t,c){var s,u,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){return c().taskSubmissionState.taskSubmission},r){e.next=20;break}return e.prev=2,e.next=5,_e.getCSRFToken();case 5:return u=e.sent,e.next=8,Pr.completeTaskSubmission({uuid:void 0===a?s().uuid:a,result:o||"",secureToken:n,csrfToken:u});case 8:return f=e.sent,p=f.uuid,e.next=12,t(hu({uuid:p,secureToken:n}));case 12:void 0!==i&&D.redirectToQuestionnaireSummary(i,n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),te.displayError(e.t0);case 18:e.next=22;break;case 20:return e.next=22,t({type:l.TASK.COMPLETE_TASK_SUBMISSION,payload:o});case 22:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()}function Su(e){var t=yu({},e),n=t.targetQuestion,r=t.secureToken,o=t.bypassNetwork;return function(){var e=mu(regeneratorRuntime.mark((function e(t,a){var i,c,s,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(c=i.questions,!((s=c.findIndex((function(e){return e.isCurrent})))<0)){e.next=7;break}throw new Error("Wrong state, please reload the task");case 7:if(n.isApplicable&&n.hasAnswer){e.next=9;break}return e.abrupt("return");case 9:if(!((u=c.findIndex((function(e){return e.id===n.id})))<0)){e.next=12;break}return e.abrupt("return");case 12:return f={type:l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,payload:{currentIndex:s,targetIndex:u}},e.next=15,t(f);case 15:if(o){e.next=18;break}return e.next=18,ku(i,N.a.uniq([s,u]),r);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function Eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=yu({},e),n=t.secureToken,r=t.bypassNetwork,o=t.type;return function(){var e=mu(regeneratorRuntime.mark((function e(t,a){var i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a().taskSubmissionState.taskSubmission){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=28;break}return e.prev=4,e.t0=Pr,e.t1=i.uuid,e.next=9,_e.getCSRFToken();case 9:return e.t2=e.sent,e.t3=n,e.t4={uuid:e.t1,csrfToken:e.t2,secureToken:e.t3},e.next=14,e.t0.editTaskSubmission.call(e.t0,e.t4);case 14:return c=e.sent,s=c.uuid,e.next=18,t(hu({uuid:s,secureToken:n}));case 18:if("componentSelection"!==o){e.next=21;break}return e.next=21,t(uu(i));case 21:e.next=26;break;case 23:e.prev=23,e.t5=e.catch(4),te.displayError(e.t5);case 26:e.next=29;break;case 28:t({type:l.TASK.EDIT_TASK_SUBMISSION});case 29:case"end":return e.stop()}}),e,null,[[4,23]])})));return function(t,n){return e.apply(this,arguments)}}()}function ku(e,t,n){return wu.apply(this,arguments)}function wu(){return(wu=mu(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Pr,e.t1=t.uuid,e.t2=n.map((function(e){return t.questions[e].id})),e.t3=n.map((function(e){return hr.transformFromFullQuestionToData(t.questions[e])})),e.next=7,_e.getCSRFToken();case 7:return e.t4=e.sent,e.t5=r,e.t6={uuid:e.t1,questionIDList:e.t2,answerDataList:e.t3,csrfToken:e.t4,secureToken:e.t5},e.next=12,e.t0.batchUpdateTaskSubmissionData.call(e.t0,e.t6);case 12:e.next=17;break;case 14:e.prev=14,e.t7=e.catch(0),te.displayError(e.t7.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Au(e,t){return function(){var n=mu(regeneratorRuntime.mark((function n(r,o){var a,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o().currentUserState.user){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,r({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});case 5:return n.prev=5,n.next=8,Pr.fetchTaskSubmissionList(a.id,"awaiting_approval_list",e,t);case 8:i=n.sent,r({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,payload:i}),n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(5),n.next=16,r({type:l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE,error:n.t0});case 16:te.displayError(n.t0);case 17:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t){return n.apply(this,arguments)}}()}var Tu=n(473),ju=n.n(Tu);function Cu(e){return(Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_u(Object(n),!0).forEach((function(t){Iu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Iu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Du(e,t){return(Du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lu(e);if(t){var o=Lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Uu(this,n)}}function Uu(e,t){return!t||"object"!==Cu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Du(e,t)}(i,e);var t,n,r,a=xu(i);function i(){return Nu(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this,t=Pu({},this.props),n=t.taskSubmission,r=t.saveAnsweredQuestion,a=t.moveToPreviousQuestion,i=t.handleApproveButtonClick,c=t.handleDenyButtonClick,s=t.handleSendBackForChangesButtonClick,u=t.handleAddTaskRecommendationButtonClick,l=t.handleEditTaskRecommendationButtonClick,f=t.loadResultForCertificationAndAccreditation,p=t.editAnswers,m=t.showBackLink,d=t.showEditButton,y=t.canUpdateAnswers,b=t.viewAs,h=(t.secureToken,o.a.createElement(Ua,{taskRecommendations:n.taskRecommendations,viewAs:b,status:n.status,handleAddTaskRecommendationButtonClick:u,handleEditTaskRecommendationButtonClick:l})),v=m?o.a.createElement("div",{className:"back-link",onClick:function(){return e.sendBackToQestionnaire()}},o.a.createElement("img",{src:ju.a}),"Back"):null,g="risk questionnaire"===n.taskType&&fs.isSRATaskFinalised(n.siblingSubmissions),O=d&&!g&&"certification and accreditation"!==n.taskType?o.a.createElement(Wn,{title:"Edit",onClick:p,iconImage:ka.a}):null,S=["complete","waiting_for_approval","approved","denied"],E=S.indexOf(n.status)>-1?o.a.createElement(Wn,{title:"PDF",iconImage:Pi.a,onClick:function(){return e.downloadPdf()}}):null,k=n.result&&S.indexOf(n.status)>-1?o.a.createElement("div",{className:"result-container"},o.a.createElement("h4",null,"Result"),o.a.createElement("div",{className:"result"},n.result)):null,w=n.riskResults&&S.indexOf(n.status)>-1?o.a.createElement(us,{riskResults:n.riskResults,hideWeightsAndScore:n.hideWeightsAndScore}):null,A="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement($o,{title:"Approve",onClick:i,classes:["button"]}):null,T="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(Wn,{title:"Send back for changes",onClick:s,classes:["button"]}):null,j="approver"===b&&"waiting_for_approval"===n.status?o.a.createElement(Jc,{title:"Not approved",onClick:c,classes:["button"]}):null,C=o.a.createElement("div",null,k,o.a.createElement("h4",null,"Summary"),"certification and accreditation"!==n.taskType&&o.a.createElement(Fi,{questions:n.questions}),!n.isDisplayPreventMessage&&"certification and accreditation"===n.taskType&&o.a.createElement("div",{className:"task-review-container"},o.a.createElement(Ga,{resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,isDisplayReportLogo:!0})),w,h);return"certification and accreditation"===n.taskType&&n.isDisplayPreventMessage?C=o.a.createElement("div",{className:"prevent-message-container alert alert-danger",dangerouslySetInnerHTML:{__html:n.preventMessage}}):y&&(C=o.a.createElement(bi,{questions:n.questions,serviceRegister:n.serviceRegister,informationClassificationTaskResult:n.informationClassificationTaskResult,riskProfileData:n.riskProfileData,resultForCertificationAndAccreditation:n.resultForCertificationAndAccreditation,loadResultForCertificationAndAccreditation:f,saveAnsweredQuestion:r,onLeftBarItemClick:a,handleTaskSaveDraftButtonClick:this.handleTaskSaveDraftButtonClick.bind(this)})),o.a.createElement("div",{className:"TaskSubmission"},"expired"===n.status&&o.a.createElement(gs,null),"expired"!==n.status&&o.a.createElement("div",null,!("risk questionnaire"!==n.taskType||!g)&&fs.getSraIsFinalisedAlert(),v,C,o.a.createElement("div",{className:"buttons ".concat("approver"!=b?"buttons-hideborder":"")},o.a.createElement("div",{className:"buttons-left"},O,E),o.a.createElement("div",{className:"buttons-right"},"approver"===b&&"waiting_for_approval"===n.status&&o.a.createElement("span",{className:"approver-action"},"Approver action: "),T,j,A))))}},{key:"downloadPdf",value:function(){var e=Pu({},this.props),t=e.taskSubmission,n=e.currentUser,r=e.siteConfig;(t||r||n)&&dc.generatePDF({questions:t.questions,submitter:t.submitter.email?t.submitter:n,questionnaireTitle:t.taskName,siteConfig:r,result:t.result,riskResults:t.riskResults})}},{key:"handleTaskSaveDraftButtonClick",value:function(){this.sendBackToQestionnaire()}},{key:"sendBackToQestionnaire",value:function(){D.redirectToQuestionnaireSummary(this.props.taskSubmission.questionnaireSubmissionUUID,this.props.secureToken)}}])&&Ru(t.prototype,n),r&&Ru(t,r),i}(r.Component);function Mu(e){return(Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(n),!0).forEach((function(t){qu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ju(e,t){return(Ju=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ku(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yu(e);if(t){var o=Yu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gu(this,n)}}function Gu(e,t){return!t||"object"!==Mu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yu(e){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ju(e,t)}(i,e);var t,n,r,a=Ku(i);function i(){return Hu(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=Qu({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=Qu({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction,s=(e.dispatchApproveTaskSubmissionAction,e.dispatchDenyTaskSubmissionAction,e.dispatchSendBackForChangesTaskSubmissionAction,e.dispatchAddTaskRecommendationAction,e.dispatchEditTaskRecommendationAction,e.secureToken);if(!n||!r||!t)return null;var u="others";do{if(parseInt(n.id)===parseInt(r.submitter.id)){u="submitter";break}if(r.isCurrentUserAnApprover){u="approver";break}}while(0);var l=parseInt(n.id)===parseInt(r.submitter.id),f=("in_progress"===r.status||"start"===r.status)&&(n.isSA||l||r.isTaskCollborator),p=("complete"===r.status||"waiting_for_approval"===r.status||"denied"===r.status)&&"submitted"===r.questionnaireSubmissionStatus&&(n.isSA||(l||r.isTaskCollborator)&&!r.lockWhenComplete);return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(zr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(Bu,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:p,canUpdateAnswers:f,handleApproveButtonClick:this.handleApproveButtonClick.bind(this),handleDenyButtonClick:this.handleDenyButtonClick.bind(this),handleSendBackForChangesButtonClick:this.handleSendBackForChangesButtonClick.bind(this),handleAddTaskRecommendationButtonClick:this.handleAddTaskRecommendationButtonClick.bind(this),handleEditTaskRecommendationButtonClick:this.handleEditTaskRecommendationButtonClick.bind(this),loadResultForCertificationAndAccreditation:this.loadResultForCertificationAndAccreditation.bind(this),showBackLink:!!r.questionnaireSubmissionUUID,viewAs:u,siteConfig:t,secureToken:s}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}},{key:"handleApproveButtonClick",value:function(){var e=Qu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchApproveTaskSubmissionAction(r)}},{key:"handleSendBackForChangesButtonClick",value:function(){var e=Qu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchSendBackForChangesTaskSubmissionAction(r)}},{key:"handleDenyButtonClick",value:function(){var e=Qu({},this.props.taskSubmission),t=e.user,n=e.isCurrentUserAnApprover,r=e.uuid;(t||r||n)&&this.props.dispatchDenyTaskSubmissionAction(r)}},{key:"handleAddTaskRecommendationButtonClick",value:function(e){var t=Qu({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchAddTaskRecommendationAction(o,e,a)}},{key:"handleEditTaskRecommendationButtonClick",value:function(e){var t=Qu({},this.props.taskSubmission),n=t.user,r=t.isCurrentUserAnApprover,o=t.uuid,a=t.taskRecommendations;(n||o||r||a)&&this.props.dispatchEditTaskRecommendationAction(o,e,a)}},{key:"loadResultForCertificationAndAccreditation",value:function(){var e=Qu({},this.props),t=e.uuid;(0,e.dispatchLoadResultForCertificationAndAccreditation)(t,e.secureToken)}}])&&Vu(t.prototype,n),r&&Vu(t,r),i}(r.Component),zu=Object(c.b)((function(e){return{questionnaireSubmission:e.questionnaireState.submissionState,taskSubmission:e.taskSubmissionState.taskSubmission,siteTitle:e.siteConfigState.siteTitle,currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(t,n){e(Rc()),e(mn()),e(hu({uuid:t,secureToken:n}))},dispatchLoadResultForCertificationAndAccreditation:function(t,n){e(function(e){var t=yu({},e),n=t.uuid,r=t.secureToken;return function(){var e=mu(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pr.fetchResultForCertificationAndAccreditation({uuid:n,secureToken:r});case 3:return o=e.sent,a={type:l.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION,payload:o},e.next=7,t(a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),te.displayError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}({uuid:t,secureToken:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(vu({answeredQuestion:t}))},dispatchMoveToPreviousQuestionAction:function(t){e(Su({targetQuestion:t}))},dispatchEditAnswersAction:function(){e(Eu())},dispatchApproveTaskSubmissionAction:function(t){e(function(e){return function(){var t=mu(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Pr.approveTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(hu({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchDenyTaskSubmissionAction:function(t){e(function(e){return function(){var t=mu(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Pr.denyTaskSubmission({uuid:e,csrfToken:o});case 6:return a=t.sent,a.status,t.next=10,n(hu({uuid:e}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchSendBackForChangesTaskSubmissionAction:function(t){e(function(e){return function(){var t=mu(regeneratorRuntime.mark((function t(n,r){var o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_e.getCSRFToken();case 3:return o=t.sent,t.next=6,Pr.editTaskSubmission({uuid:e,csrfToken:o,secureToken:""});case 6:return a=t.sent,a.status,t.next=10,n(hu({uuid:e,secureToken:""}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),te.displayError(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))},dispatchAddTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return function(){var r=mu(regeneratorRuntime.mark((function r(o,a){var i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n.push(t),r.next=4,_e.getCSRFToken();case 4:return i=r.sent,r.next=7,Pr.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return c=r.sent,c.taskRecommendationData,r.next=11,o(hu({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),te.displayError(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,n,r))},dispatchEditTaskRecommendationAction:function(t,n,r){e(function(e,t,n){return function(){var r=mu(regeneratorRuntime.mark((function r(o,a){var i,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=n.map((function(e){return e.id===t.id?yu(yu({},n),t):e})),r.next=4,_e.getCSRFToken();case 4:return i=r.sent,r.next=7,Pr.updateTaskRecommendation({uuid:e,csrfToken:i,taskRecommendations:n});case 7:return c=r.sent,c.taskRecommendationData,r.next=11,o(hu({uuid:e}));case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),te.displayError(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,n,r))}}}))(Wu);function $u(e){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function el(e,t){return(el=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rl(e);if(t){var o=rl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nl(this,n)}}function nl(e,t){return!t||"object"!==$u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rl(e){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function al(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){il(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function il(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&el(e,t)}(i,e);var t,n,r,a=tl(i);function i(){return Xu(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,al({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=al({},this.props),t=e.siteConfig,n=e.currentUser,r=e.taskSubmission,a=e.dispatchSaveAnsweredQuestionAction,i=e.dispatchMoveToPreviousQuestionAction,c=e.dispatchEditAnswersAction;if(!n||!r||!t)return null;var s="in_progress"===r.status||"start"===r.status,u="complete"===r.status;return o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(zr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),o.a.createElement(Bu,{taskSubmission:r,saveAnsweredQuestion:a,moveToPreviousQuestion:i,editAnswers:c,showEditButton:u,canUpdateAnswers:s,showBackButton:!1,siteConfig:t,currentUser:n}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&Zu(t.prototype,n),r&&Zu(t,r),i}(r.Component),sl=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=al({},t).taskId;e(Rc()),e(mn()),e(function(e){var t=yu({},e).taskId;return function(){var e=mu(regeneratorRuntime.mark((function e(n,r){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pr.fetchStandaloneTask({taskId:t});case 3:return o=e.sent,a={id:"",uuid:"",taskName:o.name,taskType:"questionnaire",status:"in_progress",result:"",questions:o.questions,selectedComponents:[],jiraTickets:[],questionnaireSubmissionUUID:"",questionnaireSubmissionID:"",submitter:r().currentUserState,lockWhenComplete:!1},i={type:l.TASK.LOAD_TASK_SUBMISSION,payload:a},e.next=8,n(i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),te.displayError(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()}({taskId:n}))},dispatchSaveAnsweredQuestionAction:function(t){e(vu({answeredQuestion:t,bypassNetwork:!0}))},dispatchMoveToPreviousQuestionAction:function(t){e(Su({targetQuestion:t,bypassNetwork:!0}))},dispatchEditAnswersAction:function(){e(Eu({bypassNetwork:!0}))}}}))(cl);function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ll(Object(n),!0).forEach((function(t){pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yl(e,t){return(yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vl(e);if(t){var o=vl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hl(this,n)}}function hl(e,t){return!t||"object"!==ul(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vl(e){return(vl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yl(e,t)}(i,e);var t,n,r,a=bl(i);function i(){return ml(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=fl({},this.props),t=e.title,n=e.disabled,r=e.onItemClick;return o.a.createElement("div",{className:"LeftBarItem"},o.a.createElement("button",{className:"btn",disabled:n,onClick:function(e){e.preventDefault(),r()}},this.renderIcon(),t))}},{key:"renderIcon",value:function(){switch(fl({},this.props).iconType){case"editing":return o.a.createElement("img",{src:He.a,alt:""});case"success":return o.a.createElement("i",{className:"fas fa-check-circle success"});case"pending":return o.a.createElement("i",{className:"fas fa-check-circle pending"});case"not-applicable":return o.a.createElement("i",{className:"fas fa-question-circle not-applicable"});default:return null}}}])&&dl(t.prototype,n),r&&dl(t,r),i}(r.Component);function Ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Sl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"isComponentExist",value:function(e,t){return t.filter((function(t){return t.id===e})).length>0}},{key:"isSelectedComponentExist",value:function(e,t,n){return""!==t?n.filter((function(n){return n.id===e&&n.productAspect===t})).length>0:n.filter((function(t){return t.id===e})).length>0}},{key:"isComponentSaved",value:function(e,t,n){return n.filter((function(n){return n.id===e&&n.productAspect===t&&n.isSaved})).length>0}},{key:"doescomponentExistForProductAspect",value:function(e,t){return t.filter((function(t){return t.productAspect===e})).length>0}}],(n=null)&&Ol(t.prototype,n),r&&Ol(t,r),e}();function El(e){return(El="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(n),!0).forEach((function(t){Al(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jl(e,t){return(jl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pl(e);if(t){var o=Pl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _l(this,n)}}function _l(e,t){return!t||"object"!==El(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pl(e){return(Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Il=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jl(e,t)}(i,e);var t,n,r,a=Cl(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={filter:"",selectedProductAspect:e.productAspects&&e.productAspects.length?e.productAspects[0]:""},t}return t=i,(n=[{key:"handleChange",value:function(e){alert(e.target.value)}},{key:"render",value:function(){var e=this,t=wl({},this.props),n=t.title,r=t.availableComponents,a=t.selectedComponents,i=t.removeComponent,c=t.addComponent,s=t.productAspects,u=t.componentTarget,l=wl({},this.state),f=l.filter,p=l.selectedProductAspect;return o.a.createElement("div",{className:"LeftBar"},s&&s.length>0&&o.a.createElement("div",{className:"product-aspect"},o.a.createElement("label",null,o.a.createElement("span",{className:"product-aspect-label"},"Please select a Product Aspect:"),o.a.createElement("select",{className:"custom-select custom-select-sm",onChange:function(t){var n=A()(t.target.value).trim();e.setState({selectedProductAspect:n})},value:p},s.map((function(e,t){return o.a.createElement("option",{key:t,value:e},e)}))))),o.a.createElement("div",{className:"title"},n),o.a.createElement("div",{className:"search"},o.a.createElement("i",{className:"fas fa-search"}),o.a.createElement("input",{type:"text",placeholder:"Filter component...",onChange:function(t){var n=A()(t.target.value).trim();e.setState({filter:n})}})),o.a.createElement("div",{className:"items"},r.filter((function(e){return!f||e.name.toUpperCase().includes(f.toUpperCase())})).map((function(e){var t=Sl.isSelectedComponentExist(e.id,p,a),n=Sl.isComponentSaved(e.id,p,a,u)&&"JIRA Cloud"==u;return o.a.createElement(gl,{title:e.name,iconType:t?"success":"pending",disabled:n,key:e.id,onItemClick:function(){t?i(e.id,p):c(e.id,p)}})}))))}}])&&Tl(t.prototype,n),r&&Tl(t,r),i}(r.Component),Nl=n(115);function Rl(e){return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dl(Object(n),!0).forEach((function(t){Ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ll(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t){return(Bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ml(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ql(e);if(t){var o=Ql(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fl(this,n)}}function Fl(e,t){return!t||"object"!==Rl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ql(e){return(Ql=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bl(e,t)}(i,e);var t,n,r,a=Ml(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={isExpanded:!1,isImplementationEvidenceExpaned:!t.props.isCVATaskEditable},t}return t=i,(n=[{key:"handleOnBlurForImplementationEvidence",value:function(e){this.props.isCVATaskEditable&&this.props.updateEvidenceTextareaData(e.target.getContent())}},{key:"componentDidUpdate",value:function(e){e.isCVATaskEditable!==this.props.isCVATaskEditable&&this.setState({isImplementationEvidenceExpaned:!this.props.isCVATaskEditable})}},{key:"render",value:function(){var e=this,t=xl({},this.props),n=(t.id,t.name),r=t.description,a=t.implementationGuidance,i=t.implementationEvidence,c=t.className,s=t.showImplementationEvidence,u=(t.updateEvidenceTextareaData,t.implementationEvidenceUserInput),l=t.isCVATaskEditable,f=xl({},this.state),p=f.isExpanded,m=f.isImplementationEvidenceExpaned;return o.a.createElement("div",{className:"ControlInfo "+c},n&&o.a.createElement("h5",null,n),r&&o.a.createElement("div",{className:"control-description"},o.a.createElement("span",null,o.a.createElement("b",null,"Description: ")),o.a.createElement("span",{className:"control-description-cs",dangerouslySetInnerHTML:{__html:r}})),a&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isExpanded:!p})}},o.a.createElement("span",null,o.a.createElement("b",null,"Implementation Guidance "),o.a.createElement(Nl.Icon,{name:"".concat(p?"caret-up":"caret-down")}))),p&&o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),s&&o.a.createElement("div",{className:"implementation-Guidance"},o.a.createElement("div",{className:"implementation-Guidance-title",onClick:function(){return e.setState({isImplementationEvidenceExpaned:!m})}},o.a.createElement("span",null,o.a.createElement("b",null,"Evidence of Implementation / Rationale of Not Applicable"),o.a.createElement(Nl.Icon,{name:"".concat(m?"caret-up":"caret-down")}))),m&&o.a.createElement("div",null,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),l?o.a.createElement("div",null,o.a.createElement(ia.a,{className:"implementation-evidence",initialValue:u,init:{selector:"textarea",menubar:!1,toolbar:!1,statusbar:!1,skin_url:"resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe"},onBlur:function(t){return e.handleOnBlurForImplementationEvidence(t)}})):o.a.createElement("div",{className:"implementation-evidence"},o.a.createElement("span",{dangerouslySetInnerHTML:{__html:u.replace(/ href=/gi," target='_blank' href=")}})))))}}])&&Ll(t.prototype,n),r&&Ll(t,r),i}(o.a.Component);function Hl(e){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yl(e,t){return(Yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$l(e);if(t){var o=$l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zl(this,n)}}function zl(e,t){return!t||"object"!==Hl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $l(e){return($l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yl(e,t)}(i,e);var t,n,r,a=Wl(i);function i(){return Kl(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(n),!0).forEach((function(t){Jl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.id,n=e.name,r=e.description,a=e.removeComponent,i=e.childControls,c=e.isDisable;return o.a.createElement("div",{className:"ComponentInfo",key:t+n},o.a.createElement("h3",null,!c&&o.a.createElement("button",{onClick:function(e){e.preventDefault(),a()}},o.a.createElement("i",{className:"fas fa-minus-circle text-danger"}),o.a.createElement("span",null," ",n))),o.a.createElement("p",null,r),i&&i.length>0&&o.a.createElement("div",{className:"control-heading"},"Controls"),i&&i.length>0&&i.map((function(e,t){return o.a.createElement(ql,{key:t,id:e.id,name:e.name,description:e.description,implementationGuidance:e.implementationGuidance,className:"control-cs"})})))}}])&&Gl(t.prototype,n),r&&Gl(t,r),i}(o.a.Component);function Zl(e){return(Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach((function(t){nf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function of(e,t){return(of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function af(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sf(e);if(t){var o=sf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cf(this,n)}}function cf(e,t){return!t||"object"!==Zl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sf(e){return(sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var uf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&of(e,t)}(i,e);var t,n,r,a=af(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={jiraKey:""},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=tf({},this.props),n=t.availableComponents,r=t.selectedComponents,a=t.createJIRATickets,i=t.removeComponent,c=t.addComponent,s=t.finishWithSelection,u=t.saveControls,l=t.extraButtons,f=t.componentTarget,p=t.productAspects,m=t.isStandaloneTask,d=tf({},this.state).jiraKey,y=p&&p.length>0&&r.length>0;return o.a.createElement("div",{className:"ComponentSelection"},o.a.createElement("div",{className:"main-wrapper"},o.a.createElement(Il,{selectedComponents:r,availableComponents:n,title:"Available Components",removeComponent:i,addComponent:c,productAspects:p,componentTarget:f}),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"heading"},"Selected Components"),o.a.createElement("div",{className:"selected-components"},y>0&&p.map((function(e,t){return o.a.createElement("div",{key:t},Sl.doescomponentExistForProductAspect(e,r)&&o.a.createElement("h4",{key:t},e),r.map((function(t,n){var r=t.hasOwnProperty("isSaved")&&t.isSaved&&"JIRA Cloud"==f;if(t.productAspect===e)return o.a.createElement(Xl,{key:t.id+(t.productAspect?"_".concat(t.productAspect):""),id:t.id,name:t.name,description:t.description,removeComponent:function(){i(t.id,t.productAspect)},childControls:t.controls,isDisable:r})})))})),(void 0===p||""===p||0===p.length)&&r.map((function(e,t){var n=e.hasOwnProperty("isSaved")&&e.isSaved&&"JIRA Cloud"==f;return o.a.createElement(Xl,{key:e.id,id:e.id,name:e.name,description:e.description,removeComponent:function(){i(e.id,e.productAspect)},childControls:e.controls,isDisable:n})}))))),o.a.createElement("div",{className:"buttons-wrapper"},o.a.createElement("div",{className:"extra-buttons"},l),o.a.createElement("div",null,r.length>0&&"JIRA Cloud"===f&&o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"text",style:{height:"100%",marginRight:"10px"},placeholder:"JIRA Project Key",onChange:function(t){var n=A()(t.target.value).trim();e.setState({jiraKey:n})}}),o.a.createElement($o,{title:"CREATE JIRA TICKETS",classes:["mr-3"],onClick:function(){a(d)}})),"Local"===f&&!m&&o.a.createElement(Wn,{title:"SAVE CONTROLS",classes:["mr-3"],onClick:function(){u()}}),o.a.createElement(Wn,{title:"COMPLETE WITHOUT SELECTION",classes:["mr-3"],onClick:function(){s()}}))))}}])&&rf(t.prototype,n),r&&rf(t,r),i}(r.Component);function lf(e){return(lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function df(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yf(e,t){return(yf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vf(e);if(t){var o=vf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hf(this,n)}}function hf(e,t){return!t||"object"!==lf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vf(e){return(vf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yf(e,t)}(i,e);var t,n,r,a=bf(i);function i(){return mf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(n),!0).forEach((function(t){pf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=e.selectedComponents,n=e.jiraTickets,r=e.buttons,a=e.componentTarget,i=e.productAspects,c=i&&i.length>0&&t.length>0;return o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),c>0&&i.map((function(e,n){return o.a.createElement("ul",{key:n},Sl.doescomponentExistForProductAspect(e,t)&&o.a.createElement("h5",{key:n},e),t.map((function(t,n){if(t.productAspect===e)return o.a.createElement("li",{key:t.id+(e?"_".concat(e):"")},t.name)})))})),o.a.createElement("ul",null,(void 0===i||""===i||0===i.length)&&t.map((function(e){return o.a.createElement("li",{key:e.id},e.name)})))),"JIRA Cloud"===a&&o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Created Jira Tickets"),o.a.createElement("ul",null,n.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement("a",{href:e.link,target:"_blank"},e.link))})))),o.a.createElement("div",{className:"buttons"},r))}}])&&df(t.prototype,n),r&&df(t,r),i}(o.a.Component);function Of(e){return(Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sf(Object(n),!0).forEach((function(t){kf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tf(e,t){return(Tf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_f(e);if(t){var o=_f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cf(this,n)}}function Cf(e,t){return!t||"object"!==Of(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _f(e){return(_f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tf(e,t)}(i,e);var t,n,r,a=jf(i);function i(){return wf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Ef({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Ef({},this.props),t=e.siteConfig,n=e.currentUser,r=e.availableComponents,a=e.selectedComponents,i=e.dispatchAddComponentAction,c=e.dispatchRemoveComponentAction,s=e.dispatchCreateJIRATicketsAction,u=e.viewMode,l=e.jiraTickets,f=e.componentTarget;if(!n||!t)return null;var p=null;switch(u){case"edit":p=o.a.createElement(uf,{availableComponents:r,selectedComponents:a,componentTarget:f,isStandaloneTask:!0,createJIRATickets:function(e){s(e)},removeComponent:function(e){c(e)},addComponent:function(e){i(e)},finishWithSelection:function(){D.redirectToHome()}});break;case"review":p=o.a.createElement(gf,{selectedComponents:a,jiraTickets:l},o.a.createElement("div",{className:"buttons"},o.a.createElement($o,{title:"BACK TO HOME",onClick:function(){D.redirectToHome()}})))}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(zr,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:n.name}),p,o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&Af(t.prototype,n),r&&Af(t,r),i}(r.Component),If=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents,viewMode:e.componentSelectionState.viewMode,jiraTickets:e.componentSelectionState.jiraTickets}}),(function(e,t){return{dispatchLoadDataAction:function(){e(Rc()),e(mn()),e(ou())},dispatchAddComponentAction:function(t){e(au(t))},dispatchRemoveComponentAction:function(t){e(iu(t))},dispatchCreateJIRATicketsAction:function(t){e(function(e){return function(){var t=ru(regeneratorRuntime.mark((function t(n,r){var o,a,i,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("Please enter the project key!");case 3:if(o=r(),a=o.componentSelectionState.selectedComponents){t.next=7;break}throw new Error("Nothing to create in JIRA!");case 7:return t.next=9,_e.getCSRFToken();case 9:return i=t.sent,t.next=12,tu.createJiraTickets({jiraKey:e,componentIDList:gr()(a.map((function(e){return e.id}))),csrfToken:i});case 12:return c=t.sent,t.next=15,n(su(c));case 15:return t.next=17,n(cu("review"));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0),te.displayError(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Pf),Nf=n(474),Rf=n.n(Nf);function Df(e){return(Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lf(e,t){return(Lf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ff(e);if(t){var o=Ff(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mf(this,n)}}function Mf(e,t){return!t||"object"!==Df(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ff(e){return(Ff=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lf(e,t)}(i,e);var t,n,r,a=Bf(i);function i(){return xf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"alert alert-warning"},"The submission you are attempting to view has not been completed yet.")}}])&&Uf(t.prototype,n),r&&Uf(t,r),i}(r.Component);function qf(e){return(qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jf(e,t){return(Jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yf(e);if(t){var o=Yf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gf(this,n)}}function Gf(e,t){return!t||"object"!==qf(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yf(e){return(Yf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wf(Object(n),!0).forEach((function(t){$f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jf(e,t)}(i,e);var t,n,r,a=Kf(i);function i(){return Hf(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,zf({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=zf({},this.props),t=e.siteConfig,n=(e.siteTitle,e.secureToken),r=e.currentUser,a=e.taskSubmission,i=e.availableComponents,c=e.selectedComponents,s=e.dispatchAddComponentAction,u=e.dispatchRemoveComponentAction,l=e.dispatchCreateJIRATicketsAction,f=e.dispatchSaveLocalControlsAction,p=e.dispatchFinishAction,m=e.dispatchEditAnswersAction;if(!r||!a||!t)return null;var d=parseInt(r.id)===parseInt(a.submitter.id)||r.isSA||a.isTaskCollborator,y=fs.isSRATaskFinalised(a.siblingSubmissions),b=("complete"===a.status||"waiting_for_approval"===a.status||"denied"===a.status)&&"submitted"===a.questionnaireSubmissionStatus&&d&&!a.lockWhenComplete,h=o.a.createElement($o,{key:"back",title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(a.questionnaireSubmissionUUID,n)}}),v=b&&!y?o.a.createElement(Wn,{title:"EDIT CONTROLS",onClick:m,classes:["button"],iconImage:Rf.a}):null,g=null;switch(a.status){case"start":case"in_progress":if(d){g=o.a.createElement(uf,{availableComponents:i,selectedComponents:c,componentTarget:a.componentTarget,productAspects:a.productAspects,extraButtons:h,createJIRATickets:function(e){l(e)},saveControls:function(){f()},removeComponent:function(e,t){u(e,t)},addComponent:function(e,t){s(e,t)},finishWithSelection:function(){p()}});break}g=o.a.createElement("div",{className:"ComponentSelectionReview"},o.a.createElement("div",{className:"section"},o.a.createElement("h4",null,"Selected Components"),o.a.createElement("br",null),o.a.createElement(Qf,null)),o.a.createElement("div",{className:"buttons"},h));break;case"complete":g=o.a.createElement("div",null,o.a.createElement("div",{className:"ComponentSelectionReview"},!!y&&fs.getSraIsFinalisedAlert()),o.a.createElement(gf,{selectedComponents:a.selectedComponents,jiraTickets:a.jiraTickets,componentTarget:a.componentTarget,productAspects:a.productAspects,buttons:[o.a.createElement("div",{key:"component-selection-review-button-container"},v,h)]}));break;case"expired":g=o.a.createElement(gs,null)}return o.a.createElement("div",{className:"ComponentSelectionContainer"},o.a.createElement(zr,{title:"Component Selection",subtitle:t.siteTitle,logopath:t.logoPath,username:r.name}),g,o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&Vf(t.prototype,n),r&&Vf(t,r),i}(r.Component),Zf=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,taskSubmission:e.taskSubmissionState.taskSubmission,availableComponents:e.componentSelectionState.availableComponents,selectedComponents:e.componentSelectionState.selectedComponents}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=zf({},t),r=n.uuid,o=n.secureToken;e(mn()),e(Rc()),e(ou()),e(hu({uuid:r,secureToken:o,type:"componentSelection"}))},dispatchAddComponentAction:function(t,n){e(au(t,n))},dispatchRemoveComponentAction:function(t,n){e(iu(t,n))},dispatchCreateJIRATicketsAction:function(t){e(gu(t))},dispatchSaveLocalControlsAction:function(){e(gu(""))},dispatchFinishAction:function(){e(Ou())},dispatchEditAnswersAction:function(){e(Eu({type:"componentSelection"}))}}}))(Xf);function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tp=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"prettifyStatus",value:function(e,t,n,r,o,a){if("awaiting_security_architect_review"===e)return"Awaiting security review";if("waiting_for_security_architect_approval"===e)return"Awaiting security approval";if("waiting_for_approval"===e){if("pending"===o&&"pending"===a)return"Awaiting approval";if("pending"!==o&&"pending"===a)return"Awaiting business owner approval"}return"approved"===e&&"pending"===o&&"approved"===a?"Approved - Chief Information Security Officer Approval Pending":"awaiting_certification_and_accreditation"==e?"Awaiting certification and accreditation":"awaiting_accreditation"==e?"Awaiting accreditation":"awaiting_certification"==e?"Awaiting certification":e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}}],(n=null)&&ep(t.prototype,n),r&&ep(t,r),e}();function np(e){return(np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(n),!0).forEach((function(t){ap(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ap(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,t){return(sp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function up(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fp(e);if(t){var o=fp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lp(this,n)}}function lp(e,t){return!t||"object"!==np(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fp(e){return(fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pp(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var mp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sp(e,t)}(i,e);var t,n,r,a=up(i);function i(){return ip(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,op({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=op({},this.props),t=e.currentUser,n=e.mySubmissionList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(zr,{title:"My Submission",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return N.a.isEmpty(n)?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Pillar"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,n.map((function(e){var n="";return n="in_progress"===e.status?"#/questionnaire/submission/"+e.uuid:"#/questionnaire/summary/"+e.uuid,o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Zo()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.questionnaireName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,tp.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))))}(n,t),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&cp(t.prototype,n),r&&cp(t,r),i}(r.Component),dp=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,mySubmissionList:e.questionnaireSubmissionListState.mySubmissionList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Rc());case 2:return t.next=4,e(function(){var e=Dr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"my_submission_list",0,0);case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(mn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){pp(a,r,o,i,c,"next",e)}function c(e){pp(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(mp),yp=n(217),bp=n.n(yp),hp=n(475),vp=n.n(hp),gp=n(476),Op=n.n(gp),Sp=n(477),Ep=n.n(Sp);function kp(e){return(kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tp(e,t){return(Tp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_p(e);if(t){var o=_p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cp(this,n)}}function Cp(e,t){return!t||"object"!==kp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _p(e){return(_p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tp(e,t)}(i,e);var t,n,r,a=jp(i);function i(){var e;wp(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).handleFirstPageClick=function(){e.props.paginationActions.firstPage({limit:10,offset:0,index:1,pageNumber:1})},e.handleNextPageClick=function(t){e.props.paginationActions.nextPage({limit:e.props.limit,offset:(e.props.page+1-1)*e.props.limit,index:t+1,pageNumber:e.props.page+1})},e.handlePreviousPageClick=function(){e.props.paginationActions.prevPage({limit:e.props.limit,offset:(e.props.page-1-1)*e.props.limit,index:Math.abs(e.props.limit-e.props.index),pageNumber:e.props.page-1})},e.handleLastPageClick=function(t){e.props.paginationActions.lastPage({limit:e.props.limit,offset:(Math.ceil(t/e.props.limit)-1)*e.props.limit,index:(Math.ceil(t/e.props.limit)-1)*e.props.limit,pageNumber:Math.ceil(t/e.props.limit)})},e.handleChangeForSelectedRows=function(t){e.props.paginationActions.selectedRow({limit:t,offset:e.props.offset,index:e.props.index,pageNumber:e.props.page})},e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.limit,r=t.offset;e.limit===n&&e.offset===r||this.props.dispatchList(n,r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.paginationInfo,r=n.totalCount,a=n.hasNextPage,i=n.hasPreviousPage,c=t.listLength,s=[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"},{value:40,label:"40"},{value:50,label:"50"}],u=this.props.offset+c,l=this.props.index;return i||(l=1),o.a.createElement("div",{className:"pagination-container"},o.a.createElement("span",{className:"rows-per-page"},"Rows per page"),o.a.createElement("div",{className:"rows-per-page-select"},o.a.createElement(ca.a,{value:{label:this.props.limit},options:s,defaultValue:s[0],classNamePrefix:"react-select",placeholder:s[0],isSearchable:!1,onChange:function(t){return e.handleChangeForSelectedRows(t.value)}})),o.a.createElement("div",{className:"pagination-navigation-count"},l+"-"+u+" of "+r),o.a.createElement("div",{className:"pagination-buttons"},o.a.createElement("img",{className:i?"":"disable-pagination",src:vp.a,onClick:i?function(){return e.handleFirstPageClick()}:""}),o.a.createElement("img",{className:i?"":"disable-pagination",src:Ep.a,onClick:i?function(){return e.handlePreviousPageClick()}:""}),o.a.createElement("img",{className:a?"":"disable-pagination",src:$c.a,onClick:a?function(){return e.handleNextPageClick(u)}:""}),o.a.createElement("img",{className:a?"":"disable-pagination",src:Op.a,onClick:a?function(){return e.handleLastPageClick(r)}:""})))}}])&&Ap(t.prototype,n),r&&Ap(t,r),i}(r.Component);n(438);function Ip(e){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Np(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dp(e,t){return(Dp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lp(e);if(t){var o=Lp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Up(this,n)}}function Up(e,t){return!t||"object"!==Ip(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lp(e){return(Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dp(e,t)}(i,e);var t,n,r,a=xp(i);function i(){return Np(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.paginationState.pagination,n=e.paginationActions;return o.a.createElement(Pp,{paginationInfo:this.props.paginationInfo,listLength:this.props.listLength,dispatchList:this.props.dispatchList,limit:t.limit,offset:t.offset,page:t.pageNumber,index:t.index,paginationActions:n})}}])&&Rp(t.prototype,n),r&&Rp(t,r),i}(r.Component),Mp=Object(c.b)((function(e){return{paginationState:e.paginationState}}),(function(e,t){return{paginationActions:{nextPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_NEXT_PAGE,payload:e}}(t))},prevPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_PREV_PAGE,payload:e}}(t))},firstPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_FIRST_PAGE,payload:e}}(t))},lastPage:function(t){return e(function(e){return{type:l.PAGINATION.FETCH_LAST_PAGE,payload:e}}(t))},selectedRow:function(t){return e(function(e){return{type:l.PAGINATION.SET_SELECTED_ROWS,payload:e}}(t))}}}}))(Bp);function Fp(e){return(Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qp(Object(n),!0).forEach((function(t){Hp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jp(e,t){return(Jp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yp(e);if(t){var o=Yp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gp(this,n)}}function Gp(e,t){return!t||"object"!==Fp(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yp(e){return(Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wp(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var zp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jp(e,t)}(i,e);var t,n,r,a=Kp(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={currentApprovalList:"QuestionnaireApproval"},t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,qp({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=this,t=qp({},this.props),n=t.currentUser,r=t.siteConfig,a=t.awaitingApprovalList,i=t.awaitingApprovalTaskList,c=t.loadingState,s=t.dispatchloadAwaitingApprovalList,u=t.dispatchloadAwaitingApprovalTaskList;return n&&a&&r&&i?c["QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(zr,{title:"Awaiting Approvals",username:n.name,subtitle:r.siteTitle,logopath:r.logoPath}),o.a.createElement("div",{className:"container tab-container mb-0"},o.a.createElement("button",{className:"QuestionnaireApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"QuestionnaireApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalList(10,0)}},"Submission approvals"),o.a.createElement("button",{className:"TaskApproval"==this.state.currentApprovalList?"tab-button active":"tab-button",onClick:function(){e.setState({currentApprovalList:"TaskApproval"}),e.props.resetPagination(),e.props.dispatchloadAwaitingApprovalTaskList(10,0)}},"Task approvals")),"QuestionnaireApproval"==this.state.currentApprovalList&&$p(a,n,s),"TaskApproval"==this.state.currentApprovalList&&Xp(i,n,u),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&Vp(t.prototype,n),r&&Vp(t,r),i}(r.Component),$p=function(e,t,n){var r=e.questionnaireSubmissionList,a=e.pageInfo;return N.a.isEmpty(r)?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Questionnaire.")):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-hover table-approval-list"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",null,o.a.createElement("span",{className:"date-created"},"Date created"),o.a.createElement("img",{src:bp.a})),o.a.createElement("th",{className:"submission-product-name-header"},"Product Name"),o.a.createElement("th",null,"Business Owner"),o.a.createElement("th",null,"Submitter"),o.a.createElement("th",null,"Release date"),o.a.createElement("th",{className:"security-architect-header"},"Security architect"),o.a.createElement("th",{className:"submission-status-header"},"Status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,r.map((function(e){var n="#/questionnaire/summary/"+e.uuid,r=e.SecurityArchitectApprover;return"null null"==r&&(r="Unassigned"),o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Zo()(e.created).format("DD/MM/YY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.businessOwner),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,e.releaseDate?Zo()(e.releaseDate).format("DD/MM/YY"):""),o.a.createElement("td",{className:"Unassigned"==r?"unassigned-approver":""},r),o.a.createElement("td",null,o.a.createElement("img",{src:ma.a}),tp.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},o.a.createElement("img",{src:$c.a}))))}))))),o.a.createElement(Mp,{paginationInfo:a,listLength:r.length,dispatchList:n}))},Xp=function(e,t,n){var r=e.taskSubmissionList,a=e.pageInfo;return N.a.isEmpty(r)?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display for Task.")):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-hover table-approval-list"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",null,o.a.createElement("span",{className:"date-created"},"Date created"),o.a.createElement("img",{src:bp.a})),o.a.createElement("th",{className:"task-name-header"},"Task name"),o.a.createElement("th",{className:"task-product-name-header"},"Product Name"),o.a.createElement("th",{className:"task-submitter-header"},"Submitter"),o.a.createElement("th",{className:"task-status-header-header"},"Status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,r.map((function(e){var t="#/task/submission/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Zo()(e.created).format("DD/MM/YY")),o.a.createElement("td",null,e.taskName),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,o.a.createElement("img",{src:ma.a}),"Awaiting approval"),o.a.createElement("td",null,o.a.createElement("a",{href:t},o.a.createElement("img",{src:$c.a}))))}))))),o.a.createElement(Mp,{paginationInfo:a,listLength:r.length,dispatchList:n}))},Zp=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,awaitingApprovalList:e.questionnaireSubmissionListState.awaitingApprovalList,awaitingApprovalTaskList:e.questionnaireSubmissionListState.awaitingApprovalTaskList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Rc());case 2:return t.next=4,e(Lr(10,0));case 4:return t.next=6,e(Au(10,0));case 6:return t.next=8,e(mn());case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){Wp(a,r,o,i,c,"next",e)}function c(e){Wp(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t},dispatchloadAwaitingApprovalTaskList:function(t,n){e(Au(t,n))},dispatchloadAwaitingApprovalList:function(t,n){e(Lr(t,n))},resetPagination:function(){return e({type:l.PAGINATION.RESET_PAGINATION})}}}))(zp);function em(e){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(n),!0).forEach((function(t){rm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function om(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function im(e,t){return(im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=um(e);if(t){var o=um(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(e,t){return!t||"object"!==em(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function um(e){return(um=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lm(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}var fm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&im(e,t)}(i,e);var t,n,r,a=cm(i);function i(){return om(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,nm({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=nm({},this.props),t=e.currentUser,n=e.myProductList,r=e.siteConfig,a=e.loadingState;return t&&n&&r?a["QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST"]?null:o.a.createElement("div",{className:"AnswersPreview"},o.a.createElement(zr,{title:"My Products",subtitle:r.siteTitle,username:t.name,logopath:r.logoPath}),function(e,t){var n=e.questionnaireSubmissionList;return N.a.isEmpty(n)?o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"alert alert-danger"},"Sorry, No data to display.")):o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-bordered table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",{key:"submission_table_header"},o.a.createElement("th",{className:"text-center"},"Date Created"),o.a.createElement("th",{className:"text-center"},"Product Name"),o.a.createElement("th",{className:"text-center"},"Submitter"),o.a.createElement("th",{className:"text-center"},"Status"),o.a.createElement("th",{className:"text-center"},"Actions"))),o.a.createElement("tbody",null,n.map((function(e){var n="#/questionnaire/summary/"+e.uuid;return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,Zo()(e.created).format("DD MMM YYYY")),o.a.createElement("td",null,e.productName),o.a.createElement("td",null,e.submitterName),o.a.createElement("td",null,tp.prettifyStatus(e.status,e.SecurityArchitectApproverID,t,e.SecurityArchitectApprover,e.CisoApprovalStatus,e.BusinessOwnerApprovalStatus)),o.a.createElement("td",null,o.a.createElement("a",{href:n},"View")))}))))))}(n,t),o.a.createElement($t,{footerCopyrightText:r.footerCopyrightText})):null}}])&&am(t.prototype,n),r&&am(t,r),i}(r.Component),pm=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,siteConfig:e.siteConfigState.siteConfig,myProductList:e.questionnaireSubmissionListState.myProductList,loadingState:e.loadingState}}),(function(e,t){return{dispatchLoadDataAction:function(){return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Rc());case 2:return t.next=4,e(function(){var e=Dr(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().currentUserState.user){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});case 5:return e.prev=5,e.next=8,pr.fetchQuestionnaireSubmissionList(r.id,"my_product_list",0,0);case 8:o=e.sent,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,payload:o}),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),e.next=16,t({type:l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE,error:e.t0});case 16:ErrorUtil.displayError(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}());case 4:return t.next=6,e(mn());case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){lm(a,r,o,i,c,"next",e)}function c(e){lm(a,r,o,i,c,"throw",e)}i(void 0)}))})();var t}}}))(fm);function mm(e){return(mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ym(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vm(e,t){return(vm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sm(e);if(t){var o=Sm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Om(this,n)}}function Om(e,t){return!t||"object"!==mm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Sm(e){return(Sm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Em=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vm(e,t)}(i,e);var t,n,r,a=gm(i);function i(){return bm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(Object(n),!0).forEach((function(t){ym(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).likelihoodThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"LikelihoodLegend"},o.a.createElement("h3",null,"Likelihood Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"likelihood_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&hm(t.prototype,n),r&&hm(t,r),i}(r.Component);function km(e){return(km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Am(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cm(e,t){return(Cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Im(e);if(t){var o=Im(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(e,t){return!t||"object"!==km(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Im(e){return(Im=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cm(e,t)}(i,e);var t,n,r,a=_m(i);function i(){return Tm(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(n),!0).forEach((function(t){Am(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).impactThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"ImapctLegend"},o.a.createElement("h3",null,"Impact Legend"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-sm"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"impact_legend_header"},o.a.createElement("th",null,"Threshold"),o.a.createElement("th",null,"Rating"))),o.a.createElement("tbody",null,e.map((function(e,t){return o.a.createElement("tr",{key:t+1},o.a.createElement("td",null,e.operator+e.value),o.a.createElement("td",{style:{backgroundColor:"#"+e.color}},e.name))})))))):null}}])&&jm(t.prototype,n),r&&jm(t,r),i}(r.Component);var Rm=n(218),Dm=n.n(Rm);function xm(e){return(xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bm(e,t){return(Bm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qm(e);if(t){var o=Qm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fm(this,n)}}function Fm(e,t){return!t||"object"!==xm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qm(e){return(Qm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bm(e,t)}(i,e);var t,n,r,a=Mm(i);function i(){return Um(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"renderTableHeader",value:function(){return o.a.createElement("tr",{key:"sra_header"},o.a.createElement("th",null,"Risk"),this.props.hasProductAspects&&o.a.createElement("th",null,"Product Aspect"),o.a.createElement("th",null,"Current Controls"),o.a.createElement("th",null,"Current Likelihood"),o.a.createElement("th",null,"Current Impact"),o.a.createElement("th",null,"Current Risk Rating"),o.a.createElement("th",null,"Recommended Treatments"))}},{key:"renderTableBody",value:function(){var e=this;return this.props.hasProductAspects?this.props.calculatedSRAData.map((function(t,n){return t.productAspects.map((function(n,r){var o={riskId:t.riskId,riskName:0==r?"".concat(t.riskName," (").concat(t.baseImpactScore,")"):null,riskDescription:0==r?t.description:null,components:n.components,currentLikelihood:n.currentLikelihood,currentImpact:n.currentImpact,currentRiskRating:n.currentRiskRating};return e.renderTableRow(o,n.productAspectName)}))})):this.props.calculatedSRAData.map((function(t,n){var r={riskId:t.riskId,riskName:"".concat(t.riskName," (").concat(t.baseImpactScore,")"),riskDescription:t.description,components:t.riskDetail.components,currentLikelihood:t.riskDetail.currentLikelihood,currentImpact:t.riskDetail.currentImpact,currentRiskRating:t.riskDetail.currentRiskRating};return e.renderTableRow(r)}))}},{key:"renderTableRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return o.a.createElement("tr",{key:t+"_"+e.riskId},o.a.createElement("td",null,o.a.createElement("span",{style:{display:"block"}},e.riskName),o.a.createElement("small",{className:"text-muted"},e.riskDescription)),this.props.hasProductAspects&&t&&o.a.createElement("td",null,t),o.a.createElement("td",null,this.renderComponents(e.components,"Implemented")),o.a.createElement("td",null,this.renderCurrentLikelihood(e.currentLikelihood)),o.a.createElement("td",null,this.renderCurrentImapct(e.currentImpact)),o.a.createElement("td",{style:e.currentRiskRating.colour?{backgroundColor:e.currentRiskRating.colour}:null},this.renderCurrentRiskRating(e.currentRiskRating)),o.a.createElement("td",null,this.renderComponents(e.components,"Recommened")))}},{key:"renderComponents",value:function(e,t){var n=this;return e&&Array.isArray(e)&&0!=e.length?e.map((function(e,r){var a="Implemented"===t?e.implementedControls:e.recommendedControls;return o.a.createElement("div",{key:r+1},o.a.createElement("strong",{key:e.id},a.length>0?e.name:null),a.length>0&&n.renderControls(a,t))})):null}},{key:"renderControls",value:function(e,t){return e.map((function(e,n){var r=!1;return"Recommened"==t&&(Dm()(e.likelihoodPenalty)>0||Dm()(e.impactPenalty)>0)&&(r=!0),o.a.createElement("div",{key:n+1},o.a.createElement("span",{key:e.id,className:"".concat(r?"font-weight-bold control-title":"font-weight-normal control-title")},e.name,"  "),o.a.createElement("small",{className:"text-muted"},"( L: ",e.likelihoodWeight,", I: ",e.impactWeight,", LP: ",e.likelihoodPenalty,", IP: ",e.impactPenalty,")"))}))}},{key:"renderCurrentLikelihood",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentImapct",value:function(e){return o.a.createElement("div",null,o.a.createElement("span",{style:e.colour?{color:e.colour,display:"block"}:null},e.name," ",e.score?"("+e.score+")":null),o.a.createElement("small",{className:"text-muted"},e.formula))}},{key:"renderCurrentRiskRating",value:function(e){return o.a.createElement("div",null,e.name)}},{key:"render",value:function(){return this.props.calculatedSRAData?o.a.createElement("div",{className:"RiskMatrix"},o.a.createElement("h3",null,"Your risk assessment results"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",{className:"thead-light"},this.renderTableHeader()),o.a.createElement("tbody",null,this.renderTableBody())))):null}}])&&Lm(t.prototype,n),r&&Lm(t,r),i}(r.Component);function Hm(e){return(Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Km(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ym(e,t){return(Ym=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$m(e);if(t){var o=$m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zm(this,n)}}function zm(e,t){return!t||"object"!==Hm(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $m(e){return($m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ym(e,t)}(i,e);var t,n,r,a=Wm(i);function i(){return Km(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vm(Object(n),!0).forEach((function(t){Jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props).riskRatingThresholds;return e&&0!==e.length?o.a.createElement("div",{className:"RiskRatingLegend"},o.a.createElement("h3",null,"Risk Rating Matix"),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("p",{className:"impact-heading"},"Impact"),o.a.createElement("table",{className:"table table-sm table-bordered"},o.a.createElement("thead",{className:"thead-light"},o.a.createElement("tr",{key:"risk_rating_legend_header"},e.tableHeader.map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",null,e.tableRows.map((function(e,t){return o.a.createElement("tr",{key:"row_"+t},e.map((function(e,t){return o.a.createElement("td",{key:"column_"+t,style:e.color?{backgroundColor:e.color}:null},e.name)})))})))))):null}}])&&Gm(t.prototype,n),r&&Gm(t,r),i}(r.Component);function Zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zm(Object(n),!0).forEach((function(t){td(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function td(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nd(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function rd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){nd(a,r,o,i,c,"next",e)}function c(e){nd(a,r,o,i,c,"throw",e)}i(void 0)}))}}function od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ad=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a;return t=e,n=null,r=[{key:"fetchSecurityRiskAssessmentTasK",value:(a=rd(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ed({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}'),e.next=4,F.request({query:a});case 4:if(i=e.sent,c=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw Q;case 8:return s=JSON.parse(k()(c,"SecurityRiskAssessmentData","")),u={uuid:c&&c.UUID?c.UUID:"",taskName:A()(k()(c,"TaskName","")),status:A()(k()(c,"Status","")),submitterID:A()(k()(c,"Submitter.ID","")),isTaskCollborator:"true"===k()(c,"IsTaskCollborator","false"),questionnaireSubmissionUUID:A()(k()(c,"QuestionnaireSubmission.UUID","")),taskSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c),sraData:s},e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"fetchImpactThreshold",value:(o=rd(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,F.request({query:"\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}"});case 3:if(t=e.sent,n=k()(t,"data.readImpactThreshold",null)){e.next=7;break}throw Q;case 7:return r=n.map((function(e){return{name:_.toString(_.get(e,"Name","")),color:_.toString(_.get(e,"Colour","")),operator:_.toString(_.get(e,"Operator","")),value:_.toString(_.get(e,"Value",""))}})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}],n&&od(t.prototype,n),r&&od(t,r),e}();function id(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function cd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){id(a,r,o,i,c,"next",e)}function c(e){id(a,r,o,i,c,"throw",e)}i(void 0)}))}}function sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ld(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sd(Object(n),!0).forEach((function(t){ud(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=cd(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});case 2:return e.prev=2,e.next=5,ad.fetchSecurityRiskAssessmentTasK({uuid:n,secureToken:r});case 5:return o=e.sent,a={type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,payload:o},e.next=9,t(a);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,t({type:l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE,error:e.t0});case 15:te.displayError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}function fd(e){return(fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function md(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pd(Object(n),!0).forEach((function(t){dd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hd(e,t){return(hd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Od(e);if(t){var o=Od(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gd(this,n)}}function gd(e,t){return!t||"object"!==fd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Od(e){return(Od=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hd(e,t)}(i,e);var t,n,r,a=vd(i);function i(){return yd(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=md({},this.props),t=e.uuid;(0,e.dispatchLoadDataAction)(t,e.secureToken)}},{key:"render",value:function(){var e=this,t=md({},this.props),n=t.siteConfig,r=t.currentUser,a=t.securityRiskAssessmentData,i=t.secureToken,c=t.impactThresholdData;if(!r||!n||!a)return null;var s=md({},a),u=s.uuid,l=(s.taskName,s.questionnaireSubmissionUUID),f=(s.submitterID,s.taskSubmissions),p=s.sraData,m=(s.status,fs.isSRATaskFinalised(f)),d=o.a.createElement(Wn,{title:"BACK TO QUESTIONNAIRE SUMMARY",classes:["button ml-3"],onClick:function(){D.redirectToQuestionnaireSummary(l,i)}}),y=fs.isSiblingTaskPending(f),b=a.submitterID===r.id||a.isTaskCollborator,h=m||y||!b?null:o.a.createElement($o,{title:"FINALISE",classes:["button ml-3"],onClick:function(){e.props.dispatchFinaliseAction(u,i,l)}});return o.a.createElement("div",{className:"SecurityRiskAssessmentContainer"},o.a.createElement(zr,{title:a.taskName,subtitle:n.siteTitle,username:r.name,logopath:n.logoPath}),"expired"===a.status&&o.a.createElement(gs,null),"expired"!==a.status&&o.a.createElement("div",{className:"SecurityRiskAssessmentResult"},!!m&&fs.getSraIsFinalisedAlert(),o.a.createElement(qm,{calculatedSRAData:p.calculatedSRAData,hasProductAspects:p.hasProductAspects}),o.a.createElement(Em,{likelihoodThresholds:p.likelihoodThresholds}),o.a.createElement(Nm,{impactThresholds:c}),o.a.createElement(Xm,{riskRatingThresholds:p.riskRatingThresholds}),o.a.createElement("div",{className:"buttons"},d,h)),o.a.createElement($t,{footerCopyrightText:n.footerCopyrightText}))}}])&&bd(t.prototype,n),r&&bd(t,r),i}(r.Component),Ed=Object(c.b)((function(e){return{siteConfig:e.siteConfigState.siteConfig,currentUser:e.currentUserState.user,securityRiskAssessmentData:e.securityRiskAssessmentState.securityRiskAssessmentData,impactThresholdData:e.securityRiskAssessmentState.impactThresholdData}}),(function(e,t){return{dispatchLoadDataAction:function(t,n){e(Rc()),e(mn()),e(ld({uuid:t,secureToken:n})),e(function(){var e=cd(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ad.fetchImpactThreshold();case 3:return n=e.sent,r={type:l.SRA.LOAD_IMPACT_THRESHOLD,payload:n},e.next=7,t(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),te.displayError(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},dispatchFinaliseAction:function(t,n,r){e(Ou({taskSubmissionUUID:t,secureToken:n,questionnaireUUID:r}))}}}))(Sd);function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){Ad(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Td(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function jd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Td(a,r,o,i,c,"next",e)}function c(e){Td(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,a,i;return t=e,n=null,r=[{key:"fetchControlValidationAuditTaskSubmission",value:(i=jd(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wd({},t),r=n.uuid,o=n.secureToken,a='\nquery {\n  readTaskSubmission(UUID: "'.concat(r,'", SecureToken: "').concat(o||"",'") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}'),e.next=4,F.request({query:a});case 4:if(i=e.sent,c=k()(i,"data.readTaskSubmission.0",null)){e.next=8;break}throw Q;case 8:return s=JSON.parse(k()(c,"CVATaskData","[]")),Array.isArray(s)||(s=[]),u=s.length>0?Sr.parseCVAFromJSONObject(s):s,l={id:A()(k()(c,"ID","")),status:A()(k()(c,"Status","")),uuid:A()(k()(c,"UUID","")),questionnaireSubmissionUUID:A()(k()(c,"QuestionnaireSubmission.UUID","")),taskName:A()(k()(c,"TaskName","")),selectedComponents:u,submitterID:A()(k()(c,"Submitter.ID","")),componentTarget:A()(k()(c,"CVATaskDataSource","")),isTaskCollborator:"true"===k()(c,"IsTaskCollborator","false"),productAspects:_.has(c,"ProductAspects")?JSON.parse(k()(c,"ProductAspects",[])):[],siblingSubmissions:z.parseAlltaskSubmissionforQuestionnaire(c)},e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"saveControlValidationAuditData",value:(a=jd(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wd({},t),r=n.uuid,o=n.controlData,a=n.csrfToken,i=window.btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c='\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: "'.concat(r,'", CVATaskData: "').concat(i,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=5,F.request({query:c,csrfToken:a});case 5:if(s=e.sent,_.get(s,"data.updateControlValidationAuditTaskSubmission.CVATaskData",null)){e.next=9;break}throw Q;case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"reSyncWithJira",value:(o=jd(regeneratorRuntime.mark((function e(t){var n,r,o,a,i,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wd({},t),r=n.uuid,o=n.csrfToken,a='\nmutation {\n  reSyncWithJira(UUID: "'.concat(r,'") {\n    UUID\n    CVATaskData\n  }\n}'),e.next=4,F.request({query:a,csrfToken:o});case 4:if(i=e.sent,c=_.get(i,"data.reSyncWithJira",null)){e.next=8;break}throw Q;case 8:return s=JSON.parse(k()(c,"CVATaskData","[]")),Array.isArray(s)||(s=[]),u=s.length>0?Sr.parseCVAFromJSONObject(s):s,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}],n&&Cd(t.prototype,n),r&&Cd(t,r),e}();function Pd(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Id(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Pd(a,r,o,i,c,"next",e)}function c(e){Pd(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dd(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach((function(t){Rd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.uuid,r=t.secureToken;return function(){var e=Id(regeneratorRuntime.mark((function e(t){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});case 2:return e.prev=2,e.next=5,t({type:l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,payload:null});case 5:return e.next=7,_d.fetchControlValidationAuditTaskSubmission({uuid:n,secureToken:r});case 7:return o=e.sent,a={type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,payload:o},e.next=11,t(a);case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(2),e.next=17,t({type:l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE,error:e.t0});case 17:te.displayError(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}function xd(e){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ud(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ud(Object(n),!0).forEach((function(t){Bd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Md(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fd(e,t){return(Fd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hd(e);if(t){var o=Hd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qd(this,n)}}function qd(e,t){return!t||"object"!==xd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Hd(e){return(Hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vd(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Jd(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){Vd(a,r,o,i,c,"next",e)}function c(e){Vd(a,r,o,i,c,"throw",e)}i(void 0)}))}}var Kd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fd(e,t)}(c,e);var t,n,r,a,i=Qd(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={isCVATaskEditable:!1,isSRATaskFinalised:!1,canEdit:!1},t}return t=c,(n=[{key:"componentDidMount",value:(a=Jd(regeneratorRuntime.mark((function e(){var t,n,r,o,a,i,c,s,u,l,f,p=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ld({},this.props),n=t.uuid,r=t.dispatchLoadDataAction,o=t.secureToken,e.next=3,r(n,o);case 3:try{a=Ld({},this.props),i=a.controlValidationAuditData,c=a.currentUser,s=i.submitterID===c.id,u=s||i.isTaskCollborator,l=fs.isSRATaskFinalised(i.siblingSubmissions),f=u&&!l,this.setState({canEdit:u,isSRATaskFinalised:l,isCVATaskEditable:f}),this.autoSaveCVATask=setInterval(Jd(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=3;break}return e.next=3,p.callAutoSaveCvaTaskApi();case 3:case"end":return e.stop()}}),e)}))),6e5)}catch(e){te.displayError(error)}case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearInterval(this.autoSaveCVATask)}},{key:"callAutoSaveCvaTaskApi",value:function(){var e=Ld({},this.props),t=e.uuid,n=e.secureToken,r=e.dispatchSaveControlValidationAuditDataAction,o=e.controlValidationAuditData,a=e.cvaSelectedComponents;e.currentUser,r(t,a,o.questionnaireSubmissionUUID,n,!0)}},{key:"renderCVAQuestionsForm",value:function(){var e=this,t=this.props.controlValidationAuditData.productAspects,n=this.props.cvaSelectedComponents;return this.props.controlValidationAuditData.componentTarget,t.length>0&&n.length>0?this.renderComponentGroupByProductAspect(t,n):n.length>0?o.a.createElement("div",null,n.map((function(t){return e.renderComponent(t)}))):o.a.createElement("div",{className:"alert alert-warning",key:"unfinished_cs_task_message"},"No components have been selected. Please complete the component selection task with at least one component selected.")}},{key:"renderComponentGroupByProductAspect",value:function(e,t){var n=this;return o.a.createElement("div",null,e.map((function(e,r){var a=t.filter((function(t){return t.productAspect===e}));return 0==a.length?null:o.a.createElement("div",{className:"mt-2",key:r},o.a.createElement("h4",null,e),a.map((function(e){return n.renderComponent(e)})))})))}},{key:"renderComponent",value:function(e){var t=this,n=e.productAspect?"".concat(e.productAspect,"_").concat(e.id):e.id,r=e.controls,a=e.jiraTicketLink?o.a.createElement("a",{href:e.jiraTicketLink},e.jiraTicketLink):null;return o.a.createElement("div",{key:n},o.a.createElement("h5",null,e.name,a&&"JIRA Cloud"==this.props.controlValidationAuditData.componentTarget&&o.a.createElement("span",null," - ",a)),r&&r.length>0&&r.map((function(n){return t.renderControl(n,e)})),!r||0==r.length&&o.a.createElement("div",{className:"alert alert-warning",key:"no_controls_message"},"There are no controls for the component."))}},{key:"renderControl",value:function(e,t){var n=t.productAspect?"".concat(t.productAspect,"_").concat(t.id,"_").concat(e.id):"".concat(t.id,"_").concat(e.id);return"JIRA Cloud"===this.props.controlValidationAuditData.componentTarget?this.renderRemoteControls(e,n):this.renderLocalControl(e,n,t)}},{key:"renderLocalControl",value:function(e,t,n){var r=this,a=[{value:"Realised",label:"Yes"},{value:"Intended",label:"No"},{value:"Not Applicable",label:"N/A"}];return o.a.createElement("div",{className:"my-0 container row",key:t},o.a.createElement("div",{className:"col-xs-2"},a.map((function(a,i){return o.a.createElement("label",{key:"optionlabel_".concat(t,"_").concat(i)},o.a.createElement("input",{type:"radio",key:"radiobutton_".concat(t,"_").concat(i),name:t,value:a.value,defaultChecked:e.selectedOption===a.value,disabled:!r.state.isCVATaskEditable,onClick:function(){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:a.value,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:e.implementationEvidenceUserInput})}}),a.label)}))),o.a.createElement("div",{className:"col-10"},o.a.createElement("label",{key:e.id},o.a.createElement("strong",null,e.name)),o.a.createElement(ql,{key:"controlInfo_".concat(e.id),id:e.id,name:"",description:e.description,implementationGuidance:e.implementationGuidance,implementationEvidence:e.implementationEvidence,implementationEvidenceUserInput:e.implementationEvidenceUserInput,showImplementationEvidence:!0,className:"text-muted",isCVATaskEditable:this.state.isCVATaskEditable,updateEvidenceTextareaData:function(t){return r.props.dispatchUpdateControlValidationQuestionDataAction({selectedOption:e.selectedOption,controlID:e.id,componentID:n.id,productAspect:n.productAspect,implementationEvidenceUserInput:t})}})))}},{key:"renderRemoteControls",value:function(e,t){var n=e.selectedOption.toLowerCase().replace(" ","-");return o.a.createElement("div",{className:"my-0",key:t},o.a.createElement("label",{className:"ml-2",key:e.id},o.a.createElement("span",null,o.a.createElement("strong",null,e.name)," - "),o.a.createElement("span",{className:n},"(",e.selectedOption,")")))}},{key:"render",value:function(){var e=Ld({},this.props),t=e.siteConfig,n=e.currentUser,r=e.controlValidationAuditData,a=e.secureToken,i=e.dispatchSaveControlValidationAuditDataAction,c=e.cvaSelectedComponents,s=e.dispatchReSyncWithJira;if(!n||!r||!t)return null;var u=this.state.isCVATaskEditable&&c.length>0?o.a.createElement(Wn,{title:"SUBMIT",onClick:function(){return i(r.uuid,c,r.questionnaireSubmissionUUID,a,!1)}}):null,l=o.a.createElement($o,{title:"BACK TO QUESTIONNAIRE SUMMARY",onClick:function(){D.redirectToQuestionnaireSummary(r.questionnaireSubmissionUUID,a)}}),f=this.state.isCVATaskEditable&&"JIRA Cloud"==r.componentTarget&&c.length>0?o.a.createElement($o,{title:"RE SYNC WITH JIRA",onClick:function(){return s(r.uuid)}}):null;return o.a.createElement("div",{className:"ControlValidationAuditContainer"},o.a.createElement(zr,{title:r.taskName,subtitle:t.siteTitle,username:n.name,logopath:t.logoPath}),"expired"===r.status&&o.a.createElement(gs,null),"expired"!==r.status&&o.a.createElement("div",{className:"ControlValidationAuditResult",key:"0"},o.a.createElement("div",{className:"ControlValidationAuditForm"},o.a.createElement("h3",null,"Have These Controls Been Implemented?"),["start","in_progress"].includes(r.status)&&!this.state.canEdit&&o.a.createElement(Qf,null),(this.state.canEdit||"complete"==r.status)&&o.a.createElement("div",null,!!this.state.isSRATaskFinalised&&fs.getSraIsFinalisedAlert(),this.renderCVAQuestionsForm())),o.a.createElement("div",{className:"buttons",key:"component_validation_buttons"},o.a.createElement("div",null,u,f,l))),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText}))}}])&&Md(t.prototype,n),r&&Md(t,r),c}(r.Component),Gd=Object(c.b)((function(e){return{currentUser:e.currentUserState.user,controlValidationAuditData:e.controlValidationAuditState.controlValidationAuditData,cvaSelectedComponents:e.controlValidationAuditState.cvaSelectedComponents,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:(n=Jd(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e(Dd({uuid:n,secureToken:r})),e(Rc()),e(mn())]);case 2:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)}),dispatchSaveControlValidationAuditDataAction:function(t,n,r,o,a){e(function(e,t,n,r,o){return function(){var a=Id(regeneratorRuntime.mark((function a(i){var c,s,u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,_e.getCSRFToken();case 3:return c=a.sent,a.next=6,_d.saveControlValidationAuditData({uuid:e,controlData:t,csrfToken:c});case 6:return s=a.sent,u={type:l.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,payload:s},a.next=10,i(u);case 10:o||D.redirectToQuestionnaireSummary(n,r),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),te.displayError(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()}(t,n,r,o,a))},dispatchUpdateControlValidationQuestionDataAction:function(t){var n;e((n=t,function(){var e=Id(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={type:l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,payload:n},e.next=3,t(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},dispatchReSyncWithJira:function(t){e(function(e){return function(){var t=Id(regeneratorRuntime.mark((function t(n){var r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n({type:l.CVA.RE_SYNC_WITH_JIRA_REQUEST});case 2:return t.prev=2,t.next=5,_e.getCSRFToken();case 5:return r=t.sent,t.next=8,_d.reSyncWithJira({uuid:e,csrfToken:r});case 8:return o=t.sent,a={type:l.CVA.RE_SYNC_WITH_JIRA_SUCCESS,payload:o},t.next=12,n(a);case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),t.next=18,n({type:l.CVA.RE_SYNC_WITH_JIRA_FAILURE,error:t.t0});case 18:te.displayError(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}};var n}))(Kd),Yd=n(50);function Wd(e){return(Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xd(e,t){return(Xd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ty(e);if(t){var o=ty(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ey(this,n)}}function ey(e,t){return!t||"object"!==Wd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ty(e){return(ty=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ny=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xd(e,t)}(i,e);var t,n,r,a=Zd(i);function i(){return zd(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"loading-spinner-page-overlay"},o.a.createElement("div",{className:"loading-spinner"},o.a.createElement(Nl.Icon,{spin:!0,name:"spinner"})," Loading...")))}}])&&$d(t.prototype,n),r&&$d(t,r),i}(r.Component),ry=n(907);function oy(e){return(oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ay(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cy(e,t){return(cy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ly(e);if(t){var o=ly(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uy(this,n)}}function uy(e,t){return!t||"object"!==oy(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ly(e){return(ly=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cy(e,t)}(i,e);var t,n,r,a=sy(i);function i(){return ay(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,this.props.loading&&o.a.createElement(ny,null),o.a.createElement("main",null,o.a.createElement(s.a,null,o.a.createElement(u.a,{exact:!0,path:"/"},(function(){return o.a.createElement(wn,null)})),o.a.createElement(u.a,{path:"/questionnaire/start/:id"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(so,{questionnaireID:t.params.id}))})),o.a.createElement(u.a,{path:"/questionnaire/submission/:hash"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ci,{submissionHash:t.params.hash}))})),o.a.createElement(u.a,{path:"/questionnaire/review/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Yd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Tc,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(u.a,{path:"/questionnaire/summary/:hash"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Yd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ks,{submissionHash:t.params.hash,secureToken:r}))})),o.a.createElement(u.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Yd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(zu,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(u.a,{path:"/tasks/standalone/:taskId"},(function(e){var t=e.match;return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(sl,{taskId:t.params.taskId}))})),o.a.createElement(u.a,{path:"/component-selection/standalone/:taskId"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Yd.parse)(n.search).componentTarget),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(If,{taskId:t.params.taskId,componentTarget:r}))})),o.a.createElement(u.a,{path:"/component-selection/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Yd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Zf,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(u.a,{path:"/control-validation-audit/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Yd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Gd,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(u.a,{path:"/security-risk-assessment/submission/:uuid"},(function(e){var t=e.match,n=e.location,r="";return n.search&&(r=Object(Yd.parse)(n.search).token),o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Ed,{uuid:t.params.uuid,secureToken:r}))})),o.a.createElement(u.a,{path:"/MySubmissions"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(dp,null))})),o.a.createElement(u.a,{path:"/AwaitingApprovals"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(Zp,null))})),o.a.createElement(u.a,{path:"/MyProducts"},(function(e){return e.match,o.a.createElement("div",{className:"gray-bg"},o.a.createElement(pm,null))})))))}}])&&iy(t.prototype,n),r&&iy(t,r),i}(r.Component),py=Object(ry.a)(Object(c.b)((function(e){return{loading:N.a.chain(e.loadingState).values().some((function(e){return e})).value()}}),(function(e,t){return{}}))(fy)),my=n(905),dy=n(18),yy=(n(849),{title:"",subtitle:"",pillars:[],tasks:[]});function by(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?by(Object(n),!0).forEach((function(t){vy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gy={title:"",subtitle:"",keyInformation:"",questionnaireID:"",user:null},Oy={title:"",siteTitle:"",user:null,submission:null,isCurrentUserApprover:!1,isCurrentUserABusinessOwnerApprover:!1};var Sy=Object(dy.combineReducers)({startState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gy,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE?t.payload:e},submissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oy,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS)return t.payload;if(t.type===l.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER){if(!e.submission)return e;var n=t.payload,r=e.submission.questions.findIndex((function(e){return e.id===n.id}));if(r<0)return e;var o=hy({},e);return N.a.set(o,"submission.questions.".concat(r),n),o}if(t.type===l.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION){var a=e.submission;if(!a)return e;var i=hy({},t),c=i.targetIndex,s=a.questions.findIndex((function(e){return e.isCurrent}));if(c<0||c>=a.questions.length)return e;var u=hy({},e);return N.a.set(u,"submission.questions.".concat(s,".isCurrent"),!1),N.a.set(u,"submission.questions.".concat(c,".isCurrent"),!0),u}if(t.type===l.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE){var f=e.submission;if(!f)return e;var p=hy({},e),m=t.nonApplicableIndexes;return m&&m.length>0&&m.forEach((function(e){var t=f.questions[e];t.isApplicable=!1,N.a.set(p,"submission.questions.".concat(e),t)})),p}return e}}),Ey=n(90),ky=n.n(Ey),wy=n(51),Ay=n.n(wy);function Ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ty(Object(n),!0).forEach((function(t){Cy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _y={taskSubmission:null};function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Iy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Py(Object(n),!0).forEach((function(t){Ny(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ny(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ry={user:null};function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dy(Object(n),!0).forEach((function(t){Uy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ly={siteConfig:null};var By=n(480),My=n.n(By);function Fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fy(Object(n),!0).forEach((function(t){qy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hy={availableComponents:[],selectedComponents:[],savedComponents:[],jiraTickets:[],viewMode:"edit"},Vy=Sl.isComponentExist,Jy=Sl.isSelectedComponentExist;function Ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ky(Object(n),!0).forEach((function(t){Yy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wy={awaitingApprovalList:[],awaitingApprovalTaskList:[],mySubmissionList:[],myProductList:[]};function zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zy(Object(n),!0).forEach((function(t){Xy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zy={securityRiskAssessmentData:null,impactThresholdData:null};function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(n),!0).forEach((function(t){nb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rb={controlValidationAuditData:null,cvaSelectedComponents:[]};Sl.isSelectedComponentExist;function ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ab(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ob(Object(n),!0).forEach((function(t){ib(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ib(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ub={members:null};function lb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lb(Object(n),!0).forEach((function(t){pb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mb={pagination:{limit:10,offset:0,index:1,pageNumber:1}};var db=Object(dy.combineReducers)({homeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.HOME.LOAD_HOME_STATE_FINISHED:return t.payload;default:return e}},questionnaireState:Sy,taskSubmissionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_y,t=arguments.length>1?arguments[1]:void 0,n=e.taskSubmission;if(t.type===l.TASK.LOAD_TASK_SUBMISSION)return{taskSubmission:t.payload};if(t.type===l.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION){if(!n)return e;var r=jy({},t.payload),o=r.resultForCertificationAndAccreditation,a=ky()(e);return Ay()(a,"taskSubmission.resultForCertificationAndAccreditation",o),a}if(t.type===l.TASK.PUT_DATA_IN_TASK_SUBMISSION){if(!n)return e;var i=t.payload,c=n.questions.findIndex((function(e){return e.id===i.id}));if(c<0)return e;var s=ky()(e);return Ay()(s,"taskSubmission.questions.".concat(c),i),s}if(t.type===l.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE){if(!n)return e;var u=ky()(e),f=t.payload;return f&&f.length>0&&f.forEach((function(e){var t=n.questions[e];t.isApplicable=!1,Ay()(u,"taskSubmission.questions.".concat(e),t)})),u}if(t.type===l.TASK.MOVE_TO_ANOTHER_TASK_QUESTION){if(!n)return e;var p=jy({},t.payload),m=p.currentIndex,d=p.targetIndex;if(d<0||d>=n.questions.length)return e;var y=ky()(e);return Ay()(y,"taskSubmission.questions.".concat(m,".isCurrent"),!1),Ay()(y,"taskSubmission.questions.".concat(d,".isCurrent"),!0),y}if(t.type===l.TASK.COMPLETE_TASK_SUBMISSION){var b=ky()(e);return Ay()(b,"taskSubmission.status","complete"),t.payload&&Ay()(b,"taskSubmission.result",t.payload),b}if(t.type===l.TASK.EDIT_TASK_SUBMISSION){var h=ky()(e);return Ay()(h,"taskSubmission.status","in_progress"),Ay()(h,"taskSubmission.result",null),h}return e},currentUserState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ry,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.SET_CURRENT_USER:return Iy(Iy({},e),{},{user:t.payload});default:return e}},siteConfigState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ly,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.SITE_CONFIG.LOAD_SITE_CONFIG:return xy(xy({},e),{},{siteConfig:t.payload});default:return e}},componentSelectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hy,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS){var n=t;return Qy(Qy({},e),{},{availableComponents:n.payload})}if(t.type===l.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT){var r=t,o=r.payload.id,a=r.payload.productAspect;if(!Jy(o,a,e.selectedComponents)&&Vy(o,e.availableComponents)){var i=e.availableComponents.filter((function(e){return e.id===o})),c=Object.assign({},i[0]);return c.productAspect=a,Qy(Qy({},e),{},{selectedComponents:My()(e.selectedComponents,c)})}}if(t.type===l.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT){var s=t,u=s.payload.id,f=s.payload.productAspect;if(Jy(u,f,e.selectedComponents)&&Vy(u,e.availableComponents))return Qy(Qy({},e),{},{selectedComponents:e.selectedComponents.filter((function(e){return e.id!==u||e.productAspect!==f}))})}if(t.type===l.COMPONENT_SELECTION.SET_JIRA_TICKETS){var p=t;return Qy(Qy({},e),{},{jiraTickets:p.payload})}if(t.type===l.COMPONENT_SELECTION.SET_VIEW_MODE){var m=t;return Qy(Qy({},e),{},{viewMode:m.payload})}if(t.type===l.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS){var d=t;return Qy(Qy({},e),{},{selectedComponents:d.payload})}return e},questionnaireSubmissionListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wy,t=arguments.length>1?arguments[1]:void 0;return t.type===l.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS?Gy(Gy({},e),{},{awaitingApprovalList:t.payload}):t.type===l.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS?Gy(Gy({},e),{},{awaitingApprovalTaskList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS?Gy(Gy({},e),{},{mySubmissionList:t.payload}):t.type===l.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS?Gy(Gy({},e),{},{myProductList:t.payload}):e},securityRiskAssessmentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zy,t=arguments.length>1?arguments[1]:void 0;return t.type===l.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS?$y($y({},e),{},{securityRiskAssessmentData:t.payload}):t.type===l.SRA.LOAD_IMPACT_THRESHOLD?$y($y({},e),{},{impactThresholdData:t.payload}):e},controlValidationAuditState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rb,t=arguments.length>1?arguments[1]:void 0;if(t.type===l.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS){var n=t.payload,r=[];return n&&(r=n.selectedComponents,delete n.selectedComponents),tb(tb({},e),{},{controlValidationAuditData:n,cvaSelectedComponents:r})}if(t.type===l.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA){var o=t.payload.selectedOption,a=t.payload.productAspect,i=t.payload.controlID,c=t.payload.componentID,s=t.payload.implementationEvidenceUserInput,u=Object(I.cloneDeep)(e.cvaSelectedComponents),f=[];if((f=""!==a?u.filter((function(e){return e.id==c&&e.productAspect==a})):u.filter((function(e){return e.id==c}))).length>0){var p=f[0].controls.filter((function(e){return e.id==i}));if(p.length>0)return p[0].selectedOption=o,p[0].implementationEvidenceUserInput=s,tb(tb({},e),{},{cvaSelectedComponents:u})}}if(t.type===l.CVA.RE_SYNC_WITH_JIRA_SUCCESS){var m=t.payload;return tb(tb({},e),{},{cvaSelectedComponents:m})}if(t.type===l.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA){var d=t.payload;return tb(tb({},e),{},{controlValidationAuditData:d,cvaSelectedComponents:[]})}return e},loadingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=/(.*)\/(REQUEST|SUCCESS|FAILURE)/.exec(n);if(!r)return e;var o=cb(r,3),a=(o[0],o[1]),i=o[2];return ab(ab({},e),{},ib({},a,"REQUEST"===i))},memberState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ub,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.USER.LOAD_MEMBER:return t.payload;default:return e}},paginationState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mb,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.PAGINATION.FETCH_NEXT_PAGE:case l.PAGINATION.FETCH_PREV_PAGE:case l.PAGINATION.FETCH_FIRST_PAGE:case l.PAGINATION.FETCH_LAST_PAGE:case l.PAGINATION.SET_SELECTED_ROWS:return fb(fb({},e),{},{pagination:t.payload});case l.PAGINATION.RESET_PAGINATION:return fb(fb({},e),{},{pagination:mb.pagination});default:return e}}}),yb=n(481),bb=[f.a];var hb=Object(dy.createStore)(db,Object(yb.composeWithDevTools)(dy.applyMiddleware.apply(void 0,bb)));function vb(e){return(vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ob(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sb(e,t){return(Sb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wb(e);if(t){var o=wb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kb(this,n)}}function kb(e,t){return!t||"object"!==vb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wb(e){return(wb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ab(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ab(Object(n),!0).forEach((function(t){jb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ab(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sb(e,t)}(i,e);var t,n,r,a=Eb(i);function i(){return gb(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){(0,Tb({},this.props).dispatchLoadDataAction)()}},{key:"render",value:function(){var e=Tb({},this.props),t=e.siteConfig,n=e.taskSubmission,r=e.dispatchSaveAnsweredQuestionAction,a=e.dispatchMoveToPreviousQuestionAction,i=e.dispatchEditAnswersAction;return n&&t?o.a.createElement("div",{className:"TaskSubmissionContainer"},o.a.createElement(zr,{title:n.taskName,subtitle:t.siteTitle,showLogoutButton:!1,logopath:t.logoPath}),o.a.createElement(Bu,{taskSubmission:n,saveAnsweredQuestion:r,moveToPreviousQuestion:a,editAnswers:i,showBackButton:!1,showEditButton:!1,canUpdateAnswers:"in_progress"===n.status||"start"===n.status,siteConfig:t,siteTitle:t.siteTitle}),o.a.createElement($t,{footerCopyrightText:t.footerCopyrightText})):null}}])&&Ob(t.prototype,n),r&&Ob(t,r),i}(r.Component),_b=Object(c.b)((function(e){return{taskSubmission:e.taskSubmissionState.taskSubmission,siteConfig:e.siteConfigState.siteConfig}}),(function(e,t){return{dispatchLoadDataAction:function(){var n=Tb({},t),r=n.uuid,o=n.secureToken;e(hu({uuid:r,secureToken:o})),e(mn())},dispatchSaveAnsweredQuestionAction:function(n){var r=Tb({},t).secureToken;e(vu({answeredQuestion:n,secureToken:r}))},dispatchMoveToPreviousQuestionAction:function(n){var r=Tb({},t).secureToken;e(Su({targetQuestion:n,secureToken:r}))},dispatchEditAnswersAction:function(){var n=Tb({},t).secureToken;e(Eu({secureToken:n}))}}}))(Cb);function Pb(e){return(Pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ib(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rb(e,t){return(Rb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ub(e);if(t){var o=Ub(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xb(this,n)}}function xb(e,t){return!t||"object"!==Pb(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ub(e){return(Ub=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rb(e,t)}(i,e);var t,n,r,a=Db(i);function i(){return Ib(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(s.a,null,o.a.createElement(u.a,{path:"/task/submission/:uuid"},(function(e){var t=e.match,n=e.location,r=Object(Yd.parse)(n.search);return o.a.createElement("div",{className:"gray-bg"},o.a.createElement(_b,{uuid:t.params.uuid,secureToken:r.token||""}))})))))}}])&&Nb(t.prototype,n),r&&Nb(t,r),i}(r.Component);window.addEventListener("load",(function(){Aa.a.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",padding:"20px"}};var e=document.getElementById("main-app");e&&i.a.render(o.a.createElement(my.a,null,o.a.createElement(c.a,{store:hb},o.a.createElement(py,null))),e);var t=document.getElementById("vendor-app");t&&i.a.render(o.a.createElement(my.a,null,o.a.createElement(c.a,{store:hb},o.a.createElement(Lb,null))),t)}))},89:function(e,t,n){e.exports=n.p+"../img/0440ba3e3faedab93471760cf52fdf4b.svg"}});
//# sourceMappingURL=main.bundle.js.map