{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/img/icons/download.svg","webpack:///./src/img/icons/approve.svg","webpack:///./src/img/icons/not-approved.svg","webpack:///./src/img/icons/in-progress.svg","webpack:///./src/img/icons/info.svg","webpack:///./src/img/icons/question-editing.svg","webpack:///./src/img/icons/start.svg","webpack:///./src/img/icons/add-circle.svg","webpack:///./src/img/Home/background.jpg","webpack:///./src/img/Home/poc-icon.svg","webpack:///./src/img/icons/chevron-right.svg","webpack:///./src/img/icons/arrow-down.svg","webpack:///./src/img/Home/saas-icon.svg","webpack:///./src/img/Home/prod-icon.svg","webpack:///./src/img/Home/bug-icon.svg","webpack:///./src/img/Home/risk-icon.svg","webpack:///./src/img/icons/user.svg","webpack:///./src/img/icons/approval.svg","webpack:///./src/img/icons/my-product.svg","webpack:///./src/img/Logo.svg","webpack:///./src/img/PDF/heading.jpg","webpack:///./src/img/PDF/footer.jpg","webpack:///./src/img/icons/create.svg","webpack:///./src/img/icons/check-box-blank.svg","webpack:///./src/img/icons/check-box.svg","webpack:///./src/img/icons/not-applicable.svg","webpack:///./src/img/icons/close.svg","webpack:///./src/img/icons/submitted.svg","webpack:///./src/img/icons/incomplete-tasks.svg","webpack:///./src/img/icons/submit-submission.svg","webpack:///./src/img/icons/back-arrow.svg","webpack:///./src/img/icons/edit.svg","webpack:///./src/img/icons/first-page.svg","webpack:///./src/img/icons/last-page.svg","webpack:///./src/img/icons/chevron-left.svg","webpack:///./src/img/icons/awaiting-approval.svg","webpack:///./src/img/icons/edit-icon.svg","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/js/actions/ActionType.js","webpack:///./src/js/utils/URLUtil.js","webpack:///./src/js/utils/GraphQLRequestHelper.js","webpack:///./src/js/constants/errors.js","webpack:///./src/js/utils/QuestionParser.js","webpack:///./src/js/utils/TaskParser.js","webpack:///./src/js/services/HomeDataService.js","webpack:///./src/js/utils/ErrorUtil.js","webpack:///./src/js/actions/home.js","webpack:///./src/js/components/Home/Pillar.js","webpack:///./src/js/components/Home/TaskButton.js","webpack:///./src/js/services/CSRFTokenService.js","webpack:///./src/js/components/Button/LogoutButton.js","webpack:///./src/js/components/Button/MySubmissionButton.js","webpack:///./src/js/components/Button/AwaitingApprovalsButton.js","webpack:///./src/js/components/Button/MyProductButton.js","webpack:///./src/js/components/Home/Home.js","webpack:///./src/js/components/Footer/Footer.js","webpack:///./src/js/utils/SiteConfigParser.js","webpack:///./src/js/services/SiteConfigDataService.js","webpack:///./src/js/actions/siteConfig.js","webpack:///./src/js/components/Home/HomeContainer.js","webpack:///./src/js/components/Button/BaseButton.js","webpack:///./src/js/components/Button/LightButton.js","webpack:///./src/js/components/Questionnaire/Start.js","webpack:///./src/js/utils/UserParser.js","webpack:///./src/js/services/QuestionnaireDataService.js","webpack:///./src/js/utils/SubmissionDataUtil.js","webpack:///./src/js/utils/SecurityComponentParser.js","webpack:///./src/js/utils/JiraTicketParser.js","webpack:///./src/js/services/TaskDataService.js","webpack:///./src/js/actions/questionnaire.js","webpack:///./src/js/components/Header/Header.js","webpack:///./src/js/components/Questionnaire/StartContainer.js","webpack:///./src/js/components/Questionnaire/LeftBarItem.js","webpack:///./src/js/components/Questionnaire/LeftBar.js","webpack:///./src/js/components/Button/DarkButton.js","webpack:///./src/js/components/Task/TaskRecommendationContainer.js","webpack:///./src/js/components/Task/CertificationAndAccreditationResultContainer.js","webpack:///./src/js/components/Questionnaire/QuestionForm.js","webpack:///./src/js/components/Questionnaire/Questionnaire.js","webpack:///./src/js/components/Questionnaire/QuestionnaireContainer.js","webpack:///./src/js/components/Questionnaire/AnswersPreview.js","webpack:///./src/js/components/Questionnaire/Review.js","webpack:///./src/js/utils/StringUtil.js","webpack:///./src/js/utils/PDFUtil.js","webpack:///./src/js/components/Questionnaire/ReviewContainer.js","webpack:///./src/js/services/UserDataService.js","webpack:///./src/js/actions/user.js","webpack:///./src/js/components/Button/RedButton.js","webpack:///./src/js/components/Common/RiskResultContainer.js","webpack:///./src/js/utils/SecurityRiskAssessmentUtil.js","webpack:///./src/js/constants/values.js","webpack:///./src/js/components/Common/SubmissionExpired.js","webpack:///./src/js/components/Questionnaire/Summary.js","webpack:///./src/js/components/Questionnaire/SummaryContainer.js","webpack:///./src/js/services/SecurityComponentDataService.js","webpack:///./src/js/actions/componentSelection.js","webpack:///./src/js/actions/task.js","webpack:///./src/js/components/Task/TaskSubmission.js","webpack:///./src/js/components/Task/TaskSubmissionContainer.js","webpack:///./src/js/components/Task/TaskStandaloneContainer.js","webpack:///./src/js/components/LeftBar/LeftBarItem.js","webpack:///./src/js/utils/ComponentSelectionUtil.js","webpack:///./src/js/components/LeftBar/LeftBar.js","webpack:///./src/js/components/ComponentSelection/ControlInfo.js","webpack:///./src/js/components/ComponentSelection/ComponentInfo.js","webpack:///./src/js/components/ComponentSelection/ComponentSelection.js","webpack:///./src/js/components/ComponentSelection/ComponentSelectionReview.js","webpack:///./src/js/components/ComponentSelection/ComponentSelectionStandaloneContainer.js","webpack:///./src/js/components/Common/SubmissionNotCompleted.js","webpack:///./src/js/components/ComponentSelection/ComponentSelectionContainer.js","webpack:///./src/js/utils/PrettifyStatusUtil.js","webpack:///./src/js/components/QuestionnaireSubmissionList/MySubmissionList.js","webpack:///./src/js/components/Pagination/Pagination.js","webpack:///./src/js/components/Pagination/PaginationContainer.js","webpack:///./src/js/actions/pagination.js","webpack:///./src/js/components/QuestionnaireSubmissionList/AwaitingApprovalList.js","webpack:///./src/js/components/QuestionnaireSubmissionList/MyProductList.js","webpack:///./src/js/components/SecurityRiskAssessment/LikelihoodLegendContainer.js","webpack:///./src/js/components/SecurityRiskAssessment/ImpactThresholdContainer.js","webpack:///./src/js/components/SecurityRiskAssessment/RiskAssessmentMatrixTableContainer.js","webpack:///./src/js/components/SecurityRiskAssessment/RiskRatingThresholdContainer.js","webpack:///./src/js/services/SecurityRiskAssessmentTaskDataService.js","webpack:///./src/js/actions/securityRiskAssessment.js","webpack:///./src/js/components/SecurityRiskAssessment/SecurityRiskAssessmentContainer.js","webpack:///./src/js/services/ControlValidationAuditDataService.js","webpack:///./src/js/actions/controlValidationAudit.js","webpack:///./src/js/components/ControlValidationAudit/ControlValidationAuditContainer.js","webpack:///./src/js/components/Common/Loading.js","webpack:///./src/js/components/App/MainApp.js","webpack:///./src/js/reducers/homeState.js","webpack:///./src/js/reducers/questionnaireState.js","webpack:///./src/js/reducers/taskSubmissionState.js","webpack:///./src/js/reducers/currentUserState.js","webpack:///./src/js/reducers/siteConfigState.js","webpack:///./src/js/reducers/componentSelectionState.js","webpack:///./src/js/reducers/questionnaireSubmissionListState.js","webpack:///./src/js/reducers/securityRiskAssessmentState.js","webpack:///./src/js/reducers/controlValidationAuditState.js","webpack:///./src/js/reducers/loadingState.js","webpack:///./src/js/reducers/memberState.js","webpack:///./src/js/reducers/paginationState.js","webpack:///./src/js/reducers/rootState.js","webpack:///./src/js/store/store.js","webpack:///./src/js/components/Task/TaskSubmissionForVendorContainer.js","webpack:///./src/js/components/App/VendorApp.js","webpack:///./src/js/main.js","webpack:///./src/img/icons/chevron-right-link.svg"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","parentHotUpdateCallback","window","hotAvailableFilesMap","hotRequestedFilesMap","hotUpdate","hotWaitingFiles","hotChunksLoading","hotUpdateDownloaded","hotAddUpdateChunk","hotCurrentChildModule","hotApplyOnUpdate","hotCurrentHash","hotCurrentModuleData","hotCurrentParents","hotCurrentParentsTemp","hotCreateModule","hot","_acceptedDependencies","_declinedDependencies","_selfAccepted","_selfDeclined","_selfInvalidated","_disposeHandlers","_main","active","accept","dep","callback","undefined","decline","dispose","addDisposeHandler","removeDisposeHandler","idx","indexOf","invalidate","this","hotStatus","hotSetStatus","hotApplyInvalidatedModule","hotQueuedInvalidatedModules","check","hotCheck","hotApply","status","l","hotStatusHandlers","addStatusHandler","removeStatusHandler","newStatus","hotDeferred","hotUpdateNewHash","hotWaitingFilesMap","toModuleId","id","Error","requestTimeout","Promise","resolve","reject","XMLHttpRequest","request","requestPath","p","open","timeout","send","err","onreadystatechange","readyState","update","JSON","parse","responseText","e","then","hotApplyInvalidatedModules","c","h","promise","hotEnsureUpdateChunk","script","document","createElement","charset","src","head","appendChild","deferred","outdatedModules","options","hotApplyInternal","cb","module","getAffectedStuff","updateModuleId","outdatedDependencies","queue","map","chain","queueItem","pop","installedModules","type","parents","parentId","parent","concat","addAllToSet","a","b","item","appliedUpdate","warnUnexpectedRequire","console","warn","abortError","doApply","doDispose","chainInfo","join","onDeclined","ignoreDeclined","onUnaccepted","ignoreUnaccepted","onAccepted","onDisposed","outdatedSelfAcceptedModules","slice","errorHandler","keys","forEach","hotDisposeChunk","dependency","moduleOutdatedDependencies","disposeHandlers","children","child","error","callbacks","onErrored","dependencyId","ignoreErrored","err2","originalError","list","2","exports","me","fn","ObjectFactory","name","configurable","enumerable","get","set","value","defineProperty","finishChunkLoading","t","mode","hotCreateRequire","m","d","getter","o","r","Symbol","toStringTag","__esModule","ns","create","key","bind","n","object","property","jsonpArray","oldJsonpFunction","webpackContext","req","webpackContextResolve","code","ActionType","HOME","LOAD_HOME_STATE_STARTED","LOAD_HOME_STATE_FAILED","LOAD_HOME_STATE_FINISHED","QUESTIONNAIRE","LOAD_QUESTIONNAIRE_START_STATE","PUT_DATA_IN_QUESTIONNAIRE_ANSWER","MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION","MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE","FETCH_MY_SUBMISSION_LIST_REQUEST","FETCH_MY_SUBMISSION_LIST_SUCCESS","FETCH_MY_SUBMISSION_LIST_FAILURE","FETCH_AWAITING_APPROVAL_LIST_REQUEST","FETCH_AWAITING_APPROVAL_LIST_SUCCESS","FETCH_AWAITING_APPROVAL_LIST_FAILURE","FETCH_MY_PRODUCT_LIST_REQUEST","FETCH_MY_PRODUCT_LIST_SUCCESS","FETCH_MY_PRODUCT_LIST_FAILURE","LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST","LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS","LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE","ADD_COLLABORATOR","TASK","LOAD_TASK_SUBMISSION","LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION","PUT_DATA_IN_TASK_SUBMISSION","MARK_TASK_QUESTION_NOT_APPLICABLE","MOVE_TO_ANOTHER_TASK_QUESTION","COMPLETE_TASK_SUBMISSION","EDIT_TASK_SUBMISSION","SAVE_SELECTED_COMPONENT_REQUEST","SAVE_SELECTED_COMPONENT_SUCCESS","SAVE_SELECTED_COMPONENT_FAILURE","FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST","FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS","FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE","ADD_TASK_RECOMMENDATION","PAGINATION","FETCH_NEXT_PAGE","FETCH_PREV_PAGE","FETCH_FIRST_PAGE","FETCH_LAST_PAGE","SET_SELECTED_ROWS","RESET_PAGINATION","COMPONENT_SELECTION","SET_AVAILABLE_COMPONENTS","ADD_SELECTED_COMPONENT","REMOVE_SELECTED_COMPONENT","SET_JIRA_TICKETS","SET_VIEW_MODE","LOAD_SELECTED_COMPONENTS","SRA","LOAD_SECURITY_RISK_ASSESSMENT_REQUEST","LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS","LOAD_SECURITY_RISK_ASSESSMENT_FAILURE","LOAD_IMPACT_THRESHOLD","CVA","LOAD_CONTROL_VALIDATION_AUDIT_REQUEST","LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS","LOAD_CONTROL_VALIDATION_AUDIT_FAILURE","EMPTY_CONTROL_VALIDATION_AUDIT_DATA","UPDATE_CONTROL_VALIDATION_AUDIT_DATA","SAVE_CONTROL_VALIDATION_AUDIT_DATA","RE_SYNC_WITH_JIRA_REQUEST","RE_SYNC_WITH_JIRA_SUCCESS","RE_SYNC_WITH_JIRA_FAILURE","UI","LOAD_DATA_STARTED","LOAD_DATA_FAILED","LOAD_DATA_FINISHED","USER","SET_CURRENT_USER","LOAD_MEMBER","SITE_CONFIG","LOAD_SITE_CONFIG","URLUtil","uuid","location","href","token","returnType","url","GraphQLRequestHelper","argument","query","variables","csrfToken","headers","compress","axios","method","response","json","errorMessage","_","DEFAULT_NETWORK_ERROR","DEFAULT_PARSE_ERROR","QuestionParser","schemaJSON","answersJSON","schema","Array","isArray","parseSchemaFromJSON","answers","jsonObject","toString","parseAnswersFromJSON","currentQuestionID","questionID","answer","Boolean","findCurrentQuestionID","questionSchema","schemaIndex","hasAnswer","isApplicable","isCurrent","inputs","actions","inputAnswers","actionAnswers","inputSchemas","actionSchemas","inputSchema","toLowerCase","includes","inputID","input","label","required","toInteger","minLength","Number","parseInt","maxLength","placeholder","has","defaultRadioButtonValue","defaultCheckboxValue","filter","inputData","actionSchema","actionID","action","isChose","message","goto","taskID","question","title","heading","description","isEmpty","TaskParser","componentTarget","questions","parseQuestionsFromJSON","likelihoodJSON","jsonArray","toArray","operator","colour","tsObject","taskSubmissions","taskSubmission","taskType","serviceRegister","serviceInventory","HomeDataService","dashboardJSON","subtitle","pillarsJSONArray","pillars","parsePillars","taskJSONArray","tasks","parseTasks","icon","PocIcon","SaasIcon","ProdIcon","BugIcon","RiskIcon","disabled","questionnaireID","tasksJSONArray","taskJSON","task","parseFromJSONObject","ErrorUtil","rethrow","alert","loadHomeState","dispatch","fetchHomeData","homeState","payload","displayError","Pillar","classes","props","pillar","Link","className","to","link","onClick","event","preventDefault","alt","Component","TaskButton","CSRFTokenService","LogoutButton","logout","Icon","getCSRFToken","defaultProps","MySubmissionButton","allSubmission","AwaitingApprovalsButton","awaitingApprovals","MyProductButton","Home","logoPath","siteConfig","index","Footer","footerCopyrightText","SiteConfigParser","siteConfigJSON","defaultFooterText","String","fromCharCode","Date","getFullYear","siteTitle","DefaultLogoImage","homePageBackgroundImagePath","DefaultBackgroundImage","pdfHeaderImageLink","DefaultPDFHeaderImage","pdfFooterImageLink","DefaultPDFFooterImage","securityTeamEmail","SiteConfigDataService","responseJSONObject","siteData","parseSiteConfigFromJSON","loadSiteConfig","fetchSiteConfig","HomeContainer","dispatchLoadHomeDataAction","style","backgroundImage","backgroundSize","connect","state","siteConfigState","BaseButton","iconImage","rightIconImage","rightIcon","classNames","LightButton","Start","keyInformation","user","onStartButtonClick","dangerouslySetInnerHTML","__html","email","UserParser","userJSON","isSA","isCISO","isCertificationAuthority","isAccreditationAuthority","collaboratorJSON","collaboratorJsonObject","collaborator","QuestionnaireDataService","submissionHash","memberData","questionnaireData","parseUserFromJSON","secureToken","submissionJSON","isCurrentUserApprover","isCurrentUserABusinessOwnerApprover","submission","isApprovalOverrideBySecurityArchitect","hideWeightsAndScore","questionnaireTitle","submissionID","submissionUUID","submissionToken","productName","submitter","replace","approvalStatus","chiefInformationSecurityOfficer","businessOwner","securityArchitect","certificationAuthority","accreditationAuthority","securityArchitectApprover","firstName","surname","cisoApprover","certificationAuthorityApprover","accreditationAuthorityApprover","businessOwnerApproverName","businessOwnerAcknowledgementText","certificationAuthorityAcknowledgementText","accreditationAuthorityAcknowledgementText","isCertificationAndAccreditationTaskExists","taskName","approver","isTaskApprovalRequired","timeToComplete","timeToReview","canTaskCreateNewTasks","collaborators","parserCollaboratorsFromJSON","riskResults","created","releaseDate","productAspects","answerData","answerDataStr","btoa","unescape","encodeURIComponent","stringify","questionIDList","answerDataList","mutations","singleQuery","skipBoAndCisoApproval","userID","pageType","limit","offset","pageInfoData","pageInfo","totalCount","hasNextPage","hasPreviousPage","questionnaireSubmissionList","obj","selectedCollaborators","selectedCollaboratorIDs","selectedCollaboratorStr","SubmissionDataUtil","fullQuestion","answerType","isString","trim","hasUnansweredQuestion","exists","answeredQuestion","currentIndex","findIndex","isLastQuestion","returnPackage","nonApplicableIndexes","targetIndex","complete","terminate","choseAction","find","targetID","cursor","SecurityComponentParser","seletcedComponent","productAspect","controls","control","implementationGuidance","selectedOption","implementationEvidence","implementationEvidenceUserInput","jiraTicketLink","JiraTicketParser","jiraKey","TaskDataService","args","submissionJSONObject","informationClassificationTaskResult","lockWhenComplete","questionnaireSubmissionUUID","questionnaireSubmissionID","questionnaireSubmissionStatus","selectedComponents","parseFromJSONOArray","jiraTickets","parseFromJSONArray","isCurrentUserAnApprover","taskRecommendations","defaultTo","isTaskCollborator","isDisplayPreventMessage","preventMessage","siblingSubmissions","parseAlltaskSubmissionforQuestionnaire","parseServiceRegister","riskProfileData","resultForCertificationAndAccreditation","taskId","taskJSONObject","components","taskRecommendationData","taskSubmissionList","loadQuestionnaireSubmissionState","fetchSubmissionData","moveAfterQuestionAnswered","getState","rootState","questionnaireState","submissionState","getDataUpdateIntent","batchUpdateSubmissionData","uniq","redirectToQuestionnaireReview","loadAwaitingApprovalList","currentUserState","fetchQuestionnaireSubmissionList","indexesToUpdate","transformFromFullQuestionToData","Header","showLogoutButton","username","logopath","StartContainer","dispatchLoadQuestionnaireAction","startState","dispatchCreateInProgressSubmissionAction","fetchStartData","loadQuestionnaireStartState","createInProgressSubmission","redirectToQuestionnaireEditing","LeftBarItem","onItemClick","renderIcon","QuestionEditingIcon","QuestionCompletedIcon","QuestionPendingIcon","QuestionNotApplicableIcon","LeftBar","DarkButton","TaskRecommendationContainer","showModal","FormType","issueID","handleOpenModal","setState","handleCloseModal","handleOpenAddRecommendationModal","nextIssueId","maxIdObj","reduce","prev","current","handleOpenEditRecommendationModal","getFormInitialValues","initialValues","taskRecommendation","renderRecommendationform","validate","values","errors","recommendation","onSubmit","formik","handleAddTaskRecommendationButtonClick","handleEditTaskRecommendationButtonClick","validateOnChange","validateOnBlur","isSubmitting","touched","setFieldValue","handleChange","handleSubmit","onChange","display","field","data-flag","renderRecommendationModal","isOpen","ariaHideApp","parentSelector","querySelector","CloseIcon","viewAs","EditIcon","AddIcon","CertificationAndAccreditationResultContainer","organisationName","serviceName","createdAt","securityArchitectName","businessOwnerName","productDescription","accreditationLevel","accreditationDescription","accreditationType","accreditationPeriod","accreditationRenewalRecommendations","classificationLevel","reportLogo","isDisplayReportLogo","renderRiskProfile","renderTaskRecommendation","renderTaskTable","riskProfileDataStr","isDisplayMessage","hasProductAspects","entries","renderRiskProfileTable","items","riskName","backgroundColor","currentRiskRating","taskApproverName","renderRecommendationTable","taskStatus","statusIcon","startIcon","inProgressIcon","awaitingApprovalIcon","approveIcon","notApprovedIcon","approvedBy","split","str","charAt","toUpperCase","prettifyStatus","QuestionForm","loadResultForCertificationAndAccreditation","renderActions","renderInputsForm","renderDisplayField","renderReview","handleTaskSaveDraftButtonClick","handleNextButtonClickForDisplayField","InfoIcon","ChevronIcon","handleActionClick","chosenAction","handleFormSubmit","fieldLabel","test","moment","isValid","filteredErrors","hasError","option","checked","groupCheckboxValueArr","target","render","date","dateValue","toDate","dateFormat","selected","format","placeholderText","dropdownMode","withPortal","initialValue","init","selector","height","menubar","plugins","toolbar","statusbar","skin_url","onBlur","getContent","selectOptions","defaultValue","classNamePrefix","maxMenuHeight","Questionnaire","saveAnsweredQuestion","currentQuestion","forIn","onLeftBarItemClick","handleTaskSubmitButtonClick","currentQuestionIndex","QuestionnaireContainer","dispatchLoadSubmissionAction","dispatchSaveAnsweredQuestionAction","dispatchMoveToPreviousQuestionAction","loadingState","targetQuestion","updateSubmissionData","moveToPreviousQuestion","AnswersPreview","all","renderedData","renderData","renderInputData","selectedOptions","dataArr","Review","handleSubmitButtonClick","handlePDFDownloadButtonClick","handleEditAnswerButtonClick","alreadySubmittedAlert","buttons","editIcon","pdfIcon","existsUnansweredQuestion","summaryButton","redirectToQuestionnaireSummary","StringUtil","any","getImageDataByBlob","blob","reader","FileReader","addEventListener","readAsDataURL","getImageDataByURL","imageURL","fetch","fallback","PDFUtil","content","styles","bold","fontSize","defaultFontSize","color","alignment","sectionHeading","questionHeading","defaultStyle","info","vfs","vfsFonts","pdfMake","headingImageData","image","width","margin","text","arr","isLast","results","resultObj","rating","weights","score","table","headerRows","widths","body","footerImageData","createPdf","download","onload","ReviewContainer","dispatchSubmitQuestionnaire","generatePDF","submitQuestionnaire","UserDataService","currentMemberJSONObject","memberJSONObject","members","parserMemberFromJSON","loadCurrentUser","fetchCurrentUser","RedButton","RiskResultContainer","riskResult","SecurityRiskAssessmentUtil","allTaskSubmissions","ts","SubmissionExpired","prettifyApprovalStatus","role","Summary","enableApproveButton","getAcknowledgeText","unfinishedMessage","filteredTask","riskQuestionnaireTask","isRQCompleted","sub","hasSelectableComponents","handleCollaboratorAddButtonClick","handleCloseModalForCollaborators","renderSubmissionDetails","renderCollboratorsAndComponentsInfo","renderTasks","renderApprovals","renderSkipCheckbox","renderAcknowledgements","renderButtons","IconButton","aria-label","component","isMulti","handleChangeForCollaborators","handleAddCollaboratorsModalButtonClick","existsIncompleteTaskSubmission","incompleteTasksIcon","submittedIcon","handleOpenModalForCollaborators","renderCollboratorsModal","renderCollboratorsInfo","renderComponentsInfo","isSRATaskFinalised","unfinshedRQTaskMessage","unfinishedTaskSubmissionMessage","getSraIsFinalisedAlert","taskRedirectURL","redirectToTaskSubmission","redirectToComponentSelectionSubmission","redirectToSecurityRiskAssessment","redirectToControlValidationAudit","links","chevronRightIcon","securityArchitectApprovalStatus","cisoApprovalStatus","cisoApproverName","businessOwnerApprovalStatus","approvalStatusDetails","certificationAuthorityApprovalStatus","certificationAuthorityApproverName","accreditationAuthorityApprovalStatus","accreditationAuthorityApproverName","approvalStatusDetail","acknowledgementText","showNotApproveButton","handleApproveButtonClick","handleSendBackForChangesButtonClick","handleAssignToMeButtonClick","handleOptionalApproveButtonClick","handleDenyButtonClick","handleEditButtonClick","handleGrantCertificationButtonClick","handleDenyCertificationButtonClick","handleIssueAccreditationButtonClick","handleDenyAccreditationButtonClick","downloadPDFButton","viewAnswersButton","editAnswersButton","sendForApprovalButton","submitSubmissionIcon","assignToMeButton","approveButtonTitle","approveButton","denyButtonTitle","denyButton","grantCertification","denyCertification","issueAccreditation","denyAccreditation","SummaryContainer","dispatchLoadMembersAction","dispatchSubmitForApprovalAction","dispatchBusinessOwnerApproveSubmissionAction","dispatchApproveSubmissionAction","dispatchBusinessOwnerDenySubmissionAction","dispatchDenySubmissionAction","dispatchSendBackForChangesSubmissionAction","dispatchAssignToMeAction","dispatchEditSubmissionAction","dispatchAddCollaboratorAction","dispatchGrantCertificationAction","dispatchDenyCertificationAction","dispatchIssueAccreditationAction","dispatchDenyAccreditationAction","memberState","fetchMembers","approveQuestionnaireSubmissionAsBusinessOwner","denyQuestionnaireSubmissionAsBusinessOwner","submitQuestionnaireForApproval","editQuestionnaireSubmission","approveQuestionnaireSubmission","denyQuestionnaireSubmission","updateQuestionnaireStatusToSendBackForChanges","sendBackForChangesSubmission","assignQuestionnaireSubmissionToSecurityArchitect","assignToSecurityArchitectQuestionnaireSubmission","addCollaborator","addCollaboratorAction","grantCertificationAction","denyCertificationAction","issueAccreditationAction","denyAccreditationAction","SecurityComponentDataService","componentIDList","updatedData","compact","loadAvailableComponents","availableComponents","addSelectedComponent","removeSelectedComponent","setViewMode","viewMode","setJiraTickets","tickets","loadSelectedComponents","savedComponent","isSaved","loadTaskSubmission","fetchTaskSubmission","saveAnsweredQuestionInTaskSubmission","bypassNetwork","getTaskSubmission","taskSubmissionState","putDataAction","batchUpdateTaskSubmissionData","markNotApplicableAction","moveAction","completeTaskSubmission","saveSelectedComponents","componentSelectionState","SecurityComponentID","ProductAspect","TaskSubmissionID","updateTaskSubmissionWithSelectedComponents","taskSubmissionUUID","questionnaireUUID","moveToPreviousQuestionInTaskSubmission","editCompletedTaskSubmission","editTaskSubmission","loadAwaitingApprovalTaskList","fetchTaskSubmissionList","TaskSubmission","editAnswers","showBackLink","showEditButton","canUpdateAnswers","taskRecommendationContainer","backLink","sendBackToQestionnaire","BackArrow","editButton","resultStatus","pdfButton","downloadPdf","sendBackForChangesButton","currentUser","TaskSubmissionContainer","dispatchLoadDataAction","dispatchEditAnswersAction","dispatchApproveTaskSubmissionAction","dispatchDenyTaskSubmissionAction","dispatchSendBackForChangesTaskSubmissionAction","dispatchAddTaskRecommendationAction","dispatchEditTaskRecommendationAction","isCurrentUserSubmitter","recommendationObj","updatedRecommendationObj","dispatchLoadResultForCertificationAndAccreditation","questionnaireSubmission","fetchResultForCertificationAndAccreditation","approveTaskSubmission","denyTaskSubmission","inProgressTaskSubmission","newTaskRecommendation","newTaskRecommendationObj","updateTaskRecommendation","addTaskRecommendation","updatedTaskRecommendation","updatedTaskRecommendationObj","editTaskRecommendation","TaskStandaloneContainer","showBackButton","fetchStandaloneTask","loadStandaloneTaskSubmission","iconType","EditingIcon","ComponentSelectionUtil","collection","selectedProductAspect","removeComponent","addComponent","isSelected","isSelectedComponentExist","isDisable","isComponentSaved","ControlInfo","isExpanded","isImplementationEvidenceExpaned","isCVATaskEditable","updateEvidenceTextareaData","prevProps","showImplementationEvidence","handleOnBlurForImplementationEvidence","React","ComponentInfo","childControls","ComponentSelection","createJIRATickets","finishWithSelection","saveControls","extraButtons","isStandaloneTask","isGroupbyProductAspect","doescomponentExistForProductAspect","Fragment","marginRight","ComponentSelectionReview","ticket","ComponentSelectionStandaloneContainer","dispatchAddComponentAction","dispatchRemoveComponentAction","dispatchCreateJIRATicketsAction","redirectToHome","createJiraTickets","SubmissionNotCompleted","ComponentSelectionContainer","dispatchSaveLocalControlsAction","dispatchFinishAction","canEdit","showEditControlButton","backButton","editControlButton","PrettifyStatusUtil","securityArchitectID","CisoApprovalStatus","MySubmissionList","mySubmissionList","mySubmission","questionnaireName","SecurityArchitectApproverID","SecurityArchitectApprover","BusinessOwnerApprovalStatus","questionnaireSubmissionListState","Pagination","handleFirstPageClick","paginationActions","firstPage","pageNumber","handleNextPageClick","runningTotal","nextPage","page","handlePreviousPageClick","prevPage","Math","abs","handleLastPageClick","lastPage","ceil","handleChangeForSelectedRows","selectedRow","dispatchList","paginationInfo","listLength","rowsPerPage","isSearchable","firstPageIcon","chevronLeftIcon","lastPageIcon","PaginationContainer","pagination","paginationState","loadPaginationNextPage","loadPaginationPrevPage","loadPaginationFirstPage","loadPaginationLastPage","loadPaginationSelectedRow","AwaitingApprovalList","currentApprovalList","awaitingApprovalList","awaitingApprovalTaskList","dispatchloadAwaitingApprovalList","dispatchloadAwaitingApprovalTaskList","resetPagination","questionnaireList","taskList","ArrowDownIcon","awaitingApproval","submitterName","awaitingTaskApproval","MyProductList","myProductList","myProduct","LikelihoodLegendContainer","likelihoodThresholds","likelihoodThreshold","ImpactThresholdContainer","impactThresholds","impactThreshold","RiskAssessmentMatrixTableContainer","calculatedSRAData","risk","riskIndex","productAspectIndex","rowData","riskId","baseImpactScore","riskDescription","currentLikelihood","currentImpact","renderTableRow","productAspectName","riskDetail","renderComponents","renderCurrentLikelihood","renderCurrentImapct","renderCurrentRiskRating","componentIndex","implementedControls","recommendedControls","renderControls","controlIndex","displayInBold","_toInteger","likelihoodPenalty","impactPenalty","likelihoodWeight","impactWeight","formula","currentImapct","renderTableHeader","renderTableBody","RiskRatingThresholdContainer","riskRatingThresholds","tableHeader","headerText","tableRows","row","rowIndex","column","columnIndex","SecurityRiskAssessmentTaskDataService","securityRiskAssessmentData","UUID","submitterID","sraData","impactThresholdJSONObject","loadSecurityRiskAssessment","fetchSecurityRiskAssessmentTasK","SecurityRiskAssessmentContainer","impactThresholdData","isSiblingTaskPending","canFinalise","finaliseButton","dispatchFinaliseAction","securityRiskAssessmentState","fetchImpactThreshold","ControlValidationAuditDataService","parseCVAFromJSONObject","controlData","controlDataStr","loadControlValidationAudit","fetchControlValidationAuditTaskSubmission","ControlValidationAuditContainer","controlValidationAuditData","isSubmitter","autoSaveCVATask","setInterval","callAutoSaveCvaTaskApi","clearInterval","dispatchSaveControlValidationAuditDataAction","cvaSelectedComponents","renderComponentGroupByProductAspect","renderComponent","filterComponent","componentKey","renderControl","controlKey","renderRemoteControls","renderLocalControl","optionIndex","defaultChecked","dispatchUpdateControlValidationQuestionDataAction","dispatchReSyncWithJira","submitButton","reSync","renderCVAQuestionsForm","controlValidationAuditState","auto","saveControlValidationAuditData","selectedOptionDetail","reSyncWithJira","Loading","spin","MainApp","loading","Switch","Route","exact","path","match","params","hash","search","withRouter","some","val","defaultState","defaultStartState","defaultSubmissionState","combineReducers","newState","nonApplicableQuestion","savedComponents","isComponentExist","initalState","cloneDeep","act","availableComponent","seletedComponent","assign","controlID","componentID","selectedcomponent","newCVATaskData","matches","exec","requestName","requestState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","TaskSubmissionForVendorContainer","VendorApp","ReactModal","defaultStyles","overlay","position","top","left","right","bottom","flexDirection","justifyContent","alignItems","background","overflow","WebkitOverflowScrolling","padding","mainContainer","getElementById","ReactDOM","HashRouter","vendorContainer"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = window[\"webpackHotUpdate\"];\n \twindow[\"webpackHotUpdate\"] = // eslint-disable-next-line no-unused-vars\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) {\n \t\thotAddUpdateChunk(chunkId, moreModules);\n \t\tif (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\n \t} ;\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar script = document.createElement(\"script\");\n \t\tscript.charset = \"utf-8\";\n \t\tscript.src = __webpack_require__.p + \"hot/hot-update.js\";\n \t\tif (null) script.crossOrigin = null;\n \t\tdocument.head.appendChild(script);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest(requestTimeout) {\n \t\trequestTimeout = requestTimeout || 10000;\n \t\treturn new Promise(function(resolve, reject) {\n \t\t\tif (typeof XMLHttpRequest === \"undefined\") {\n \t\t\t\treturn reject(new Error(\"No browser support\"));\n \t\t\t}\n \t\t\ttry {\n \t\t\t\tvar request = new XMLHttpRequest();\n \t\t\t\tvar requestPath = __webpack_require__.p + \"hot/hot-update.json\";\n \t\t\t\trequest.open(\"GET\", requestPath, true);\n \t\t\t\trequest.timeout = requestTimeout;\n \t\t\t\trequest.send(null);\n \t\t\t} catch (err) {\n \t\t\t\treturn reject(err);\n \t\t\t}\n \t\t\trequest.onreadystatechange = function() {\n \t\t\t\tif (request.readyState !== 4) return;\n \t\t\t\tif (request.status === 0) {\n \t\t\t\t\t// timeout\n \t\t\t\t\treject(\n \t\t\t\t\t\tnew Error(\"Manifest request to \" + requestPath + \" timed out.\")\n \t\t\t\t\t);\n \t\t\t\t} else if (request.status === 404) {\n \t\t\t\t\t// no update available\n \t\t\t\t\tresolve();\n \t\t\t\t} else if (request.status !== 200 && request.status !== 304) {\n \t\t\t\t\t// other failure\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\n \t\t\t\t} else {\n \t\t\t\t\t// success\n \t\t\t\t\ttry {\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\n \t\t\t\t\t} catch (e) {\n \t\t\t\t\t\treject(e);\n \t\t\t\t\t\treturn;\n \t\t\t\t\t}\n \t\t\t\t\tresolve(update);\n \t\t\t\t}\n \t\t\t};\n \t\t});\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentHash = \"928e47c565d1c29690dd\";\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParents = [];\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParentsTemp = [];\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1) {\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) {\n \t\t\t\t\tme.children.push(request);\n \t\t\t\t}\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\" &&\n \t\t\t\tname !== \"t\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\tfn.t = function(value, mode) {\n \t\t\tif (mode & 1) value = fn(value);\n \t\t\treturn __webpack_require__.t(value, mode & ~1);\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_selfInvalidated: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (dep === undefined) hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (dep === undefined) hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n \t\t\tinvalidate: function() {\n \t\t\t\tthis._selfInvalidated = true;\n \t\t\t\tswitch (hotStatus) {\n \t\t\t\t\tcase \"idle\":\n \t\t\t\t\t\thotUpdate = {};\n \t\t\t\t\t\thotUpdate[moduleId] = modules[moduleId];\n \t\t\t\t\t\thotSetStatus(\"ready\");\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"ready\":\n \t\t\t\t\t\thotApplyInvalidatedModule(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"prepare\":\n \t\t\t\t\tcase \"check\":\n \t\t\t\t\tcase \"dispose\":\n \t\t\t\t\tcase \"apply\":\n \t\t\t\t\t\t(hotQueuedInvalidatedModules =\n \t\t\t\t\t\t\thotQueuedInvalidatedModules || []).push(moduleId);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\t// ignore requests in error states\n \t\t\t\t\t\tbreak;\n \t\t\t\t}\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash, hotQueuedInvalidatedModules;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\") {\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\t}\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(hotApplyInvalidatedModules() ? \"ready\" : \"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tfor(var chunkId in installedChunks)\n \t\t\t// eslint-disable-next-line no-lone-blocks\n \t\t\t{\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n \t\treturn hotApplyInternal(options);\n \t}\n\n \tfunction hotApplyInternal(options) {\n \t\thotApplyInvalidatedModules();\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (\n \t\t\t\t\t!module ||\n \t\t\t\t\t(module.hot._selfAccepted && !module.hot._selfInvalidated)\n \t\t\t\t)\n \t\t\t\t\tcontinue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted &&\n \t\t\t\t// removed self-accepted modules should not be required\n \t\t\t\tappliedUpdate[moduleId] !== warnUnexpectedRequire &&\n \t\t\t\t// when called invalidate self-accepting is not possible\n \t\t\t\t!installedModules[moduleId].hot._selfInvalidated\n \t\t\t) {\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\tparents: installedModules[moduleId].parents.slice(),\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\tif (hotUpdateNewHash !== undefined) {\n \t\t\thotCurrentHash = hotUpdateNewHash;\n \t\t\thotUpdateNewHash = undefined;\n \t\t}\n \t\thotUpdate = undefined;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = item.parents;\n \t\t\thotCurrentChildModule = moduleId;\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\treturn hotApplyInternal(options).then(function(list) {\n \t\t\t\toutdatedModules.forEach(function(moduleId) {\n \t\t\t\t\tif (list.indexOf(moduleId) < 0) list.push(moduleId);\n \t\t\t\t});\n \t\t\t\treturn list;\n \t\t\t});\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \tfunction hotApplyInvalidatedModules() {\n \t\tif (hotQueuedInvalidatedModules) {\n \t\t\tif (!hotUpdate) hotUpdate = {};\n \t\t\thotQueuedInvalidatedModules.forEach(hotApplyInvalidatedModule);\n \t\t\thotQueuedInvalidatedModules = undefined;\n \t\t\treturn true;\n \t\t}\n \t}\n\n \tfunction hotApplyInvalidatedModule(moduleId) {\n \t\tif (!Object.prototype.hasOwnProperty.call(hotUpdate, moduleId))\n \t\t\thotUpdate[moduleId] = modules[moduleId];\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/resources/themes/sdlt/dist/img/\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([486,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"../img/dab319c4a5240b45e9eacf3657dabef9.svg\";","module.exports = __webpack_public_path__ + \"../img/49c23560990f01bdb9dbb0aca57ebc16.svg\";","module.exports = __webpack_public_path__ + \"../img/00e771ee64f774bb995c8301a0276310.svg\";","module.exports = __webpack_public_path__ + \"../img/9480e88b542db6f375b12f4016ad3cf1.svg\";","module.exports = __webpack_public_path__ + \"../img/e5dfac45674afc1ceaa06543fe8459f8.svg\";","module.exports = __webpack_public_path__ + \"../img/b0b707ee0bdf8b4add381179f4a89bf9.svg\";","module.exports = __webpack_public_path__ + \"../img/99de1aaa8b5b87899363a95004d73fd3.svg\";","module.exports = __webpack_public_path__ + \"../img/8c940e4f505b38895423737310f1fb6c.svg\";","module.exports = __webpack_public_path__ + \"../img/f0545538d29150bca803dd2e1d422c11.jpg\";","module.exports = __webpack_public_path__ + \"../img/b2ce59ecfcc515cb33d81013163089b9.svg\";","module.exports = __webpack_public_path__ + \"../img/de677722d74728fea0aa7cb12a510519.svg\";","module.exports = __webpack_public_path__ + \"../img/80b11e3269520032c200106f4eb3a353.svg\";","module.exports = __webpack_public_path__ + \"../img/41e304962a77cf734f9bfe9772ab12b9.svg\";","module.exports = __webpack_public_path__ + \"../img/0e61629440d7a6d860ba88aad4af303a.svg\";","module.exports = __webpack_public_path__ + \"../img/442b4a253c2be23661dc12e64f264053.svg\";","module.exports = __webpack_public_path__ + \"../img/2d7ab2e275175116af7444a221be9f74.svg\";","module.exports = __webpack_public_path__ + \"../img/44cca0ef5b0830924492e8a8413b854e.svg\";","module.exports = __webpack_public_path__ + \"../img/fb467c695d06bcd18d012bd28ff6f583.svg\";","module.exports = __webpack_public_path__ + \"../img/8b14213bb682c2ce2e8b21f3ce9bb6f0.svg\";","module.exports = __webpack_public_path__ + \"../img/b002cf666ac7512c21ad21462efdf4e8.svg\";","module.exports = __webpack_public_path__ + \"../img/4b4872cec3cb197b21f4d3ac1b8ee472.jpg\";","module.exports = __webpack_public_path__ + \"../img/d1029db2ceff54ee06b8dafcf9f6a671.jpg\";","module.exports = __webpack_public_path__ + \"../img/9198e472a6c8367f8732e615d77f5cba.svg\";","module.exports = __webpack_public_path__ + \"../img/0c865019e25308a0cb171f68cadd01bc.svg\";","module.exports = __webpack_public_path__ + \"../img/c67b16dbdf2cbda4870d66a28b326761.svg\";","module.exports = __webpack_public_path__ + \"../img/b12b0e8b32fffee92478e00d635ffd41.svg\";","module.exports = __webpack_public_path__ + \"../img/253fcb80900dd1752b22f7607d2c75bb.svg\";","module.exports = __webpack_public_path__ + \"../img/1f41b999d8c492059354357358576c11.svg\";","module.exports = __webpack_public_path__ + \"../img/5026d4f7013eb6750fe473b8b1f857fc.svg\";","module.exports = __webpack_public_path__ + \"../img/b4059ba2a80c6df051a8c5e3a0db180b.svg\";","module.exports = __webpack_public_path__ + \"../img/9f61063964aa72748e2ad460ce525fdf.svg\";","module.exports = __webpack_public_path__ + \"../img/4aa06b86ab33745eda39a0996b2a31bd.svg\";","module.exports = __webpack_public_path__ + \"../img/1a64300e65fb7c88203c303f0c9a1a54.svg\";","module.exports = __webpack_public_path__ + \"../img/b49e6ec0cb091b6e52f39a9c84e6fcc6.svg\";","module.exports = __webpack_public_path__ + \"../img/39defb22ab1da0d7785089dbadf296ff.svg\";","module.exports = __webpack_public_path__ + \"../img/7f858504e1409f70135d863bcb581914.svg\";","module.exports = __webpack_public_path__ + \"../img/e5ade74409af1721ad1dfcadb7f04aee.svg\";","var map = {\n\t\"./af\": 270,\n\t\"./af.js\": 270,\n\t\"./ar\": 271,\n\t\"./ar-dz\": 272,\n\t\"./ar-dz.js\": 272,\n\t\"./ar-kw\": 273,\n\t\"./ar-kw.js\": 273,\n\t\"./ar-ly\": 274,\n\t\"./ar-ly.js\": 274,\n\t\"./ar-ma\": 275,\n\t\"./ar-ma.js\": 275,\n\t\"./ar-sa\": 276,\n\t\"./ar-sa.js\": 276,\n\t\"./ar-tn\": 277,\n\t\"./ar-tn.js\": 277,\n\t\"./ar.js\": 271,\n\t\"./az\": 278,\n\t\"./az.js\": 278,\n\t\"./be\": 279,\n\t\"./be.js\": 279,\n\t\"./bg\": 280,\n\t\"./bg.js\": 280,\n\t\"./bm\": 281,\n\t\"./bm.js\": 281,\n\t\"./bn\": 282,\n\t\"./bn-bd\": 283,\n\t\"./bn-bd.js\": 283,\n\t\"./bn.js\": 282,\n\t\"./bo\": 284,\n\t\"./bo.js\": 284,\n\t\"./br\": 285,\n\t\"./br.js\": 285,\n\t\"./bs\": 286,\n\t\"./bs.js\": 286,\n\t\"./ca\": 287,\n\t\"./ca.js\": 287,\n\t\"./cs\": 288,\n\t\"./cs.js\": 288,\n\t\"./cv\": 289,\n\t\"./cv.js\": 289,\n\t\"./cy\": 290,\n\t\"./cy.js\": 290,\n\t\"./da\": 291,\n\t\"./da.js\": 291,\n\t\"./de\": 292,\n\t\"./de-at\": 293,\n\t\"./de-at.js\": 293,\n\t\"./de-ch\": 294,\n\t\"./de-ch.js\": 294,\n\t\"./de.js\": 292,\n\t\"./dv\": 295,\n\t\"./dv.js\": 295,\n\t\"./el\": 296,\n\t\"./el.js\": 296,\n\t\"./en-au\": 297,\n\t\"./en-au.js\": 297,\n\t\"./en-ca\": 298,\n\t\"./en-ca.js\": 298,\n\t\"./en-gb\": 299,\n\t\"./en-gb.js\": 299,\n\t\"./en-ie\": 300,\n\t\"./en-ie.js\": 300,\n\t\"./en-il\": 301,\n\t\"./en-il.js\": 301,\n\t\"./en-in\": 302,\n\t\"./en-in.js\": 302,\n\t\"./en-nz\": 303,\n\t\"./en-nz.js\": 303,\n\t\"./en-sg\": 304,\n\t\"./en-sg.js\": 304,\n\t\"./eo\": 305,\n\t\"./eo.js\": 305,\n\t\"./es\": 306,\n\t\"./es-do\": 307,\n\t\"./es-do.js\": 307,\n\t\"./es-mx\": 308,\n\t\"./es-mx.js\": 308,\n\t\"./es-us\": 309,\n\t\"./es-us.js\": 309,\n\t\"./es.js\": 306,\n\t\"./et\": 310,\n\t\"./et.js\": 310,\n\t\"./eu\": 311,\n\t\"./eu.js\": 311,\n\t\"./fa\": 312,\n\t\"./fa.js\": 312,\n\t\"./fi\": 313,\n\t\"./fi.js\": 313,\n\t\"./fil\": 314,\n\t\"./fil.js\": 314,\n\t\"./fo\": 315,\n\t\"./fo.js\": 315,\n\t\"./fr\": 316,\n\t\"./fr-ca\": 317,\n\t\"./fr-ca.js\": 317,\n\t\"./fr-ch\": 318,\n\t\"./fr-ch.js\": 318,\n\t\"./fr.js\": 316,\n\t\"./fy\": 319,\n\t\"./fy.js\": 319,\n\t\"./ga\": 320,\n\t\"./ga.js\": 320,\n\t\"./gd\": 321,\n\t\"./gd.js\": 321,\n\t\"./gl\": 322,\n\t\"./gl.js\": 322,\n\t\"./gom-deva\": 323,\n\t\"./gom-deva.js\": 323,\n\t\"./gom-latn\": 324,\n\t\"./gom-latn.js\": 324,\n\t\"./gu\": 325,\n\t\"./gu.js\": 325,\n\t\"./he\": 326,\n\t\"./he.js\": 326,\n\t\"./hi\": 327,\n\t\"./hi.js\": 327,\n\t\"./hr\": 328,\n\t\"./hr.js\": 328,\n\t\"./hu\": 329,\n\t\"./hu.js\": 329,\n\t\"./hy-am\": 330,\n\t\"./hy-am.js\": 330,\n\t\"./id\": 331,\n\t\"./id.js\": 331,\n\t\"./is\": 332,\n\t\"./is.js\": 332,\n\t\"./it\": 333,\n\t\"./it-ch\": 334,\n\t\"./it-ch.js\": 334,\n\t\"./it.js\": 333,\n\t\"./ja\": 335,\n\t\"./ja.js\": 335,\n\t\"./jv\": 336,\n\t\"./jv.js\": 336,\n\t\"./ka\": 337,\n\t\"./ka.js\": 337,\n\t\"./kk\": 338,\n\t\"./kk.js\": 338,\n\t\"./km\": 339,\n\t\"./km.js\": 339,\n\t\"./kn\": 340,\n\t\"./kn.js\": 340,\n\t\"./ko\": 341,\n\t\"./ko.js\": 341,\n\t\"./ku\": 342,\n\t\"./ku.js\": 342,\n\t\"./ky\": 343,\n\t\"./ky.js\": 343,\n\t\"./lb\": 344,\n\t\"./lb.js\": 344,\n\t\"./lo\": 345,\n\t\"./lo.js\": 345,\n\t\"./lt\": 346,\n\t\"./lt.js\": 346,\n\t\"./lv\": 347,\n\t\"./lv.js\": 347,\n\t\"./me\": 348,\n\t\"./me.js\": 348,\n\t\"./mi\": 349,\n\t\"./mi.js\": 349,\n\t\"./mk\": 350,\n\t\"./mk.js\": 350,\n\t\"./ml\": 351,\n\t\"./ml.js\": 351,\n\t\"./mn\": 352,\n\t\"./mn.js\": 352,\n\t\"./mr\": 353,\n\t\"./mr.js\": 353,\n\t\"./ms\": 354,\n\t\"./ms-my\": 355,\n\t\"./ms-my.js\": 355,\n\t\"./ms.js\": 354,\n\t\"./mt\": 356,\n\t\"./mt.js\": 356,\n\t\"./my\": 357,\n\t\"./my.js\": 357,\n\t\"./nb\": 358,\n\t\"./nb.js\": 358,\n\t\"./ne\": 359,\n\t\"./ne.js\": 359,\n\t\"./nl\": 360,\n\t\"./nl-be\": 361,\n\t\"./nl-be.js\": 361,\n\t\"./nl.js\": 360,\n\t\"./nn\": 362,\n\t\"./nn.js\": 362,\n\t\"./oc-lnc\": 363,\n\t\"./oc-lnc.js\": 363,\n\t\"./pa-in\": 364,\n\t\"./pa-in.js\": 364,\n\t\"./pl\": 365,\n\t\"./pl.js\": 365,\n\t\"./pt\": 366,\n\t\"./pt-br\": 367,\n\t\"./pt-br.js\": 367,\n\t\"./pt.js\": 366,\n\t\"./ro\": 368,\n\t\"./ro.js\": 368,\n\t\"./ru\": 369,\n\t\"./ru.js\": 369,\n\t\"./sd\": 370,\n\t\"./sd.js\": 370,\n\t\"./se\": 371,\n\t\"./se.js\": 371,\n\t\"./si\": 372,\n\t\"./si.js\": 372,\n\t\"./sk\": 373,\n\t\"./sk.js\": 373,\n\t\"./sl\": 374,\n\t\"./sl.js\": 374,\n\t\"./sq\": 375,\n\t\"./sq.js\": 375,\n\t\"./sr\": 376,\n\t\"./sr-cyrl\": 377,\n\t\"./sr-cyrl.js\": 377,\n\t\"./sr.js\": 376,\n\t\"./ss\": 378,\n\t\"./ss.js\": 378,\n\t\"./sv\": 379,\n\t\"./sv.js\": 379,\n\t\"./sw\": 380,\n\t\"./sw.js\": 380,\n\t\"./ta\": 381,\n\t\"./ta.js\": 381,\n\t\"./te\": 382,\n\t\"./te.js\": 382,\n\t\"./tet\": 383,\n\t\"./tet.js\": 383,\n\t\"./tg\": 384,\n\t\"./tg.js\": 384,\n\t\"./th\": 385,\n\t\"./th.js\": 385,\n\t\"./tk\": 386,\n\t\"./tk.js\": 386,\n\t\"./tl-ph\": 387,\n\t\"./tl-ph.js\": 387,\n\t\"./tlh\": 388,\n\t\"./tlh.js\": 388,\n\t\"./tr\": 389,\n\t\"./tr.js\": 389,\n\t\"./tzl\": 390,\n\t\"./tzl.js\": 390,\n\t\"./tzm\": 391,\n\t\"./tzm-latn\": 392,\n\t\"./tzm-latn.js\": 392,\n\t\"./tzm.js\": 391,\n\t\"./ug-cn\": 393,\n\t\"./ug-cn.js\": 393,\n\t\"./uk\": 394,\n\t\"./uk.js\": 394,\n\t\"./ur\": 395,\n\t\"./ur.js\": 395,\n\t\"./uz\": 396,\n\t\"./uz-latn\": 397,\n\t\"./uz-latn.js\": 397,\n\t\"./uz.js\": 396,\n\t\"./vi\": 398,\n\t\"./vi.js\": 398,\n\t\"./x-pseudo\": 399,\n\t\"./x-pseudo.js\": 399,\n\t\"./yo\": 400,\n\t\"./yo.js\": 400,\n\t\"./zh-cn\": 401,\n\t\"./zh-cn.js\": 401,\n\t\"./zh-hk\": 402,\n\t\"./zh-hk.js\": 402,\n\t\"./zh-mo\": 403,\n\t\"./zh-mo.js\": 403,\n\t\"./zh-tw\": 404,\n\t\"./zh-tw.js\": 404\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 719;","// @flow\n\nimport type {HomeState} from \"../store/HomeState\";\nimport type {QuestionnaireStartState, QuestionnaireSubmissionState} from \"../store/QuestionnaireState\";\nimport type {User} from \"../types/User\";\nimport type {TaskSubmission} from \"../types/Task\";\nimport type {Question} from \"../types/Questionnaire\";\nimport type {JiraTicket, SecurityComponent} from \"../types/SecurityComponent\";\nimport type {TaskRecommendation} from \"../types/Task\";\n\nexport type LoadHomeStateFinishedAction = {\n  type: string,\n  payload: HomeState\n}\n\nexport type LoadQuestionnaireStartAction = {\n  type: string,\n  payload: QuestionnaireStartState\n}\n\nexport type LoadQuestionnaireSubmissionAction = {\n  type: string,\n  payload: QuestionnaireSubmissionState\n}\n\nexport type LoadTaskSubmissionAction = {\n  type: string,\n  payload: TaskSubmission\n};\n\nexport type PutDataInTaskSubmissionAction = {\n  type: string,\n  payload: Question\n};\n\nexport type MarkQuestionsNotApplicableInTaskSubmissionAction = {\n  type: string,\n  payload: Array<number>\n};\n\nexport type MoveToQuestionInTaskSubmissionAction = {\n  type: string,\n  payload: {\n    currentIndex: number,\n    targetIndex: number,\n  }\n};\n\nexport type SetCurrentUserAction = {\n  type: string,\n  payload: User | null\n};\n\nexport type LoadMembersAction = {\n  type: string,\n  payload: Array<User>\n}\n\nexport type LoadSiteConfigAction = {\n  type: string,\n  payload: string\n}\n\nexport type SetSiteTitleAction = {\n  type: string,\n  payload: string\n};\n\nexport type LoadAvailableComponentsAction = {\n  type: string,\n  payload: Array<SecurityComponent>\n}\n\nexport type AddSelectedComponentAction = {\n  type: string,\n  payload: string,\n};\n\nexport type RemoveSelectedComponentAction = {\n  type: string,\n  payload: string,\n};\n\nexport type LoadSelectedComponentsAction= {\n  type: string,\n  payload: string,\n};\n\nexport type AddTaskRecommendationAction = {\n  type: string,\n  payload: Array<TaskRecommendation>\n}\n\nconst ActionType = {\n  HOME: {\n    LOAD_HOME_STATE_STARTED: \"LOAD_HOME_STATE_STARTED\",\n    LOAD_HOME_STATE_FAILED: \"LOAD_HOME_STATE_FAILED\",\n    LOAD_HOME_STATE_FINISHED: \"LOAD_HOME_STATE_FINISHED\",\n  },\n  QUESTIONNAIRE: {\n    LOAD_QUESTIONNAIRE_START_STATE: \"LOAD_QUESTIONNAIRE_START_STATE\",\n    PUT_DATA_IN_QUESTIONNAIRE_ANSWER: \"PUT_DATA_IN_QUESTIONNAIRE_ANSWER\",\n    MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION: \"MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION\",\n    MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE: \"MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE\",\n    // fetch my questinnaire submission List\n    FETCH_MY_SUBMISSION_LIST_REQUEST: \"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/REQUEST\",\n    FETCH_MY_SUBMISSION_LIST_SUCCESS: \"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/SUCCESS\",\n    FETCH_MY_SUBMISSION_LIST_FAILURE: \"QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST/FAILURE\",\n    // fetch AWAITING_APPROVAL_LIST\n    FETCH_AWAITING_APPROVAL_LIST_REQUEST: \"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/REQUEST\",\n    FETCH_AWAITING_APPROVAL_LIST_SUCCESS: \"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/SUCCESS\",\n    FETCH_AWAITING_APPROVAL_LIST_FAILURE: \"QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST/FAILURE\",\n    // fetch _MY_PRODUCT_LIST\n    FETCH_MY_PRODUCT_LIST_REQUEST: \"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/REQUEST\",\n    FETCH_MY_PRODUCT_LIST_SUCCESS: \"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/SUCCESS\",\n    FETCH_MY_PRODUCT_LIST_FAILURE: \"QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST/FAILURE\",\n    // LOAD QUESTIONNAIRE SUBMISSION STATE\n    LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST: \"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/REQUEST\",\n    LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS: \"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/SUCCESS\",\n    LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE: \"QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE/FAILURE\",\n    // ADD COLLABORATOR\n    ADD_COLLABORATOR:\"QUESTIONNAIRE/ADD_COLLABORATOR\",\n  },\n  TASK: {\n    LOAD_TASK_SUBMISSION: \"ACTION_TASK_LOAD_TASK_SUBMISSION\",\n    LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION: \"TASK/LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION\",\n    PUT_DATA_IN_TASK_SUBMISSION: \"ACTION_TASK_PUT_DATA_IN_TASK_SUBMISSION\",\n    MARK_TASK_QUESTION_NOT_APPLICABLE: \"ACTION_TASK_MARK_TASK_QUESTION_NOT_APPLICABLE\",\n    MOVE_TO_ANOTHER_TASK_QUESTION: \"ACTION_TASK_MOVE_TO_ANOTHER_TASK_QUESTION\",\n    COMPLETE_TASK_SUBMISSION: \"ACTION_TASK_COMPLETE_TASK_SUBMISSION\",\n    EDIT_TASK_SUBMISSION: \"ACTION_TASK_EDIT_TASK_SUBMISSION\",\n    // fake action to display loading icon when user click on CREATE JIRA TICKETS/Save Controls for CS task\n    SAVE_SELECTED_COMPONENT_REQUEST: \"TASK/SAVE_SELECTED_COMPONENT/REQUEST\",\n    SAVE_SELECTED_COMPONENT_SUCCESS: \"TASK/SAVE_SELECTED_COMPONENT/SUCCESS\",\n    SAVE_SELECTED_COMPONENT_FAILURE: \"TASK/SAVE_SELECTED_COMPONENT/FAILURE\",\n    // fetch AWAITING_APPROVAL_LIST\n    FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST: \"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/REQUEST\",\n    FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS: \"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/SUCCESS\",\n    FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE: \"TASK/FETCH_AWAITING_APPROVAL_TASK_LIST/FAILURE\",\n    ADD_TASK_RECOMMENDATION: \"TASK/ADD_RECOMMENDATION\",\n  },\n  PAGINATION: {\n    FETCH_NEXT_PAGE: \"PAGINATION/FETCH_NEXT_PAGE\",\n    FETCH_PREV_PAGE: \"PAGINATION/FETCH_PREV_PAGE\",\n    FETCH_FIRST_PAGE: \"PAGINATION/FETCH_FIRST_PAGE\",\n    FETCH_LAST_PAGE: \"PAGINATION/FETCH_LAST_PAGE\",\n    SET_SELECTED_ROWS: \"PAGINATION/SET_SELECTED_ROWS\",\n    RESET_PAGINATION: \"PAGINATION/RESET\",\n  },\n  COMPONENT_SELECTION: {\n    SET_AVAILABLE_COMPONENTS: \"ACTION_COMPONENT_SELECTION_SET_AVAILABLE_COMPONENTS\",\n    ADD_SELECTED_COMPONENT: \"ACTION_COMPONENT_SELECTION_ADD_SELECTED_COMPONENT\",\n    REMOVE_SELECTED_COMPONENT: \"ACTION_COMPONENT_SELECTION_REMOVE_SELECTED_COMPONENT\",\n    SET_JIRA_TICKETS: \"ACTION_COMPONENT_SELECTION_SET_JIRA_TICKETS\",\n    SET_VIEW_MODE: \"ACTION_COMPONENT_SELECTION_SET_VIEW_MODE\",\n    LOAD_SELECTED_COMPONENTS: \"COMPONENTSELECTION/LOAD_SELECTED_COMPONENTS\",\n  },\n  SRA: {\n    LOAD_SECURITY_RISK_ASSESSMENT_REQUEST: \"SRA/LOAD_SECURITY_RISK_ASSESSMENT/REQUEST\",\n    LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS: \"SRA/LOAD_SECURITY_RISK_ASSESSMENT/SUCCESS\",\n    LOAD_SECURITY_RISK_ASSESSMENT_FAILURE: \"SRA/LOAD_SECURITY_RISK_ASSESSMENT/FAILURE\",\n    LOAD_IMPACT_THRESHOLD: \"SRA/LOAD_IMPACT_THRESHOLD\",\n  },\n  CVA: {\n    LOAD_CONTROL_VALIDATION_AUDIT_REQUEST: \"CVA/LOAD_CONTROL_VALIDATION_AUDIT/REQUEST\",\n    LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS: \"CVA/LOAD_CONTROL_VALIDATION_AUDIT/SUCCESS\",\n    LOAD_CONTROL_VALIDATION_AUDIT_FAILURE: \"CVA/LOAD_CONTROL_VALIDATION_AUDIT/FAILURE\",\n    EMPTY_CONTROL_VALIDATION_AUDIT_DATA: \"CVA/EMPTY_CONTROL_VALIDATION_AUDIT_DATA\",\n    UPDATE_CONTROL_VALIDATION_AUDIT_DATA: \"CVA/UPDATE_CONTROL_VALIDATION_AUDIT_DATA\",\n    SAVE_CONTROL_VALIDATION_AUDIT_DATA: \"CVA/SAVE_CONTROL_VALIDATION_AUDIT_DATA\",\n    RE_SYNC_WITH_JIRA_REQUEST: \"CVA/RE_SYNC_WITH_JIRA/REQUEST\",\n    RE_SYNC_WITH_JIRA_SUCCESS: \"CVA/RE_SYNC_WITH_JIRA/SUCCESS\",\n    RE_SYNC_WITH_JIRA_FAILURE: \"CVA/RE_SYNC_WITH_JIRA/FAILURE\"\n  },\n  // TODO: add a global UI state to reflect loading and error\n  UI: {\n    LOAD_DATA_STARTED: \"LOAD_DATA_STARTED\",\n    LOAD_DATA_FAILED: \"LOAD_DATA_FAILED\",\n    LOAD_DATA_FINISHED: \"LOAD_DATA_FINISHED\",\n  },\n  USER: {\n    SET_CURRENT_USER: \"ACTION_USER_SET_CURRENT_USER\",\n    // Load member List for colloboratoe\n    LOAD_MEMBER: \"USER/LOAD_MEMBER\"\n  },\n  SITE_CONFIG: {\n    LOAD_SITE_CONFIG: \"SITE_CONFIG/LOAD_SITE_CONFIG\",\n  },\n};\n\nexport default ActionType;\n","// @flow\n\nexport default class URLUtil {\n\n  static redirectToQuestionnaireEditing(uuid: string) {\n    window.location.href = `/#/questionnaire/submission/${uuid}`;\n  }\n\n  static redirectToQuestionnaireReview(uuid: string, token: string = \"\") {\n    if (token) {\n      window.location.href = `/#/questionnaire/review/${uuid}?token=${token}`;\n      return;\n    }\n    window.location.href = `/#/questionnaire/review/${uuid}`;\n  }\n\n  static redirectToQuestionnaireSummary(uuid: string, token: string = \"\") {\n    if (token) {\n      window.location.href = `/#/questionnaire/summary/${uuid}?token=${token}`;\n      return;\n    }\n\n    window.location.href = `/#/questionnaire/summary/${uuid}`;\n  }\n\n  static redirectToTaskSubmission(uuid: string, token: string = \"\", returnType: string = \"redirect\") {\n      let url= `/task/submission/${uuid}`;\n\n      if (token) {\n        url = `/task/submission/${uuid}?token=${token}`;\n      }\n\n      if (returnType == \"urlString\") {\n        return url;\n      }\n\n      window.location.href = `/#/${url}`;\n    }\n\n  static redirectToComponentSelectionSubmission(uuid: string, token: string = \"\", returnType: string = \"redirect\") {\n    let url = `/component-selection/submission/${uuid}`;\n\n    if (token) {\n      url = `/component-selection/submission/${uuid}?token=${token}`;\n    }\n\n    if (returnType == \"urlString\") {\n      return url;\n    }\n\n    window.location.href = `/#/${url}`;\n  }\n\n  static redirectToSecurityRiskAssessment(uuid: string, token: string = \"\", returnType: string = \"redirect\") {\n    let url = `/security-risk-assessment/submission/${uuid}`;\n\n    if (token) {\n      url = `/security-risk-assessment/submission/${uuid}?token=${token}`;\n    }\n\n    if (returnType == \"urlString\") {\n      return url;\n    }\n\n    window.location.href = `/#/${url}`;\n  }\n\n  static redirectToControlValidationAudit(uuid: string, token: string = \"\", returnType: string = \"redirect\") {\n    let url = `/control-validation-audit/submission/${uuid}`;\n\n    if (token) {\n      url = `/control-validation-audit/submission/${uuid}?token=${token}`;\n    }\n\n    if (returnType == \"urlString\") {\n      return url;\n    }\n\n    window.location.href = `/#/${url}`;\n  }\n\n  static redirectToLogout() {\n    window.location.href = \"/Security/Logout\";\n  }\n\n  static redirectToLogin() {\n    window.location.href = \"/Security/login?BackURL=%2F\";\n  }\n\n  static redirectToHome() {\n    window.location.href = \"/\";\n  }\n}\n","// @flow\n\nimport compress from \"graphql-query-compress\";\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport URLUtil from \"./URLUtil\";\n\nexport type GraphQLRequestArgument = {\n  query: string,\n  variables?: Object,\n  csrfToken?: string\n};\n\nexport default class GraphQLRequestHelper {\n\n  static async request(argument: GraphQLRequestArgument): Promise<Object> {\n    const {query, variables, csrfToken} = {...argument};\n    const headers = {};\n\n    if (csrfToken) {\n      headers[\"X-CSRF-TOKEN\"] = csrfToken;\n    }\n\n    const data = {\n      query: compress(query),\n      variables: variables,\n    };\n\n    const response = await axios.request({\n      url: \"/graphql\",\n      method: \"post\",\n      data: data,\n      headers: headers,\n    });\n    const json = response.data;\n\n    // Deal with common error\n    const errorMessage = _.get(json, \"errors.0.message\", null);\n    if (errorMessage) {\n      throw new Error(errorMessage);\n    }\n\n    return json;\n  }\n}\n","// @flow\n\nexport const DEFAULT_NETWORK_ERROR = new Error(\"There is an error when fetching data...\");\nexport const DEFAULT_PARSE_ERROR = new Error(\"There is an error when parsing data...\");\n","// @flow\n\nimport type {AnswerAction, AnswerInput, Question} from \"../types/Questionnaire\";\nimport _ from \"lodash\";\nimport {DEFAULT_PARSE_ERROR} from \"../constants/errors\";\n\n\nfunction parseAnswersFromJSON(answersJSON: string): Object {\n  if (!answersJSON) {\n    return {};\n  }\n\n  const jsonObject = JSON.parse(answersJSON);\n  const answers = {};\n  if (jsonObject) {\n    _.keys(jsonObject).forEach((key) => {\n      answers[_.toString(key)] = jsonObject[key];\n    });\n  }\n  return answers;\n}\n\nfunction parseSchemaFromJSON(schemaJSON: string): Array<*> {\n  const schema = JSON.parse(schemaJSON);\n  if(!schema || !Array.isArray(schema)) {\n    throw DEFAULT_PARSE_ERROR;\n  }\n  return schema;\n}\n\nfunction findCurrentQuestionID(answers: Object): string {\n  let currentQuestionID = \"\";\n  _.keys(answers).forEach((questionID) => {\n    const answer = answers[questionID];\n    if (!currentQuestionID && Boolean(_.get(answer, `isCurrent`, false))) {\n      currentQuestionID = questionID;\n    }\n  });\n\n  return currentQuestionID;\n}\n\nexport default class QuestionParser {\n\n  static parseQuestionsFromJSON(argument: {\n    schemaJSON: string,\n    answersJSON: string\n  }): Array<Question> {\n    const {schemaJSON, answersJSON} = {...argument};\n\n    const schema = parseSchemaFromJSON(schemaJSON);\n    const answers = parseAnswersFromJSON(answersJSON);\n    const currentQuestionID = findCurrentQuestionID(answers);\n\n    return schema.map((questionSchema, schemaIndex) => {\n      const questionID = _.toString(_.get(questionSchema, \"ID\", \"\"));\n      const hasAnswer = Boolean(_.get(answers, `${questionID}.hasAnswer`, false));\n      const isApplicable = Boolean(_.get(answers, `${questionID}.isApplicable`, true));\n\n      // Mark the question as the current one if it is\n      // Otherwise the first question will be the current one by default\n      let isCurrent = false;\n      if (currentQuestionID) {\n        isCurrent = (currentQuestionID === questionID);\n      } else {\n        isCurrent = (schemaIndex === 0);\n      }\n\n      let inputs = null;\n      let actions = null;\n\n      const inputAnswers = hasAnswer ? _.get(answers, `${questionID}.inputs`, []) : [];\n      const actionAnswers = hasAnswer ? _.get(answers, `${questionID}.actions`, []) : [];\n\n      const inputSchemas = _.get(questionSchema, \"AnswerInputFields\", []);\n      const actionSchemas = _.get(questionSchema, \"AnswerActionFields\", []);\n\n      if (inputSchemas && Array.isArray(inputSchemas) && inputSchemas.length > 0) {\n        inputs = inputSchemas.map((inputSchema) => {\n          // Schema of input\n          let type = _.toString(_.get(inputSchema, \"InputType\", \"\")).toLowerCase();\n          if (type === \"multiple-choice: single selection\") {\n            type = \"radio\"\n          }\n          if (type === \"multiple-choice: multiple selection\") {\n            type = \"checkbox\"\n          }\n          const validTypes = [\"text\", \"email\", \"textarea\", 'rich text editor', \"service register\", \"information classification\", \"dropdown\", \"product aspects\", \"date\", \"url\", \"radio\", \"checkbox\", \"release date\"];\n          if (!validTypes.includes(type)) {\n            type = \"text\";\n          }\n\n          const inputID = _.toString(_.get(inputSchema, \"ID\", \"\"));\n\n          const input: AnswerInput = {\n            id: inputID,\n            label: _.toString(_.get(inputSchema, \"Label\", \"\")),\n            type: type,\n            required: Boolean(_.toInteger(_.get(inputSchema, \"Required\", false))),\n            minLength: Number.parseInt(_.toString(_.get(inputSchema, \"MinLength\", 0))),\n            maxLength: Number.parseInt(_.toString(_.get(inputSchema, \"MaxLength\", 0))),\n            placeholder: _.toString(_.get(inputSchema, \"PlaceHolder\", \"\")),\n            options: _.has(inputSchema, 'MultiChoiceAnswer') ? JSON.parse(_.get(inputSchema, \"MultiChoiceAnswer\", \"\")) : \"\",\n            defaultRadioButtonValue: _.has(inputSchema, 'MultiChoiceSingleAnswerDefault') ? _.toString(_.get(inputSchema, \"MultiChoiceSingleAnswerDefault\", \"\")) : \"\",\n            defaultCheckboxValue: _.has(inputSchema, 'MultiChoiceMultipleAnswerDefault') ? _.get(inputSchema, \"MultiChoiceMultipleAnswerDefault\", \"\") : \"\",\n            data: null,\n          };\n\n          // Data of input\n          if (inputAnswers && Array.isArray(inputAnswers) && inputAnswers.length > 0) {\n            const answer = _.head(inputAnswers.filter((answer) => answer.id === inputID));\n            if (answer) {\n              const inputData = _.toString(_.get(answer, \"data\", null));\n              if (inputData) {\n                input.data = inputData;\n              }\n            }\n          }\n\n          return input;\n        });\n      }\n\n      if (actionSchemas && Array.isArray(actionSchemas) && actionSchemas.length > 0) {\n        actions = actionSchemas.map((actionSchema) => {\n          // Schema of action\n          let type = _.toString(_.get(actionSchema, \"ActionType\", \"\")).toLowerCase();\n          const validTypes = [\"continue\", \"goto\", \"message\", \"finish\"];\n          if (!validTypes.includes(type)) {\n            type = \"continue\";\n          }\n\n          const actionID = _.toString(_.get(actionSchema, \"ID\", \"\"));\n          const action: AnswerAction = {\n            id: actionID,\n            label: _.toString(_.get(actionSchema, \"Label\", \"\")),\n            type: type,\n            isChose: false,\n          };\n\n          if (type === \"message\") {\n            action.message = _.toString(_.get(actionSchema, \"Message\", \"\"));\n          }\n\n          if (type === \"goto\") {\n            action.goto = _.toString(_.get(actionSchema, \"GotoID\", \"\"));\n          }\n\n          if (type === \"finish\") {\n            action.result = _.toString(_.get(actionSchema, \"Result\", \"\"));\n          }\n\n          // Task of action\n          const taskID = _.toString(_.get(actionSchema, \"TaskID\", \"\"));\n          action.taskID = taskID;\n\n          // Data of action\n          if (actionAnswers && Array.isArray(actionAnswers) && actionAnswers.length > 0) {\n            const answer = _.head(actionAnswers.filter((answer) => answer.id === actionID));\n            if (answer) {\n              const isChose = Boolean(_.get(answer, \"isChose\", false));\n              action.isChose = isChose;\n            }\n          }\n\n          return action;\n        });\n      }\n\n      const question: Question = {\n        id: questionID,\n        title: _.toString(_.get(questionSchema, \"Title\", \"\")),\n        heading: _.toString(_.get(questionSchema, \"QuestionHeading\", \"\")),\n        description: _.toString(_.get(questionSchema, \"Description\", \"\")),\n        type: _.toString(_.get(questionSchema, \"AnswerFieldType\", \"\")).toLowerCase(),\n        isCurrent: isCurrent,\n        hasAnswer: hasAnswer,\n        isApplicable: isApplicable,\n      };\n\n      // to fix the old submission where json key was \"Question\" not the \"QuestionHeading\"\n      if ( _.isEmpty(_.get(question, \"heading\"))) {\n         const heading = _.toString(_.get(questionSchema, \"Question\", \"\"));\n         _.set(question, \"heading\", heading);\n      }\n\n      if (inputs) {\n        question.inputs = inputs;\n      }\n      if (actions) {\n        question.actions = actions;\n      }\n\n      return question;\n    });\n  }\n}\n","// @flow\n\nimport toString from \"lodash/toString\";\nimport get from \"lodash/get\";\nimport type {Task} from \"../types/Task\";\nimport QuestionParser from \"./QuestionParser\";\nimport type {LikelihoodThreshold} from \"../types/Task\";\nimport toArray from \"lodash/toArray\";\n\nexport default class TaskParser {\n\n  static parseFromJSONObject(jsonObject: *): Task {\n    const id = toString(get(jsonObject, \"ID\", \"\"));\n    const name = toString(get(jsonObject, \"Name\", \"\"));\n    const componentTarget = toString(get(jsonObject, \"ComponentTarget\", \"\"));\n    let type = toString(get(jsonObject, \"TaskType\", \"\"));\n    switch (type) {\n      case \"questionnaire\":\n      case \"selection\":\n        break;\n      default:\n        type = \"questionnaire\";\n    }\n\n    let questions = [];\n    const schemaJSON = toString(get(jsonObject, \"QuestionsDataJSON\", \"\"));\n    if (schemaJSON) {\n      questions = QuestionParser.parseQuestionsFromJSON({\n        schemaJSON,\n        answersJSON: \"{}\"\n      });\n    }\n\n    return {id, name, type, componentTarget, questions};\n  }\n\n  static parseLikelihoodJSONObject(likelihoodJSON: string | Object): LikelihoodThreshold {\n    const jsonArray = (typeof likelihoodJSON === \"string\" ? JSON.parse(likelihoodJSON) : likelihoodJSON);\n\n    if (jsonArray) {\n      return toArray(jsonArray).map((jsonObject) => {\n        return {\n          name: toString(get(jsonObject, \"Name\")),\n          value: toString(get(jsonObject, \"Value\")),\n          operator: toString(get(jsonObject, \"Operator\")),\n          colour: toString(get(jsonObject, \"Colour\"))\n        }\n      });\n    }\n\n    return [];\n  }\n\n  static parseAlltaskSubmissionforQuestionnaire(tsObject) {\n    if (!tsObject) {\n      return [];\n    }\n    const taskSubmissions = get(tsObject, \"QuestionnaireSubmission.TaskSubmissions\", \"\")\n\n    if(get(tsObject, \"Submission.TaskType\", \"\") === 'questionnaire') {\n      return [];\n    }\n\n    if (!taskSubmissions) {\n      return [];\n    }\n\n    return taskSubmissions.map((taskSubmission) => {\n      return {\n        uuid: toString(get(taskSubmission, \"UUID\")),\n        taskType: toString(get(taskSubmission, \"TaskType\")),\n        status: toString(get(taskSubmission, \"Status\"))\n      }\n    });\n  }\n\n  static parseServiceRegister(serviceRegister) {\n    return serviceRegister.map((serviceInventory) => {\n      return {\n        value: toString(get(serviceInventory, \"ID\")),\n        label: toString(get(serviceInventory, \"ServiceName\"))\n      }\n    });\n  }\n}\n","// @flow\n\nimport type {HomeState} from \"../store/HomeState\";\n\nimport PocIcon from \"../../img/Home/poc-icon.svg\";\nimport SaasIcon from \"../../img/Home/saas-icon.svg\";\nimport ProdIcon from \"../../img/Home/prod-icon.svg\";\nimport BugIcon from \"../../img/Home/bug-icon.svg\";\nimport RiskIcon from \"../../img/Home/risk-icon.svg\";\n\nimport get from \"lodash/get\";\nimport toString from \"lodash/toString\";\nimport GraphQLRequestHelper from \"../utils/GraphQLRequestHelper\";\nimport {DEFAULT_NETWORK_ERROR} from \"../constants/errors\";\nimport type {Pillar} from \"../types/Pillar\";\nimport type {Task} from \"../types/Task\";\nimport TaskParser from \"../utils/TaskParser\";\n\nexport default class HomeDataService {\n\n  static async fetchHomeData(): Promise<HomeState> {\n    // GraphQL\n    const query = `\nquery {\n  readDashboard {\n    Title\n    Subtitle\n    Pillars {\n      Label\n      Type\n      Disabled\n      Questionnaire {\n        ID\n      }\n    }\n    Tasks {\n      ID\n      Name\n      TaskType\n      ComponentTarget\n    }\n  }\n}`;\n\n    // Send request\n    const json = await GraphQLRequestHelper.request({query});\n    const data = get(json, \"data.readDashboard\", []);\n    if (!Array.isArray(data) || data.length === 0) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    // Parse data for use in frontend\n    const dashboardJSON = data[0];\n\n    const title = toString(get(dashboardJSON, \"Title\", \"\"));\n    const subtitle = toString(get(dashboardJSON, \"Subtitle\", \"\"));\n\n    const pillarsJSONArray = get(dashboardJSON, \"Pillars\", []);\n    const pillars = this.parsePillars(pillarsJSONArray);\n\n    const taskJSONArray = get(dashboardJSON, \"Tasks\", []);\n    const tasks = this.parseTasks(taskJSONArray);\n\n    return {\n      title,\n      subtitle,\n      pillars,\n      tasks,\n    };\n  }\n\n  static parsePillars(pillarsJSONArray: Array<*>): Array<Pillar> {\n    if (!Array.isArray(pillarsJSONArray)) {\n      return [];\n    }\n    const pillars = pillarsJSONArray.map(item => {\n      let icon = PocIcon;\n      switch (item[\"Type\"]) {\n        case \"proof_of_concept\":\n          icon = PocIcon;\n          break;\n        case \"software_as_service\":\n          icon = SaasIcon;\n          break;\n        case \"product_project_or_solution\":\n          icon = ProdIcon;\n          break;\n        case \"feature_or_bug_fix\":\n          icon = BugIcon;\n          break;\n        case \"risk_questionnaire\":\n          icon = RiskIcon;\n          break;\n      }\n\n      return {\n        title: toString(get(item, \"Label\", \"\")),\n        disabled: Boolean(get(item, \"Disabled\", true)),\n        questionnaireID: toString(get(item, \"Questionnaire.0.ID\", \"\")),\n        icon: icon,\n      };\n    });\n    return pillars;\n  }\n\n  static parseTasks(tasksJSONArray: Array<*>): Array<Task> {\n    if (!Array.isArray(tasksJSONArray)) {\n      return [];\n    }\n\n    const tasks = [];\n    tasksJSONArray.forEach((taskJSON) => {\n      const task = TaskParser.parseFromJSONObject(taskJSON);\n      tasks.push(task);\n    });\n    return tasks;\n  }\n}\n","// @flow\n\nexport default class ErrorUtil {\n\n  static displayError(error: Error, rethrow: boolean = true) {\n    alert(error);\n    if (rethrow) {\n      throw error;\n    }\n  }\n}\n","// @flow\n\nimport type {LoadHomeStateFinishedAction} from \"./ActionType\";\nimport ActionType from \"./ActionType\";\nimport {ThunkAction} from \"redux-thunk\";\nimport HomeDataService from \"../services/HomeDataService\";\nimport ErrorUtil from \"../utils/ErrorUtil\";\n\nexport function loadHomeState(): ThunkAction {\n  return async (dispatch) => {\n    try {\n      const homeState = await HomeDataService.fetchHomeData();\n      const action: LoadHomeStateFinishedAction = {\n        type: ActionType.HOME.LOAD_HOME_STATE_FINISHED,\n        payload: homeState,\n      };\n      dispatch(action);\n    }\n    catch (error) {\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport type {Pillar as PillarType} from \"../../types/Pillar\";\n\ntype Props = {\n  link: string,\n  classes: Array<string>,\n  pillar: PillarType\n};\n\nclass Pillar extends Component<Props> {\n\n  render() {\n\n    const classes = [\"Pillar\", ...this.props.classes];\n    if (this.props.pillar.disabled) {\n      classes.push(\"disabled\")\n    }\n\n    return (\n      <Link className={classes.join(\" \")} to={this.props.link} onClick={(event) => {\n        if(this.props.pillar.disabled) {\n          event.preventDefault();\n          alert(\"Coming soon...\");\n        }\n      }}>\n        <div className=\"icon\">\n          <img src={this.props.pillar.icon} alt={this.props.pillar.title}/>\n        </div>\n        <div className=\"title\">\n          {this.props.pillar.title}\n        </div>\n      </Link>\n    );\n  }\n}\n\nexport default Pillar;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\n\ntype Props = {\n  link: string,\n  title: string,\n  classes: Array<string>,\n};\n\nclass TaskButton extends Component<Props> {\n\n  render() {\n    const classes = [\"TaskButton\", ...this.props.classes];\n\n    return (\n      <Link className={classes.join(\" \")} to={this.props.link}>\n        {this.props.title}\n      </Link>\n    );\n  }\n}\n\nexport default TaskButton;\n","// @flow\n\nimport axios from \"axios\";\nimport _ from \"lodash\";\n\nexport default class CSRFTokenService {\n\n  static async getCSRFToken() {\n\n    const response = await axios.request({\n      url: \"/getCSRFToken\",\n      method: \"get\",\n      headers: {\n        \"x-requested-with\": \"XMLHttpRequest\"\n      }\n    });\n    const data = response.data;\n    const token = _.get(data, \"CSRFToken\", null);\n    if (!token) {\n      throw new Error(data);\n    }\n    return token;\n  }\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport Icon from \"../../../img/icons/user.svg\";\nimport CSRFTokenService from '../../services/CSRFTokenService';\n\ntype Props = {\n  classes: Array<string>\n};\n\nclass LogoutButton extends Component<Props> {\n\n  static defaultProps = {\n    classes: []\n  };\n\n  render() {\n    const {classes} = {...this.props};\n\n    return (\n      <button className={`HeaderButton ${classes.join(\" \")}`}\n        onClick={() => {\n          this.logout();\n        }}\n      >\n        <div>\n          <img src={Icon} />\n          Log Out\n        </div>\n      </button>\n    );\n  }\n\n  async logout() {\n    const csrfToken = await CSRFTokenService.getCSRFToken();\n    window.location.href = `/Security/Logout?SecurityID=${csrfToken}`;\n  }\n}\n\nexport default LogoutButton;\n","// @flow\nimport React, {Component} from \"react\";\nimport Icon from \"../../../img/icons/question-editing.svg\";\n\nclass MySubmissionButton extends Component<Props> {\n\n  static defaultProps = {\n    classes: []\n  };\n\n  render() {\n    const {classes} = {...this.props};\n\n    return (\n      <button className={`HeaderButton ${classes.join(\" \")}`}\n        onClick={() => {\n          this.allSubmission();\n        }}\n      >\n        <div>\n          <img src={Icon} />\n          My Submissions\n        </div>\n      </button>\n    );\n  }\n\n  async allSubmission() {\n    window.location.href = `#/MySubmissions`;\n  }\n}\n\nexport default MySubmissionButton;\n","// @flow\nimport React, {Component} from \"react\";\nimport Icon from \"../../../img/icons/approval.svg\";\n\nclass AwaitingApprovalsButton extends Component<Props> {\n\n  static defaultProps = {\n    classes: []\n  };\n\n  render() {\n    const {classes} = {...this.props};\n\n    return (\n      <button className={`HeaderButton ${classes.join(\" \")}`}\n        onClick={() => {\n          this.awaitingApprovals();\n        }}\n      >\n        <div>\n          <img src={Icon} />\n            Awaiting Approvals\n        </div>\n      </button>\n    );\n  }\n\n  async awaitingApprovals() {\n    window.location.href = `#/AwaitingApprovals`;\n  }\n}\n\nexport default AwaitingApprovalsButton;\n","// @flow\nimport React, {Component} from \"react\";\nimport Icon from \"../../../img/icons/my-product.svg\";\n\nclass MyProductButton extends Component<Props> {\n\n  static defaultProps = {\n    classes: []\n  };\n\n  render() {\n    const {classes} = {...this.props};\n\n    return (\n      <button className={`HeaderButton ${classes.join(\" \")}`}\n        onClick={() => {\n          this.allSubmission();\n        }}\n      >\n        <div>\n          <img src={Icon} />\n          My Products\n        </div>\n      </button>\n    );\n  }\n\n  async allSubmission() {\n    window.location.href = `#/MyProducts`;\n  }\n}\n\nexport default MyProductButton;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport Pillar from \"./Pillar\";\nimport TaskButton from \"./TaskButton\";\nimport type {HomeState} from \"../../store/HomeState\";\nimport type {SiteConfig} from \"../../store/SiteConfig\";\nimport LogoutButton from \"../Button/LogoutButton\";\nimport MySubmissionButton from \"../Button/MySubmissionButton\";\nimport AwaitingApprovalsButton from \"../Button/AwaitingApprovalsButton\";\nimport MyProductButton from \"../Button/MyProductButton\";\nimport type {Task} from \"../../types/Task\";\n\ntype Props = {\n  homeState: HomeState,\n  siteConfig: SiteConfig,\n};\n\nclass Home extends Component<Props> {\n\n  render() {\n    const {title, subtitle, pillars, tasks} = {...this.props.homeState};\n    const {logoPath} = {...this.props.siteConfig};\n\n    return (\n      <div className=\"Home\">\n        <LogoutButton classes={[\"clearfix\",\"float-right\", \"mt-5\", \"mr-4\"]}/>\n\n        <MySubmissionButton classes={[\"clearfix\",\"float-right\", \"mt-5\", \"mr-1\"]}/>\n\n        <AwaitingApprovalsButton classes={[\"clearfix\",\"float-right\", \"mt-5\", \"mr-1\"]}/>\n        <MyProductButton classes={[\"clearfix\",\"float-right\", \"mt-5\", \"mr-1\"]}/>\n        <div className=\"layout\">\n          <a href=\"/\"><img src={logoPath} className=\"logo\"/></a>\n          <h1>\n            {title}\n          </h1>\n          <h2>\n            {subtitle}\n          </h2>\n          <div className=\"pillars\">\n            <div className=\"row\">\n              {pillars.map((pillar, index) => {\n                return (\n                  <Pillar link={`/questionnaire/start/${pillar.questionnaireID}`}\n                          classes={[\"col\", \"mx-1\"]}\n                          pillar={pillar}\n                          key={'pillar_'+(index+1)}\n                  />\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"tasks\">\n            {tasks.map((task: Task, index) => {\n              let link = `/tasks/standalone/${task.id}`;\n              if (task.type === \"selection\") {\n                link = `/component-selection/standalone/${task.id}?componentTarget=${task.componentTarget}`;\n              }\n              return (\n                <TaskButton link={link} classes={[\"mx-1\"]} title={task.name} key={'standalone_task_'+(index+1)}/>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","// @flow\n\nimport React, {Component} from \"react\";\n\ntype Props = {\n  footerCopyrightText: string;\n};\n\nclass Footer extends Component<Props> {\n  static defaultProps = {\n    footerCopyrightText: \"\",\n  };\n\n  render() {\n    const {footerCopyrightText} = {...this.props};\n    return (\n      <footer className=\"Footer\">\n        <div>\n        {footerCopyrightText}\n        </div>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;\n","// @flow\n\nimport type {Siteconfig} from \"../types/SiteConfig\";\nimport get from \"lodash/get\";\nimport toString from \"lodash/toString\";\nimport DefaultLogoImage from \"../../img/Logo.svg\";\nimport DefaultBackgroundImage from \"../../img/Home/background.jpg\";\nimport DefaultPDFHeaderImage from \"../../img/PDF/heading.jpg\";\nimport DefaultPDFFooterImage from \"../../img/PDF/footer.jpg\";\n\nexport default class SiteConfigParser {\n  static parseSiteConfigFromJSON(siteConfigJSON: string | Object): Siteconfig {\n    const jsonObject = (typeof siteConfigJSON === \"string\" ? JSON.parse(siteConfigJSON) : siteConfigJSON);\n    const defaultFooterText = String.fromCharCode(169) + ' NZTA ' + (new Date()).getFullYear();\n\n    // Ensure defaults are configured for when user-contributed config doesn't yet exist\n    return {\n      siteTitle: toString(get(jsonObject, \"Title\") || 'NZTA SDLT'),\n      footerCopyrightText: toString(get(jsonObject, \"FooterCopyrightText\", '') || defaultFooterText),\n      logoPath: toString(get(jsonObject, \"LogoPath\", '') || DefaultLogoImage),\n      homePageBackgroundImagePath: toString(get(jsonObject, \"HomePageBackgroundImagePath\", '') || DefaultBackgroundImage),\n      pdfHeaderImageLink: toString(get(jsonObject, \"PdfHeaderImageLink\", '') || DefaultPDFHeaderImage),\n      pdfFooterImageLink: toString(get(jsonObject, \"PdfFooterImageLink\", '') || DefaultPDFFooterImage),\n      securityTeamEmail: toString(get(jsonObject, \"SecurityTeamEmail\") || ''),\n    }\n  }\n}\n","// @flow\n\nimport GraphQLRequestHelper from \"../utils/GraphQLRequestHelper\";\nimport _ from \"lodash\";\nimport SiteConfigParser from \"../utils/SiteConfigParser\";\n\ntype SiteConfig = {\n  siteTitle: string\n};\n\nexport default class SiteConfigDataService {\n\n  static async fetchSiteConfig(): Promise<SiteConfig> {\n    const query = `\nquery {\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}`;\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n    const siteData = _.get(responseJSONObject, \"data.readSiteConfig.0\", null);\n    const siteConfig = SiteConfigParser.parseSiteConfigFromJSON(siteData);\n    return siteConfig;\n  }\n}\n","// @flow\n\nimport {ThunkAction} from \"redux-thunk\";\nimport type {LoadSiteConfigAction} from \"./ActionType\";\nimport ActionType from \"./ActionType\";\nimport ErrorUtil from \"../utils/ErrorUtil\";\nimport SiteConfigDataService from \"../services/SiteConfigDataService\";\n\nexport function loadSiteConfig(): ThunkAction {\n  return async (dispatch) => {\n    // TODO: loading\n    try {\n      const siteConfig = await SiteConfigDataService.fetchSiteConfig();\n      const action: LoadSiteConfigAction = {\n        type: ActionType.SITE_CONFIG.LOAD_SITE_CONFIG,\n        payload: siteConfig,\n      };\n      dispatch(action);\n    }\n    catch (error) {\n      // TODO: errors\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {loadHomeState} from \"../../actions/home\";\nimport {Dispatch} from \"redux\";\nimport Home from \"./Home\";\nimport type {HomeState} from \"../../store/HomeState\";\nimport Footer from \"../Footer/Footer\";\nimport BackgroundImage from \"../../../img/Home/background.jpg\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    homeState: state.homeState,\n    siteConfig: state.siteConfigState.siteConfig,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    dispatchLoadHomeDataAction: () => {\n      dispatch(loadHomeState());\n      dispatch(loadSiteConfig());\n    },\n  };\n};\n\ntype Props = {\n  siteConfig?: SiteConfig | null,\n  homeState?: HomeState,\n  dispatchLoadHomeDataAction?: () => void,\n};\n\nclass HomeContainer extends Component<Props> {\n\n  componentDidMount() {\n    if (this.props.dispatchLoadHomeDataAction) {\n      this.props.dispatchLoadHomeDataAction();\n    }\n  }\n\n  render() {\n    const {\n      siteConfig,\n      homeState,\n    } = {...this.props};\n\n    if (!homeState || !siteConfig) {\n      return null;\n    }\n\n    return (\n      <div className=\"HomeContainer\" style={{\n        backgroundImage: `url(\"${siteConfig.homePageBackgroundImagePath}\")`,\n        backgroundSize: \"cover\"\n      }}>\n        <Home homeState={homeState} siteConfig={siteConfig}/>\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(HomeContainer);\n","// @flow\n\nimport React, {Component} from \"react\";\nimport classNames from \"classnames\";\n\ntype Props = {\n  title: string,\n  disabled: boolean,\n  classes: Array<string>,\n  onClick: (event: Event) => void,\n  iconImage?: string\n};\n\nclass BaseButton extends Component<Props> {\n\n  static defaultProps = {\n    title: \"\",\n    disabled: false,\n    classes: [],\n    onClick: () => {},\n  };\n\n  render() {\n    const {title, classes, disabled, onClick, iconImage, rightIconImage} = {...this.props};\n\n    let icon = null;\n    let rightIcon = null;\n\n    if (iconImage) {\n      icon = <img src={iconImage}/>;\n    }\n\n    if (rightIconImage) {\n      rightIcon = <img className=\"img-right\" src={rightIconImage}/>;\n    }\n\n    return (\n      <button className={classNames(\"BaseButton\", classes, {\"disabled\": disabled})}\n              onClick={(event) => {\n                if (disabled) {\n                  event.preventDefault();\n                  return;\n                }\n                onClick(event);\n              }}\n      >\n        {icon}\n        {title}\n        {rightIcon}\n      </button>\n    );\n  }\n}\n\nexport default BaseButton;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport BaseButton from \"./BaseButton\";\n\ntype Props = {\n  title: string,\n  disabled: boolean,\n  classes: Array<string>,\n  onClick: (event: Event) => void,\n  iconImage?: string\n};\n\nclass LightButton extends Component<Props> {\n\n  static defaultProps = {\n    title: \"\",\n    disabled: false,\n    classes: [],\n    onClick: () => {},\n  };\n\n  render() {\n    return <BaseButton {...this.props} classes={[\"LightButton\", ...this.props.classes]} />;\n  }\n}\n\nexport default LightButton;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport type {User} from \"../../types/User\";\nimport LightButton from \"../Button/LightButton\";\n\ntype Props = {\n  keyInformation: string,\n  user: User,\n  onStartButtonClick:() => void\n};\n\nclass Start extends Component<Props> {\n\n  render() {\n    const {keyInformation, user, onStartButtonClick} = this.props;\n\n    return (\n      <div className=\"Start\">\n        <div className=\"start-form\">\n          <div className=\"info-box\">\n            <div className=\"key-info-title\">Key Information:</div>\n            <div className=\"key-info\"\n                 dangerouslySetInnerHTML={{\n                   __html: keyInformation\n                 }}\n            />\n            <div className='user-info'>\n              <div className=\"info-line\">\n                <b>Your Name: </b>\n                <span>{user.name}</span>\n              </div>\n              <div className=\"info-line\">\n                <b>Email Address: </b>\n                <span>{user.email}</span>\n              </div>\n            </div>\n            <div className=\"actions\">\n              <LightButton title=\"START\" onClick={onStartButtonClick} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Start;\n","// @flow\nimport type {User} from \"../types/User\";\nimport type {Collaborator} from \"../types/User\";\nimport get from \"lodash/get\";\nimport toString from \"lodash/toString\";\nimport toArray from \"lodash/toArray\";\nexport default class UserParser {\n  static parseUserFromJSON(userJSON: string | Object): User {\n    const jsonObject = (typeof userJSON === \"string\" ? JSON.parse(userJSON) : userJSON);\n    const name = get(jsonObject, \"FirstName\") ? toString(get(jsonObject, \"FirstName\", \"\")) + ' ' + toString(get(jsonObject, \"Surname\", \"\")) : \"\"\n\n    return {\n      id: toString(get(jsonObject, \"ID\")),\n      name: name,\n      email: get(jsonObject, \"Email\"),\n      isSA: toString(get(jsonObject, \"IsSA\")) === \"true\",\n      isCISO: toString(get(jsonObject, \"IsCISO\")) === \"true\",\n      isCertificationAuthority: toString(get(jsonObject, \"IsCertificationAuthority\")) === \"true\",\n      isAccreditationAuthority: toString(get(jsonObject, \"IsAccreditationAuthority\")) === \"true\",\n    }\n  }\n\n  // this is use for collaborator (dropdown)\n  static parserMemberFromJSON(userJSON: string | Object): Collaborator {\n    return toArray(userJSON).map((user) => {\n      const name = get(user, \"FirstName\") ? toString(get(user, \"FirstName\", \"\")) +\n          ' ' + toString(get(user, \"Surname\", \"\")) : \"\"\n      return {\n        value: get(user, \"ID\"),\n        label: name\n      }\n    });\n  }\n\n  // this is use for collaborator (selected value)\n  static parserCollaboratorsFromJSON (collaboratorJSON: string | Object) : Collaborator {\n    const collaboratorJsonObject = (typeof collaboratorJSON === \"string\" ? JSON.parse(collaboratorJSON) : collaboratorJSON);\n    return toArray(collaboratorJsonObject).map((collaborator) => {\n      const name = get(collaborator, \"Name\") ? toString(get(collaborator, \"Name\", \"\")) : \"\";\n      return {\n        value: get(collaborator, \"ID\"),\n        label: name\n      }\n    });\n  }\n}\n","// @flow\nimport type {QuestionnaireStartState, QuestionnaireSubmissionState} from \"../store/QuestionnaireState\";\nimport GraphQLRequestHelper from \"../utils/GraphQLRequestHelper\";\nimport _ from \"lodash\";\nimport {DEFAULT_NETWORK_ERROR} from \"../constants/errors\";\nimport type {SubmissionQuestionData, QuestionnaireSubmissionListItem} from \"../types/Questionnaire\";\nimport type {TaskSubmissionDisplay} from \"../types/Task\";\nimport QuestionParser from \"../utils/QuestionParser\";\nimport UserParser from \"../utils/UserParser\";\nimport SiteConfigParser from \"../utils/SiteConfigParser\";\nimport type {Collaborator} from \"../types/User\";\nimport type {PaginationInfo} from \"../types/Pagination\";\nexport default class QuestionnaireDataService {\n\n  static async createInProgressSubmission(argument: { questionnaireID: string, csrfToken: string }): Promise<string> {\n    const {questionnaireID, csrfToken} = {...argument};\n    const query = `\nmutation {\n createQuestionnaireSubmission(QuestionnaireID: ${questionnaireID}){\n   UUID\n }\n}`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const submissionHash = _.get(json, \"data.createQuestionnaireSubmission.UUID\", null);\n    if (!submissionHash) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    return submissionHash;\n  }\n\n  static async fetchStartData(questionnaireID: string): Promise<QuestionnaireStartState> {\n    const query = `\nquery {\n  readMember(Type: \"Current\")  {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n  readQuestionnaire(ID: ${questionnaireID}) {\n    ID\n    Name\n    KeyInformation\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n  }\n}\n`;\n\n    const json = await GraphQLRequestHelper.request({query});\n\n    const memberData = _.get(json, \"data.readMember.0\", null);\n    const questionnaireData = _.get(json, \"data.readQuestionnaire\", null);\n    const siteData = _.get(json, \"data.readSiteConfig.0\", null);\n\n    if (!memberData || !questionnaireData || !siteData) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    return {\n      title: _.get(questionnaireData, \"Name\", \"\"),\n      siteConfig: SiteConfigParser.parseSiteConfigFromJSON(siteData),\n      subtitle: _.get(siteData, \"Title\", \"\"),\n      questionnaireID: _.get(questionnaireData, \"ID\", \"\"),\n      keyInformation: _.get(questionnaireData, \"KeyInformation\", \"\"),\n      user: UserParser.parseUserFromJSON(memberData),\n    };\n  }\n\n  static async fetchSubmissionData(submissionHash: string, secureToken:string): Promise<QuestionnaireSubmissionState> {\n    const query = `\nquery {\n  readMember(Type: \"Current\") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n    IsCertificationAuthority\n    IsAccreditationAuthority\n  }\n  readQuestionnaireSubmission(UUID: \"${submissionHash}\", SecureToken: \"${secureToken}\") {\n    ID\n    UUID\n    ApprovalLinkToken\n    BusinessOwnerAcknowledgementText\n    CertificationAuthorityAcknowledgementText\n    AccreditationAuthorityAcknowledgementText\n    IsCertificationAndAccreditationTaskExists\n    ProductAspects\n    User {\n      ID\n    }\n    SubmitterName\n    SubmitterEmail\n    QuestionnaireStatus\n    BusinessOwnerApproverName\n    RiskResultData\n    Questionnaire {\n      ID\n      Name\n    }\n    QuestionnaireData\n    AnswerData\n    CisoApprovalStatus\n    BusinessOwnerApprovalStatus\n    SecurityArchitectApprovalStatus\n    IsCurrentUserAnApprover\n    ProductName\n    IsCurrentUserABusinessOwnerApprover\n    HideWeightsAndScore\n    TaskSubmissions {\n      UUID\n      TaskName\n      TaskType\n      Status\n      IsTaskApprovalRequired\n      TimeToComplete\n      TimeToReview\n      CanTaskCreateNewTasks\n      TaskApprover {\n        ID\n        FirstName\n        Surname\n      }\n    }\n    CisoApprover {\n      FirstName\n      Surname\n    }\n    SecurityArchitectApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    AccreditationAuthorityApprover {\n      FirstName\n      Surname\n    }\n    CertificationAuthorityApprovalStatus\n    AccreditationAuthorityApprovalStatus\n    ApprovalOverrideBySecurityArchitect\n    CollaboratorList\n    Created\n    ReleaseDate\n  }\n  readSiteConfig {\n    Title\n    FooterCopyrightText\n    LogoPath\n    HomePageBackgroundImagePath\n    PdfHeaderImageLink\n    PdfFooterImageLink\n    SecurityTeamEmail\n  }\n}`;\n    const json = await GraphQLRequestHelper.request({query});\n    const memberData = _.get(json, \"data.readMember.0\", {});\n    const submissionJSON = _.get(json, \"data.readQuestionnaireSubmission.0\", {});\n    const siteData = _.get(json, \"data.readSiteConfig.0\", null);\n\n    if (!memberData || !submissionJSON || !siteData) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    const data: QuestionnaireSubmissionState = {\n      title: _.toString(_.get(submissionJSON, \"Questionnaire.Name\", \"\")),\n      siteConfig: SiteConfigParser.parseSiteConfigFromJSON(siteData),\n      user: UserParser.parseUserFromJSON(memberData),\n      isCurrentUserApprover: _.get(submissionJSON, \"IsCurrentUserAnApprover\", \"false\") === \"true\",\n      isCurrentUserABusinessOwnerApprover: _.get(submissionJSON, \"IsCurrentUserABusinessOwnerApprover\", \"false\") === \"true\",\n      submission: {\n        isApprovalOverrideBySecurityArchitect: Boolean(_.get(submissionJSON, \"ApprovalOverrideBySecurityArchitect\", false)),\n        hideWeightsAndScore: _.get(submissionJSON, \"HideWeightsAndScore\", \"false\") === \"true\",\n        questionnaireID: _.toString(_.get(submissionJSON, \"Questionnaire.ID\", \"\")),\n        questionnaireTitle: _.toString(_.get(submissionJSON, \"Questionnaire.Name\", \"\")),\n        submissionID: _.toString(_.get(submissionJSON, \"ID\", \"\")),\n        submissionUUID: _.toString(_.get(submissionJSON, \"UUID\", \"\")),\n        submissionToken: _.toString(_.get(submissionJSON, \"ApprovalLinkToken\", \"\")),\n        productName: _.toString(_.get(submissionJSON, \"ProductName\", \"\")),\n        submitter: {\n          id: _.toString(_.get(submissionJSON, \"User.ID\")),\n          name: _.toString(_.get(submissionJSON, \"SubmitterName\", \"\")),\n          email: _.toString(_.get(submissionJSON, \"SubmitterEmail\", \"\")),\n          isSA: false,\n          isCISO: false,\n        },\n        status: _.toString(_.get(submissionJSON, \"QuestionnaireStatus\", \"\")).toLowerCase().replace(\"-\", \"_\"),\n        approvalStatus: {\n          chiefInformationSecurityOfficer: _.toString(_.get(submissionJSON, \"CisoApprovalStatus\", \"\")),\n          businessOwner: _.toString(_.get(submissionJSON, \"BusinessOwnerApprovalStatus\", \"\")),\n          securityArchitect: _.toString(_.get(submissionJSON, \"SecurityArchitectApprovalStatus\", \"\")),\n          certificationAuthority: _.toString(_.get(submissionJSON, \"CertificationAuthorityApprovalStatus\", \"\")),\n          accreditationAuthority: _.toString(_.get(submissionJSON, \"AccreditationAuthorityApprovalStatus\", \"\"))\n        },\n        securityArchitectApprover: {\n          firstName: _.toString(_.get(submissionJSON, \"SecurityArchitectApprover.FirstName\", \"\")),\n          surname: _.toString(_.get(submissionJSON, \"SecurityArchitectApprover.Surname\", \"\")),\n        },\n        cisoApprover: {\n          firstName: _.toString(_.get(submissionJSON, \"CisoApprover.FirstName\", \"\")),\n          surname: _.toString(_.get(submissionJSON, \"CisoApprover.Surname\", \"\")),\n        },\n        certificationAuthorityApprover: {\n          firstName: _.toString(_.get(submissionJSON, \"CertificationAuthorityApprover.FirstName\", \"\")),\n          surname: _.toString(_.get(submissionJSON, \"CertificationAuthorityApprover.Surname\", \"\")),\n        },\n        accreditationAuthorityApprover: {\n          firstName: _.toString(_.get(submissionJSON, \"AccreditationAuthorityApprover.FirstName\", \"\")),\n          surname: _.toString(_.get(submissionJSON, \"AccreditationAuthorityApprover.Surname\", \"\")),\n        },\n        questions: QuestionParser.parseQuestionsFromJSON({\n          schemaJSON: _.toString(_.get(submissionJSON, \"QuestionnaireData\", \"\")),\n          answersJSON: _.toString(_.get(submissionJSON, \"AnswerData\", \"\")),\n        }),\n        businessOwnerApproverName: _.toString(_.get(submissionJSON, \"BusinessOwnerApproverName\", \"\")),\n        businessOwnerAcknowledgementText: _.toString(_.get(submissionJSON, \"BusinessOwnerAcknowledgementText\", \"\")),\n        certificationAuthorityAcknowledgementText: _.toString(_.get(submissionJSON, \"CertificationAuthorityAcknowledgementText\", \"\")),\n        accreditationAuthorityAcknowledgementText: _.toString(_.get(submissionJSON, \"AccreditationAuthorityAcknowledgementText\", \"\")),\n        isCertificationAndAccreditationTaskExists: _.get(submissionJSON, \"IsCertificationAndAccreditationTaskExists\", \"false\") === \"true\",\n        taskSubmissions: _\n          .toArray(_.get(submissionJSON, \"TaskSubmissions\", []))\n          .map((item) => {\n            const taskSubmission: TaskSubmissionDisplay = {\n              uuid: _.toString(_.get(item, \"UUID\", \"\")),\n              taskName: _.toString(_.get(item, \"TaskName\", \"\")),\n              taskType: _.toString(_.get(item, \"TaskType\", \"\")),\n              status: _.toString(_.get(item, \"Status\", \"\")),\n              approver: UserParser.parseUserFromJSON(_.get(item, \"TaskApprover\")),\n              isTaskApprovalRequired: _.get(item, \"IsTaskApprovalRequired\", \"false\") === \"true\",\n              timeToComplete: _.toString(_.get(item, \"TimeToComplete\", \"\")),\n              timeToReview: _.toString(_.get(item, \"TimeToReview\", \"\")),\n              canTaskCreateNewTasks: _.get(item, \"CanTaskCreateNewTasks\", \"false\") === \"true\",\n            };\n            return taskSubmission;\n          }),\n        collaborators: UserParser.parserCollaboratorsFromJSON(_.get(submissionJSON, \"CollaboratorList\", [])),\n        riskResults: _.has(submissionJSON, 'RiskResultData') ? JSON.parse(_.get(submissionJSON, \"RiskResultData\", \"[]\")) : \"[]\",\n        created: _.toString(_.get(submissionJSON, \"Created\", \"\")),\n        releaseDate: _.toString(_.get(submissionJSON, \"ReleaseDate\", \"\")),\n        productAspects: _.has(submissionJSON, 'ProductAspects') ? JSON.parse(_.get(submissionJSON, \"ProductAspects\", \"[]\")) : \"[]\",\n      }\n    };\n\n    return data;\n  }\n\n  static async updateSubmissionData(argument: {\n    submissionID: string,\n    questionID: string,\n    answerData: SubmissionQuestionData,\n    csrfToken: string\n  }): Promise<void> {\n    const {submissionID, questionID, answerData, csrfToken} = {...argument};\n    const answerDataStr = window.btoa(unescape(encodeURIComponent(JSON.stringify(answerData))));\n\n    const query = `\nmutation {\n  updateQuestionnaireSubmission(ID: \"${submissionID}\", QuestionID: \"${questionID}\", AnswerData: \"${answerDataStr}\") {\n    ID\n    AnswerData\n  }\n}`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const updatedData = _.get(json, \"data.updateQuestionnaireSubmission.AnswerData\", null);\n    if (!updatedData) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n  }\n\n  static async batchUpdateSubmissionData(argument: {\n    submissionID: string,\n    questionIDList: Array<string>,\n    answerDataList: Array<SubmissionQuestionData>,\n    csrfToken: string\n  }): Promise<void> {\n    const {submissionID, questionIDList, answerDataList, csrfToken} = {...argument};\n\n    if (questionIDList.length !== answerDataList.length) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    let mutations = [];\n    for (let index = 0; index < questionIDList.length; index++) {\n      const questionID = questionIDList[index];\n      const answerData = answerDataList[index];\n      const answerDataStr = window.btoa(unescape(encodeURIComponent(JSON.stringify(answerData))));\n      const singleQuery = `\nupdateQuestion${questionID}: updateQuestionnaireSubmission(ID: \"${submissionID}\", QuestionID: \"${questionID}\", AnswerData: \"${answerDataStr}\") {\n  ID\n  AnswerData\n}`;\n      mutations.push(singleQuery);\n    }\n\n    let query = `\nmutation {\n  ${mutations.join(\"\\n\")}\n}\n`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const updatedData = _.get(json, \"data\", null);\n    if (!updatedData) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n  }\n\n  static async submitQuestionnaire(argument: { submissionID: string, csrfToken: string }): Promise<{ uuid: string }> {\n    const {submissionID, csrfToken} = {...argument};\n    const query = `\nmutation {\n updateQuestionnaireStatusToSubmitted(ID: \"${submissionID}\") {\n   QuestionnaireStatus\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = _.toString(\n      _.get(json, \"data.updateQuestionnaireStatusToSubmitted.QuestionnaireStatus\", null));\n    const uuid = _.toString(_.get(json, \"data.updateQuestionnaireStatusToSubmitted.UUID\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  static async submitQuestionnaireForApproval(argument: { submissionID: string, csrfToken: string }): Promise<{ uuid: string }> {\n    const {submissionID, csrfToken} = {...argument};\n    const query = `\nmutation {\n updateQuestionnaireStatusToAssignToSecurityArchitect(ID: \"${submissionID}\") {\n   QuestionnaireStatus\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = _.toString(\n      _.get(json, \"data.updateQuestionnaireStatusToAssignToSecurityArchitect.QuestionnaireStatus\", null));\n    const uuid = _.toString(_.get(json, \"data.updateQuestionnaireStatusToAssignToSecurityArchitect.UUID\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  static async assignQuestionnaireSubmissionToSecurityArchitect(argument: { submissionID: string, csrfToken: string }): Promise<{ uuid: string }> {\n    const {submissionID, csrfToken} = {...argument};\n    const query = `\nmutation {\n updateQuestionnaireStatusToWaitingForSecurityArchitectApproval(ID: \"${submissionID}\") {\n   QuestionnaireStatus\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = _.toString(\n      _.get(json, \"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.QuestionnaireStatus\", null));\n    const uuid = _.toString(_.get(json, \"data.updateQuestionnaireStatusToWaitingForSecurityArchitectApproval.UUID\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  static async approveQuestionnaireSubmission(argument: { submissionID: string, csrfToken: string, skipBoAndCisoApproval: boolean}): Promise<{ uuid: string }> {\n    const {submissionID, csrfToken, skipBoAndCisoApproval} = {...argument};\n    const query = `\nmutation {\n updateQuestionnaireOnApproveByGroupMember(ID: \"${submissionID}\", SkipBoAndCisoApproval: ${skipBoAndCisoApproval}) {\n   QuestionnaireStatus\n   UUID\n }\n}`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = _.toString(\n      _.get(json, \"data.updateQuestionnaireOnApproveByGroupMember.QuestionnaireStatus\", null));\n    const uuid = _.toString(_.get(json, \"data.updateQuestionnaireOnApproveByGroupMember.UUID\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  static async denyQuestionnaireSubmission(argument: { submissionID: string, csrfToken: string, skipBoAndCisoApproval: boolean}): Promise<{ uuid: string }> {\n    const {submissionID, csrfToken, skipBoAndCisoApproval} = {...argument};\n    const query = `\nmutation {\n updateQuestionnaireOnDenyByGroupMember(ID: \"${submissionID}\", SkipBoAndCisoApproval: ${skipBoAndCisoApproval}) {\n   QuestionnaireStatus\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = _.toString(_.get(json, \"data.updateQuestionnaireOnDenyByGroupMember.QuestionnaireStatus\", null));\n    const uuid = _.toString(_.get(json, \"data.updateQuestionnaireOnDenyByGroupMember.UUID\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  static async editQuestionnaireSubmission(argument: { submissionID: string, csrfToken: string }): Promise<{ uuid: string }> {\n    const {submissionID, csrfToken} = {...argument};\n    const query = `\nmutation {\n updateQuestionnaireStatusToInProgress(ID: \"${submissionID}\") {\n   QuestionnaireStatus\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = _.toString(_.get(json, \"data.updateQuestionnaireStatusToInProgress.QuestionnaireStatus\", null));\n    const uuid = _.toString(_.get(json, \"data.updateQuestionnaireStatusToInProgress.UUID\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n\n  static async updateQuestionnaireStatusToSendBackForChanges(argument: { submissionID: string, csrfToken: string }): Promise<{ uuid: string }> {\n    const {submissionID, csrfToken} = {...argument};\n    const query = `\nmutation {\n updateQuestionnaireStatusToSendBackForChanges(ID: \"${submissionID}\") {\n   QuestionnaireStatus\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = _.toString(_.get(json, \"data.updateQuestionnaireStatusToSendBackForChanges.QuestionnaireStatus\", null));\n    const uuid = _.toString(_.get(json, \"data.updateQuestionnaireStatusToSendBackForChanges.UUID\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  // load data for Awaiting Approvals, submissions list, product list\n  static async fetchQuestionnaireSubmissionList(userID: string, pageType: string, limit: number, offset: number): Promise<Array<QuestionnaireSubmissionListItem>> {\n    const query = `query {\n      paginatedReadQuestionnaireSubmissions(UserID: \"${userID}\", PageType: \"${pageType}\", limit: ${limit}, offset: ${offset}) {\n        edges {\n          node {\n            ID\n            UUID\n            QuestionnaireStatus\n            QuestionnaireName\n            Created\n            ProductName\n            ReleaseDate\n            BusinessOwnerApproverName\n            SubmitterName\n            SecurityArchitectApprover {\n              FirstName\n              Surname\n              ID\n            }\n            CisoApprovalStatus\n            BusinessOwnerApprovalStatus\n          }\n        }\n        pageInfo {\n          hasNextPage,\n          hasPreviousPage,\n          totalCount\n        }\n      }\n    }`;\n\n    const json = await GraphQLRequestHelper.request({query});\n\n    // TODO: parse data\n    const data = _.get(json, 'data.paginatedReadQuestionnaireSubmissions.edges', []);\n    const pageInfoData = _.get(json, 'data.paginatedReadQuestionnaireSubmissions.pageInfo', []);\n\n    if (!Array.isArray(data)) {\n      throw 'error';\n    }\n\n    const pageInfo : PaginationInfo = {\n      totalCount: _.get(pageInfoData, 'totalCount', 0),\n      hasNextPage: Boolean(_.get(pageInfoData, 'hasNextPage', false)),\n      hasPreviousPage: Boolean(_.get(pageInfoData, 'hasPreviousPage', false))\n    }\n\n    const questionnaireSubmissionList = data.map((item: any) : QuestionnaireSubmissionListItem => {\n      let obj = {};\n      obj['id'] = _.get(item, 'node.ID', '');\n      obj['uuid'] = _.get(item, 'node.UUID', '');\n      obj['status'] = _.get(item, 'node.QuestionnaireStatus', '');\n      obj['productName'] = _.get(item, 'node.ProductName', '');\n      obj['questionnaireName'] = _.get(item, 'node.QuestionnaireName', '');\n      obj['created'] = _.get(item, 'node.Created', '');\n      obj['releaseDate'] = _.get(item, 'node.ReleaseDate', '');\n      obj['businessOwner'] = _.get(item, 'node.BusinessOwnerApproverName', '');\n      obj['submitterName'] = _.get(item, 'node.SubmitterName', '');\n      obj['SecurityArchitectApprover'] = _.toString(_.get(item, 'node.SecurityArchitectApprover.FirstName', '') + \" \" + _.get(item, 'node.SecurityArchitectApprover.Surname', ''));\n      obj['SecurityArchitectApproverID'] = _.get(item, 'node.SecurityArchitectApprover.ID', '');\n      obj['CisoApprovalStatus'] = _.get(item, 'node.CisoApprovalStatus', '');\n      obj['BusinessOwnerApprovalStatus'] =  _.get(item, 'node.BusinessOwnerApprovalStatus', '');\n      obj['']\n      return obj;\n    });\n\n    return {\n      questionnaireSubmissionList,\n      pageInfo\n    }\n  }\n\n  static async approveQuestionnaireSubmissionAsBusinessOwner(\n    argument: { submissionID: string, csrfToken: string, secureToken: string },\n  ): Promise<{ uuid: string }> {\n    const {submissionID, csrfToken, secureToken} = {...argument};\n    const query = `\nmutation {\n updateQuestionnaireStatusToApproved(ID: \"${submissionID}\", SecureToken: \"${secureToken}\") {\n   QuestionnaireStatus\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = _.toString(\n      _.get(json, \"data.updateQuestionnaireStatusToApproved.QuestionnaireStatus\", null));\n    const uuid = _.toString(_.get(json, \"data.updateQuestionnaireStatusToApproved.UUID\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  // deny by business owner\n  static async denyQuestionnaireSubmissionAsBusinessOwner(\n    argument: { submissionID: string, csrfToken: string, secureToken: string },\n  ): Promise<{ uuid: string }> {\n    const {submissionID, csrfToken, secureToken} = {...argument};\n    const query = `\nmutation {\n updateQuestionnaireStatusToDenied(ID: \"${submissionID}\", SecureToken: \"${secureToken}\") {\n   QuestionnaireStatus\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = _.toString(_.get(json, \"data.updateQuestionnaireStatusToDenied.QuestionnaireStatus\", null));\n    const uuid = _.toString(_.get(json, \"data.updateQuestionnaireStatusToDenied.UUID\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  // add collaborator\n  static async addCollaborator(submissionID: string, selectedCollaborators: Array<Collaborator>, csrfToken: string) {\n    let selectedCollaboratorIDs = [];\n    if (selectedCollaborators && selectedCollaborators.length > 0) {\n      selectedCollaboratorIDs = selectedCollaborators.map((collaborator) => {\n        return _.get(collaborator, \"value\", \"\")\n      });\n    }\n\n    const selectedCollaboratorStr = window.btoa(JSON.stringify(selectedCollaboratorIDs));\n    const query = `mutation {\n     addCollaborator(ID: \"${submissionID}\", SelectedCollaborator: \"${selectedCollaboratorStr}\") {\n       UUID\n     }\n    }`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n\n    const uuid = _.toString(_.get(json, \"data.addCollaborator.UUID\", null));\n    if (!uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  // grant certification\n  static async grantCertification(submissionID: string, csrfToken: string) {\n    const query = `mutation {\n     grantCertification(ID: \"${submissionID}\") {\n       UUID\n     }\n    }`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n\n    const uuid = _.toString(_.get(json, \"data.grantCertification.UUID\", null));\n    if (!uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  // deny certification\n  static async denyCertification(submissionID: string, csrfToken: string) {\n    const query = `mutation {\n     denyCertification(ID: \"${submissionID}\") {\n       UUID\n     }\n    }`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n\n    const uuid = _.toString(_.get(json, \"data.denyCertification.UUID\", null));\n    if (!uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  // issue accreditation\n  static async issueAccreditation(submissionID: string, csrfToken: string) {\n    const query = `mutation {\n     issueAccreditation(ID: \"${submissionID}\") {\n       UUID\n     }\n    }`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n\n    const uuid = _.toString(_.get(json, \"data.issueAccreditation.UUID\", null));\n    if (!uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  // deny accreditation\n  static async denyAccreditation(submissionID: string, csrfToken: string) {\n    const query = `mutation {\n     denyAccreditation(ID: \"${submissionID}\") {\n       UUID\n     }\n    }`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n\n    const uuid = _.toString(_.get(json, \"data.denyAccreditation.UUID\", null));\n    if (!uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n}\n","// @flow\n\nimport type {Question, SubmissionQuestionData} from \"../types/Questionnaire\";\nimport _ from \"lodash\";\nimport type {TaskSubmissionDisplay} from \"../types/Task\";\n\ntype CalculateCursorMoveFromQuestionArgument = {\n  answeredQuestion: Question,\n  questions: Array<Question>\n};\n\ntype CalculateCursorMoveFromQuestionReturn = {\n  currentIndex: number,\n  targetIndex: number,\n  nonApplicableIndexes: Array<number>,\n  complete: boolean,\n  terminate: boolean,\n  result: string\n};\n\nexport default class SubmissionDataUtil {\n\n  static transformFromFullQuestionToData(fullQuestion: Question): SubmissionQuestionData {\n    const answerData: SubmissionQuestionData = {\n      isCurrent: fullQuestion.isCurrent,\n      hasAnswer: fullQuestion.hasAnswer,\n      isApplicable: fullQuestion.isApplicable,\n      answerType: fullQuestion.type,\n    };\n\n    if (fullQuestion.type === \"input\" && Array.isArray(fullQuestion.inputs)) {\n      answerData.inputs = fullQuestion.inputs.map((input) => {\n        let data = input.data;\n        if (data && _.isString(data)) {\n          data = data.trim();\n        }\n\n        return {\n          id: input.id,\n          data: data,\n        };\n      });\n    }\n\n    if (fullQuestion.type === \"action\" && Array.isArray(fullQuestion.actions)) {\n      answerData.actions = fullQuestion.actions.map((action) => {\n        return {\n          id: action.id,\n          isChose: action.isChose,\n        };\n      });\n    }\n\n    return answerData;\n  }\n\n  static existsUnansweredQuestion(questions: Array<Question>): boolean {\n    let hasUnansweredQuestion = false;\n    questions.forEach((question) => {\n      const {hasAnswer, isApplicable} = {...question};\n      // Invalid question state: does not have answer and still available\n      if (!hasAnswer && isApplicable) {\n        hasUnansweredQuestion = true;\n      }\n    });\n    return hasUnansweredQuestion;\n  }\n\n  static existsIncompleteTaskSubmission(taskSubmissions: Array<TaskSubmissionDisplay>): boolean {\n    let exists = false;\n    taskSubmissions.forEach((taskSubmission) => {\n      if (taskSubmission.status === \"in_progress\" || taskSubmission.status === \"start\" || taskSubmission.status=== \"waiting_for_approval\" || taskSubmission.status=== \"denied\") {\n        exists = true;\n      }\n    });\n    return exists;\n  }\n\n  static getDataUpdateIntent(\n    argument: CalculateCursorMoveFromQuestionArgument,\n  ): CalculateCursorMoveFromQuestionReturn {\n    const {answeredQuestion, questions} = {...argument};\n\n    const currentIndex = questions.findIndex((question) => question.id === answeredQuestion.id);\n    const isLastQuestion = (currentIndex === questions.length - 1);\n\n    const returnPackage = {\n      currentIndex: currentIndex,\n      nonApplicableIndexes: [],\n      targetIndex: 0,\n      complete: false,\n      terminate: false,\n      result: \"\"\n    };\n\n    // Process for input question\n    if (answeredQuestion.type === \"input\" || answeredQuestion.type === \"display\") {\n      if (isLastQuestion) {\n        // Mark complete if this is the last question\n        returnPackage.complete = true;\n      } else {\n        // Move to next question\n        returnPackage.targetIndex = returnPackage.currentIndex + 1;\n      }\n\n      return returnPackage;\n    }\n\n    // If question is action type, move to the defined target\n    if (answeredQuestion.type === \"action\") {\n      if (!answeredQuestion.actions) {\n        throw new Error(\"This question does not have any action!\");\n      }\n\n      const choseAction = answeredQuestion.actions.find((action) => {\n        return action.isChose;\n      });\n      if (!choseAction) {\n        throw new Error(\"This question does not have any chosen action!\");\n      }\n\n      // \"continue\" | \"goto\" | \"message\" | \"finish\"\n      if (choseAction.type === \"finish\") {\n        // Mark all questions later to be non-applicable\n        for (let i = returnPackage.currentIndex + 1; i < questions.length; i++) {\n          returnPackage.nonApplicableIndexes.push(i);\n        }\n\n        returnPackage.result = choseAction.result || \"\";\n        returnPackage.complete = true;\n      }\n\n      if (choseAction.type === \"message\") {\n        returnPackage.terminate = true;\n      }\n\n      if (choseAction.type === \"continue\" && !isLastQuestion) {\n        returnPackage.targetIndex = returnPackage.currentIndex + 1;\n      }\n\n      if (choseAction.type === \"goto\") {\n        // Go to another question, need to mark questions between current and target to be non-applicable\n        const targetID = choseAction.goto;\n        returnPackage.targetIndex = questions.findIndex((question) => {\n          return question.id === targetID;\n        });\n\n        // Don't move if the target index is wrong\n        if (returnPackage.targetIndex <= returnPackage.currentIndex) {\n          throw new Error(\"The next question is not set correctly!\");\n        }\n\n        // Find questions between target and current to be \"not applicable\"\n        if (returnPackage.targetIndex - returnPackage.currentIndex > 1) {\n          let cursor = returnPackage.currentIndex + 1;\n          while (cursor < returnPackage.targetIndex) {\n            returnPackage.nonApplicableIndexes.push(cursor);\n            cursor++;\n          }\n        }\n      }\n\n      if (isLastQuestion && !returnPackage.terminate) {\n        // Mark complete if this is the last question and not terminated\n        returnPackage.complete = true;\n      }\n      return returnPackage;\n    }\n\n    throw new Error(\"Wrong question type!\");\n  }\n}\n","// @flow\n\nimport get from \"lodash/get\";\nimport toString from \"lodash/toString\";\nimport type {SecurityComponent} from \"../types/SecurityComponent\";\nimport toArray from \"lodash/toArray\";\n\nexport default class SecurityComponentParser {\n\n  static parseFromJSONOArray(jsonArray: *): Array<SecurityComponent> {\n    return toArray(jsonArray).map((jsonObject) => {\n      let seletcedComponent = SecurityComponentParser.parseFromJSONObject(get(jsonObject, \"SecurityComponent\"));\n      seletcedComponent.productAspect = toString(get(jsonObject, \"ProductAspect\", \"\"));\n      return seletcedComponent;\n    });\n  }\n\n  static parseFromJSONObject(jsonObject: *): SecurityComponent {\n    return {\n      id: toString(get(jsonObject, \"ID\", \"\")),\n      name: toString(get(jsonObject, \"Name\", \"\")),\n      description: toString(get(jsonObject, \"Description\")),\n      controls: (get(jsonObject, \"Controls\") || []).map((control) => {\n        return {\n          id: toString(get(control, \"ID\", \"\")),\n          name: toString(get(control, \"Name\", \"\")),\n          description: toString(get(control, \"Description\", \"\")),\n          implementationGuidance: toString(get(control, \"ImplementationGuidance\", \"\"))\n        }\n      })\n    }\n  }\n\n  static parseCVAFromJSONObject(jsonArray: *): SecurityComponent {\n    return jsonArray.map((jsonObject) => {\n\n      return {\n        id: toString(get(jsonObject, \"id\", \"\")),\n        name: toString(get(jsonObject, \"name\", \"\")),\n        productAspect:toString(get(jsonObject, \"productAspect\", \"\")),\n        controls: (get(jsonObject, \"controls\") || []).map((control) => {\n          return {\n            id: toString(get(control, \"id\", \"\")),\n            name: toString(get(control, \"name\", \"\")),\n            selectedOption: toString(get(control, \"selectedOption\", \"\")),\n            description: toString(get(control, \"description\", \"\")),\n            implementationGuidance: toString(get(control, \"implementationGuidance\", \"\")),\n            implementationEvidence: toString(get(control, \"implementationEvidence\", \"\")),\n            implementationEvidenceUserInput: toString(get(control, \"implementationEvidenceUserInput\", \"\")),\n          }\n        }),\n        jiraTicketLink: toString(get(jsonObject, \"jiraTicketLink\", \"\")),\n      }\n    });\n  }\n}\n","// @flow\n\nimport get from \"lodash/get\";\nimport toString from \"lodash/toString\";\nimport type {JiraTicket} from \"../types/SecurityComponent\";\nimport toArray from \"lodash/toArray\";\n\nexport default class JiraTicketParser {\n\n  static parseFromJSONArray(jsonArray: *): Array<JiraTicket> {\n    return toArray(jsonArray).map((jsonObject) => {\n      return JiraTicketParser.parseFromJSONObject(jsonObject);\n    });\n  }\n\n  static parseFromJSONObject(jsonObject: *): JiraTicket {\n    return {\n      id: toString(get(jsonObject, \"ID\")),\n      jiraKey: toString(get(jsonObject, \"JiraKey\")),\n      link: toString(get(jsonObject, \"TicketLink\")),\n    }\n  }\n}\n","// @flow\n\nimport GraphQLRequestHelper from \"../utils/GraphQLRequestHelper\";\nimport get from \"lodash/get\";\nimport toString from \"lodash/toString\";\nimport uniq from \"lodash/uniq\";\nimport {DEFAULT_NETWORK_ERROR} from \"../constants/errors\";\nimport type {Question, SubmissionQuestionData} from \"../types/Questionnaire\";\nimport QuestionParser from \"../utils/QuestionParser\";\nimport type {Task, TaskSubmission, TaskSubmissionListItem, TaskRecommendation} from \"../types/Task\";\nimport UserParser from \"../utils/UserParser\";\nimport TaskParser from \"../utils/TaskParser\";\nimport SecurityComponentParser from \"../utils/SecurityComponentParser\";\nimport JiraTicketParser from \"../utils/JiraTicketParser\";\nimport type {PaginationInfo} from \"../types/Pagination\";\n\ntype BatchUpdateTaskSubmissionDataArgument = {\n  uuid: string,\n  questionIDList: Array<string>,\n  answerDataList: Array<SubmissionQuestionData>,\n  csrfToken: string,\n  secureToken?: string,\n};\n\nexport default class TaskDataService {\n\n  static async fetchTaskSubmission(args: { uuid: string, secureToken?: string }): Promise<TaskSubmission> {\n    const {uuid, secureToken} = {...args};\n    const query = `\nquery {\n  readTaskSubmission(UUID: \"${uuid}\", SecureToken: \"${secureToken || \"\"}\") {\n    ID\n    UUID\n    TaskName\n    TaskType\n    Status\n    Result\n    LockAnswersWhenComplete\n    IsTaskCollborator\n    QuestionnaireSubmission {\n      ID\n      UUID\n      QuestionnaireStatus\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    Submitter {\n      ID\n      Email\n      FirstName\n      Surname\n      IsSA\n      IsCISO\n    }\n    QuestionnaireData\n    AnswerData\n    RiskProfileData\n    ResultForCertificationAndAccreditation\n    SelectedComponents {\n      ID\n      ProductAspect\n      SecurityComponent {\n        ID\n        Name\n        Description\n        Controls {\n          ID\n          Name\n          Description\n          ImplementationGuidance\n        }\n      }\n    }\n    JiraTickets {\n      ID\n      JiraKey\n      TicketLink\n    }\n    IsTaskApprovalRequired\n    IsCurrentUserAnApprover\n    RiskResultData\n    IsDisplayPreventMessage\n    PreventMessage\n    TaskRecommendationData\n    ComponentTarget\n    ProductAspects\n    HideWeightsAndScore\n    InformationClassificationTaskResult\n  }\n  readServiceInventory {\n    ID\n    ServiceName\n  }\n}`;\n\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n    const submissionJSONObject = get(responseJSONObject, \"data.readTaskSubmission.0\", null);\n    const serviceRegister = get(responseJSONObject, \"data.readServiceInventory\", null);\n\n    if (!submissionJSONObject) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    const data: TaskSubmission = {\n      id: toString(get(submissionJSONObject, \"ID\", \"\")),\n      uuid: toString(get(submissionJSONObject, \"UUID\", \"\")),\n      taskName: toString(get(submissionJSONObject, \"TaskName\", \"\")),\n      taskType: toString(get(submissionJSONObject, \"TaskType\", \"\")),\n      status: toString(get(submissionJSONObject, \"Status\", \"\")),\n      result: toString(get(submissionJSONObject, \"Result\", \"\")),\n      informationClassificationTaskResult: toString(get(submissionJSONObject, \"InformationClassificationTaskResult\", \"\")),\n      submitter: UserParser.parseUserFromJSON(get(submissionJSONObject, \"Submitter\")),\n      lockWhenComplete: Boolean(get(submissionJSONObject, \"LockAnswersWhenComplete\", false)),\n      questionnaireSubmissionUUID: toString(get(submissionJSONObject, \"QuestionnaireSubmission.UUID\", \"\")),\n      questionnaireSubmissionID: toString(get(submissionJSONObject, \"QuestionnaireSubmission.ID\", \"\")),\n      questionnaireSubmissionStatus: toString(get(submissionJSONObject, \"QuestionnaireSubmission.QuestionnaireStatus\", \"\")),\n      questions: QuestionParser.parseQuestionsFromJSON({\n        schemaJSON: toString(get(submissionJSONObject, \"QuestionnaireData\", \"\")),\n        answersJSON: toString(get(submissionJSONObject, \"AnswerData\", \"\")),\n      }),\n      selectedComponents: SecurityComponentParser.parseFromJSONOArray(get(submissionJSONObject, \"SelectedComponents\", [])),\n      jiraTickets: JiraTicketParser.parseFromJSONArray(get(submissionJSONObject, \"JiraTickets\", [])),\n      isCurrentUserAnApprover:  get(submissionJSONObject, \"IsCurrentUserAnApprover\", \"false\") === \"true\",\n      isTaskApprovalRequired: get(submissionJSONObject, \"IsTaskApprovalRequired\", false) === \"true\",\n      riskResults: _.has(submissionJSONObject, 'RiskResultData') ? JSON.parse(get(submissionJSONObject, \"RiskResultData\", \"[]\")) : \"[]\",\n      taskRecommendations: _.has(submissionJSONObject, 'TaskRecommendationData') ? JSON.parse(_.defaultTo(get(submissionJSONObject, \"TaskRecommendationData\", \"[]\"), \"[]\")) : \"[]\",\n      productAspects:  _.has(submissionJSONObject, 'ProductAspects') ? JSON.parse(get(submissionJSONObject, \"ProductAspects\", [])) : [],\n      componentTarget: toString(get(submissionJSONObject, \"ComponentTarget\", \"\")),\n      hideWeightsAndScore: _.get(submissionJSONObject, \"HideWeightsAndScore\", \"false\") === \"true\",\n      isTaskCollborator: _.get(submissionJSONObject, \"IsTaskCollborator\", \"false\") === \"true\",\n      isDisplayPreventMessage: _.get(submissionJSONObject, \"IsDisplayPreventMessage\", \"false\") === \"true\",\n      preventMessage: toString(get(submissionJSONObject, \"PreventMessage\", \"\")),\n      siblingSubmissions: TaskParser.parseAlltaskSubmissionforQuestionnaire(submissionJSONObject),\n      serviceRegister: TaskParser.parseServiceRegister(serviceRegister),\n      riskProfileData:  _.has(submissionJSONObject, 'RiskProfileData') ? JSON.parse(get(submissionJSONObject, \"RiskProfileData\", [])) : [],\n      resultForCertificationAndAccreditation:  _.has(submissionJSONObject, 'ResultForCertificationAndAccreditation') ? JSON.parse(get(submissionJSONObject, \"ResultForCertificationAndAccreditation\", [])) : []\n    };\n\n    return data;\n  }\n\n  static async fetchResultForCertificationAndAccreditation(args: { uuid: string, secureToken?: string }): Promise<TaskSubmission> {\n    const {uuid, secureToken} = {...args};\n    const query = `\nquery {\n  readTaskSubmission(UUID: \"${uuid}\", SecureToken: \"${secureToken || \"\"}\") {\n    ID\n    UUID\n    ResultForCertificationAndAccreditation\n  }\n}`;\n\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n    const submissionJSONObject = get(responseJSONObject, \"data.readTaskSubmission.0\", null);\n\n    if (!submissionJSONObject) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    const data: TaskSubmission = {\n      id: toString(get(submissionJSONObject, \"ID\", \"\")),\n      uuid: toString(get(submissionJSONObject, \"UUID\", \"\")),\n      resultForCertificationAndAccreditation:  _.has(submissionJSONObject, 'ResultForCertificationAndAccreditation') ? JSON.parse(get(submissionJSONObject, \"ResultForCertificationAndAccreditation\", [])) : []\n    };\n\n    return data;\n  }\n\n  static async batchUpdateTaskSubmissionData(args: BatchUpdateTaskSubmissionDataArgument): Promise<void> {\n    const {uuid, questionIDList, answerDataList, csrfToken, secureToken} = {...args};\n\n    if (questionIDList.length !== answerDataList.length) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    let mutations = [];\n    for (let index = 0; index < questionIDList.length; index++) {\n      const questionID = questionIDList[index];\n      const answerData = answerDataList[index];\n      const answerDataStr = window.btoa(unescape(encodeURIComponent(JSON.stringify(answerData))));\n      let singleQuery = `\nupdateQuestion${questionID}: updateTaskSubmission(\n  UUID: \"${uuid}\",\n  QuestionID: \"${questionID}\",\n  AnswerData: \"${answerDataStr}\",\n  SecureToken: \"${secureToken || \"\"}\"\n) {\n  UUID\n  Status\n\n}`;\n      mutations.push(singleQuery);\n    }\n\n    let query = `\nmutation {\n  ${mutations.join(\"\\n\")}\n}\n`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const updatedData = get(json, \"data\", null);\n    if (!updatedData) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n  }\n\n  static async completeTaskSubmission(args: {\n    uuid: string,\n    result: string,\n    csrfToken: string,\n    secureToken: string\n  }): Promise<{ uuid: string }> {\n    const {uuid, result, csrfToken, secureToken} = {...args};\n    let query = `\nmutation {\n completeTaskSubmission(UUID: \"${uuid}\", Result: \"${result}\", SecureToken: \"${secureToken || \"\"}\") {\n   UUID\n   Status\n }\n}`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    if (!get(json, \"data.completeTaskSubmission.UUID\", null)) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  static async editTaskSubmission(args: { uuid: string, csrfToken: string, secureToken?: string }): Promise<{ uuid: string }> {\n    const {uuid, csrfToken, secureToken} = {...args};\n\n    const query = `\nmutation {\n editTaskSubmission(UUID: \"${uuid}\", SecureToken: \"${secureToken || \"\"}\") {\n   UUID\n   Status\n }\n}`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    if (!get(json, \"data.editTaskSubmission.UUID\", null)) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  static async fetchStandaloneTask(args: { taskId: string }): Promise<Task> {\n    const {taskId} = {...args};\n    const query = `\nquery {\n  readTask(ID: \"${taskId}\") {\n    ID\n    Name\n    TaskType\n    QuestionsDataJSON\n  }\n}`;\n\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n    const taskJSONObject = get(responseJSONObject, \"data.readTask\", null);\n    if (!taskJSONObject) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    const task = TaskParser.parseFromJSONObject(taskJSONObject);\n\n    return task;\n  }\n\n  static async updateTaskSubmissionWithSelectedComponents(\n    args: {\n      uuid: string,\n      csrfToken: string,\n      components: Array,\n      jiraKey: string\n    }\n  ): Promise<{ uuid: string }> {\n    const {uuid, csrfToken, components, jiraKey} = {...args};\n    const query = `\nmutation {\n updateTaskSubmissionWithSelectedComponents(\n UUID: \"${uuid}\",\n Components: \"${window.btoa(JSON.stringify(components))}\",\n JiraKey: \"${jiraKey}\"\n ) {\n   UUID\n   Status\n }\n}`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    if (!get(json, \"data.updateTaskSubmissionWithSelectedComponents.UUID\", null)) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {uuid};\n  }\n\n  static async approveTaskSubmission(argument: { uuid: string, csrfToken: string }): Promise<{ uuid: string }> {\n    const {uuid, csrfToken} = {...argument};\n    const query = `\nmutation {\n updateTaskStatusToApproved(UUID: \"${uuid}\") {\n   Status\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = toString(\n      get(json, \"data.updateTaskStatusToApproved.Status\", null));\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {status};\n  }\n\n  static async denyTaskSubmission(argument: { uuid: string, csrfToken: string }): Promise<{ uuid: string }> {\n    const {uuid, csrfToken} = {...argument};\n    const query = `\nmutation {\n updateTaskStatusToDenied(UUID: \"${uuid}\") {\n   Status\n   UUID\n }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const status = toString(\n      get(json, \"data.updateTaskStatusToDenied.Status\", null)\n    );\n    if (!status || !uuid) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    return {status};\n  }\n\n    static async updateTaskRecommendation(argument: { uuid: string, csrfToken: string, taskRecommendations: Array<TaskRecommendation> }): Promise<{ uuid: string }> {\n      const {uuid, csrfToken, taskRecommendations} = {...argument};\n      const query = `\n  mutation {\n    updateTaskRecommendation(\n      UUID: \"${uuid}\",\n      TaskRecommendationData: \"${window.btoa(unescape(encodeURIComponent(JSON.stringify(taskRecommendations))))}\"\n    ) {\n     TaskRecommendationData\n     UUID\n   }\n  }`;\n      const json = await GraphQLRequestHelper.request({query, csrfToken});\n      const taskRecommendationData = _.has(json, 'TaskRecommendationData') ? JSON.parse(get(submissionJSONObject, \"TaskRecommendationData\", \"[]\")) : \"[]\";\n      if (!taskRecommendationData || !uuid) {\n        throw DEFAULT_NETWORK_ERROR;\n      }\n      return {taskRecommendationData};\n    }\n\n  // load data for Awaiting Approvals\n  static async fetchTaskSubmissionList(userID: string, pageType: string, limit: number, offset: number): Promise<Array<TaskSubmissionListItem>> {\n    const query = `query {\n      paginatedReadTaskSubmissions(UserID: \"${userID}\", PageType: \"${pageType}\", limit: ${limit}, offset: ${offset}) {\n        edges {\n          node {\n            ID\n            UUID\n            Created\n            TaskName\n            QuestionnaireSubmission {\n              ProductName\n            }\n            Submitter {\n              FirstName\n              Surname\n            }\n            Status\n          }\n        }\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n          totalCount\n        }\n      }\n    }`;\n\n    const json = await GraphQLRequestHelper.request({query});\n    const data = get(json, 'data.paginatedReadTaskSubmissions.edges', []);\n    const pageInfoData = get(json, 'data.paginatedReadTaskSubmissions.pageInfo', []);\n\n    // TODO: parse data\n    if (!Array.isArray(data)) {\n      throw 'error';\n    }\n\n    const pageInfo : PaginationInfo = {\n      totalCount: get(pageInfoData, 'totalCount', 0),\n      hasNextPage: Boolean(get(pageInfoData, 'hasNextPage', false)),\n      hasPreviousPage: Boolean(get(pageInfoData, 'hasPreviousPage', false))\n    }\n\n    const taskSubmissionList = data.map((item: any) : TaskSubmissionListItem => {\n      let obj = {};\n      obj['id'] = get(item, 'node.ID', '');\n      obj['uuid'] = get(item, 'node.UUID', '');\n      obj['created'] = get(item, 'node.Created', '');\n      obj['taskName'] = get(item, 'node.TaskName', '');\n      obj['productName'] = get(item, 'node.QuestionnaireSubmission.ProductName', '');\n      obj['submitterName'] = toString(get(item, \"node.Submitter.FirstName\", \"\"))+ ' ' + toString(get(item, \"node.Submitter.Surname\", \"\"));\n      obj['status'] = get(item, 'node.Status', '');\n      return obj;\n    });\n\n    return {\n      taskSubmissionList,\n      pageInfo,\n    }\n  }\n}\n","// @flow\n\nimport type {QuestionnaireStartState, QuestionnaireSubmissionState} from \"../store/QuestionnaireState\";\nimport ActionType from \"./ActionType\";\nimport type {LoadQuestionnaireStartAction, LoadQuestionnaireSubmissionAction} from \"./ActionType\";\nimport {ThunkAction} from \"redux-thunk\";\nimport QuestionnaireDataService from \"../services/QuestionnaireDataService\";\nimport type {\n  Question,\n  Submission,\n  SubmissionActionData,\n  SubmissionInputData,\n  SubmissionQuestionData,\n} from \"../types/Questionnaire\";\nimport type {RootState} from \"../store/RootState\";\nimport CSRFTokenService from \"../services/CSRFTokenService\";\nimport _ from \"lodash\";\nimport SubmissionDataUtil from \"../utils/SubmissionDataUtil\";\nimport URLUtil from \"../utils/URLUtil\";\nimport TaskDataService from \"../services/TaskDataService\";\nimport type {Collaborator} from \"../types/User\";\n\nexport function loadQuestionnaireStartState(questionnaireID: string): ThunkAction {\n  return async (dispatch) => {\n    // TODO: maybe dispatch a global loading action\n    try {\n      const data = await QuestionnaireDataService.fetchStartData(questionnaireID);\n      dispatch(loadQuestionnaireStartStateFinished(data));\n    } catch (error) {\n      // TODO: maybe dispatch a global error action\n      alert(error);\n    }\n  };\n}\n\nexport function loadQuestionnaireStartStateFinished(payload: QuestionnaireStartState): LoadQuestionnaireStartAction {\n  return {\n    type: ActionType.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE,\n    payload\n  }\n}\n\n// Submission\nexport function createInProgressSubmission(questionnaireID: string): ThunkAction {\n  return async (dispatch) => {\n    // TODO: maybe dispatch a global loading action\n    try {\n      // Get CSRF token\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n\n      // Send request to create submission record\n      const uuid = await QuestionnaireDataService.createInProgressSubmission({questionnaireID, csrfToken});\n\n      // Redirect to questionnaire page\n      URLUtil.redirectToQuestionnaireEditing(uuid);\n\n    } catch (error) {\n      // TODO: maybe dispatch a global error action\n      alert(error);\n    }\n  };\n}\n\n// load questionanqire submissions\n// this is same for SA, User, BO, CISO and normal user\nexport function loadQuestionnaireSubmissionState(submissionHash: string, secureToken: string): ThunkAction {\n  if(typeof(secureToken) == \"undefined\") {\n    secureToken = '';\n  }\n\n  return async (dispatch) => {\n    // TODO: maybe dispatch a global loading action\n    await dispatch({type: ActionType.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_REQUEST});\n    try {\n      const data = await QuestionnaireDataService.fetchSubmissionData(submissionHash, secureToken);\n      dispatch(loadQuestionnaireSubmissionStateFinished(data));\n    } catch (error) {\n      // TODO: maybe dispatch a global error action\n      await dispatch({ type: ActionType.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_FAILURE, error: error});\n      alert(error);\n    }\n  };\n}\n\nexport function loadQuestionnaireSubmissionStateFinished(payload: QuestionnaireSubmissionState): LoadQuestionnaireSubmissionAction {\n  return {\n    type: ActionType.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS,\n    payload\n  }\n}\n\n// TODO: split big functions\nexport function putDataInQuestionnaireAnswer(payload: Question): ThunkAction {\n  return async (dispatch, getState) => {\n\n    // Save local state\n    dispatch({\n      type: ActionType.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER,\n      payload\n    });\n\n    const rootState: RootState = getState();\n    const submissionID = _.get(rootState, \"questionnaireState.submissionState.submission.submissionID\", null);\n    if (!submissionID) {\n      throw new Error(\"Something is wrong, please reload the page\");\n    }\n\n    const csrfToken = await CSRFTokenService.getCSRFToken();\n    const questionID = payload.id;\n    const answerData: SubmissionQuestionData = SubmissionDataUtil.transformFromFullQuestionToData(payload);\n\n    // Update state of current answered question in cloud\n    try {\n      await QuestionnaireDataService.updateSubmissionData({\n        submissionID,\n        questionID,\n        csrfToken,\n        answerData\n      });\n\n      // Move cursor\n      dispatch(moveAfterQuestionAnswered(payload));\n    } catch (error) {\n      // TODO: error handling\n      alert(error.message);\n    }\n  };\n}\n\nexport function moveAfterQuestionAnswered(answeredQuestion: Question): ThunkAction {\n  return async (dispatch, getState) => {\n    const rootState: RootState = getState();\n    const submission = rootState.questionnaireState.submissionState.submission;\n    if (!submission) {\n      return;\n    }\n\n    const {\n      currentIndex,\n      targetIndex,\n      nonApplicableIndexes,\n      complete\n    } = SubmissionDataUtil.getDataUpdateIntent({\n      answeredQuestion,\n      questions: submission.questions\n    });\n\n    // Mark non applicable questions\n    if (nonApplicableIndexes.length > 0) {\n      dispatch({\n        type: ActionType.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE,\n        nonApplicableIndexes\n      });\n    }\n\n    // Move cursor if target question is valid\n    if (targetIndex > currentIndex) {\n      dispatch({\n        type: ActionType.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,\n        targetIndex\n      });\n    }\n\n    // Batch update states for all related questions to cloud\n    await batchUpdateSubmissionData(getState(), _.uniq([currentIndex, ...nonApplicableIndexes, targetIndex]));\n\n    if (complete) {\n      URLUtil.redirectToQuestionnaireReview(submission.submissionUUID);\n    }\n  };\n}\n\nexport function moveToPreviousQuestion(targetQuestion: Question): ThunkAction {\n  return async (dispatch, getState) => {\n    const rootState: RootState = getState();\n    const submission = rootState.questionnaireState.submissionState.submission;\n    if (!submission) {\n      return;\n    }\n\n    const currentIndex = submission.questions.findIndex((question) => question.isCurrent);\n    if (currentIndex < 0) {\n      throw new Error(\"Wrong state, please reload the questionnaire\");\n    }\n\n    // Don't move if the target question is not applicable or doesn't have answer\n    if (!targetQuestion.isApplicable || !targetQuestion.hasAnswer) {\n      return;\n    }\n\n    const targetIndex = submission.questions.findIndex((question) => question.id === targetQuestion.id);\n    if (targetIndex < 0) {\n      return;\n    }\n\n    dispatch({\n      type: ActionType.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION,\n      targetIndex,\n    });\n\n    // Batch update states for all related questions to cloud (\"current\" cursor changes)\n    await batchUpdateSubmissionData(getState(), [currentIndex, targetIndex]);\n  };\n}\n\n// As a User submit the questionnaire\nexport function submitQuestionnaire(): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const rootState: RootState = getState();\n      const submissionState = rootState.questionnaireState.submissionState;\n      const submission = submissionState.submission;\n      if (!submission) {\n        return;\n      }\n\n      // Check if the questionnaire is answered properly (only have answered and non-applicable questions)\n      if (SubmissionDataUtil.existsUnansweredQuestion(submission.questions)) {\n        alert(\"There are questions not answered properly, please check your answers\");\n        return;\n      }\n\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {uuid} = await QuestionnaireDataService.submitQuestionnaire({submissionID: submission.submissionID, csrfToken});\n      URLUtil.redirectToQuestionnaireSummary(uuid);\n    } catch(error) {\n      // TODO: errors\n      alert(error);\n    }\n  };\n}\n\n// As a user submit the  Questionnaire submission for approval\nexport function submitQuestionnaireForApproval(submissionID: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {uuid} = await QuestionnaireDataService.submitQuestionnaireForApproval({submissionID, csrfToken});\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    } catch(error) {\n      // TODO: errors\n      alert(error);\n    }\n  };\n}\n\n// Assign to SA\nexport function assignToSecurityArchitectQuestionnaireSubmission(submissionID: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {uuid} = await QuestionnaireDataService.assignQuestionnaireSubmissionToSecurityArchitect({submissionID, csrfToken});\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    } catch(error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Send back for changes\nexport function sendBackForChangesSubmission(submissionID: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {uuid} = await QuestionnaireDataService.updateQuestionnaireStatusToSendBackForChanges({submissionID, csrfToken});\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    } catch(error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Approve the Questionnaire Submission as a SA / CISO\nexport function approveQuestionnaireSubmission(submissionID: string, skipBoAndCisoApproval: boolean): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {uuid} = await QuestionnaireDataService.approveQuestionnaireSubmission({submissionID, csrfToken, skipBoAndCisoApproval});\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    } catch(error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Deny the Questionnaire Submission as a SA / CISO\nexport function denyQuestionnaireSubmission(submissionID: string, skipBoAndCisoApproval: boolean): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {uuid} = await QuestionnaireDataService.denyQuestionnaireSubmission({submissionID, csrfToken, skipBoAndCisoApproval});\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    } catch(error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Approve the Questionnaire Submission as a BO\nexport function approveQuestionnaireSubmissionAsBusinessOwner(submissionID: string, secureToken: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {uuid} = await QuestionnaireDataService.approveQuestionnaireSubmissionAsBusinessOwner({submissionID, csrfToken, secureToken});\n      dispatch(loadQuestionnaireSubmissionState(uuid, secureToken));\n    } catch(error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Deny the Questionnaire Submission as a BO\nexport function denyQuestionnaireSubmissionAsBusinessOwner(submissionID: string, secureToken: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {uuid} = await QuestionnaireDataService.denyQuestionnaireSubmissionAsBusinessOwner({submissionID, csrfToken, secureToken});\n      dispatch(loadQuestionnaireSubmissionState(uuid, secureToken));\n    } catch(error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Edit answers of the Questionnaire Submission as a User\nexport function editQuestionnaireSubmission(submissionID: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {uuid} = await QuestionnaireDataService.editQuestionnaireSubmission({submissionID, csrfToken});\n      URLUtil.redirectToQuestionnaireEditing(uuid);\n    } catch(error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// load all the Questionnaire Submissions of the logged in user\nexport function loadMySubmissionList(): ThunkAction {\n  return async (dispatch: any, getState: () => RootState) => {\n    const user = getState().currentUserState.user;\n    if (!user) {\n      return;\n    }\n    await dispatch({ type: ActionType.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_REQUEST});\n\n    try {\n      // Call re sync with jira data api\n      // limit and offset for pagination query set to 0\n      const data = await QuestionnaireDataService.fetchQuestionnaireSubmissionList(user.id, 'my_submission_list', 0, 0);\n\n      dispatch({\n        type: ActionType.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS,\n        payload: data\n      });\n    }\n    catch (error) {\n      await dispatch({ type: ActionType.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_FAILURE, error: error});\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\n// Questionnaire Submissions list of pending approval list\n// for SA, CISO and Business owner\nexport function loadAwaitingApprovalList(limit: number, offset: number): ThunkAction {\n  return async (dispatch: any, getState: () => RootState) => {\n    const user = getState().currentUserState.user;\n    if (!user) {\n      return;\n    }\n\n    await dispatch({ type: ActionType.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_REQUEST});\n\n    try {\n      // Call re sync with jira data api\n      const data = await QuestionnaireDataService.fetchQuestionnaireSubmissionList(user.id, 'awaiting_approval_list', limit, offset);\n      dispatch({\n        type: ActionType.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS,\n        payload: data\n      });\n    }\n    catch (error) {\n      await dispatch({ type: ActionType.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_FAILURE, error: error});\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\n// Questionnaire Submissions list for the business owner\nexport function loadMyProductList(): ThunkAction {\n  return async (dispatch: any, getState: () => RootState) => {\n    const user = getState().currentUserState.user;\n    if (!user) {\n      return;\n    }\n\n    await dispatch({ type: ActionType.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_REQUEST});\n\n    try {\n      // Call re sync with jira data api\n      // limit and offset for pagination query set to 0\n      const data = await QuestionnaireDataService.fetchQuestionnaireSubmissionList(user.id, 'my_product_list', 0, 0);\n\n      dispatch({\n        type: ActionType.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS,\n        payload: data\n      });\n    }\n    catch (error) {\n      await dispatch({ type: ActionType.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_FAILURE, error: error});\n      ErrorUtil.displayError(error);\n    }\n\n  };\n}\n\n// add collaborator\nexport function addCollaboratorAction (submissionID: string, selectedCollaborators: Array<Collaborator>): ThunkAction {\n  return async (dispatch: any, getState: () => RootState) => {\n    const csrfToken = await CSRFTokenService.getCSRFToken();\n    try {\n      // Call addCollaborator data api\n      const {uuid} = await QuestionnaireDataService.addCollaborator(submissionID, selectedCollaborators, csrfToken);\n\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    }\n    catch (error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Grant certification\nexport function grantCertificationAction (submissionID: string): ThunkAction {\n  return async (dispatch: any, getState: () => RootState) => {\n    const csrfToken = await CSRFTokenService.getCSRFToken();\n    try {\n      // Call grantCertification data api\n      const {uuid} = await QuestionnaireDataService.grantCertification(submissionID, csrfToken);\n\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    }\n    catch (error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Deny certification\nexport function denyCertificationAction (submissionID: string): ThunkAction {\n  return async (dispatch: any, getState: () => RootState) => {\n    const csrfToken = await CSRFTokenService.getCSRFToken();\n    try {\n      // Call denyCertification data api\n      const {uuid} = await QuestionnaireDataService.denyCertification(submissionID, csrfToken);\n\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    }\n    catch (error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Issue Accreditation\nexport function issueAccreditationAction (submissionID: string): ThunkAction {\n  return async (dispatch: any, getState: () => RootState) => {\n    const csrfToken = await CSRFTokenService.getCSRFToken();\n    try {\n      // Call issueAccreditation data api\n      const {uuid} = await QuestionnaireDataService.issueAccreditation(submissionID, csrfToken);\n\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    }\n    catch (error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Deny Accreditation\nexport function denyAccreditationAction (submissionID: string): ThunkAction {\n  return async (dispatch: any, getState: () => RootState) => {\n    const csrfToken = await CSRFTokenService.getCSRFToken();\n    try {\n      // Call denyAccreditation data api\n      const {uuid} = await QuestionnaireDataService.denyAccreditation(submissionID, csrfToken);\n\n      dispatch(loadQuestionnaireSubmissionState(uuid));\n    }\n    catch (error) {\n      // TODO: errors\n      alert(error);\n    }\n  }\n}\n\n// Commons\nasync function batchUpdateSubmissionData(rootState: RootState, indexesToUpdate: Array<number>) {\n  const submission = rootState.questionnaireState.submissionState.submission;\n  if (!submission) {\n    return;\n  }\n\n  const csrfToken = await CSRFTokenService.getCSRFToken();\n  try {\n    await QuestionnaireDataService.batchUpdateSubmissionData({\n      submissionID: submission.submissionID,\n      questionIDList: indexesToUpdate.map((index) => submission.questions[index].id),\n      answerDataList: indexesToUpdate.map((index) => SubmissionDataUtil.transformFromFullQuestionToData(submission.questions[index])),\n      csrfToken,\n    });\n  } catch (error) {\n    // TODO: error handling\n    alert(error.message);\n  }\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport LogoutButton from \"../Button/LogoutButton\";\n\ntype Props = {\n  title: string,\n  subtitle: string,\n  username: string,\n  showLogoutButton?: boolean,\n  logopath?: string,\n};\n\nclass Header extends Component<Props> {\n\n  static defaultProps = {\n    title: \"\",\n    subtitle: \"\",\n    username: \"\",\n    logopath: \"\",\n    showLogoutButton: true\n  };\n\n  render() {\n    const {title, subtitle, showLogoutButton, username, logopath} = {...this.props};\n    \n    return (\n      <header className=\"Header\">\n        <div className=\"top-banner\">\n          <a href=\"/\"><img src={logopath} className=\"logo\"/></a>\n        </div>\n        <div className=\"logout-layout\">\n          {showLogoutButton && (\n            <div className=\"logout-block\">\n              <span className=\"username\">{username}</span>\n              <LogoutButton/>\n            </div>\n          )}\n        </div>\n        <h1>{title}</h1>\n        <h2>{subtitle}</h2>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Start from \"./Start\";\nimport {createInProgressSubmission, loadQuestionnaireStartState} from \"../../actions/questionnaire\";\nimport type {QuestionnaireStartState} from \"../../store/QuestionnaireState\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    startState: state.questionnaireState.startState,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    dispatchLoadQuestionnaireAction(questionnaireID: string) {\n      dispatch(loadQuestionnaireStartState(questionnaireID));\n    },\n    dispatchCreateInProgressSubmissionAction(questionnaireID: string) {\n      dispatch(createInProgressSubmission(questionnaireID));\n    }\n  };\n};\n\ntype ownProps = {\n  questionnaireID: string\n};\n\ntype reduxProps = {\n  startState: QuestionnaireStartState,\n  dispatchLoadQuestionnaireAction: (id: string) => void,\n  dispatchCreateInProgressSubmissionAction: (questionnaireID: string) => void\n};\n\ntype Props = ownProps & reduxProps;\n\nclass StartContainer extends Component<Props> {\n\n  componentDidMount() {\n    const {questionnaireID, dispatchLoadQuestionnaireAction} = {...this.props};\n    dispatchLoadQuestionnaireAction(questionnaireID);\n  }\n\n  render() {\n    const {title, siteConfig, keyInformation, user} = {...this.props.startState};\n    const {questionnaireID, dispatchCreateInProgressSubmissionAction} = {...this.props};\n\n    if(!user) {\n      return null;\n    }\n\n    return (\n      <div className=\"StartContainer\">\n        <Header title={title} subtitle={siteConfig.siteTitle} username={user.name} logopath={siteConfig.logoPath}/>\n\n        <Start keyInformation={keyInformation}\n               user={user}\n               onStartButtonClick={() => {\n                 dispatchCreateInProgressSubmissionAction(questionnaireID);\n               }}/>\n\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(StartContainer);\n","// @flow\n\nimport React, {Component} from \"react\";\nimport type {Question} from \"../../types/Questionnaire\";\nimport QuestionEditingIcon from \"../../../img/icons/create.svg\";\nimport QuestionPendingIcon from \"../../../img/icons/check-box-blank.svg\";\nimport QuestionCompletedIcon from \"../../../img/icons/check-box.svg\";\nimport QuestionNotApplicableIcon from \"../../../img/icons/not-applicable.svg\";\n\ntype Props = {\n  question: Question,\n  onItemClick: (question: Question) => void,\n  index: number\n};\n\nexport default class LeftBarItem extends Component<Props> {\n\n  render() {\n    const {question, onItemClick, index} = {...this.props};\n\n    return (\n      <div className=\"LeftBarItem\">\n        {this.renderIcon(question)}\n        <button className=\"btn\"\n                disabled={!question.isApplicable}\n                onClick={(event) => {\n                  onItemClick(question);\n                }}\n        >\n          {index+1}.  {question.title}\n        </button>\n      </div>\n    );\n  }\n\n  renderIcon(question: Question) {\n    const {isCurrent, hasAnswer, isApplicable} = {...question};\n\n    if (isCurrent) {\n      return (\n        <img src={QuestionEditingIcon} />\n      );\n    }\n\n    if (!isApplicable) {\n      return (\n        <img src={QuestionNotApplicableIcon} />\n      );\n    }\n\n    if (hasAnswer && isApplicable) {\n      return (\n        <img src={QuestionCompletedIcon} />\n      );\n    }\n\n    return (\n      <img src={QuestionPendingIcon} />\n    );\n  }\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport type {Question} from \"../../types/Questionnaire\";\nimport LeftBarItem from \"./LeftBarItem\";\n\ntype Props = {\n  questions: Array<Question>,\n  onItemClick: (question: Question) => void\n};\n\nclass LeftBar extends Component<Props> {\n\n  render() {\n    const {questions, onItemClick} = {...this.props};\n\n    return (\n      <div className=\"LeftBar\">\n          <div className=\"items\">\n          {questions.map((question, index) => {\n            return <LeftBarItem question={question} onItemClick={onItemClick} key={question.id} index={index}/>;\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LeftBar;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport BaseButton from \"./BaseButton\";\n\ntype Props = {\n  title: string,\n  disabled: boolean,\n  classes: Array<string>,\n  onClick: (event: Event) => void,\n  iconImage?: string\n};\n\nclass DarkButton extends Component<Props> {\n\n  static defaultProps = {\n    title: \"\",\n    disabled: false,\n    classes: [],\n    onClick: () => {}\n  };\n\n  render() {\n    return <BaseButton {...this.props} classes={[\"DarkButton\", ...this.props.classes]} />;\n  }\n}\n\nexport default DarkButton;\n","// @flow\n// this file is used on both Risk questionnaire and task\nimport React, {Component} from \"react\";\nimport type {TaskRecommendation} from \"../../types/Task\";\nimport AddIcon from \"../../../img/icons/add-circle.svg\";\nimport CloseIcon from \"../../../img/icons/close.svg\";\nimport EditIcon from \"../../../img/icons/edit-icon.svg\";\nimport {Field, Form, Formik, FormikBag, FormikProps} from \"formik\";\nimport LightButton from \"../Button/LightButton\";\nimport DarkButton from \"../Button/DarkButton\";\nimport { connect } from \"react-redux\";\nimport { RootState } from \"../../store/RootState\";\nimport ActionType from \"../../actions/ActionType\";\nimport ReactModal from \"react-modal\";\nimport Select from 'react-select';\nimport tinymce from \"tinymce\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport IconButton from '@material-ui/core/IconButton';\n\ntype Props = {\n  taskRecommendations: Array<TaskRecommendation> | null,\n  handleAddTaskRecommendationButtonClick: () => void,\n  handleAddEditRecommendationButtonClick: () => void,\n  viewAs: string | null,\n  status: string | null\n};\n\nclass TaskRecommendationContainer extends Component<Props> {\n  state = {\n    showModal: false,\n    FormType: \"Add\",\n    issueID: \"0\"\n  };\n\n  handleOpenModal = () => {\n    this.setState({ showModal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ showModal: false, issueID: 0 });\n  };\n\n  handleOpenAddRecommendationModal = () => {\n    // default next issue id is \"1\"\n    let nextIssueId = 1;\n\n    // if task recommendation already exist then issue id will be max id + 1\n    if (this.props.taskRecommendations.length > 0) {\n      const maxIdObj = this.props.taskRecommendations.reduce(function(prev, current) {\n          return (prev.id > current.id) ? prev : current\n      }); //returns object\n\n      if (maxIdObj) {\n        nextIssueId = maxIdObj.id + 1;\n      }\n    }\n\n    this.setState({ showModal: true, issueID: nextIssueId, FormType: \"Add\" });\n  }\n\n  handleOpenEditRecommendationModal = (id) => {\n    this.setState({ showModal: true, issueID: id, FormType: \"Edit\" });\n  }\n\n  getFormInitialValues = () => {\n    let initialValues = {\"id\":this.state.issueID,\"title\":\"\",\"description\":\"\",\"recommendation\":\"\",\"status\":\"\"};\n\n    if (this.state.FormType == \"Edit\" && this.props.taskRecommendations.length > 0 && this.state.issueID != 0) {\n      initialValues = this.props.taskRecommendations.find(\n        (taskRecommendation) => taskRecommendation.id === this.state.issueID\n      );\n    }\n\n    return initialValues;\n  }\n\n  renderRecommendationform = () =>{\n    return <Formik\n      initialValues= {this.getFormInitialValues()}\n      validate={values => {\n        let errors = {};\n\n        // Required\n        if (!values.title) {\n            errors.title = \"Please enter the issue title.\";\n        }\n\n        if (!values.status) {\n            errors.status = \"Please enter the status.\";\n        }\n\n        if (!values.description) {\n            errors.description = \"Please enter the issue description.\";\n        }\n\n        if (!values.recommendation) {\n            errors.recommendation = \"Please enter the recommendation.\";\n        }\n\n        return errors;\n      }}\n      onSubmit={(values, formik) => {\n        if (this.state.FormType == 'Add') {\n          this.props.handleAddTaskRecommendationButtonClick(values);\n        }\n        if (this.state.FormType == 'Edit') {\n          this.props.handleEditTaskRecommendationButtonClick(values);\n        }\n        this.handleCloseModal();\n      }}\n      validateOnChange= {false}\n      validateOnBlur= {false}\n    >\n    {({isSubmitting, errors, touched, setFieldValue, values, handleChange, handleSubmit}) => {\n      return(\n        <Form>\n          <div className=\"title-and-status-container\">\n\n            <div className=\"title-field-container\">\n              <label>\n                Issue title\n                <Field type=\"text\" name=\"title\" className={errors.title && \"input-error\"} />\n                {errors.title && (<span className=\"error\">{errors.title}</span>)}\n              </label>\n            </div>\n\n            <div className=\"status-field-container\">\n              <label>\n                Status\n                <select\n                  name=\"status\"\n                  value={values.status}\n                  onChange={handleChange}\n                  className={errors.status && \"input-error\"}\n                  style={{ display: 'block' }}\n                >\n                  <option value=\"\" label=\"Select\" />\n                  <option value=\"open\" label=\"Open\" />\n                  <option value=\"closed\" label=\"Closed\" />\n                </select>\n                {errors.status && (<span className=\"error\">{errors.status}</span>)}\n              </label>\n            </div>\n          </div>\n\n          <div className=\"issue-container\">\n            <label>\n              Issue description\n              <Field name=\"description\" >\n                {({field}) => {\n                  return <textarea {...field} className={errors.description && \"input-error\"} />;\n                }}\n              </Field>\n              {errors.description && (\n                <span className=\"error\">{errors.description}</span>\n              )}\n            </label>\n          </div>\n\n          <div>\n            <label>\n              Recommendation\n              <Field name=\"recommendation\" >\n                {({field}) => {\n                  return <textarea {...field} className={errors.recommendation && \"input-error\"} />;\n                }}\n              </Field>\n              {errors.recommendation && (<span className=\"error\">{errors.recommendation}</span>)}\n            </label>\n          </div>\n\n          <div className=\"buttons\">\n            <LightButton title=\"Cancel\" onClick={this.handleCloseModal} />\n            {this.state.FormType == \"Add\" && (\n              <DarkButton type=\"button\" title=\"Add\" data-flag=\"action-add\" onClick={handleSubmit} />\n            )}\n            {this.state.FormType == \"Edit\" && (\n              <DarkButton type=\"button\" title=\"Save\" data-flag=\"action-add\" onClick={handleSubmit} />\n            )}\n          </div>\n        </Form>\n      )\n    }}\n    </Formik>\n  }\n\n  renderRecommendationModal = () => {\n    return (\n      <div className=\"RecommendationModal\">\n        <ReactModal\n          isOpen={this.state.showModal}\n          ariaHideApp={false}\n          parentSelector={() => {\n            return document.querySelector(\".TaskSubmissionContainer\");\n          }}\n        >\n          <div className=\"modal-header\">\n            <span className=\"header-title\">\n              {this.state.FormType ==\"Add\" ? \"Add Recommendation\" : 'Edit Recommendation'}\n            </span>\n            <div className=\"close-icon-container\" onClick={this.handleCloseModal}>\n              <img src={CloseIcon} />\n            </div>\n          </div>\n          <div className=\"content\">\n            {this.renderRecommendationform()}\n          </div>\n        </ReactModal>\n      </div>\n    );\n  }\n\n  render() {\n    const {taskRecommendations, viewAs, status} = {...this.props};\n\n    return (\n      <div className=\"recommendation-container\">\n        {((viewAs === \"approver\" && status === \"waiting_for_approval\") || (taskRecommendations && taskRecommendations.length > 0)) && (\n            <h4>Approver's recommendations</h4>\n        )}\n        {taskRecommendations && taskRecommendations.length > 0 && (\n          <div className=\"table-responsive table-continer\">\n            <table className=\"table\">\n              <thead className=\"\">\n                <tr key=\"recommendation_table_header\">\n                  <th className=\"issue-title-col\">Issue title</th>\n                  <th>Issue description</th>\n                  <th>Recommendation</th>\n                  <th>Status</th>\n                  {viewAs === \"approver\" && status === \"waiting_for_approval\" && (\n                    <th className=\"edit-col\"></th>\n                  )}\n                </tr>\n              </thead>\n              <tbody>\n                {taskRecommendations.map((taskRecommendation, index): TaskRecommendation => {\n                  return (\n                    <tr key={index+1}>\n                      <td>{taskRecommendation.title}</td>\n                      <td>{taskRecommendation.description}</td>\n                      <td>{taskRecommendation.recommendation}</td>\n                      <td>{taskRecommendation.status}</td>\n                      {viewAs === \"approver\" && status === \"waiting_for_approval\" && (\n                        <td className=\"edit-col\"><img className=\"edit-icon\" src={EditIcon} onClick={() => this.handleOpenEditRecommendationModal(taskRecommendation.id)}/></td>\n                      )}\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        )}\n        {\n          viewAs === \"approver\" && status === \"waiting_for_approval\" && (\n          <div\n            className=\"add-recommendation-link\"\n            onClick={() => this.handleOpenAddRecommendationModal()}\n          >\n            <img src={AddIcon}/> Add recommendation\n          </div>\n        )}\n\n        {this.renderRecommendationModal()}\n      </div>\n    );\n  }\n}\n\nexport default TaskRecommendationContainer;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport approveIcon from \"../../../img/icons/approve.svg\";\nimport notApprovedIcon from \"../../../img/icons/not-approved.svg\";\nimport awaitingApprovalIcon from \"../../../img/icons/awaiting-approval.svg\";\nimport inProgressIcon from \"../../../img/icons/in-progress.svg\";\nimport startIcon from \"../../../img/icons/start.svg\";\nimport TaskRecommendationContainer from \"./TaskRecommendationContainer\";\n\ntype Props = {\n  resultForCertificationAndAccreditation: Array<*>\n};\n\nconst prettifyStatus = (status: string) => {\n  if (!status) {\n    return;\n  }\n  return status\n    .split(\"_\")\n    .map((str) => {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    })\n    .join(\" \");\n};\n\nclass CertificationAndAccreditationResultContainer extends Component<Props> {\n\n  componentDidMount() {\n    const {\n      organisationName,\n      serviceName,\n      createdAt,\n      securityArchitectName,\n      businessOwnerName,\n      productName,\n      productDescription,\n      accreditationLevel,\n      accreditationDescription,\n      accreditationType,\n      accreditationPeriod,\n      accreditationRenewalRecommendations,\n      classificationLevel,\n      riskProfileData,\n      tasks,\n      taskRecommendations,\n      reportLogo\n    } = {...this.props.resultForCertificationAndAccreditation};\n  }\n\n  render() {\n    const {\n      organisationName,\n      serviceName,\n      createdAt,\n      securityArchitectName,\n      businessOwnerName,\n      productName,\n      productDescription,\n      accreditationLevel,\n      accreditationDescription,\n      accreditationType,\n      accreditationPeriod,\n      accreditationRenewalRecommendations,\n      classificationLevel,\n      riskProfileData,\n      tasks,\n      taskRecommendations,\n      reportLogo\n    } = {...this.props.resultForCertificationAndAccreditation};\n\n    return (\n      <div className=\"certification-and-accreditation-report-container\">\n\n        <div className=\"about-report-container\">\n          <div className=\"report-heading\">\n            <div className=\"report-heading-left-container\">\n              <h3>{serviceName}</h3>\n              <p className=\"certification-accreditation-memo-heading\">\n                Certification and Accreditation Memo for {organisationName}\n              </p>\n            </div>\n            <div className=\"report-heading-right-container\">\n              {this.props.isDisplayReportLogo && (<img src={reportLogo}/>)}\n            </div>\n          </div>\n\n          <div className=\"report-intro-container\">\n            <p className=\"report-intro\">Prepared at {createdAt} by {securityArchitectName}</p>\n            <p className=\"report-intro\">Delivered to {businessOwnerName} as part of the {productName} delivery.</p>\n          </div>\n        </div>\n\n        <div className=\"about-product-container sub-container\">\n          <h5>About {productName}</h5>\n          <div\n            dangerouslySetInnerHTML={{\n              __html: productDescription\n            }}\n          >\n          </div>\n        </div>\n\n        <div className=\"certificate-recommendation-container sub-container\">\n          <h5>Certification Recommendation</h5>\n          <p className=\"intro-container\">It has been recommended by {securityArchitectName} that\n          this change {productName} be certified against {accreditationLevel} with an accreditation\n          level of: {accreditationType} for a period of no longer than {accreditationPeriod}.</p>\n          <p>Re-certification after this period should be conditional on the following\n          post go-live remediations being resolved:</p>\n          <div\n            dangerouslySetInnerHTML={{\n              __html: accreditationRenewalRecommendations\n            }}\n          >\n          </div>\n        </div>\n\n        <div className=\"information-classification-container sub-container\">\n        <h5>Information Classification</h5>\n        <p className=\"intro-container\">This memo certifies {serviceName} has been endorsed to store, transmit\n        and receive data to an Information Classification up to {classificationLevel}.</p>\n        </div>\n\n        <div className=\"certificate-scope-container sub-container\">\n          <h5>Certification Scope</h5>\n          <p className=\"intro-container\">\n            This certification is a {accreditationLevel} level certification for {serviceName}.\n            It covers {serviceName} and the following dependencies only.\n          </p>\n          <div\n            className=\"certificate-scope-description\"\n            dangerouslySetInnerHTML={{\n              __html: accreditationDescription\n            }}\n          >\n          </div>\n        </div>\n\n        <div className=\"risk-profile-container sub-container\">\n          <h5>Risk Profile</h5>\n          <p className=\"intro-container\">After completing a risk assessment process,\n          it was determined that the residual risk ratings for this delivery are:</p>\n          {this.renderRiskProfile(riskProfileData)}\n        </div>\n\n        <div className=\"recommendation-container sub-container\">\n          <h5>Recommendations against {productName}</h5>\n          {this.renderTaskRecommendation(taskRecommendations)}\n        </div>\n\n        <div className=\"task-container sub-container\">\n          <h5>Tasks Completed</h5>\n          <p className=\"intro-container\">\n            The certification of {serviceName} for {productName} was\n            completed after {organisationName} completed the following assurance activities:\n          </p>\n          {this.renderTaskTable(tasks)}\n        </div>\n      </div>\n    );\n  }\n\n  renderRiskProfile(riskProfileDataStr) {\n    if (!riskProfileDataStr || (typeof riskProfileDataStr == 'undefined')) {\n      return;\n    }\n\n    const riskProfileData = JSON.parse(riskProfileDataStr);\n\n    return (\n      <div className=\"risk-container\">\n        {\n          riskProfileData.isDisplayMessage && (<div className=\"alert alert-danger\">{riskProfileData.message}</div>)\n        }\n\n        {\n          !riskProfileData.isDisplayMessage && riskProfileData.hasProductAspects && Object.entries(riskProfileData.result).map((item, index) => {\n            return (\n              <div key={index}>\n                <div className=\"product-aspect-container\">{item[0]}</div>\n                {this.renderRiskProfileTable(item[1])}\n              </div>\n            )\n          })\n        }\n\n        {\n          !riskProfileData.isDisplayMessage && !riskProfileData.hasProductAspects && this.renderRiskProfileTable(riskProfileData.result)\n        }\n\n      </div>\n    );\n  }\n\n  renderRiskProfileTable(items) {\n    if (!items || items.length == 0) {\n      return \"\";\n    }\n\n    return(\n      <div className=\"risk-profile-table-container\">\n        <table className=\"table\">\n          <thead className=\"\">\n            <tr key=\"risk_profile_table_header\">\n              <th>Risk category</th>\n              <th>Current risk rating</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return(\n                <tr key={index}>\n                  <td>{item.riskName}</td>\n                  <td style={{backgroundColor: item.currentRiskRating.colour}}>\n                    {item.currentRiskRating.name}\n                  </td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n  renderTaskRecommendation(taskRecommendations) {\n    if (!taskRecommendations || (typeof taskRecommendations == 'undefined')) {\n      return;\n    }\n\n    if (taskRecommendations.length == 0) {\n      return (<div className=\"intro-container\">No recommendation available.</div>);\n    }\n\n    return (\n      <div>\n        {taskRecommendations.map(({taskName, taskApproverName, taskRecommendationData}, index) => {\n          return(\n            <div key={index}>\n              <p className=\"intro-container\">Recommendations from: <b>{taskName}</b> by {taskApproverName}</p>\n              {this.renderRecommendationTable(taskRecommendationData)}\n            </div>\n          )\n        })}\n      </div>\n    );\n  }\n\n  renderRecommendationTable(taskRecommendationData) {\n    const taskRecommendations = JSON.parse(taskRecommendationData);\n    return(\n      <div className=\"recommendation-table-container\">\n      {taskRecommendations && taskRecommendations.length > 0 && (\n        <table className=\"table\">\n          <thead className=\"\">\n            <tr key=\"recommendation_table_header\">\n              <th className=\"issue-title-col\">Issue title</th>\n              <th>Issue description</th>\n              <th>Recommendation</th>\n            </tr>\n          </thead>\n          <tbody>\n            {taskRecommendations.map((taskRecommendation, index): TaskRecommendation => {\n              return (\n                <tr key={index+1}>\n                  <td>{taskRecommendation.title}</td>\n                  <td>{taskRecommendation.description}</td>\n                  <td>{taskRecommendation.recommendation}</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      )}\n      </div>\n    )\n  }\n\n  renderTaskTable(tasks) {\n    if (!tasks || (typeof tasks == 'undefined')) {\n      return;\n    }\n\n    return(\n      <div className=\"task-table-container\">\n        <table className=\"table\">\n          <thead className=\"\">\n            <tr key=\"task_table_header\">\n              <th>Task</th>\n              <th>Approved by</th>\n              <th>Task status</th>\n            </tr>\n          </thead>\n          <tbody>\n          {\n            tasks.map(({taskName, taskApproverName, taskStatus}, index) => {\n              let statusIcon = startIcon;\n\n              if (taskStatus == \"in_progress\") {\n                statusIcon = inProgressIcon;\n              }\n\n              if (taskStatus == \"waiting_for_approval\") {\n                statusIcon = awaitingApprovalIcon;\n              }\n\n              if (taskStatus == \"approved\" || taskStatus == \"complete\") {\n                statusIcon = approveIcon;\n              }\n\n              if (taskStatus == \"denied\") {\n                statusIcon = notApprovedIcon;\n              }\n\n              let approvedBy = taskApproverName;\n\n              if (!approvedBy) {\n                approvedBy = \"No approval needed\";\n              }\n\n              return (\n                <tr key={index}>\n                  <td className=\"\">\n                    {taskName}\n                  </td>\n                  <td>{approvedBy}</td>\n                  <td>\n                    <img className=\"task-status-icon\" src={statusIcon} />\n                    <span className=\"task-status\"> {prettifyStatus(taskStatus)}</span>\n                  </td>\n                </tr>\n              );\n            })\n          }\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default CertificationAndAccreditationResultContainer;\n","// @flow\nimport React, {Component} from \"react\";\nimport type {AnswerAction, AnswerInput, Question} from \"../../types/Questionnaire\";\nimport _ from \"lodash\";\nimport {Field, Form, Formik, FormikBag} from \"formik\";\nimport LightButton from \"../Button/LightButton\";\nimport DarkButton from \"../Button/DarkButton\";\nimport moment from \"moment\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport InfoIcon from \"../../../img/icons/info.svg\";\nimport ChevronIcon from \"../../../img/icons/chevron-right.svg\";\nimport tinymce from \"tinymce\";\nimport 'tinymce/themes/modern';\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport 'tinymce/plugins/advlist';\nimport 'tinymce/plugins/lists';\nimport Select from 'react-select';\nimport CertificationAndAccreditationResultContainer from \"../Task/CertificationAndAccreditationResultContainer\";\n\ntype Props = {\n  question: Question,\n  index: number,\n  handleFormSubmit: (formik: FormikBag, values: Object) => void,\n  handleActionClick: (action: AnswerAction) => void,\n  handleTaskSaveDraftButtonClick: () => void,\n  handleNextButtonClickForDisplayField: () => void,\n  loadResultForCertificationAndAccreditation: () => void,\n  serviceRegister: Array<*>,\n  informationClassificationTaskResult: string,\n  riskProfileData: Array<*>,\n  resultForCertificationAndAccreditation: Array<*>\n};\n\nclass QuestionForm extends Component<Props> {\n  componentDidMount() {\n    if (this.props.question.title == \"Review\") {\n      this.props.loadResultForCertificationAndAccreditation();\n    }\n  }\n\n  render() {\n    const {question, index} = {...this.props};\n\n    return (\n      <div className=\"QuestionForm\">\n        <div className=\"heading\">\n          {index+1}. {question.heading}\n        </div>\n        <div\n          className=\"description\"\n          dangerouslySetInnerHTML={{\n            __html: question.description\n          }}\n        >\n        </div>\n\n        {this.renderActions(question)}\n        {this.renderInputsForm(question)}\n        {this.renderDisplayField(question)}\n\n      </div>\n    );\n  }\n\n  renderDisplayField(question: Question)\n  {\n    if (question.type !== \"display\") {\n      return;\n    }\n\n    if (question.title == \"Risk Profile\") {\n      return this.renderRiskProfile();\n    }\n\n    if (question.title == \"Review\") {\n      return this.renderReview();\n    }\n  }\n\n  renderReview() {\n    const {resultForCertificationAndAccreditation, handleTaskSaveDraftButtonClick, handleNextButtonClickForDisplayField} = {...this.props};\n\n    return (\n      <div>\n        <div className=\"review-container\">\n          <CertificationAndAccreditationResultContainer\n            resultForCertificationAndAccreditation={resultForCertificationAndAccreditation}\n            isDisplayReportLogo={false}\n          />\n        </div>\n        <div className=\"buttons review-button-container\">\n          <div className=\"buttons-left\">\n          </div>\n          <div className=\"buttons-right\">\n            <LightButton title=\"Save draft\" onClick={() => {handleTaskSaveDraftButtonClick()}} />\n            <DarkButton title=\"Submit\" onClick={() => {handleNextButtonClickForDisplayField()}} />\n          </div>\n          <div/>\n        </div>\n      </div>\n    );\n  }\n\n  renderRiskProfile() {\n    const {riskProfileData, handleNextButtonClickForDisplayField} = {...this.props};\n\n    return (\n      <div className=\"risk-profile-container\">\n        {\n          riskProfileData.isDisplayMessage && (<div className=\"alert alert-danger\">{riskProfileData.message}</div>)\n        }\n\n        {\n          !riskProfileData.isDisplayMessage && riskProfileData.hasProductAspects && Object.entries(riskProfileData.result).map((item, index) => {\n            return (\n              <div key={index}>\n                <div className=\"product-aspect-container\">{item[0]}</div>\n                {this.renderRiskProfileTable(item[1])}\n              </div>\n            )\n          })\n        }\n\n        {\n          !riskProfileData.isDisplayMessage && !riskProfileData.hasProductAspects && this.renderRiskProfileTable(riskProfileData.result)\n        }\n\n        <div className=\"bottom-container\">\n          <div className=\"message-container\">\n            <span>\n            <img src={InfoIcon} />\n              <span className=\"saveMessage\">\n                Your answers will be saved when you continue to the next question.\n              </span>\n            </span>\n          </div>\n\n          <div className=\"button-container\">\n            <DarkButton title=\"Next\" rightIconImage={ChevronIcon}  onClick={() => {handleNextButtonClickForDisplayField()}} />\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n\n  renderRiskProfileTable(items) {\n    return (\n      <div className=\"risk-profile-table-container\">\n        <table className=\"table\">\n          <thead className=\"\">\n            <tr key=\"risk_profile_table_header\">\n              <th>Risk category</th>\n              <th>Current risk rating</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return(\n                <tr key={index}>\n                  <td>{item.riskName}</td>\n                  <td style={{backgroundColor: item.currentRiskRating.colour}}>\n                    {item.currentRiskRating.name}\n                  </td>\n                </tr>\n              )\n            })}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n  renderActions(question: Question) {\n    const {handleActionClick} = {...this.props};\n    if (question.type !== \"action\") {\n      return;\n    }\n\n    const actions: Array<AnswerAction> = _.get(question, \"actions\", null);\n    if (!actions) {\n      return null;\n    }\n\n    // Render message of the chosen action\n    let message = null;\n    const chosenAction = actions.find((action) => action.isChose);\n    if (chosenAction && chosenAction.message) {\n      message = (\n        <div className=\"action-message\">\n          <b>Message:</b>\n          <div dangerouslySetInnerHTML={{__html: chosenAction.message}}/>\n        </div>\n      );\n    }\n\n    if (!chosenAction) {\n      return (\n        <div className=\"field-container\">\n          <div className=\"actions\">\n            {actions.map((action, index) => {\n              switch (index) {\n                case 0:\n                  return <DarkButton title={action.label} key={action.id} classes={[\"mr-3\"]} onClick={() => {\n                    handleActionClick(action);\n                  }}/>;\n                default:\n                  return <LightButton title={action.label} key={action.id} classes={[\"mr-3\"]} onClick={() => {\n                    handleActionClick(action);\n                  }}/>;\n              }\n            })}\n          </div>\n          {message}\n          <div className=\"bottom-container\">\n            <div className=\"message-container\">\n              <span>\n              <img src={InfoIcon} />\n                <span className=\"saveMessage\">\n                  Your answers will be saved when you continue to the next question.\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"field-container\">\n          <div className=\"actions\">\n            {actions.map((action) => {\n              switch (action.isChose) {\n                case true:\n                  return <DarkButton title={action.label} key={action.id} classes={[\"mr-3\"]} onClick={() => {\n                    handleActionClick(action);\n                  }}/>;\n                default:\n                  return <LightButton title={action.label} key={action.id} classes={[\"mr-3\"]} onClick={() => {\n                    handleActionClick(action);\n                  }}/>;\n              }\n            })}\n          </div>\n          {message}\n          <div className=\"bottom-container\">\n            <div className=\"message-container\">\n              <span>\n              <img src={InfoIcon} />\n                <span className=\"saveMessage\">\n                  Your answers will be saved when you continue to the next question.\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  renderInputsForm(question: Question) {\n    const {handleFormSubmit, serviceRegister, informationClassificationTaskResult} = {...this.props};\n    if (question.type !== \"input\") {\n      return;\n    }\n\n    const inputs: Array<AnswerInput> = _.get(question, \"inputs\", null);\n    if (!inputs) {\n      return null;\n    }\n\n    const initialValues = {};\n    inputs.forEach((input) => {\n      initialValues[input.id] = input.data || \"\";\n\n      // set radio button default value\n      if (input.type == \"radio\" && input.data === null && input.defaultRadioButtonValue) {\n          initialValues[input.id] = input.defaultRadioButtonValue;\n      }\n\n      // set checkbox default value\n      if (input.type == \"checkbox\" && input.data === null && input.defaultCheckboxValue) {\n          initialValues[input.id] = input.defaultCheckboxValue;\n      }\n\n      // set default value for information classification dropdown\n      if (input.type == \"information classification\" && input.data === null && informationClassificationTaskResult) {\n          initialValues[input.id] = informationClassificationTaskResult;\n      }\n    });\n\n    return <Formik\n      initialValues={initialValues}\n\n      validate={values => {\n        let errors = {};\n        inputs.forEach((input: AnswerInput) => {\n          const {id, type, required, label, minLength} = {...input};\n          const value = _.get(values, id, null);\n          const fieldLabel = (label ? label : \"field\");\n\n          // Required\n          if (required && (!value || value === \"[]\")) {\n            errors[id] = `Please enter a value for ${fieldLabel}`;\n\n            if (type === \"radio\" || type === \"checkbox\" || type === \"service register\") {\n                errors[id] = `Please select an option for ${fieldLabel}`;\n            }\n            return;\n          }\n\n          // Min Length\n          if (minLength > 0 && value && value.length < minLength) {\n            errors[id] = `Please enter a value with at least ${minLength} characters for ${fieldLabel}`;\n            return;\n          }\n\n          // Email\n          if (type === \"email\" &&\n            !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(value)) {\n            errors[id] = \"Invalid email address\";\n            return;\n          }\n\n          // Date validation\n          if (type === \"date\" || type === \"release date\") {\n            const date = moment(value, \"YYYY-MM-DD\");\n\n            if (!date.isValid()) {\n              errors[id] = \"Invalid date\";\n            }\n          }\n\n          if (type === \"product aspects\" && value &&\n            !/^[0-9a-zA-Z\\s\\n]+$/i.test(value)) {\n            errors[id] = \"Please enter alpha-numeric characters only.\";\n            return;\n          }\n        });\n\n        return errors;\n      }}\n      onSubmit={(values, formik) => {\n        handleFormSubmit(formik, values);\n      }}\n    >\n      {({handleChange, isSubmitting, errors, touched, setFieldValue, values}) => {\n        const filteredErrors = [];\n        _.keys(errors)\n          .filter(key => {\n            return Boolean(touched[key]);\n          })\n          .forEach(key => {\n            filteredErrors[key] = errors[key];\n          });\n\n        return (\n          <Form className=\"scroller\">\n              {inputs.map((input) => {\n                const {\n                  id,\n                  type,\n                  label,\n                  placeholder,\n                  options,\n                  defaultRadioButtonValue,\n                  defaultCheckboxValue,\n                  maxLength,\n                  required\n                } = {...input};\n\n                const errorMessage = _.get(filteredErrors, id, null);\n                const hasError = Boolean(errorMessage);\n                const classes = [];\n                if (hasError) {\n                  classes.push(\"error\");\n                }\n\n                if ([\"text\", \"email\", \"url\"].includes(type)) {\n                  return (\n                    <div key={id} className=\"field-container\">\n                      <div className=\"label\">\n                        <label className={required > 0 ? \"required\" : \"\"}>{label}</label>\n                      </div>\n                      <div>\n                        <Field type={type} name={id} className={classes.join(\" \")} placeholder={placeholder} maxLength={maxLength > 0 ? maxLength : 4096}/>\n                      </div>\n                      {\n                        hasError && (\n                          <div className=\"error-message-container\" key={\"error_\" + id}>\n                            <i className=\"fas fa-exclamation-circle text-danger ml-1 error-icon\"/>\n                            <span className=\"error-message\">{errorMessage}</span>\n                          </div>\n                        )\n                      }\n                    </div>\n                  );\n                }\n\n                if (type === \"radio\") {\n                  return (\n                    <div key={id} className=\"field-container\">\n                      <div className=\"label\">\n                        <label className={required > 0 ? \"required\" : \"\"}>{label}</label>\n                      </div>\n                      <div className={hasError ? \"radio-container-error radio-container\" : \"radio-container\"}>\n                        {options.length &&\n                          options.map((option, index) => {\n                            let checked = _.toString(option.value) === _.toString(values[id]);\n                            return (\n                              <div key={index} className={label===\"Accreditation level\"? \"accreditation-level-option radio-option\" : \"radio-option\"}>\n                                <label className=\"radio-label\">\n                                  <Field type=\"radio\" name={id} value={option.value} className={\"radio\"} checked={checked} />\n                                  {option.label}\n                                </label>\n                              </div>\n                            );\n                          })\n                        }\n                      </div>\n                      {\n                        hasError && (\n                          <div className=\"error-message-container\" key={\"error_\" + id}>\n                            <i className=\"fas fa-exclamation-circle text-danger ml-1 error-icon\"/>\n                            <span className=\"error-message\">{errorMessage}</span>\n                          </div>\n                        )\n                      }\n                    </div>\n                  );\n                }\n\n                if (type === \"checkbox\") {\n                  return (\n                    <div key={id} className=\"field-container\">\n                      <div className=\"label\">\n                        <label className={required > 0 ? \"required\" : \"\"}>{label}</label>\n                      </div>\n                      <div className={hasError ? \"checkbox-container-error checkbox-container\" : \"checkbox-container\"}>\n                        {options.length &&\n                          options.map((option, index) => {\n                            let groupCheckboxValueArr = values[id] ? JSON.parse(values[id]): [];\n                            const checked = groupCheckboxValueArr.includes(option.value);\n\n                            return (\n                              <div key={index}>\n                                <label className=\"checkbox-label\">\n                                  <input\n                                  type=\"checkbox\"\n                                  name={id}\n                                  className={\"checkbox\"}\n                                  checked={checked}\n                                  onChange={(event) => {\n                                    if (event.target.checked) {\n                                      groupCheckboxValueArr.push(option.value);\n                                    } else {\n                                      groupCheckboxValueArr.splice(groupCheckboxValueArr.indexOf(option.value), 1 );\n                                    }\n                                    setFieldValue(id, JSON.stringify(groupCheckboxValueArr));\n                                  }}\n                                  />\n                                  {option.label}\n                                </label>\n                              </div>\n                            );\n                          })\n                        }\n                      </div>\n                      {\n                        hasError && (\n                          <div className=\"error-message-container\" key={\"error_\" + id}>\n                            <i className=\"fas fa-exclamation-circle text-danger ml-1 error-icon\"/>\n                            <span className=\"error-message\">{errorMessage}</span>\n                          </div>\n                        )\n                      }\n                    </div>\n                  );\n                }\n\n                if (type === \"date\" || type === \"release date\") {\n                  return (\n                    <div key={id} className=\"field-container\">\n                      <div className=\"label\">\n                        <label className={required > 0 ? \"required\" : \"\"}>{label}</label>\n                      </div>\n                      <div>\n                        <Field name={id} render={({field}) => {\n                          let date = null;\n                          const dateValue = field.value || null;\n                          if (dateValue && dateValue.trim().length > 0) {\n                            date = moment(dateValue).toDate();\n                          }\n\n                          return (\n                            <DatePicker\n                                        dateFormat=\"dd-MM-yyyy\"\n                                        className={classes.join(\" \")}\n                                        selected={date}\n                                        onChange={(value) => {\n                                          if (!value) {\n                                            setFieldValue(id, null);\n                                            return;\n                                          }\n                                          const date = moment(value).format(\"YYYY-MM-DD\");\n                                          setFieldValue(id, date);\n                                        }}\n                                        placeholderText={placeholder}\n                                        dropdownMode=\"scroll\"\n                                        withPortal/>\n                          );\n                        }}/>\n                      </div>\n                      {\n                        hasError && (\n                          <div className=\"error-message-container\" key={\"error_\" + id}>\n                            <i className=\"fas fa-exclamation-circle text-danger ml-1 error-icon\"/>\n                            <span className=\"error-message\">{errorMessage}</span>\n                          </div>\n                        )\n                      }\n                    </div>\n                  );\n                }\n\n                if (type === \"textarea\" || type === \"product aspects\") {\n                  return (\n                    <div key={id} className=\"field-container\">\n                      <div className=\"label\">\n                        <label className={required > 0 ? \"required\" : \"\"}>{label}</label>\n                      </div>\n                      <div>\n                        <Field name={id}>\n                          {({field}) => {\n                            return <textarea {...field} className={classes.join(\" \")} placeholder={placeholder}/>;\n                          }}\n                        </Field>\n                        {\n                          hasError && (\n                            <div className=\"error-message-container\" key={\"error_\" + id}>\n                              <i className=\"fas fa-exclamation-circle text-danger ml-1 error-icon\"/>\n                              <span className=\"error-message\">{errorMessage}</span>\n                            </div>\n                          )\n                        }\n                      </div>\n                    </div>\n                  );\n                }\n\n                if (type === \"rich text editor\") {\n                  return (\n                    <div key={id} className=\"field-container\">\n                      {\n                        label && (\n                          <div className=\"label\">\n                            <label className={required > 0 ? \"required\" : \"\"}>{label}</label>\n                          </div>\n                      )}\n\n                      <div>\n                        <Editor\n                          className=\"implementation-evidence\"\n                          initialValue={initialValues[id]}\n                          init={{\n                            selector: 'textarea',\n                            height: \"280\",\n                            menubar: false,\n                            plugins: 'lists advlist',\n                            toolbar: '+ removeformat bold italic underline strikethrough bullist numlist',\n                            statusbar: false,\n                            skin_url: 'resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe'\n                          }}\n                          onBlur={(e) => {\n                            handleChange({\n                              target: {name: id, value: e.target.getContent()}\n                            })\n                          }}\n                        />\n                        {\n                          hasError && (\n                            <div className=\"error-message-container\" key={\"error_\" + id}>\n                              <i className=\"fas fa-exclamation-circle text-danger ml-1 error-icon\"/>\n                              <span className=\"error-message\">{errorMessage}</span>\n                            </div>\n                          )\n                        }\n                      </div>\n                    </div>\n                  );\n                }\n\n                if (type === \"service register\" || type === \"dropdown\" || type === \"information classification\") {\n                  let selectOptions = serviceRegister;\n\n                  if (type !== \"service register\") {\n                    selectOptions = options.map((option) => {\n                      return {\n                        value: option.value,\n                        label: option.label\n                      }\n                    })\n                  }\n\n                  return (\n                    <div key={id} className=\"field-container\">\n                      {\n                        label && (\n                          <div className=\"label\">\n                            <label className={required > 0 ? \"required\" : \"\"}>{label}</label>\n                          </div>\n                      )}\n\n                      <div className=\"dropdown-container\">\n                        <Select\n                          name={id}\n                          options={selectOptions}\n                          defaultValue={\n                            (\n                              initialValues[id] &&\n                              selectOptions.find(option => option.value === JSON.parse(initialValues[id]).value)\n                            ) ? JSON.parse(initialValues[id]) : ''\n                          }\n                          classNamePrefix=\"react-select\"\n                          className={hasError? \"react-select-error\" : \"\"}\n                          maxMenuHeight={250}\n                          placeholder=\"Select\"\n                          onChange={(selectedOption) => {\n                            handleChange({\n                              target: {name: id, value: JSON.stringify(selectedOption)}\n                            })\n                          }}\n                        />\n                      </div>\n                      {\n                        hasError && (\n                          <div className=\"error-message-container\" key={\"error_\" + id}>\n                            <i className=\"fas fa-exclamation-circle text-danger ml-1 error-icon\"/>\n                            <span className=\"error-message\">{errorMessage}</span>\n                          </div>\n                        )\n                      }\n                    </div>\n                  )\n                }\n              return null;\n            })}\n            <div className=\"bottom-container\">\n              <div className=\"message-container\">\n                <span>\n                <img src={InfoIcon} />\n                  <span className=\"saveMessage\">\n                    Your answers will be saved when you continue to the next question.\n                  </span>\n                </span>\n              </div>\n              <div className=\"button-container\">\n                <DarkButton title=\"Next\" rightIconImage={ChevronIcon}/>\n              </div>\n            </div>\n          </Form>\n        );\n      }}\n    </Formik>;\n  }\n}\n\nexport default QuestionForm;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {FormikBag} from \"formik\";\nimport type {AnswerAction, Question, Submission} from \"../../types/Questionnaire\";\nimport LeftBar from \"./LeftBar\";\nimport QuestionForm from \"./QuestionForm\";\nimport _ from \"lodash\";\n\ntype Props = {\n  questions: Array<Question>,\n  saveAnsweredQuestion: (question: Question) => void,\n  onLeftBarItemClick: (question: Question) => void,\n  serviceRegister: Array<*>,\n  informationClassificationTaskResult: string,\n  riskProfileData: Array<*>,\n  resultForCertificationAndAccreditation: Array<*>\n};\n\nclass Questionnaire extends Component<Props> {\n\n  handleFormSubmit(formik: FormikBag, values: Object) {\n    const {questions, saveAnsweredQuestion} = {...this.props};\n\n    // Generate new question with data\n    const currentQuestion = questions.find((question) => {\n      return question.isCurrent === true;\n    });\n    if (!currentQuestion) {\n      return;\n    }\n\n    const answeredQuestion = {...currentQuestion};\n    _.forIn(values, (value, key) => {\n      const index = answeredQuestion.inputs.findIndex((item) => item.id === key);\n      if(index >= 0) {\n        _.set(answeredQuestion, `inputs.${index}.data`, value)\n      }\n    });\n    answeredQuestion.hasAnswer = true;\n    answeredQuestion.isApplicable = true;\n\n    saveAnsweredQuestion(answeredQuestion)\n  }\n\n  handleActionClick(action: AnswerAction) {\n    const {questions, saveAnsweredQuestion} = {...this.props};\n\n    // Generate new question with data\n    const currentQuestion = questions.find((question) => {\n      return question.isCurrent === true;\n    });\n    if (!currentQuestion) {\n      return;\n    }\n\n    const answeredQuestion = {...currentQuestion};\n    answeredQuestion.actions = answeredQuestion.actions.map((item) => {\n      item.isChose = (item.id === action.id);\n      return item;\n    });\n    answeredQuestion.hasAnswer = true;\n    answeredQuestion.isApplicable = true;\n\n    saveAnsweredQuestion(answeredQuestion);\n  }\n\n  handleNextButtonClickForDisplayField() {\n    const {questions, saveAnsweredQuestion} = {...this.props};\n\n    // Generate new question with data\n    const currentQuestion = questions.find((question) => {\n      return question.isCurrent === true;\n    });\n    if (!currentQuestion) {\n      return;\n    }\n\n    const answeredQuestion = {...currentQuestion};\n    answeredQuestion.hasAnswer = true;\n    answeredQuestion.isApplicable = true;\n\n    saveAnsweredQuestion(answeredQuestion);\n  }\n\n  render() {\n    const {\n      questions,\n      onLeftBarItemClick,\n      serviceRegister,\n      informationClassificationTaskResult,\n      riskProfileData,\n      resultForCertificationAndAccreditation,\n      handleTaskSaveDraftButtonClick,\n      handleTaskSubmitButtonClick,\n      loadResultForCertificationAndAccreditation\n    } = {...this.props};\n\n    const currentQuestion = questions.find((question) => {\n      return question.isCurrent === true;\n    });\n\n    const currentQuestionIndex = questions.findIndex((question) => question.id === currentQuestion.id);\n\n    return (\n      <div className=\"Questionnaire mx-1\">\n        <div className=\"major\">\n          <div className=\"title\">Questions</div>\n          <div className=\"form-container\">\n            <LeftBar questions={questions} onItemClick={onLeftBarItemClick}/>\n            {\n              currentQuestion &&\n              <QuestionForm\n                index={currentQuestionIndex}\n                key={currentQuestion.id}\n                question={currentQuestion}\n                serviceRegister={serviceRegister}\n                riskProfileData={riskProfileData}\n                resultForCertificationAndAccreditation={resultForCertificationAndAccreditation}\n                loadResultForCertificationAndAccreditation={loadResultForCertificationAndAccreditation}\n                informationClassificationTaskResult={informationClassificationTaskResult}\n                handleTaskSaveDraftButtonClick={handleTaskSaveDraftButtonClick}\n                handleFormSubmit={this.handleFormSubmit.bind(this)}\n                handleActionClick={this.handleActionClick.bind(this)}\n                handleNextButtonClickForDisplayField={this.handleNextButtonClickForDisplayField.bind(this)}\n              />\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Questionnaire;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport {\n  loadQuestionnaireSubmissionState,\n  moveAfterQuestionAnswered, moveToPreviousQuestion,\n  putDataInQuestionnaireAnswer,\n} from \"../../actions/questionnaire\";\nimport type {QuestionnaireSubmissionState} from \"../../store/QuestionnaireState\";\nimport Questionnaire from \"./Questionnaire\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {Question} from \"../../types/Questionnaire\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    submissionState: state.questionnaireState.submissionState,\n    loadingState: state.loadingState\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    dispatchLoadSubmissionAction(submissionHash: string) {\n      dispatch(loadQuestionnaireSubmissionState(submissionHash));\n    },\n    dispatchSaveAnsweredQuestionAction(answeredQuestion: Question) {\n      dispatch(putDataInQuestionnaireAnswer(answeredQuestion));\n    },\n    dispatchMoveToPreviousQuestionAction(targetQuestion: Question) {\n      dispatch(moveToPreviousQuestion(targetQuestion));\n    }\n  };\n};\n\ntype ownProps = {\n  submissionHash: string\n};\n\ntype reduxProps = {\n  submissionState: QuestionnaireSubmissionState,\n  dispatchLoadSubmissionAction: (submissionHash: string) => void,\n  dispatchSaveAnsweredQuestionAction: (answeredQuestion: Question) => void,\n  dispatchMoveToPreviousQuestionAction: (targetQuestion: Question) => void,\n  loadingState: object<*>\n};\n\ntype Props = ownProps & reduxProps;\n\nclass QuestionnaireContainer extends Component<Props> {\n\n  componentDidMount() {\n    const {submissionHash, dispatchLoadSubmissionAction} = {...this.props};\n    dispatchLoadSubmissionAction(submissionHash);\n  }\n\n  render() {\n    const {dispatchSaveAnsweredQuestionAction, dispatchMoveToPreviousQuestionAction, loadingState} = {...this.props};\n    const {title, siteConfig, user, submission} = {...this.props.submissionState};\n\n    if (!user || !submission || !siteConfig) {\n      return null;\n    }\n\n    if (loadingState['QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE']) {\n      return null;\n    }\n\n    if (submission.status !== \"in_progress\") {\n      return (\n        <div className=\"QuestionnaireContainer\">\n          <Header\n            title={title}\n            subtitle={siteConfig.siteTitle}\n            username={user.name}\n            logopath={siteConfig.logoPath}\n          />\n          <div className=\"questionnaire-message\">\n            <h4>\n              The questionnaire is not in progress. Please check the summary screen.\n            </h4>\n          </div>\n          <Footer\n            footerCopyrightText={siteConfig.footerCopyrightText}\n          />\n        </div>\n      );\n    }\n\n    if (user.id === submission.submitter.id) {\n      return (\n        <div className=\"QuestionnaireContainer\">\n          <Header\n            title={title}\n            subtitle={siteConfig.siteTitle}\n            logopath={siteConfig.logoPath}\n            username={user.name}\n          />\n          <Questionnaire\n            questions={submission.questions}\n            saveAnsweredQuestion={(answeredQuestion) => {\n              dispatchSaveAnsweredQuestionAction(answeredQuestion);\n            }}\n            onLeftBarItemClick={(targetQuestion) => {\n              dispatchMoveToPreviousQuestionAction(targetQuestion);\n            }}\n          />\n          <Footer\n            footerCopyrightText={siteConfig.footerCopyrightText}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"QuestionnaireContainer\">\n        <Header\n          title={title}\n          subtitle={siteConfig.siteTitle}\n          username={user.name}\n          logopath={siteConfig.logoPath}\n        />\n        <div className=\"questionnaire-message\">\n          <h4>\n            It appears this submission has not yet been submitted.\n            Only the submitter can edit a submission and must submit\n            before it can be reviewed.\n          </h4>\n        </div>\n        <Footer\n          footerCopyrightText={siteConfig.footerCopyrightText}\n        />\n      </div>\n    );\n\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(QuestionnaireContainer);\n","// @flow\n\nimport React, {Component} from \"react\";\nimport type {AnswerAction, AnswerInput, Question, Submission} from \"../../types/Questionnaire\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\n\ntype Props = {\n  questions: Array<Question>\n};\n\nclass AnswersPreview extends Component<Props> {\n\n  render() {\n    const {questions} = {...this.props};\n\n    return (\n      <div className=\"AnswersPreview\">\n        <div className=\"questions\">\n          {questions.map((question, index, all) => {\n            const renderedData = this.renderData(question);\n            return (\n              <div className=\"row\" key={question.id}>\n                <div className=\"col\">\n                  <b>{index + 1}. {question.heading}</b>\n                </div>\n                <div className=\"vertical-divider\"/>\n                <div className=\"col\">\n                  {renderedData}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  renderData (question: Question): * {\n    // Render data for non-applicable question\n    if (!question.isApplicable) {\n      const msg = \"(Not applicable)\";\n      return (\n        <div>{msg}</div>\n      );\n    }\n\n    // Render data for non-answered question\n    if (!question.hasAnswer) {\n      const msg = \"(Has no answer)\";\n      return (\n        <div>{msg}</div>\n      );\n    }\n\n    // Render data for input\n    if (question.type === \"input\" && question.inputs && Array.isArray(question.inputs) && question.inputs.length > 0) {\n      const renderInputData = (input: AnswerInput) => {\n        let data: string = input.data || \"\";\n\n        // Format date\n        if (input.type === \"date\" || input.type === \"release date\") {\n          data = moment(data).format(\"DD-MM-YYYY\");\n        }\n\n        // Format textarea and \"product aspects\"\n        if (input.type === \"textarea\" || input.type === \"product aspects\") {\n          data = \"\\n\" + data;\n        }\n\n        // Format radio button data: replace value with label\n        if (input.type === \"radio\" && data) {\n          const option = input.options.find((option => {\n            return option.value === data\n          }));\n          if (option) {\n            data = option.label;\n          }\n        }\n\n        // Format checkbox data: replace value with label\n        if (input.type === \"checkbox\" && data && data !== \"[]\") {\n          const selectedOptions = JSON.parse(data);\n\n          const dataArr = input.options.filter((option) => {\n            return selectedOptions.includes(option.value);\n          }).map((option) => {\n            return option.label;\n          })\n\n          data = dataArr.join(', ');\n        }\n\n        return data;\n      };\n\n      // For multiple-inputs question, display their labels\n      if (question.inputs.length > 1) {\n        return (\n          <div>\n            {question.inputs.map((input => {\n              const data = renderInputData(input);\n              return (\n                <div key={input.id}>\n                  <b>{input.label}</b>&nbsp;\n                  <span>-</span>&nbsp;\n                  <span>{data}</span>\n                </div>\n              );\n            }))}\n          </div>\n        );\n      }\n\n      // For single-input question, display its answer directly\n      return (\n        <div>\n          {renderInputData(question.inputs[0]).trim()}\n        </div>\n      );\n    }\n\n    // Render data for action\n    if (question.type === \"action\" && question.actions && Array.isArray(question.actions)) {\n      let action: AnswerAction = _.head(question.actions.filter((action) => action.isChose));\n\n      return (\n        <div>\n          {action && <div>{action.label}</div>}\n        </div>\n      );\n    }\n  }\n}\n\nexport default AnswersPreview;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport type {Submission} from \"../../types/Questionnaire\";\nimport LightButton from \"../Button/LightButton\";\nimport DarkButton from \"../Button/DarkButton\";\nimport pdfIcon from \"../../../img/icons/download.svg\";\nimport editIcon from \"../../../img/icons/edit-icon.svg\";\nimport AnswersPreview from \"./AnswersPreview\";\nimport SubmissionDataUtil from \"../../utils/SubmissionDataUtil\";\nimport URLUtil from \"../../utils/URLUtil\";\n\ntype Props = {\n  secureToken: string,\n  submission: Submission | null,\n  handleSubmitButtonClick: () => void,\n  handlePDFDownloadButtonClick: () => void,\n  handleEditAnswerButtonClick: () => void,\n};\n\nclass Review extends Component<Props> {\n\n  render() {\n    const {\n      submission,\n      viewAs,\n      secureToken,\n      handleSubmitButtonClick,\n      handlePDFDownloadButtonClick,\n      handleEditAnswerButtonClick,\n    } = {...this.props};\n\n    if (!submission) {\n      return null;\n    }\n\n    const alreadySubmittedAlert = (\n      <div className=\"alert alert-success text-center\">\n        This questionnaire has already been submitted.\n      </div>\n    )\n\n    const buttons = (\n      <div className=\"buttons\">\n      <LightButton title=\"Edit\"\n                   iconImage={editIcon}\n                   classes={[\"button\"]}\n                   onClick={handleEditAnswerButtonClick}/>\n      <LightButton title=\"PDF\"\n                   iconImage={pdfIcon}\n                   classes={[\"button\"]}\n                   onClick={handlePDFDownloadButtonClick}/>\n      <DarkButton title=\"SUBMIT QUESTIONNAIRE\"\n                  classes={[\"button\"]}\n                  disabled={SubmissionDataUtil.existsUnansweredQuestion(submission.questions)}\n                  onClick={handleSubmitButtonClick}/>\n      </div>\n    );\n\n    const summaryButton = (\n      <div className=\"buttons\">\n      <LightButton title=\"BACK TO SUMMARY\"\n                   classes={[\"button\"]}\n                   onClick={() => URLUtil.redirectToQuestionnaireSummary(submission.submissionUUID, secureToken)}/>\n      </div>\n    );\n\n    return (\n      <div className=\"Review\">\n        {submission.status !== \"in_progress\" && alreadySubmittedAlert}\n        <AnswersPreview questions={submission.questions}/>\n        {(viewAs === 'submitter' && (submission.status === \"in_progress\" || submission.status === \"submitted\")) && buttons}\n        {(viewAs !== 'submitter') && summaryButton}\n      </div>\n    );\n  }\n}\n\nexport default Review;\n","// @flow\n\nexport default class StringUtil {\n\n  static toString(any: *) {\n    if(!any) {\n      return \"\";\n    }\n    return `${any}`;\n  }\n}\n","// @flow\n\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport vfsFonts from \"pdfmake/build/vfs_fonts\";\nimport type {AnswerAction, AnswerInput, Question} from \"../types/Questionnaire\";\nimport React from \"react\";\nimport StringUtil from \"./StringUtil\";\nimport _ from \"lodash\";\nimport type {User} from \"../types/User\";\nimport moment from \"moment\";\nimport SiteConfigParser from \"../utils/SiteConfigParser\";\n\ntype GeneratePDFArgument = {\n  questions: Array<Question>,\n  submitter: User,\n  questionnaireTitle: string\n}\n\nasync function getImageDataByBlob(blob: Blob): Promise<string> {\n  return new Promise((resolve) => {\n    const reader = new FileReader();\n    reader.addEventListener(\"load\", (event: *) => {\n      resolve(event.target.result);\n    });\n    reader.readAsDataURL(blob);\n  });\n}\n\nasync function getImageDataByURL(imageURL: string) {\n  const response = await fetch(imageURL || fallback);\n  const blob = await response.blob();\n  const data = await getImageDataByBlob(blob);\n  return data;\n}\n\nexport default class PDFUtil {\n\n  static async generatePDF(args: GeneratePDFArgument) {\n    const {questions, submitter, questionnaireTitle, siteConfig, result, riskResults} = {...args};\n\n    const defaultFontSize = 12;\n    const content = [];\n    const styles = {\n      questionnaireTitle: {\n        bold: true,\n        fontSize: defaultFontSize + 4,\n        color: \"#004071\",\n        alignment: \"center\"\n      },\n      siteTitle: {\n        bold: true,\n        fontSize: defaultFontSize ,\n        color: \"#004071\",\n        alignment: \"center\"\n      },\n      sectionHeading: {\n        bold: true,\n        fontSize: defaultFontSize + 2,\n        color: \"#004071\"\n      },\n      questionHeading: {\n        bold: true,\n      },\n    };\n    const defaultStyle = {\n      fontSize: defaultFontSize\n    };\n    const info = {\n      title: `${questionnaireTitle} - ${submitter.name}.pdf`\n    };\n\n    const {vfs} = vfsFonts.pdfMake;\n    pdfMake.vfs = vfs;\n\n    // Header image\n    const headingImageData = await getImageDataByURL(siteConfig.pdfHeaderImageLink);\n\n    content.push({\n      image: headingImageData,\n      width: 500, // Page size A4 in 72 dpi (web) = 595 X 842 pixels,\n      margin: [0, 0, 0, defaultFontSize]\n    });\n\n    // Questionnaire title\n    content.push({\n      text: questionnaireTitle,\n      style: \"questionnaireTitle\",\n      margin: [0, 0, 0, defaultFontSize / 2],\n    });\n\n    // Site title\n    content.push({\n      text: siteConfig.siteTitle,\n      style: \"siteTitle\",\n      margin: [0, 0, 0, defaultFontSize * 2],\n    });\n\n    // Submitter info\n    content.push({\n      text: `Submitted by:`,\n      style: \"sectionHeading\",\n      margin: [0, 0, 0, defaultFontSize],\n    });\n\n    content.push({\n      text: `Name: ${submitter.name}`,\n      style: \"questionHeading\",\n      margin: [0, 0, 0, defaultFontSize / 2],\n    });\n\n    content.push({\n      text: `Email: ${submitter.email}`,\n      margin: [0, 0, 0, defaultFontSize * 2],\n    });\n\n    if (result) {\n      content.push({\n        text: `Result:`,\n        style: \"sectionHeading\",\n        margin: [0, 0, 0, defaultFontSize],\n      });\n      content.push({\n        text: `${result}`,\n        margin: [0, 0, 0, defaultFontSize * 2],\n      });\n    }\n\n    // Response heading\n    content.push({\n      text: `Responses`,\n      style: \"sectionHeading\",\n      margin: [0, 0, 0, defaultFontSize],\n    });\n\n    // Questions\n    questions.forEach((question, index) => {\n      // Heading of questions\n      content.push({\n        text: `${index + 1}. ${question.heading}`,\n        style: \"questionHeading\",\n        margin: [0, 0, 0, defaultFontSize / 2],\n      });\n\n      // Non-applicable questions\n      if (!question.isApplicable) {\n        content.push({\n          text: \"(Not applicable)\",\n          margin: [0, 0, 0, defaultFontSize],\n        });\n        return;\n      }\n\n      // Empty-answer questions\n      if (!question.hasAnswer) {\n        content.push({\n          text: \"(Has no answer)\",\n          margin: [0, 0, 0, defaultFontSize],\n        });\n        return;\n      }\n\n      // Input-type questions\n      if (question.type === \"input\" && question.inputs && Array.isArray(question.inputs) && question.inputs.length > 0) {\n        const renderInputData = (input: AnswerInput) => {\n          let data: string = input.data || \"\";\n          // Format data\n          if (input.type === \"date\") {\n            data = moment(data).format(\"DD-MM-YYYY\");\n          }\n          // Format textarea or \"product aspects\"\n          if (input.type === \"textarea\" || input.type === \"product aspects\") {\n            data = \"\\n\" + data;\n          }\n\n          // Format radio button data: replace value with label\n          if (input.type === \"radio\" && data) {\n            const option = input.options.find((option => {\n              return option.value === data\n            }));\n            if (option) {\n              data = option.label;\n            }\n          }\n\n          // Format checkbox data: replace value with label\n          if (input.type === \"checkbox\" && data && data !== \"[]\") {\n            const selectedOptions = JSON.parse(data);\n\n            const dataArr = input.options.filter((option) => {\n              return selectedOptions.includes(option.value);\n            }).map((option) => {\n              return option.label;\n            })\n\n            data = dataArr.join(', ');\n          }\n\n          return data;\n        };\n\n        // For multiple-inputs question, display their labels\n        if (question.inputs.length > 1) {\n          question.inputs.forEach((input, index, arr) => {\n            const isLast = (index === arr.length - 1);\n            content.push({\n              text: `${input.label}: ${StringUtil.toString(renderInputData(input))}`,\n              margin: [0, 0, 0, isLast ? defaultFontSize : parseInt(`${defaultFontSize / 3}`)],\n            });\n          });\n          return;\n        }\n\n        // For single-input question, display its answer directly\n        content.push({\n          text: renderInputData(question.inputs[0]).trim(),\n          margin: [0, 0, 0, defaultFontSize],\n        });\n        return;\n      }\n\n      // Action-type questions\n      if (question.type === \"action\" && question.actions && Array.isArray(question.actions)) {\n        let action: AnswerAction = _.head(question.actions.filter((action) => action.isChose));\n        content.push({\n          text: action.label,\n          margin: [0, 0, 0, defaultFontSize],\n        });\n      }\n    });\n\n    if(typeof riskResults === 'object' && riskResults.length > 0) {\n      let results = [\n        [\n          { text: 'Risk Name', bold: true, alignment: 'center' },\n          { text: 'Weights', bold: true, alignment: 'center' },\n          { text: 'Score', bold: true, alignment: 'center' },\n          { text: 'Rating', bold: true, alignment: 'center' },\n        ]\n      ];\n      riskResults.forEach(function(result, i){\n        let resultObj = { text: result.rating, alignment: 'center', color: '#'+result.colour, bold: true };\n\n        if (result.rating == 'Unknown') {\n          resultObj = { text: 'Unknown', alignment: 'center', color: '#000000', bold: true };\n        }\n\n\n        results.push([\n          { text: result.riskName },\n          result.weights,\n          result.score,\n          resultObj\n        ])\n      })\n      content.push({\n        table: {\n          headerRows: 1,\n          //actual rendered width of footer and header images\n          widths: [237, 75, 75, 75],\n          body: results\n        },\n        width: 500,\n        margin: [0, 0, 0, defaultFontSize]\n      });\n    }\n\n    // Footer image\n    const footerImageData = await getImageDataByURL(siteConfig.pdfFooterImageLink);\n\n    content.push({\n      image: footerImageData,\n      width: 500,\n      margin: [0, 0, 0, defaultFontSize]\n    });\n\n    try {\n      await pdfMake.createPdf({info, content, styles, defaultStyle}).download(info.title);\n    } catch {\n      alert(\"Unable to generate your PDF. Maybe you have a browser Ad-Block extension enabled?\");\n    }\n\n  }\n\n  static async blobToDataURL(blob: Blob): Promise<string> {\n    return new Promise((resolve) => {\n      const reader = new FileReader();\n      reader.onload = function(event) {\n        resolve(event.target.result);\n      };\n      reader.readAsDataURL(blob);\n    });\n  }\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {QuestionnaireSubmissionState} from \"../../store/QuestionnaireState\";\nimport {loadQuestionnaireSubmissionState, submitQuestionnaire} from \"../../actions/questionnaire\";\nimport Review from \"./Review\";\nimport PDFUtil from \"../../utils/PDFUtil\";\nimport _ from \"lodash\";\nimport URLUtil from \"../../utils/URLUtil\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    submissionState: state.questionnaireState.submissionState,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    dispatchLoadSubmissionAction(submissionHash: string) {\n      dispatch(loadQuestionnaireSubmissionState(submissionHash));\n    },\n    dispatchSubmitQuestionnaire() {\n      dispatch(submitQuestionnaire());\n    },\n  };\n};\n\ntype ownProps = {\n  submissionHash: string,\n  secureToken: string\n};\n\ntype reduxProps = {\n  submissionState: QuestionnaireSubmissionState,\n  dispatchLoadSubmissionAction: (submissionHash: string) => void,\n  dispatchSubmitQuestionnaire: () => void,\n};\n\ntype Props = ownProps & reduxProps;\n\nclass ReviewContainer extends Component<Props> {\n\n  componentDidMount() {\n    const {submissionHash, dispatchLoadSubmissionAction} = {...this.props};\n    dispatchLoadSubmissionAction(submissionHash);\n  }\n\n  render() {\n    const {secureToken} = {...this.props};\n    const {\n      title,\n      siteConfig,\n      user,\n      submission,\n      isCurrentUserApprover,\n      isCurrentUserABusinessOwnerApprover\n    } = {...this.props.submissionState};\n\n    if (!user || !siteConfig) {\n      return null;\n    }\n\n    let viewAs = \"others\";\n\n    do {\n      // Check if the current user is the submitter\n      if (user.id === submission.submitter.id) {\n        viewAs = \"submitter\";\n        break;\n      }\n\n      // Check if the current user is an approver\n      if (isCurrentUserApprover) {\n        viewAs = \"approver\";\n        break;\n      }\n\n      // Check if the current user is an approver\n      if (isCurrentUserABusinessOwnerApprover && submission.status == 'waiting_for_approval') {\n        viewAs = \"businessOwnerApprover\";\n        break;\n      }\n    } while (false);\n\n    return (\n      <div className=\"ReviewContainer\">\n        <Header title={title} subtitle=\"Review Responses\" username={user.name} logopath={siteConfig.logoPath}/>\n        <Review siteTitle={siteConfig.siteTitle}\n          viewAs={viewAs}\n          submission={submission}\n          secureToken={secureToken}\n          handleSubmitButtonClick={this.handleSubmitButtonClick.bind(this)}\n          handlePDFDownloadButtonClick={this.handlePDFDownloadButtonClick.bind(this)}\n          handleEditAnswerButtonClick={this.handleEditAnswerButtonClick.bind(this)}/>\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n\n  handleSubmitButtonClick() {\n    this.props.dispatchSubmitQuestionnaire();\n  }\n\n  handlePDFDownloadButtonClick() {\n    const {submission, siteTitle, siteConfig} = {...this.props.submissionState};\n    if (!submission || !siteConfig) {\n      return;\n    }\n\n    PDFUtil.generatePDF({\n      questions: submission.questions,\n      submitter: submission.submitter,\n      questionnaireTitle: submission.questionnaireTitle,\n      siteConfig: siteConfig,\n    });\n  }\n\n  handleEditAnswerButtonClick() {\n    const uuid = _.get(this.props.submissionState, \"submission.submissionUUID\", \"\");\n    if (!uuid) {\n      return;\n    }\n    URLUtil.redirectToQuestionnaireEditing(uuid);\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ReviewContainer);\n","// @flow\n\nimport type {User} from \"../types/User\";\nimport GraphQLRequestHelper from \"../utils/GraphQLRequestHelper\";\nimport _ from \"lodash\";\nimport UserParser from \"../utils/UserParser\";\n\nexport default class UserDataService {\n\n  static async fetchCurrentUser(): Promise<User> {\n    const query = `\nquery {\n  readMember(Type: \"Current\") {\n    ID\n    Email\n    FirstName\n    Surname\n    IsSA\n    IsCISO\n  }\n}`;\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n\n    const currentMemberJSONObject = _.get(responseJSONObject, \"data.readMember.0\", null);\n    if (!currentMemberJSONObject) {\n      throw new Error(\"Authenticate error\");\n    }\n\n    const user = UserParser.parseUserFromJSON(currentMemberJSONObject);\n    if (!user.id) {\n      throw new Error(\"Authenticate error\");\n    }\n\n    return user;\n  }\n\n  static async fetchMembers(): Promise<User> {\n    const query = `\nquery {\n  readMember(Type: \"All\") {\n    ID\n    FirstName\n    Surname\n  }\n}`;\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n\n    const memberJSONObject = _.get(responseJSONObject, \"data.readMember\", null);\n    if (!memberJSONObject) {\n      throw new Error(\"Authenticate error\");\n    }\n\n    const members = UserParser.parserMemberFromJSON(memberJSONObject);\n    return members;\n  }\n}\n","// @flow\nimport {ThunkAction} from \"redux-thunk\";\nimport type {\n  SetCurrentUserAction,\n  LoadMembersAction\n} from \"./ActionType\";\nimport ActionType from \"./ActionType\";\nimport UserDataService from \"../services/UserDataService\";\nimport ErrorUtil from \"../utils/ErrorUtil\";\n\nexport function loadCurrentUser(): ThunkAction {\n  return async (dispatch) => {\n    // TODO: loading\n    try {\n      const user = await UserDataService.fetchCurrentUser();\n      const action: SetCurrentUserAction = {\n        type: ActionType.USER.SET_CURRENT_USER,\n        payload: user,\n      };\n      dispatch(action);\n    }\n    catch (error) {\n      // TODO: errors\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\nexport function loadMember(): ThunkAction {\n  return async (dispatch) => {\n    try {\n      const members = await UserDataService.fetchMembers();\n      const action: LoadMembersAction = {\n        type: ActionType.USER.LOAD_MEMBER,\n        payload: members\n      }\n      dispatch(action);\n    }\n    catch (error) {\n      // TODO: errors\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport BaseButton from \"./BaseButton\";\n\ntype Props = {\n  title: string,\n  disabled: boolean,\n  classes: Array<string>,\n  onClick: (event: Event) => void,\n  iconImage?: string\n};\n\nclass RedButton extends Component<Props> {\n\n  static defaultProps = {\n    title: \"\",\n    disabled: false,\n    classes: [],\n    onClick: () => {},\n  };\n\n  render() {\n    return <BaseButton {...this.props} classes={[\"RedButton\", ...this.props.classes]} />;\n  }\n}\n\nexport default RedButton;\n","// @flow\n// this file is used on both Risk questionnaire and task\nimport React, {Component} from \"react\";\nimport type {RiskResult} from \"../../types/Questionnaire\";\n\ntype Props = {\n  riskResults: Array<RiskResult> | null,\n};\n\nclass RiskResultContainer extends Component<Props> {\n  render() {\n    const {riskResults, hideWeightsAndScore} = {...this.props};\n\n    if (!riskResults || riskResults.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"risk-result-container\">\n        <h4>Risk Result</h4>\n\n        <div className=\"table-responsive table-continer\">\n          <table className=\"table\">\n            <thead className=\"\">\n              <tr key=\"risk_table_header\">\n                <th>Risk Name</th>\n                {\n                  (!hideWeightsAndScore) && (\n                    <th>Weights</th>\n                  )\n                }\n                {\n                  (!hideWeightsAndScore) && (\n                    <th>Score</th>\n                  )\n                }\n                <th>Rating</th>\n              </tr>\n            </thead>\n            <tbody>\n              {riskResults.map((riskResult, index): RiskResult => {\n                return (\n                  <tr key={index+1}>\n                    <td>\n                      {riskResult.riskName}\n                    </td>\n                    {\n                      !hideWeightsAndScore && (\n                        <td>\n                          {riskResult.weights}\n                        </td>\n                      )\n                    }\n                    {\n                      !hideWeightsAndScore && (\n                        <td>\n                          {riskResult.score}\n                        </td>\n                      )\n                    }\n                    <td style={{color:'#' + riskResult.colour}}>\n                      {riskResult.rating}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RiskResultContainer;\n","import React, {Component} from \"react\";\nimport {Submission} from \"../types/Questionnaire\"\nimport {\n  SRA_IS_FINALISED_MESSAGE\n} from '../constants/values';\n\n\nexport default class SecurityRiskAssessmentUtil {\n  static isSRATaskFinalised(allTaskSubmissions) {\n    return allTaskSubmissions.filter(\n      (ts) => ts.taskType === 'security risk assessment' && ts.status === 'complete'\n    ).length > 0;\n  };\n\n  static isSiblingTaskPending(allTaskSubmissions) {\n    const status = ['start', 'in_progress', 'waiting_for_approval'];\n    return allTaskSubmissions.filter(\n      (ts) => ts.taskType !== 'security risk assessment' && ts.taskType == 'control validation audit' && status.includes(ts.status)\n    ).length > 0;\n  };\n\n  static getSraIsFinalisedAlert() {\n    return (\n      <div className=\"alert alert-success text-center\">\n        {SRA_IS_FINALISED_MESSAGE}\n      </div>\n    );\n  };\n}\n","// @flow\n\n//this is the highest possible threshold score on the security risk assessment matrix\nexport const DEFAULT_SRA_MATRIX_THRESHOLD_SCORE = 100;\nexport const DEFAULT_SRA_UNFINISHED_TASKS_MESSAGE = 'Please complete all tasks to see the Security Risk Assessment';\nexport const DEFAULT_CVA_CONTROLS_ANSWER_YES = 'Yes';\nexport const DEFAULT_CVA_CONTROLS_ANSWER_NO = 'No';\nexport const DEFAULT_CVA_CONTROLS_ANSWER_NOT_APPLICABLE = 'N/A';\nexport const CTL_STATUS_1 = 'Realised';\nexport const CTL_STATUS_2 = 'Intended';\nexport const CTL_STATUS_3 = 'Not Applicable';\nexport const DEFAULT_NO_CONTROLS_MESSAGE = 'There are no controls for the component.';\nexport const DEFAULT_CVA_UNFINISHED_TASKS_MESSAGE = 'No components have been selected. Please complete the component selection task with at least one component selected.';\nexport const SRA_IS_FINALISED_MESSAGE = 'The security risk assessment is finalised.  The tasks can no longer be edited and will be included in the Certification and Accreditation Report. If you need to change your task answers, you will need to submit a new questionnaire.';\n","// @flow\nimport React, {Component} from \"react\";\n\nexport class SubmissionExpired extends Component {\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"alert alert-danger\">\n          The submission you are attempting to view does not exist or has expired.\n          Please follow <a href=\"/\">this link</a> to the homepage where you can create a new submission.\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport type {Submission} from \"../../types/Questionnaire\";\nimport LightButton from \"../Button/LightButton\";\nimport DarkButton from \"../Button/DarkButton\";\nimport RedButton from \"../Button/RedButton\";\nimport pdfIcon from \"../../../img/icons/download.svg\";\nimport editIcon from \"../../../img/icons/edit-icon.svg\";\nimport approveIcon from \"../../../img/icons/approve.svg\";\nimport notApprovedIcon from \"../../../img/icons/not-approved.svg\";\nimport awaitingApprovalIcon from \"../../../img/icons/awaiting-approval.svg\";\nimport inProgressIcon from \"../../../img/icons/in-progress.svg\";\nimport startIcon from \"../../../img/icons/start.svg\";\nimport submittedIcon from \"../../../img/icons/submitted.svg\";\nimport incompleteTasksIcon from \"../../../img/icons/incomplete-tasks.svg\";\nimport chevronRightIcon from \"../../../img/icons/chevron-right-link.svg\";\nimport submitSubmissionIcon from \"../../../img/icons/submit-submission.svg\";\nimport _ from \"lodash\";\nimport URLUtil from \"../../utils/URLUtil\";\nimport SubmissionDataUtil from \"../../utils/SubmissionDataUtil\";\nimport type {User} from \"../../types/User\";\nimport type {Collaborator} from \"../../types/User\";\nimport RiskResultContainer from \"../Common/RiskResultContainer\";\nimport {\n  DEFAULT_SRA_UNFINISHED_TASKS_MESSAGE\n} from \"../../constants/values\";\nimport SecurityRiskAssessmentUtil from \"../../utils/SecurityRiskAssessmentUtil\";\nimport {SubmissionExpired} from \"../Common/SubmissionExpired\";\nimport AddIcon from \"../../../img/icons/add-circle.svg\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport ReactModal from \"react-modal\";\nimport IconButton from '@material-ui/core/IconButton';\nimport Select from 'react-select'\nimport moment from \"moment\";\n\ntype Props = {\n  submission: Submission | null,\n  handlePDFDownloadButtonClick: () => void,\n  handleSubmitButtonClick: () => void,\n  handleAssignToMeButtonClick: () => void,\n  handleApproveButtonClick: (skipBoAndCisoApproval: boolean) => void,\n  handleDenyButtonClick: (skipBoAndCisoApproval: boolean) => void,\n  handleSendBackForChangesButtonClick: () => void,\n  handleEditButtonClick: () => void,\n  handleGrantCertificationButtonClick: () => void,\n  handleDenyCertificationButtonClick: () => void,\n  handleIssueAccreditationButtonClick: () => void,\n  handleDenyAccreditationButtonClick: () => void,\n  handleCollaboratorAddButtonClick: (selectedCollaborators: Array<Collaborator>) => void,\n  viewAs: \"submitter\" | \"approver\" | \"others\",\n  token: string,\n  user: User | null,\n  members: Array<User> | null,\n  securityTeamEmail: string\n};\n\ntype State = {\n  showModal: boolean,\n  enableApproveButton: boolean\n};\n\nconst prettifyStatus = (status: string) => {\n  if (!status) {\n    return;\n  }\n  return status\n    .split(\"_\")\n    .map((str) => {\n      return str.charAt(0).toUpperCase() + str.slice(1);\n    })\n    .join(\" \");\n};\n\nconst prettifyApprovalStatus = (status: string, role:string) => {\n  if (!status) {\n    return;\n  }\n\n  if (status == \"pending\") {\n    return \"Awaiting approval\";\n  }\n\n  if (status == \"not_required\") {\n    return \"Not required\";\n  }\n\n  if (status == \"approved\" && role == \"Certification Authority\") {\n    return \"Certification granted\";\n  }\n\n  if (status == \"denied\" && role == \"Certification Authority\") {\n    return \"Certification denied\";\n  }\n\n  if (status == \"approved\" && role == \"Accreditation Authority\") {\n    return \"Accreditation issued\";\n  }\n\n  if (status == \"denied\" && role == \"Accreditation Authority\") {\n    return \"Accreditation denied\";\n  }\n\n  if (status == \"denied\") {\n    return \"Not approved\";\n  }\n\n  return prettifyStatus(status);\n}\n\nclass Summary extends Component<Props> {\n\n  static defaultProps = {\n    submission: null,\n    handlePDFDownloadButtonClick: () => {},\n    handleSubmitButtonClick: () => {},\n    handleSendBackForChangesButtonClick: () => {},\n    handleApproveButtonClick: () => {},\n    handleDenyButtonClick: () => {},\n    handleEditButtonClick: () => {},\n    handleAssignToMeButtonClick: () => {},\n    handleCollaboratorAddButtonClick: () => {},\n    handleGrantCertificationButtonClick: () => {},\n    handleDenyCertificationButtonClick: () => {},\n    handleIssueAccreditationButtonClick: () => {},\n    handleDenyAccreditationButtonClick: () => {},\n    viewAs: \"others\",\n    showNotApproveButton: false,\n    token: \"\",\n    user: null,\n    members: null,\n    securityTeamEmail: \"\",\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      skipBoAndCisoApproval: false,\n      enableApproveButton: true,\n      showModal: false,\n      selectedCollaborators: props.submission.collaborators\n    }\n  }\n\n  componentDidMount() {\n    if (this.getAcknowledgeText() !== \"\") {\n      this.setState({ enableApproveButton: false });\n    }\n  }\n\n  getAcknowledgeText()\n  {\n    if (this.props.submission.isCertificationAndAccreditationTaskExists) {\n      if (this.props.viewAs === 'businessOwnerApprover' && this.props.submission.businessOwnerAcknowledgementText) {\n        return this.props.submission.businessOwnerAcknowledgementText;\n      }\n\n      if (this.props.viewAs === 'approver') {\n        if (this.props.user.isCertificationAuthority && this.props.submission.certificationAuthorityAcknowledgementText) {\n          return this.props.submission.certificationAuthorityAcknowledgementText;\n        }\n\n        if (this.props.user.isAccreditationAuthority && this.props.submission.accreditationAuthorityAcknowledgementText) {\n          return this.props.submission.accreditationAuthorityAcknowledgementText;\n        }\n      }\n    }\n\n    return \"\";\n  }\n\n  unfinishedTaskSubmissionMessage()\n  {\n    const taskSubmissions = this.props.submission.taskSubmissions;\n    let unfinishedMessage = '';\n\n    const filteredTask = taskSubmissions.filter((taskSubmission)=> {\n      return taskSubmission.taskType === 'risk questionnaire'\n    });\n\n    if (filteredTask.length > 0) {\n      const riskQuestionnaireTask = filteredTask[0];\n      const isRQCompleted = (riskQuestionnaireTask.status === 'complete' || riskQuestionnaireTask.status == \"approved\");\n      if(riskQuestionnaireTask && !isRQCompleted) {\n        unfinishedMessage = `Please complete \"${riskQuestionnaireTask.taskName}\" to see the Security Risk Assessment`;\n      }\n    }\n\n    return unfinishedMessage;\n  }\n\n  hasSelectableComponents(sub)\n  {\n    let taskSubmissions = sub.taskSubmissions,\n      hasSelectableComponents = false;\n\n    taskSubmissions.forEach((submission, index) => {\n      let isComponentSelection = (submission.taskType === 'selection');\n      if(isComponentSelection) {\n        hasSelectableComponents = true;\n      }\n    });\n\n    return hasSelectableComponents;\n  }\n\n  // when click add button in modal, add in the database\n  handleAddCollaboratorsModalButtonClick() {\n    this.props.handleCollaboratorAddButtonClick(this.state.selectedCollaborators);\n    this.handleCloseModalForCollaborators();\n  }\n\n  // Open the collaborators modal when click on add collaborators link on summary page\n  handleOpenModalForCollaborators() {\n    this.setState({showModal: true});\n  }\n\n  handleCloseModalForCollaborators() {\n    this.setState({showModal: false});\n    this.setState({selectedCollaborators: this.props.submission.collaborators});\n  }\n\n  handleChangeForCollaborators(selectedCollaborators: Array<Collaborator>) {\n    this.setState({selectedCollaborators: selectedCollaborators});\n  }\n\n  render() {\n    const {submission, viewAs, user, members} = {...this.props};\n    if (!submission || !members) {\n      return null;\n    }\n\n    if (submission.status === \"in_progress\" && viewAs === \"submitter\") {\n      return (\n        <div className=\"Summary\">\n          <h4>\n            Questionnaire Submission has not been completed...\n          </h4>\n        </div>\n      );\n    }\n\n    if (submission.status === \"expired\") {\n      return (\n        <SubmissionExpired/>\n      );\n    }\n\n    return (\n      <div className=\"Summary\">\n        <h3>Submission details</h3>\n        {this.renderSubmissionDetails(submission)}\n        {this.renderCollboratorsAndComponentsInfo(submission, members)}\n        {this.renderTasks(submission)}\n        {this.renderApprovals(submission)}\n        <RiskResultContainer\n          riskResults={submission.riskResults}\n          hideWeightsAndScore={submission.hideWeightsAndScore}\n        />\n        {this.renderSkipCheckbox(submission, viewAs, user)}\n        {this.renderAcknowledgements(submission, viewAs, user)}\n        {this.renderButtons(submission)}\n      </div>\n    );\n  }\n\n  renderCollboratorsModal(submission, members) {\n    return (\n      <ReactModal\n        isOpen={this.state.showModal}\n        ariaHideApp={false}\n        parentSelector={() => {return document.querySelector(\".Summary\");}}\n      >\n        <div className=\"collaborator-model-title\">\n          <span><h4>Add Collaborators</h4></span>\n          <IconButton\n            aria-label=\"close\"\n            component=\"span\"\n            className=\"collaborator-model-close icon-gray\"\n            onClick={this.handleCloseModalForCollaborators.bind(this)}\n          >\n            <CloseIcon />\n          </IconButton>\n        </div>\n        <div className=\"content\">\n          Start typing names, to add them as collaborators for your submission.\n        </div>\n        <div className=\"content\">\n          <Select\n            options={members}\n            defaultValue={submission.collaborators}\n            isMulti={true}\n            maxMenuHeight={200}\n            onChange={this.handleChangeForCollaborators.bind(this)}\n          />\n        </div>\n        <div>\n          <DarkButton title=\"Add\" onClick={this.handleAddCollaboratorsModalButtonClick.bind(this)}/>\n        </div>\n      </ReactModal>\n    )\n  }\n\n  renderSubmissionDetails(submission: Submission) {\n    const submitter = submission.submitter;\n    let status = prettifyStatus(submission.status)\n    let statusIcon = awaitingApprovalIcon;\n\n    if (status == \"Submitted\" &&\n      SubmissionDataUtil.existsIncompleteTaskSubmission(submission.taskSubmissions)) {\n      status = \"Tasks to complete\"\n      statusIcon = incompleteTasksIcon;\n    } else if (status == \"Submitted\" &&\n      !SubmissionDataUtil.existsIncompleteTaskSubmission(submission.taskSubmissions)) {\n      status = \"Ready to submit\"\n      statusIcon = submittedIcon\n    }\n\n    if (status == \"In progress\") {\n      statusIcon = inProgressIcon;\n    }\n\n    if (status == \"Approved\") {\n      statusIcon = approveIcon;\n    }\n\n    if (status == \"Denied\") {\n      statusIcon = notApprovedIcon;\n    }\n\n    let productName = submission.productName;\n\n    if (productName == '') {\n      productName = \"Product Name: Please add a product name\";\n    }\n\n    return (\n      <div className=\"submission-details-container\">\n        <div className=\"submission-detail-left-container\">\n          <div>\n            <span className=\"product-name\">{productName}</span>\n          </div>\n          <span>{submission.questionnaireTitle}</span>\n          <div className=\"submitter-name-created-date-row\">\n            <span className=\"submission-details-label\">Submission created: </span>\n            <span className=\"submission-details-data\">{moment(submission.created).format(\"DD/MM/YYYY\")}</span>\n          </div>\n          <div>\n            <span className=\"submission-details-label\">Go live date: </span>\n            <span className=\"submission-details-data\">{submission.releaseDate ? moment(submission.releaseDate).format(\"DD/MM/YYYY\") : ''}</span>\n          </div>\n        </div>\n        <div className=\"submission-detail-right-container\">\n          <div>\n            <span className=\"submission-status\"><img src={statusIcon}/>{status}</span>\n          </div>\n          <div className=\"submitter-name-created-date-row\">\n            <span className=\"submission-details-label\">Submitted by: </span>\n            <span className=\"submission-details-data\">{submitter.name}</span>\n          </div>\n          <div>\n            <span className=\"submission-details-label\">Email: </span>\n            <span className=\"submission-details-data\">{submitter.email}</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderCollboratorsInfo(submission: Submission, members) {\n    return (\n      <div className=\"collaborators-container\">\n        <h4>Collaborators</h4>\n        <div className=\"collaborator-message\">\n          You can add people to help complete your submission.\n          Please contact the&nbsp;<a href ={\"mailto:\" + this.props.securityTeamEmail}>security team</a>&nbsp;for more information.\n        </div>\n        {submission.collaborators.length > 0 && (\n          <div>\n            {submission.collaborators.map(({label}, index) =>\n              {\n                return(<div className=\"collaborator-name\" key={index}>{label}</div>)\n              }\n            )}\n          </div>\n        )}\n        {this.props.viewAs === \"submitter\" && (\n          <div>\n            <button className=\"btn add-collaborators-btn\" onClick={this.handleOpenModalForCollaborators.bind(this)}>\n             <img src={AddIcon}/> Add collaborators\n            </button>\n          </div>\n        )}\n        {this.renderCollboratorsModal(submission, members)}\n      </div>\n    );\n  }\n\n  renderComponentsInfo(submission: Submission){\n    const productAspects = submission.productAspects;\n    return (\n      <div className={productAspects.length > 0 ? 'components-container' : 'hide-components-container'}>\n        <h4>Components</h4>\n        <div>Please specify if there are multiple components impacted for this submission.\n          This will help group your tasks per component.\n        </div>\n        <div>\n          {productAspects.map((productAspect, index) =>\n            {\n              return(<div className=\"component-name\" key={index}>{productAspect}</div>)\n            }\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  renderCollboratorsAndComponentsInfo(submission: Submission, members) {\n    return (\n        <div className=\"collaborators-components-container\">\n          {this.renderCollboratorsInfo(submission, members)}\n          {this.renderComponentsInfo(submission)}\n        </div>\n    );\n  }\n\n  renderTasks(submission: Submission) {\n    const taskSubmissions = submission.taskSubmissions;\n    const isSRATaskFinalised = SecurityRiskAssessmentUtil.isSRATaskFinalised(submission.taskSubmissions);\n\n    if (taskSubmissions.length === 0) {\n      return null;\n    }\n\n    const unfinshedRQTaskMessage = this.unfinishedTaskSubmissionMessage() ? (\n      <div className=\"alert alert-warning\">{this.unfinishedTaskSubmissionMessage()}</div>\n    ) : null;\n\n    return (\n      <div className=\"tasks-container\">\n        <h4>Tasks</h4>\n        <div className=\"task-instruction-message\">\n          Please complete the tasks below. Note the tasks marked with a red asterisk\n          (<span className=\"multiple-tasks-created\">*</span>) may create new tasks, depending on your answers.\n        </div>\n          {unfinshedRQTaskMessage}\n          {isSRATaskFinalised ? SecurityRiskAssessmentUtil.getSraIsFinalisedAlert() : null}\n        <div className=\"table-responsive table-continer\">\n          <table className=\"table\">\n            <thead className=\"task-thead\">\n              <tr key=\"task-table-header\">\n                <th>Task</th>\n                <th className=\"completion-time-col\">Time to complete</th>\n                <th>Approved by</th>\n                <th>Time to review</th>\n                <th>Task status</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {taskSubmissions.map(({uuid, taskName, taskType, status, approver, isTaskApprovalRequired, timeToComplete, timeToReview, canTaskCreateNewTasks}) => {\n              let statusIcon = startIcon;\n\n              if (status == \"start\") {\n                status = \"To do\";\n              }\n\n              if (status == \"in_progress\") {\n                statusIcon = inProgressIcon;\n              }\n\n              if (status == \"waiting_for_approval\") {\n                statusIcon = awaitingApprovalIcon;\n              }\n\n              if (status == \"approved\" || status == \"complete\") {\n                statusIcon = approveIcon;\n              }\n\n              if (status == \"denied\") {\n                statusIcon = notApprovedIcon;\n              }\n\n              const {token} = {...this.props};\n\n              let taskRedirectURL = URLUtil.redirectToTaskSubmission(uuid, token, \"urlString\");\n\n              if (taskType === \"selection\") {\n                taskRedirectURL = URLUtil.redirectToComponentSelectionSubmission(uuid, token, \"urlString\");\n              }\n\n              if (taskType === \"security risk assessment\") {\n                taskRedirectURL = URLUtil.redirectToSecurityRiskAssessment(uuid, token, \"urlString\");\n              }\n\n              if (taskType === \"control validation audit\") {\n                taskRedirectURL = URLUtil.redirectToControlValidationAudit(uuid, token, \"urlString\");\n              }\n\n              const links = (\n                <Link to={taskRedirectURL}>\n                  <img src={chevronRightIcon}/>\n                </Link>\n              );\n\n              let approvedBy = \"\";\n\n              if (isTaskApprovalRequired) {\n                approvedBy = approver.name;\n              } else {\n                approvedBy = \"No approval needed\";\n              }\n\n              return (\n                <tr key={uuid}>\n                  <td className=\"task-table-title-data\">\n                    {taskName}\n                    {canTaskCreateNewTasks ? (<span className='multiple-tasks-created'> *</span>) : null}\n                  </td>\n                  <td>{timeToComplete}</td>\n                  <td>{approvedBy}</td>\n                  <td>{timeToReview}</td>\n                  <td>\n                    <img src={statusIcon} />\n                    <span className=\"task-status\">{prettifyStatus(status)}</span>\n                  </td>\n                  <td>\n                  {unfinshedRQTaskMessage && taskType === 'security risk assessment' ? null : links}\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n         </table>\n        </div>\n        {/**TODO: Add FAQ link */}\n        {/* <div className = \"task-faq\">\n        <a href=\"#\"> Learn more about the task descriptions and statuses</a>\n          <img src={chevronRightIcon}/>\n        </div> */}\n        </div>\n    );\n  }\n\n  renderApprovals(submission: Submission) {\n    // TODO: Refactor - consider using constants instead of string literal\n    if (submission.status === \"in_progress\" ||\n      submission.status === \"submitted\"\n    ) {\n      return null;\n    }\n\n\n    const approvalStatus = submission.approvalStatus;\n    const securityArchitectApprover = submission.securityArchitectApprover;\n    const cisoApprover = submission.cisoApprover;\n    const certificationAuthorityApprover = submission.certificationAuthorityApprover;\n    const accreditationAuthorityApprover = submission.accreditationAuthorityApprover;\n\n    const securityArchitectApprovalStatus = prettifyApprovalStatus(approvalStatus.securityArchitect);\n    let securityArchitectName = \"Unassigned\";\n    if (securityArchitectApprover.firstName) {\n      securityArchitectName = securityArchitectApprover.firstName + \" \" + securityArchitectApprover.surname;\n    }\n\n    const cisoApprovalStatus = prettifyApprovalStatus(approvalStatus.chiefInformationSecurityOfficer);\n    let cisoApproverName = \"Unassigned\";\n    if (cisoApprover.firstName) {\n      cisoApproverName = cisoApprover.firstName + \" \" + cisoApprover.surname;\n    }\n\n    const businessOwnerApprovalStatus = prettifyApprovalStatus(approvalStatus.businessOwner)\n    const businessOwnerName = submission.businessOwnerApproverName ? submission.businessOwnerApproverName : \"Unassigned\";\n\n    let approvalStatusDetails = [\n      {\"role\": \"Security Architect\", \"name\": securityArchitectName, \"status\": securityArchitectApprovalStatus},\n      {\"role\": \"Chief Information Security Officer\", \"name\": cisoApproverName, \"status\": cisoApprovalStatus},\n      {\"role\": \"Business Owner\", \"name\": businessOwnerName, \"status\": businessOwnerApprovalStatus}\n    ];\n\n    if (this.props.submission.isCertificationAndAccreditationTaskExists) {\n      const certificationAuthorityApprovalStatus = prettifyApprovalStatus(approvalStatus.certificationAuthority, 'Certification Authority');\n      let certificationAuthorityApproverName = \"Unassigned\";\n      if (certificationAuthorityApprover.firstName) {\n        certificationAuthorityApproverName = certificationAuthorityApprover.firstName + \" \" + certificationAuthorityApprover.surname;\n      }\n\n      const accreditationAuthorityApprovalStatus = prettifyApprovalStatus(approvalStatus.accreditationAuthority, 'Accreditation Authority');\n      let accreditationAuthorityApproverName = \"Unassigned\";\n      if (accreditationAuthorityApprover.firstName) {\n        accreditationAuthorityApproverName = accreditationAuthorityApprover.firstName + \" \" + accreditationAuthorityApprover.surname;\n      }\n\n      approvalStatusDetails.push(\n        {\"role\": \"Certification Authority\", \"name\":certificationAuthorityApproverName, \"status\": certificationAuthorityApprovalStatus},\n        {\"role\": \"Accreditation Authority\", \"name\":accreditationAuthorityApproverName, \"status\": accreditationAuthorityApprovalStatus}\n      );\n    }\n\n    return (\n      <div className=\"submission-approval-container\">\n        <h4>Submission approvals</h4>\n        <div className=\"table-responsive table-continer\">\n          <table className=\"table\">\n            <thead className=\"submission-approval-thead\">\n              <tr key=\"approval_table_header\">\n                <th>Role</th>\n                <th>Name</th>\n                <th>Approval status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {approvalStatusDetails.map((approvalStatusDetail, index) => {\n                const status = approvalStatusDetail.status;\n                let statusIcon = awaitingApprovalIcon;\n\n                if (status == \"Approved\" || status == \"Certification granted\" || status == \"Accreditation issued\") {\n                  statusIcon = approveIcon;\n                }\n\n                if (status == \"Not approved\" || status == \"Certification denied\" ||\n                  status == \"Accreditation denied\" || status == \"Not required\") {\n                    statusIcon = notApprovedIcon;\n                }\n\n                return (\n                  <tr key={index+1}>\n                    <td className=\"table-title-data\">{approvalStatusDetail.role}</td>\n                    <td className={approvalStatusDetail.name == \"Unassigned\" ? \"unassigned-approver\" : \"\"}>\n                      {approvalStatusDetail.name}\n                    </td>\n                    <td>\n                      <img src={statusIcon} />\n                      <span className=\"approval-status\"> {status} </span>\n                    </td>\n                  </tr>\n                );\n                })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n\n  renderSkipCheckbox(submission: Submission, viewAs: string, user: User) {\n    if ((user && !user.isSA) || !submission.isApprovalOverrideBySecurityArchitect) {\n      return null;\n    }\n    if (viewAs === 'approver' && user.isSA &&\n      submission.status === \"waiting_for_security_architect_approval\") {\n        return (\n          <div className=\"sub-container\">\n            <h4>Skip Business Owner and CISO approval</h4>\n            <label>\n              <input\n              type=\"checkbox\"\n              checked={this.state.skipBoAndCisoApproval}\n              onChange={event => {\n                this.setState({\n                  skipBoAndCisoApproval: event.target.checked\n                });\n              }} />\n              &nbsp; This deliverable does not modify the current risk rating for this\n              project. Business Owner and CISO approval is not required\n            </label>\n          </div>\n        );\n    }\n\n    return null;\n  }\n\n  renderAcknowledgements(submission: Submission, viewAs: string, user: User) {\n    if (!submission.isCertificationAndAccreditationTaskExists) {\n      return null;\n    }\n\n    const acknowledgementText = this.getAcknowledgeText();\n\n    if (acknowledgementText !== \"\" ) {\n        return (\n          <div className=\"acknowledgement-container\">\n            <h4>Acknowledgements</h4>\n            <div className=\"sub-container\">\n              <div className=\"form-check\">\n                <input\n                type=\"checkbox\"\n                className=\"form-check-input\"\n                checked={this.state.enableApproveButton}\n                onChange={event => {\n                  this.setState({\n                    enableApproveButton: event.target.checked\n                  });\n                }} />\n                <label className=\"form-check-label\">{acknowledgementText}</label>\n              </div>\n            </div>\n          </div>\n        );\n    }\n\n    return null;\n  }\n\n  renderButtons(submission: Submission) {\n    const {\n      user,\n      viewAs,\n      showNotApproveButton,\n      token,\n      handleSubmitButtonClick,\n      handlePDFDownloadButtonClick,\n      handleSendBackForChangesButtonClick,\n      handleApproveButtonClick,\n      handleOptionalApproveButtonClick,\n      handleAssignToMeButtonClick,\n      handleDenyButtonClick,\n      handleEditButtonClick,\n      handleGrantCertificationButtonClick,\n      handleDenyCertificationButtonClick,\n      handleIssueAccreditationButtonClick,\n      handleDenyAccreditationButtonClick\n    } = {...this.props};\n\n    const downloadPDFButton = (\n      <LightButton title=\"PDF\"\n                   iconImage={pdfIcon}\n                   classes={[\"button\"]}\n                   onClick={handlePDFDownloadButtonClick}/>\n    );\n\n    const viewAnswersButton = user ? (\n      <LightButton title=\"VIEW ANSWERS\"\n                   classes={[\"button\"]}\n                   onClick={() => URLUtil.redirectToQuestionnaireReview(submission.submissionUUID, token)}\n      />\n    ) : '';\n\n\n    // Display buttons for submitter\n    if (viewAs === \"submitter\") {\n      // Render edit answers button for submitter in all cases\n      const editAnswersButton = (\n        <LightButton title=\"Edit\"\n                     iconImage={editIcon}\n                     classes={[\"button\"]}\n                     onClick={handleEditButtonClick}\n        />\n      );\n\n      // Render send for approval button for submitter only in specific submission status\n      const sendForApprovalButton = (\n        <DarkButton title=\"Submit for approval\"\n                    iconImage={submitSubmissionIcon}\n                    classes={[\"button\"]}\n                    disabled={SubmissionDataUtil.existsIncompleteTaskSubmission(submission.taskSubmissions)}\n                    onClick={handleSubmitButtonClick}\n        />\n      );\n\n      if (submission.status === \"submitted\") {\n        return (\n          <div className=\"buttons\">\n            <div className=\"buttons-left\">\n              {editAnswersButton}\n              {downloadPDFButton}\n            </div>\n            <div className=\"buttons-right\">\n              {sendForApprovalButton}\n            </div>\n          </div>\n        );\n      }\n\n      if (submission.status === \"waiting_for_security_architect_approval\" ||\n        submission.status === \"awaiting_security_architect_review\") {\n        return (\n          <div className=\"buttons\">\n            <div>\n              {editAnswersButton}\n              {downloadPDFButton}\n            </div>\n            <div/>\n          </div>\n        );\n      }\n\n      return (\n        <div className=\"buttons\">\n          <div>\n            {downloadPDFButton}\n          </div>\n          <div/>\n        </div>\n      );\n    }\n\n    // Display buttons for approvers\n    if (viewAs === \"approver\" || viewAs === \"businessOwnerApprover\") {\n      const assignToMeButton = (\n        <LightButton title=\"Assign to Me\"\n                    classes={[\"button\"]}\n                    onClick={handleAssignToMeButtonClick}\n        />\n      );\n      const sendBackForChangesButton = (\n        <LightButton title=\"Send back for changes\"\n                    classes={[\"button\"]}\n                    onClick={() => handleSendBackForChangesButtonClick()}\n        />\n      );\n\n      let approveButtonTitle = \"Approve\";\n\n      if (user.isSA) {\n        approveButtonTitle = \"Endorsed\";\n      }\n\n      if (user.isCISO) {\n        approveButtonTitle = \"Recommend Approval\";\n      }\n\n      if (viewAs === \"businessOwnerApprover\") {\n        approveButtonTitle = \"Accept risks and approve\";\n      }\n\n      const approveButton = (\n        <DarkButton title={approveButtonTitle}\n                    classes={[\"button\"]}\n                    disabled={!this.state.enableApproveButton}\n                    onClick={() => handleApproveButtonClick(this.state.skipBoAndCisoApproval)}\n        />\n      );\n\n      let denyButtonTitle = \"Not approved\";\n      if (user.isSA) {\n        denyButtonTitle = \"Not endorsed\";\n      }\n      if (user.isCISO) {\n        denyButtonTitle = \"Recommend Rejection\";\n      }\n\n      const denyButton = (\n        <RedButton title={denyButtonTitle}\n                     classes={[\"button\"]}\n                     onClick={() => handleDenyButtonClick(this.state.skipBoAndCisoApproval)}\n        />\n      );\n\n      const grantCertification = (\n        <DarkButton title=\"Grant Certification\"\n                    classes={[\"button\"]}\n                    disabled={!this.state.enableApproveButton}\n                    onClick={() => handleGrantCertificationButtonClick()}\n        />\n      );\n\n      const denyCertification = (\n        <RedButton title=\"Deny Certification\"\n                    classes={[\"button\"]}\n                    onClick={() => handleDenyCertificationButtonClick()}\n        />\n      );\n\n      const issueAccreditation = (\n        <DarkButton title=\"Issue Accreditation\"\n                    classes={[\"button\"]}\n                    disabled={!this.state.enableApproveButton}\n                    onClick={() => handleIssueAccreditationButtonClick()}\n        />\n      );\n\n      const denyAccreditation = (\n        <RedButton title=\"Deny Accreditation\"\n                    classes={[\"button\"]}\n                    onClick={() => handleDenyAccreditationButtonClick()}\n        />\n      );\n\n      if (submission.status === \"submitted\") {\n        return (\n          <div className=\"buttons\">\n            <div>\n              {viewAnswersButton}\n              {downloadPDFButton}\n            </div>\n            <div/>\n          </div>\n        );\n      }\n\n      if (submission.status === \"awaiting_security_architect_review\") {\n        return (\n          <div className=\"buttons\">\n            <div className=\"buttons-left\">\n              {viewAnswersButton}\n              {downloadPDFButton}\n            </div>\n            <div className=\"buttons-right\">\n              {assignToMeButton}\n            </div>\n            <div/>\n          </div>\n        );\n      }\n\n      if (submission.status === \"waiting_for_security_architect_approval\") {\n        return (\n          <div className=\"buttons\">\n            <div className=\"buttons-left\">\n              {viewAnswersButton}\n              {downloadPDFButton}\n            </div>\n            <div className=\"buttons-right\">\n              <span className=\"approver-action\">Approver action: </span>\n              {denyButton}\n              {approveButton}\n            </div>\n          </div>\n        );\n      }\n\n      if (user.isCertificationAuthority && (submission.status === \"awaiting_certification_and_accreditation\" || submission.status === \"awaiting_certification\")) {\n        return (\n          <div className=\"buttons\">\n            <div className=\"buttons-left\">\n              {viewAnswersButton}\n              {downloadPDFButton}\n            </div>\n            <div className=\"buttons-right\">\n              <span className=\"approver-action\">Approver action: </span>\n              {denyCertification}\n              {grantCertification}\n            </div>\n          </div>\n        );\n      }\n\n      if (user.isAccreditationAuthority && (submission.status === \"awaiting_certification_and_accreditation\" || submission.status === \"awaiting_accreditation\")) {\n        return (\n          <div className=\"buttons\">\n            <div className=\"buttons-left\">\n              {viewAnswersButton}\n              {downloadPDFButton}\n            </div>\n            <div className=\"buttons-right\">\n              <span className=\"approver-action\">Approver action: </span>\n              {denyAccreditation}\n              {issueAccreditation}\n            </div>\n          </div>\n        );\n      }\n\n      return (\n        <div className=\"buttons\">\n          <div className=\"buttons-left\">\n            {viewAnswersButton}\n            {downloadPDFButton}\n          </div>\n          <div className=\"buttons-right\">\n            <span className=\"approver-action\">Approver action: </span>\n            {denyButton}\n            {approveButton}\n          </div>\n        </div>\n      );\n    }\n\n    // Display buttons for others (either a submitter not an approver)\n    return (\n      <div className=\"buttons\">\n        <div>\n          {viewAnswersButton}\n          {downloadPDFButton}\n        </div>\n        <div/>\n      </div>\n    );\n  }\n}\n\nexport default Summary;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {QuestionnaireSubmissionState} from \"../../store/QuestionnaireState\";\nimport type {MemberState} from \"../../store/MemberState\";\nimport {\n  approveQuestionnaireSubmission,\n  denyQuestionnaireSubmission,\n  sendBackForChangesSubmission,\n  notApproveQuestionnaireSubmissionforSA,\n  editQuestionnaireSubmission,\n  loadQuestionnaireSubmissionState,\n  submitQuestionnaireForApproval,\n  approveQuestionnaireSubmissionAsBusinessOwner,\n  denyQuestionnaireSubmissionAsBusinessOwner,\n  assignToSecurityArchitectQuestionnaireSubmission,\n  addCollaboratorAction,\n  grantCertificationAction,\n  denyCertificationAction,\n  issueAccreditationAction,\n  denyAccreditationAction\n} from \"../../actions/questionnaire\";\nimport {loadMember} from \"../../actions/user\";\nimport Summary from \"./Summary\";\nimport PDFUtil from \"../../utils/PDFUtil\";\nimport ReactModal from \"react-modal\";\nimport DarkButton from \"../Button/DarkButton\";\nimport LightButton from \"../Button/LightButton\";\nimport CSRFTokenService from \"../../services/CSRFTokenService\";\nimport type {Collaborator} from \"../../types/User\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    submissionState: state.questionnaireState.submissionState,\n    loadingState: state.loadingState,\n    members: state.memberState\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    // load the Submission data on the summary screen\n    dispatchLoadSubmissionAction(submissionHash: string, secureToken: string) {\n      dispatch(loadQuestionnaireSubmissionState(submissionHash, secureToken));\n    },\n    dispatchLoadMembersAction() {\n      dispatch(loadMember());\n    },\n    // as a BO approve/ deny the submission\n    dispatchBusinessOwnerApproveSubmissionAction(submissionID: string, secureToken: string) {\n      dispatch(approveQuestionnaireSubmissionAsBusinessOwner(submissionID, secureToken));\n    },\n    dispatchBusinessOwnerDenySubmissionAction(submissionID: string, secureToken: string) {\n      dispatch(denyQuestionnaireSubmissionAsBusinessOwner(submissionID, secureToken));\n    },\n\n    // user can edit answers and submit the questionnaire for approval\n    dispatchSubmitForApprovalAction(submissionID: string) {\n      dispatch(submitQuestionnaireForApproval(submissionID));\n    },\n    dispatchEditSubmissionAction(submissionID: string) {\n      dispatch(editQuestionnaireSubmission(submissionID));\n    },\n\n    // as a SA and ciso approve/ deny the submission\n    dispatchApproveSubmissionAction(submissionID: string, skipBoAndCisoApproval: boolean) {\n      dispatch(approveQuestionnaireSubmission(submissionID, skipBoAndCisoApproval));\n    },\n    dispatchDenySubmissionAction(submissionID: string, skipBoAndCisoApproval: boolean) {\n      dispatch(denyQuestionnaireSubmission(submissionID, skipBoAndCisoApproval));\n    },\n\n    dispatchSendBackForChangesSubmissionAction(submissionID: string) {\n      dispatch(sendBackForChangesSubmission(submissionID));\n    },\n\n    // As a SA assign the submission to cureent logged in user\n    dispatchAssignToMeAction(submissionID: string) {\n      dispatch(assignToSecurityArchitectQuestionnaireSubmission(submissionID));\n    },\n\n    dispatchAddCollaboratorAction(submissionID: string, selectedCollaborators:Array<Collaborator>)\n    {\n      dispatch(addCollaboratorAction(submissionID, selectedCollaborators));\n    },\n\n    dispatchGrantCertificationAction(submissionID: string)\n    {\n      dispatch(grantCertificationAction(submissionID));\n    },\n\n    dispatchDenyCertificationAction(submissionID: string)\n    {\n      dispatch(denyCertificationAction(submissionID));\n    },\n\n    dispatchIssueAccreditationAction(submissionID: string)\n    {\n      dispatch(issueAccreditationAction(submissionID));\n    },\n\n    dispatchDenyAccreditationAction(submissionID: string)\n    {\n      dispatch(denyAccreditationAction(submissionID));\n    }\n  };\n};\n\ntype ownProps = {\n  submissionHash: string,\n  secureToken: string\n};\n\ntype reduxProps = {\n  submissionState: QuestionnaireSubmissionState,\n  members: MemberState,\n  dispatchLoadSubmissionAction: (submissionHash: string, secureToken: string) => void,\n  dispatchSubmitForApprovalAction: (submissionID: string) => void,\n  dispatchApproveSubmissionAction: (submissionID: string) => void,\n  dispatchDenySubmissionAction: (submissionID: string) => void,\n  dispatchEditSubmissionAction: (submissionID: string) => void,\n  approveQuestionnaireSubmissionFromBusinessOwner: (submissionID: string) => void,\n  denyQuestionnaireSubmissionFromBusinessOwner: (submissionID: string) => void,\n  dispatchGrantCertificationAction: (submissionID: string) => void,\n  dispatchDenyCertificationAction: (submissionID: string) => void,\n  dispatchIssueAccreditationAction: (submissionID: string) => void,\n  dispatchDenyAccreditationAction: (submissionID: string) => void,\n  loadingState: object<*>\n};\n\ntype Props = ownProps & reduxProps;\n\ntype State = {\n  showModal: boolean\n};\n\nclass SummaryContainer extends Component<Props, State> {\n\n  constructor() {\n    super();\n    this.state = {\n      showModal: false,\n    };\n  }\n\n  componentDidMount() {\n    const {submissionHash, dispatchLoadSubmissionAction, secureToken} = {...this.props};\n    dispatchLoadSubmissionAction(submissionHash, secureToken);\n    this.props.dispatchLoadMembersAction();\n\n  }\n\n  render() {\n    const {secureToken, loadingState, members} = {...this.props};\n    const {\n      location,\n      title,\n      user,\n      submission,\n      isCurrentUserApprover,\n      isCurrentUserABusinessOwnerApprover,\n      siteConfig\n      } = {...this.props.submissionState};\n\n    if (!user || !submission || !siteConfig || !members) {\n      return null;\n    }\n\n    if (loadingState['QUESTIONNAIRE/LOAD_QUESTIONNAIRE_SUBMISSION_STATE']) {\n      return null;\n    }\n\n    // Decide what the permission of the current user\n    let viewAs = \"others\";\n    let showNotApproveButton = false;\n\n    // Show \"Not approve\" button only if user is sa\n    // and  hide if user is sa and ciso or business owner\n    if (user.isSA && !user.isCISO && !isCurrentUserABusinessOwnerApprover) {\n      showNotApproveButton = true;\n    }\n\n    do {\n      // Check if the current user is the submitter\n      if (user.id === submission.submitter.id) {\n        viewAs = \"submitter\";\n        break;\n      }\n\n      // Check if the current user is an businessOwner approver\n      if (isCurrentUserABusinessOwnerApprover && submission.status == 'waiting_for_approval') {\n        viewAs = \"businessOwnerApprover\";\n        break;\n      }\n\n      // Check if the current user is an approver\n      if (isCurrentUserApprover) {\n        viewAs = \"approver\";\n        break;\n      }\n    } while (false);\n\n    return (\n      <div className=\"SummaryContainer\">\n        <Header title={title} subtitle=\"Summary\" username={user.name} logopath={siteConfig.logoPath}/>\n        <Summary submission={submission}\n                 handlePDFDownloadButtonClick={this.handlePDFDownloadButtonClick.bind(this)}\n                 handleSubmitButtonClick={this.handleSubmitButtonClick.bind(this)}\n                 handleSendBackForChangesButtonClick={this.handleSendBackForChangesButtonClick.bind(this)}\n                 handleApproveButtonClick={this.handleApproveButtonClick.bind(this)}\n                 handleDenyButtonClick={this.handleDenyButtonClick.bind(this)}\n                 handleEditButtonClick={this.handleOpenModal.bind(this)}\n                 handleAssignToMeButtonClick={this.handleAssignToMeButtonClick.bind(this)}\n                 handleCollaboratorAddButtonClick={this.handleCollaboratorAddButtonClick.bind(this)}\n                 handleGrantCertificationButtonClick={this.handleGrantCertificationButtonClick.bind(this)}\n                 handleDenyCertificationButtonClick={this.handleDenyCertificationButtonClick.bind(this)}\n                 handleIssueAccreditationButtonClick={this.handleIssueAccreditationButtonClick.bind(this)}\n                 handleDenyAccreditationButtonClick={this.handleDenyAccreditationButtonClick.bind(this)}\n                 viewAs={viewAs}\n                 user={user}\n                 token={secureToken}\n                 members={members}\n                 showNotApproveButton={showNotApproveButton}\n                 securityTeamEmail={siteConfig.securityTeamEmail}\n        />\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n        <ReactModal\n          isOpen={this.state.showModal}\n          parentSelector={() => {return document.querySelector(\".SummaryContainer\");}}\n        >\n          <h3>\n            Are you sure you want to edit this submission?\n          </h3>\n          <div className=\"content\">\n            This will cancel your current submission and require it to be resubmitted for approval.\n          </div>\n          <div>\n            <DarkButton title=\"Yes\" onClick={this.handleEditButtonClick.bind(this)}/>\n            <LightButton title=\"No\" onClick={this.handleCloseModal.bind(this)}/>\n          </div>\n        </ReactModal>\n      </div>\n    );\n  }\n\n  handlePDFDownloadButtonClick() {\n    const {submission, siteConfig} = {...this.props.submissionState};\n\n    if (!submission || !siteConfig) {\n      return;\n    }\n\n    let riskResults;\n    if(submission && submission.riskResults) {\n      riskResults = submission.riskResults;\n    }\n\n    PDFUtil.generatePDF({\n      questions: submission.questions,\n      submitter: submission.submitter,\n      questionnaireTitle: submission.questionnaireTitle,\n      siteConfig: siteConfig,\n      riskResults: riskResults ? riskResults : [],\n    });\n  }\n\n  handleSubmitButtonClick() {\n    const {user, submission} = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    this.props.dispatchSubmitForApprovalAction(submission.submissionID);\n  }\n\n  handleApproveButtonClick(skipBoAndCisoApproval: boolean = false) {\n    const {secureToken} = {...this.props};\n    const {\n      user,\n      submission,\n      isCurrentUserApprover,\n      isCurrentUserABusinessOwnerApprover\n    } = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    if (isCurrentUserABusinessOwnerApprover && submission.status == 'waiting_for_approval') {\n      this.props.dispatchBusinessOwnerApproveSubmissionAction(submission.submissionID, secureToken);\n    } else if (isCurrentUserApprover) {\n      this.props.dispatchApproveSubmissionAction(submission.submissionID, skipBoAndCisoApproval);\n    }\n  }\n\n  handleDenyButtonClick(skipBoAndCisoApproval: boolean = false) {\n    const {secureToken} = {...this.props};\n    const {\n      user,\n      submission,\n      isCurrentUserApprover,\n      isCurrentUserABusinessOwnerApprover\n    } = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    if (isCurrentUserABusinessOwnerApprover && submission.status == 'waiting_for_approval') {\n      this.props.dispatchBusinessOwnerDenySubmissionAction(submission.submissionID, secureToken);\n    } else if (isCurrentUserApprover) {\n      this.props.dispatchDenySubmissionAction(submission.submissionID, skipBoAndCisoApproval);\n    }\n  }\n\n  handleSendBackForChangesButtonClick() {\n    const {user, submission, isCurrentUserApprover} = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    if (isCurrentUserApprover) {\n      this.props.dispatchSendBackForChangesSubmissionAction(submission.submissionID);\n    }\n  }\n\n  handleAssignToMeButtonClick() {\n    const {user, submission} = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    this.props.dispatchAssignToMeAction(submission.submissionID);\n  }\n\n\n  handleEditButtonClick() {\n    const {user, submission} = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    this.handleCloseModal();\n    this.props.dispatchEditSubmissionAction(submission.submissionID);\n  }\n\n  // open a edit confirmation modal when user click on questionnaire edit button\n  // on the questionnaire summary screen\n  handleOpenModal() {\n    this.setState({showModal: true});\n  }\n\n  // close a modal when user click on \"No button\" on the edit confirmation modal\n  handleCloseModal() {\n    this.setState({showModal: false});\n  }\n\n  handleCollaboratorAddButtonClick (selectedCollaborators: Array<Collaborator>) {\n    const {user, submission} = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    this.props.dispatchAddCollaboratorAction(submission.submissionID, selectedCollaborators);\n  }\n\n  handleGrantCertificationButtonClick() {\n    const {user, submission} = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    this.props.dispatchGrantCertificationAction(submission.submissionID);\n  }\n\n  handleDenyCertificationButtonClick() {\n    const {user, submission} = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    this.props.dispatchDenyCertificationAction(submission.submissionID);\n  }\n\n  handleIssueAccreditationButtonClick() {\n    const {user, submission} = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    this.props.dispatchIssueAccreditationAction(submission.submissionID);\n  }\n\n  handleDenyAccreditationButtonClick() {\n    const {user, submission} = {...this.props.submissionState};\n\n    if (!user || !submission) {\n      return;\n    }\n\n    this.props.dispatchDenyAccreditationAction(submission.submissionID);\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(SummaryContainer);\n","// @flow\n\nimport type {JiraTicket, SecurityComponent} from \"../types/SecurityComponent\";\nimport GraphQLRequestHelper from \"../utils/GraphQLRequestHelper\";\nimport get from \"lodash/get\";\nimport toString from \"lodash/toString\";\nimport compact from \"lodash/compact\";\nimport {DEFAULT_NETWORK_ERROR} from \"../constants/errors\";\nimport SecurityComponentParser from \"../utils/SecurityComponentParser\"\n\nexport default class SecurityComponentDataService {\n\n  static async loadAvailableComponents(): Promise<Array<SecurityComponent>> {\n    const query = `\nquery {\n  readSecurityComponents {\n    ID\n    Name\n    Description\n    Controls {\n      ID\n      Name\n      Description\n      ImplementationGuidance\n    }\n  }\n}`;\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n    const jsonArray = get(responseJSONObject, \"data.readSecurityComponents\");\n    if (!Array.isArray(jsonArray)) {\n      return [];\n    }\n\n    const components = jsonArray.map((jsonObject) => {\n      return SecurityComponentParser.parseFromJSONObject(jsonObject);\n    });\n\n    return components;\n  }\n\n  static async createJiraTickets(args: {\n    jiraKey: string,\n    componentIDList: Array<string>,\n    csrfToken: string\n  }): Promise<Array<JiraTicket>> {\n    const {jiraKey, componentIDList, csrfToken} = {...args};\n\n    const mutations = componentIDList.map((id) => {\n      return `\ncreateJiraTicket${id}: createJiraTicket(ComponentID: \"${id}\", JiraKey: \"${jiraKey}\") {\n  ID\n  JiraKey\n  TicketLink\n}`;\n    });\n\n    const query = `\nmutation {\n  ${mutations.join(\"\\n\")}\n}`;\n\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const updatedData = get(json, \"data\", null);\n    if (!updatedData) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    const jiraTickets = compact(componentIDList.map((id) => {\n        const key = `createJiraTicket${id}`;\n        const json = get(updatedData, key, null);\n        if (!json) {\n          return null;\n        }\n        const ticket: JiraTicket = {\n          id: toString(get(json, \"ID\", \"\")),\n          jiraKey: toString(get(json, \"JiraKey\", \"\")),\n          link: toString(get(json, \"TicketLink\", \"\"))\n        };\n        return ticket;\n    }));\n\n    return jiraTickets\n  }\n}\n","// @flow\n\nimport {ThunkAction} from \"redux-thunk\";\nimport uniq from \"lodash/uniq\";\nimport type {\n  AddSelectedComponentAction,\n  LoadAvailableComponentsAction,\n  RemoveSelectedComponentAction,\n  LoadSelectedComponentsAction\n} from \"./ActionType\";\nimport ActionType from \"./ActionType\";\nimport type {RootState} from \"../store/RootState\";\nimport SecurityComponentDataService from \"../services/SecurityComponentDataService\";\nimport CSRFTokenService from \"../services/CSRFTokenService\";\nimport type {JiraTicket} from \"../types/SecurityComponent\";\nimport ErrorUtil from \"../utils/ErrorUtil\";\n\nexport type SetViewModeAction = {\n  type: string,\n  payload: \"edit\" | \"review\"\n};\n\nexport type SetJiraTicketsAction = {\n  type: string,\n  payload: Array<JiraTicket>\n};\n\nexport function loadAvailableComponents(): ThunkAction {\n  return async (dispatch) => {\n    const availableComponents = await SecurityComponentDataService.loadAvailableComponents();\n    const action: LoadAvailableComponentsAction = {\n      type: ActionType.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS,\n      payload: availableComponents\n    };\n\n    await dispatch(action);\n  };\n}\n\nexport function addSelectedComponent(id: string, productAspect: string): ThunkAction {\n  return async (dispatch) => {\n    const action: AddSelectedComponentAction = {\n      type: ActionType.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT,\n      payload: {\"id\": id, \"productAspect\": productAspect}\n    };\n    await dispatch(action);\n  }\n}\n\nexport function removeSelectedComponent(id: string, productAspect: string): ThunkAction {\n  return async (dispatch) => {\n    const action: RemoveSelectedComponentAction = {\n      type: ActionType.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT,\n      payload: {\"id\": id, \"productAspect\": productAspect}\n    };\n    await dispatch(action);\n  }\n}\n\nexport function createJIRATickets(jiraKey: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      if (!jiraKey) {\n        throw new Error(\"Please enter the project key!\");\n      }\n\n      const rootState: RootState = getState();\n      const selectedComponents = rootState.componentSelectionState.selectedComponents;\n      if (!selectedComponents) {\n        throw new Error(\"Nothing to create in JIRA!\");\n      }\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const jiraTickets = await SecurityComponentDataService.createJiraTickets({\n        jiraKey,\n        componentIDList: uniq(selectedComponents.map((component) => component.id)),\n        csrfToken\n      });\n      await dispatch(setJiraTickets(jiraTickets));\n      await dispatch(setViewMode(\"review\"));\n    } catch(error) {\n      ErrorUtil.displayError(error);\n    }\n  }\n}\n\nexport function setViewMode(viewMode: \"review\" | \"edit\"): ThunkAction {\n  return async (dispatch) => {\n    const action: SetViewModeAction = {\n      type: ActionType.COMPONENT_SELECTION.SET_VIEW_MODE,\n      payload: viewMode\n    };\n    await dispatch(action);\n  };\n}\n\nexport function setJiraTickets(tickets: Array<JiraTicket>): ThunkAction {\n  return async (dispatch) => {\n    const action: SetJiraTicketsAction = {\n      type: ActionType.COMPONENT_SELECTION.SET_JIRA_TICKETS,\n      payload: tickets\n    };\n    await dispatch(action);\n  };\n}\n\nexport function loadSelectedComponents(taskSubmission): ThunkAction {\n  const selectedComponents = taskSubmission.selectedComponents;\n\n  const savedComponent = selectedComponents.map((component) => {\n    component.isSaved = true;\n    return component;\n  });\n\n  return async (dispatch) => {\n    const action: LoadSelectedComponentsAction = {\n      type: ActionType.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS,\n      payload: savedComponent\n    };\n    await dispatch(action);\n  };\n}\n","// @flow\n\nimport {ThunkAction} from \"redux-thunk\";\nimport TaskDataService from \"../services/TaskDataService\";\nimport ActionType from \"./ActionType\";\nimport type {Question} from \"../types/Questionnaire\";\nimport SubmissionDataUtil from \"../utils/SubmissionDataUtil\";\nimport _ from \"lodash\";\nimport CSRFTokenService from \"../services/CSRFTokenService\";\nimport type {Task, TaskSubmission, TaskRecommendation} from \"../types/Task\";\nimport ErrorUtil from \"../utils/ErrorUtil\";\nimport type {\n  LoadTaskSubmissionAction,\n  MarkQuestionsNotApplicableInTaskSubmissionAction,\n  MoveToQuestionInTaskSubmissionAction,\n  PutDataInTaskSubmissionAction\n} from \"./ActionType\";\nimport {loadSelectedComponents} from \"./componentSelection\";\nimport type {User} from \"../types/User\";\nimport type {RootState} from \"../store/RootState\";\nimport URLUtil from \"../utils/URLUtil\";\n\nexport function loadTaskSubmission(args: {uuid: string, secureToken?: string, type?: string}): ThunkAction {\n  const {uuid, secureToken, type} = {...args};\n\n  return async (dispatch) => {\n    try {\n      const payload = await TaskDataService.fetchTaskSubmission({\n        uuid,\n        secureToken\n      });\n      const action: LoadTaskSubmissionAction = {\n        type: ActionType.TASK.LOAD_TASK_SUBMISSION,\n        payload,\n      };\n\n      await dispatch(action);\n\n      if (type === \"componentSelection\") {\n        await dispatch(loadSelectedComponents(payload));\n      }\n    }\n    catch (error) {\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\nexport function loadResultForCertificationAndAccreditation(args: {uuid: string, secureToken?: string, }): ThunkAction {\n  const {uuid, secureToken} = {...args};\n\n  return async (dispatch) => {\n    try {\n      const payload = await TaskDataService.fetchResultForCertificationAndAccreditation({\n        uuid,\n        secureToken\n      });\n\n      const action: LoadTaskSubmissionAction = {\n        type: ActionType.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION,\n        payload,\n      };\n\n      await dispatch(action);\n    }\n    catch (error) {\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\n\nexport function loadStandaloneTaskSubmission(args: {taskId: string}): ThunkAction {\n  const {taskId} = {...args};\n\n  return async (dispatch, getState) => {\n    try {\n      const task = await TaskDataService.fetchStandaloneTask({taskId});\n\n      const payload: TaskSubmission = {\n        id: \"\",\n        uuid: \"\",\n        taskName: task.name,\n        taskType: \"questionnaire\",\n        status: \"in_progress\",\n        result: \"\",\n        questions: task.questions,\n        selectedComponents: [],\n        jiraTickets: [],\n        questionnaireSubmissionUUID: \"\",\n        questionnaireSubmissionID: \"\",\n        submitter: getState().currentUserState,\n        lockWhenComplete: false\n      };\n\n      const action: LoadTaskSubmissionAction = {\n        type: ActionType.TASK.LOAD_TASK_SUBMISSION,\n        payload,\n      };\n      await dispatch(action);\n    }\n    catch (error) {\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\nexport function saveAnsweredQuestionInTaskSubmission(\n  args: {\n    answeredQuestion: Question,\n    secureToken?: string,\n    bypassNetwork?: boolean\n  }): ThunkAction {\n  const {answeredQuestion, secureToken, bypassNetwork} = {...args};\n\n  return async (dispatch, getState) => {\n\n    const getTaskSubmission = () => {\n      return getState().taskSubmissionState.taskSubmission;\n    };\n\n    if (!getTaskSubmission()) {\n      return;\n    }\n\n    // Save local state\n    const putDataAction: PutDataInTaskSubmissionAction = {\n      type: ActionType.TASK.PUT_DATA_IN_TASK_SUBMISSION,\n      payload: answeredQuestion,\n    };\n    await dispatch(putDataAction);\n\n    // Network request - save answer\n    if (!bypassNetwork) {\n      try {\n        await TaskDataService.batchUpdateTaskSubmissionData({\n          uuid: getTaskSubmission().uuid,\n          questionIDList: [answeredQuestion.id],\n          answerDataList: [SubmissionDataUtil.transformFromFullQuestionToData(answeredQuestion)],\n          csrfToken: await CSRFTokenService.getCSRFToken(),\n          secureToken: secureToken,\n        });\n      } catch (error) {\n        ErrorUtil.displayError(error);\n      }\n    }\n\n    // Move cursor\n    const {\n      currentIndex,\n      nonApplicableIndexes,\n      targetIndex,\n      complete,\n      terminate,\n      result\n    } = SubmissionDataUtil.getDataUpdateIntent({\n      answeredQuestion,\n      questions: getTaskSubmission().questions,\n    });\n\n    // Mark non applicable questions\n    if (nonApplicableIndexes.length > 0) {\n      const markNotApplicableAction: MarkQuestionsNotApplicableInTaskSubmissionAction = {\n        type: ActionType.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE,\n        payload: nonApplicableIndexes,\n      };\n      await dispatch(markNotApplicableAction);\n    }\n\n    // Move cursor\n    if (targetIndex > currentIndex) {\n      const moveAction: MoveToQuestionInTaskSubmissionAction = {\n        type: ActionType.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,\n        payload: {currentIndex, targetIndex},\n      };\n      await dispatch(moveAction);\n    }\n\n    // Network request - batch update\n    if (!bypassNetwork) {\n      try {\n        await batchUpdateTaskSubmissionData(\n          getTaskSubmission(),\n          _.uniq([currentIndex, ...nonApplicableIndexes, targetIndex]),\n          secureToken\n        );\n      } catch(error) {\n        ErrorUtil.displayError(error);\n      }\n    }\n\n    if (complete) {\n      await dispatch(completeTaskSubmission({bypassNetwork, secureToken, result}));\n    }\n  };\n}\n\n/**\n * Obtain selected security controls from rootState and save to task submission\n *\n * @param {*} selectedControls\n */\nexport function saveCVASelectedControls(selectedControls: object): ThunkAction {\n  return async (dispatch, getState) => {\n    const rootState: RootState = getState();\n    const taskSubmission = rootState.taskSubmissionState.taskSubmission;\n    if (!taskSubmission) {\n      return;\n    }\n\n    //@TODO: Complete graphql submission endpoint\n  }\n}\n\n/**\n * Deals to both \"JIRA Cloud\" (remote) and SDLT (local) component submissions.\n */\nexport function saveSelectedComponents(jiraKey: string): ThunkAction {\n  return async (dispatch, getState) => {\n    const rootState: RootState = getState();\n    const taskSubmission = rootState.taskSubmissionState.taskSubmission;\n    if (!taskSubmission) {\n      return;\n    }\n\n    await dispatch({ type: ActionType.TASK.SAVE_SELECTED_COMPONENT_REQUEST});\n\n    const components = rootState.componentSelectionState.selectedComponents.map((component) => {\n      return {\n        SecurityComponentID : component.id,\n        ProductAspect: component.productAspect,\n        TaskSubmissionID: taskSubmission.id\n      }\n    });\n\n    try {\n      await TaskDataService.updateTaskSubmissionWithSelectedComponents({\n        jiraKey,\n        components,\n        uuid: taskSubmission.uuid,\n        csrfToken: await CSRFTokenService.getCSRFToken()\n      });\n      await dispatch(completeTaskSubmission());\n      await dispatch({ type: ActionType.TASK.SAVE_SELECTED_COMPONENT_SUCCESS});\n    } catch(error) {\n      await dispatch({ type: ActionType.TASK.SAVE_SELECTED_COMPONENT_FAILURE});\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\nexport function completeTaskSubmission(args: {\n  secureToken?: string,\n  bypassNetwork?: boolean,\n  result?: string,\n  taskSubmissionUUID?: string | null,\n  questionnaireUUID?: string | null,\n} = {}): ThunkAction {\n  const {secureToken, bypassNetwork, result, taskSubmissionUUID, questionnaireUUID} = {...args};\n\n  return async (dispatch, getState) => {\n    const getTaskSubmission = () => {\n      return getState().taskSubmissionState.taskSubmission;\n    };\n\n    if (!bypassNetwork) {\n      try {\n        const csrfToken = await CSRFTokenService.getCSRFToken();\n\n        const {uuid} = await TaskDataService.completeTaskSubmission({\n          uuid: (taskSubmissionUUID === undefined) ? getTaskSubmission().uuid : taskSubmissionUUID,\n          result: result || \"\",\n          secureToken: secureToken,\n          csrfToken\n        });\n\n        await dispatch(loadTaskSubmission({uuid, secureToken}));\n        if(questionnaireUUID !== undefined) {\n          URLUtil.redirectToQuestionnaireSummary(questionnaireUUID, secureToken)\n        }\n      } catch (error) {\n        ErrorUtil.displayError(error);\n      }\n    } else {\n      await dispatch({\n        type: ActionType.TASK.COMPLETE_TASK_SUBMISSION,\n        payload: result\n      });\n    }\n  };\n}\n\nexport function moveToPreviousQuestionInTaskSubmission(\n  args: {\n    targetQuestion: Question,\n    secureToken?: string,\n    bypassNetwork?: boolean\n  }): ThunkAction {\n  const {targetQuestion, secureToken, bypassNetwork} = {...args};\n\n  return async (dispatch, getState) => {\n    const taskSubmission: TaskSubmission = getState().taskSubmissionState.taskSubmission;\n\n    if (!taskSubmission) {\n      return;\n    }\n\n    const questions = taskSubmission.questions;\n    const currentIndex = questions.findIndex((question) => question.isCurrent);\n    if (currentIndex < 0) {\n      throw new Error(\"Wrong state, please reload the task\");\n    }\n\n    // Don't move if the target question is not applicable or doesn't have answer\n    if (!targetQuestion.isApplicable || !targetQuestion.hasAnswer) {\n      return;\n    }\n\n    const targetIndex = questions.findIndex((question) => question.id === targetQuestion.id);\n    if (targetIndex < 0) {\n      return;\n    }\n\n    // Move cursor\n    const moveAction: MoveToQuestionInTaskSubmissionAction = {\n      type: ActionType.TASK.MOVE_TO_ANOTHER_TASK_QUESTION,\n      payload: {currentIndex, targetIndex},\n    };\n    await dispatch(moveAction);\n\n    // Network request - batch update\n    if (!bypassNetwork) {\n      await batchUpdateTaskSubmissionData(\n        taskSubmission,\n        _.uniq([currentIndex, targetIndex]),\n        secureToken\n      );\n    }\n  };\n}\n\nexport function editCompletedTaskSubmission(\n  args: {\n    secureToken?: string,\n    bypassNetwork?: boolean,\n    type?: string,\n  } = {}): ThunkAction {\n  const {secureToken, bypassNetwork, type} = {...args};\n\n  return async (dispatch, getState) => {\n    const taskSubmission: TaskSubmission = getState().taskSubmissionState.taskSubmission;\n    if (!taskSubmission) {\n      return;\n    }\n\n    if (!bypassNetwork) {\n      try {\n        const {uuid} = await TaskDataService.editTaskSubmission({\n          uuid: taskSubmission.uuid,\n          csrfToken: await CSRFTokenService.getCSRFToken(),\n          secureToken: secureToken,\n        });\n        await dispatch(loadTaskSubmission({uuid, secureToken}));\n\n        if (type === \"componentSelection\") {\n          await dispatch(loadSelectedComponents(taskSubmission));\n        }\n\n      } catch (error) {\n        ErrorUtil.displayError(error);\n      }\n    } else {\n      dispatch({\n        type: ActionType.TASK.EDIT_TASK_SUBMISSION\n      })\n    }\n  };\n}\n\nasync function batchUpdateTaskSubmissionData(taskSubmission: TaskSubmission, indexesToUpdate: Array<number>, secureToken?: string) {\n  try {\n    await TaskDataService.batchUpdateTaskSubmissionData({\n      uuid: taskSubmission.uuid,\n      questionIDList: indexesToUpdate.map((index) => taskSubmission.questions[index].id),\n      answerDataList: indexesToUpdate.map((index) => SubmissionDataUtil.transformFromFullQuestionToData(taskSubmission.questions[index])),\n      csrfToken: await CSRFTokenService.getCSRFToken(),\n      secureToken: secureToken,\n    });\n  } catch (error) {\n    ErrorUtil.displayError(error.message);\n  }\n}\n\nexport function approveTaskSubmission(uuid: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {status} = await TaskDataService.approveTaskSubmission({uuid, csrfToken});\n      await dispatch(loadTaskSubmission({uuid, secureToken: ''}));\n    } catch(error) {\n      ErrorUtil.displayError(error.message);\n    }\n  }\n}\n\nexport function inProgressTaskSubmission(uuid: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {status} = await TaskDataService.editTaskSubmission({uuid, csrfToken, secureToken: ''});\n      await dispatch(loadTaskSubmission({uuid, secureToken: ''}));\n    } catch(error) {\n      ErrorUtil.displayError(error.message);\n    }\n  }\n}\n\nexport function denyTaskSubmission(uuid: string): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {status} = await TaskDataService.denyTaskSubmission({uuid, csrfToken});\n      await dispatch(loadTaskSubmission({uuid}));\n    } catch(error) {\n      ErrorUtil.displayError(error.message);\n    }\n  }\n}\n\nexport function addTaskRecommendation(uuid: string, newTaskRecommendationObj: TaskRecommendation, taskRecommendations: Array<TaskRecommendation>): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      // push new task recommendation in existing taskRecommendations object\n      taskRecommendations.push(newTaskRecommendationObj);\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {taskRecommendationData} = await TaskDataService.updateTaskRecommendation({uuid, csrfToken, taskRecommendations});\n      await dispatch(loadTaskSubmission({uuid}));\n    } catch(error) {\n      ErrorUtil.displayError(error.message);\n    }\n  }\n}\n\nexport function editTaskRecommendation(uuid: string, updatedTaskRecommendationObj: TaskRecommendation, taskRecommendations: Array<TaskRecommendation>): ThunkAction {\n  return async (dispatch, getState) => {\n    try {\n      // edit task recommendation in existing taskRecommendations object\n      taskRecommendations = taskRecommendations.map(taskRecommendation =>\n        taskRecommendation.id === updatedTaskRecommendationObj.id ?\n        {...taskRecommendations, ...updatedTaskRecommendationObj} : taskRecommendation\n      );\n\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n      const {taskRecommendationData} = await TaskDataService.updateTaskRecommendation({uuid, csrfToken, taskRecommendations});\n      await dispatch(loadTaskSubmission({uuid}));\n    } catch(error) {\n      ErrorUtil.displayError(error.message);\n    }\n  }\n}\n\n// Questionnaire Submissions list of pending approval list\n// for SA, CISO and Business owner\nexport function loadAwaitingApprovalTaskList(limit: number, offset: number): ThunkAction {\n  return async (dispatch: any, getState: () => RootState) => {\n    const user = getState().currentUserState.user;\n    if (!user) {\n      return;\n    }\n\n    await dispatch({type: ActionType.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_REQUEST});\n\n    try {\n      // Call re sync with jira data api\n      const data = await TaskDataService.fetchTaskSubmissionList(user.id, 'awaiting_approval_list', limit, offset);\n\n      dispatch({\n        type: ActionType.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS,\n        payload: data\n      });\n    }\n    catch (error) {\n      await dispatch({ type: ActionType.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_FAILURE, error: error});\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport Questionnaire from \"../Questionnaire/Questionnaire\";\nimport AnswersPreview from \"../Questionnaire/AnswersPreview\";\nimport type {TaskSubmission as TaskSubmissionType} from \"../../types/Task\";\nimport type {Question} from \"../../types/Questionnaire\";\nimport editIcon from \"../../../img/icons/edit-icon.svg\";\nimport LightButton from \"../Button/LightButton\";\nimport RedButton from \"../Button/RedButton\";\nimport URLUtil from \"../../utils/URLUtil\";\nimport DarkButton from \"../Button/DarkButton\";\nimport pdfIcon from \"../../../img/icons/download.svg\";\nimport PDFUtil from \"../../utils/PDFUtil\";\nimport RiskResultContainer from \"../Common/RiskResultContainer\";\nimport TaskRecommendationContainer from \"./TaskRecommendationContainer\";\nimport SecurityRiskAssessmentUtil from \"../../utils/SecurityRiskAssessmentUtil\";\nimport {SubmissionExpired} from \"../Common/SubmissionExpired\";\nimport BackArrow from \"../../../img/icons/back-arrow.svg\";\nimport CertificationAndAccreditationResultContainer from \"./CertificationAndAccreditationResultContainer\";\n\ntype Props = {\n  taskSubmission: TaskSubmissionType,\n  saveAnsweredQuestion: (answeredQuestion: Question) => void,\n  moveToPreviousQuestion: (targetQuestion: Question) => void,\n  handleApproveButtonClick: () => void,\n  handleSendBackForChangesButtonClick: () => void,\n  handleDenyButtonClick: () => void,\n  loadResultForCertificationAndAccreditation: () => void,\n  handleAddTaskRecommendationButtonClick: () => void,\n  handleEditTaskRecommendationButtonClick: () => void,\n  showBackButton: boolean,\n  showEditButton: boolean,\n  canUpdateAnswers: boolean,\n  secureToken: string\n};\n\nclass TaskSubmission extends Component<Props> {\n  render() {\n    const {\n      taskSubmission,\n      saveAnsweredQuestion,\n      moveToPreviousQuestion,\n      handleApproveButtonClick,\n      handleDenyButtonClick,\n      handleSendBackForChangesButtonClick,\n      handleAddTaskRecommendationButtonClick,\n      handleEditTaskRecommendationButtonClick,\n      loadResultForCertificationAndAccreditation,\n      editAnswers,\n      showBackLink,\n      showEditButton,\n      canUpdateAnswers,\n      viewAs,\n      secureToken\n    } = {...this.props};\n\n    const taskRecommendationContainer = (\n      <TaskRecommendationContainer\n        taskRecommendations={taskSubmission.taskRecommendations}\n        viewAs={viewAs}\n        status={taskSubmission.status}\n        handleAddTaskRecommendationButtonClick={handleAddTaskRecommendationButtonClick}\n        handleEditTaskRecommendationButtonClick={handleEditTaskRecommendationButtonClick}\n      />\n    );\n\n    const backLink = showBackLink ? (\n      <div className=\"back-link\" onClick={() => this.sendBackToQestionnaire()}>\n        <img src={BackArrow}/>\n        Back\n      </div>\n    ) : null;\n\n    const isSRATaskFinalised = taskSubmission.taskType === 'risk questionnaire' && SecurityRiskAssessmentUtil.isSRATaskFinalised(taskSubmission.siblingSubmissions);\n\n    const editButton = showEditButton && !isSRATaskFinalised && taskSubmission.taskType !== \"certification and accreditation\"? (\n      <LightButton\n        title=\"Edit\"\n        onClick={editAnswers}\n        iconImage={editIcon}\n      />\n    ) : null;\n\n    const resultStatus = [\"complete\", \"waiting_for_approval\", \"approved\", \"denied\"];\n    const pdfButton = (resultStatus.indexOf(taskSubmission.status) > -1) ? (\n      <LightButton title={\"PDF\"} iconImage={pdfIcon} onClick={() => this.downloadPdf()}/>\n    ) : null;\n\n    const result = taskSubmission.result && (resultStatus.indexOf(taskSubmission.status) > -1) ? (\n      <div className=\"result-container\">\n        <h4>Result</h4>\n        <div className=\"result\">{taskSubmission.result}</div>\n      </div>\n    ) : null;\n\n    const riskResult = taskSubmission.riskResults && (resultStatus.indexOf(taskSubmission.status) > -1) ? (\n      <RiskResultContainer\n        riskResults={taskSubmission.riskResults}\n        hideWeightsAndScore={taskSubmission.hideWeightsAndScore}\n      />\n    ) : null;\n\n    const approveButton = (viewAs === \"approver\" && taskSubmission.status === \"waiting_for_approval\") ? (\n      <DarkButton title={\"Approve\"} onClick={handleApproveButtonClick} classes={[\"button\"]}/>\n    ) : null;\n\n    const sendBackForChangesButton = (viewAs === \"approver\" && taskSubmission.status === \"waiting_for_approval\") ? (\n      <LightButton title={\"Send back for changes\"} onClick={handleSendBackForChangesButtonClick} classes={[\"button\"]}/>\n    ) : null;\n\n    const denyButton = (viewAs === \"approver\" && taskSubmission.status === \"waiting_for_approval\") ? (\n      <RedButton title={\"Not approved\"} onClick={handleDenyButtonClick} classes={[\"button\"]}/>\n    ) : null;\n\n    let body = (\n      <div>\n        {result}\n        <h4>Summary</h4>\n        {\n          taskSubmission.taskType !== \"certification and accreditation\" &&\n          <AnswersPreview questions={taskSubmission.questions}/>\n        }\n        {\n          !taskSubmission.isDisplayPreventMessage &&\n          taskSubmission.taskType === \"certification and accreditation\" &&\n          <div className=\"task-review-container\">\n            <CertificationAndAccreditationResultContainer\n              resultForCertificationAndAccreditation={taskSubmission.resultForCertificationAndAccreditation}\n              isDisplayReportLogo={true}\n            />\n          </div>\n        }\n        {riskResult}\n        {taskRecommendationContainer}\n      </div>\n    );\n\n    if (taskSubmission.taskType === \"certification and accreditation\" && taskSubmission.isDisplayPreventMessage) {\n      body = (\n        <div\n          className=\"prevent-message-container alert alert-danger\"\n          dangerouslySetInnerHTML={{\n            __html: taskSubmission.preventMessage\n          }}\n        >\n        </div>\n      );\n   }\n\n    else if (canUpdateAnswers) {\n      body = (\n        <Questionnaire\n          questions={taskSubmission.questions}\n          serviceRegister={taskSubmission.serviceRegister}\n          informationClassificationTaskResult={taskSubmission.informationClassificationTaskResult}\n          riskProfileData={taskSubmission.riskProfileData}\n          resultForCertificationAndAccreditation={taskSubmission.resultForCertificationAndAccreditation}\n          loadResultForCertificationAndAccreditation={loadResultForCertificationAndAccreditation}\n          saveAnsweredQuestion={saveAnsweredQuestion}\n          onLeftBarItemClick={moveToPreviousQuestion}\n          handleTaskSaveDraftButtonClick={this.handleTaskSaveDraftButtonClick.bind(this)}\n        />\n      );\n    }\n\n    return (\n      <div className=\"TaskSubmission\">\n        {taskSubmission.status === 'expired' && <SubmissionExpired/>}\n        {\n          taskSubmission.status !== 'expired' && (\n            <div>\n              {\n                taskSubmission.taskType === 'risk questionnaire' &&\n                isSRATaskFinalised ? SecurityRiskAssessmentUtil.getSraIsFinalisedAlert() : false\n              }\n              {backLink}\n              {body}\n              <div className={`buttons ${viewAs != \"approver\" ? 'buttons-hideborder': ''}`}>\n                <div className=\"buttons-left\">\n                  {editButton}\n                  {pdfButton}\n                </div>\n                <div className=\"buttons-right\">\n                  {\n                    viewAs === \"approver\" &&\n                    taskSubmission.status === \"waiting_for_approval\" &&\n                    <span className=\"approver-action\">Approver action: </span>\n                  }\n                  {sendBackForChangesButton}\n                  {denyButton}\n                  {approveButton}\n                </div>\n              </div>\n            </div>\n          )\n        }\n      </div>\n    );\n  }\n\n  downloadPdf() {\n    const {\n      taskSubmission,\n      currentUser,\n      siteConfig\n    } = {...this.props};\n\n    if (!taskSubmission && !siteConfig && !currentUser) {\n      return;\n    }\n\n    PDFUtil.generatePDF({\n      questions: taskSubmission.questions,\n      submitter: taskSubmission.submitter.email ? taskSubmission.submitter : currentUser,\n      questionnaireTitle: taskSubmission.taskName,\n      siteConfig: siteConfig,\n      result: taskSubmission.result,\n      riskResults: taskSubmission.riskResults,\n    });\n  }\n\n  handleTaskSaveDraftButtonClick() {\n    this.sendBackToQestionnaire();\n  }\n\n  sendBackToQestionnaire() {\n    URLUtil.redirectToQuestionnaireSummary(this.props.taskSubmission.questionnaireSubmissionUUID, this.props.secureToken)\n  }\n}\n\nexport default TaskSubmission;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {Question} from \"../../types/Questionnaire\";\nimport {\n  editCompletedTaskSubmission,\n  loadTaskSubmission,\n  loadResultForCertificationAndAccreditation,\n  moveToPreviousQuestionInTaskSubmission,\n  saveAnsweredQuestionInTaskSubmission,\n  approveTaskSubmission,\n  denyTaskSubmission,\n  inProgressTaskSubmission,\n  addTaskRecommendation,\n  editTaskRecommendation\n} from \"../../actions/task\";\nimport TaskSubmission from \"./TaskSubmission\";\nimport type {User} from \"../../types/User\";\nimport type {\n  TaskSubmission as TaskSubmissionType,\n  TaskRecommendation\n} from \"../../types/Task\";\nimport {loadCurrentUser} from \"../../actions/user\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    questionnaireSubmission: state.questionnaireState.submissionState,\n    taskSubmission: state.taskSubmissionState.taskSubmission,\n    siteTitle: state.siteConfigState.siteTitle,\n    currentUser: state.currentUserState.user,\n    siteConfig: state.siteConfigState.siteConfig,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    dispatchLoadDataAction(uuid: string, secureToken: string) {\n      dispatch(loadCurrentUser());\n      dispatch(loadSiteConfig());\n      dispatch(loadTaskSubmission({uuid, secureToken}));\n    },\n    dispatchLoadResultForCertificationAndAccreditation(uuid: string, secureToken: string) {\n      dispatch(loadResultForCertificationAndAccreditation({uuid, secureToken}));\n    },\n    dispatchSaveAnsweredQuestionAction(answeredQuestion: Question) {\n      dispatch(saveAnsweredQuestionInTaskSubmission({answeredQuestion}));\n    },\n    dispatchMoveToPreviousQuestionAction(targetQuestion: Question) {\n      dispatch(moveToPreviousQuestionInTaskSubmission({targetQuestion}));\n    },\n    dispatchEditAnswersAction() {\n      dispatch(editCompletedTaskSubmission());\n    },\n    dispatchApproveTaskSubmissionAction(uuid: string) {\n      dispatch(approveTaskSubmission(uuid));\n    },\n    dispatchDenyTaskSubmissionAction(uuid: string) {\n      dispatch(denyTaskSubmission(uuid));\n    },\n    dispatchSendBackForChangesTaskSubmissionAction(uuid: string) {\n      dispatch(inProgressTaskSubmission(uuid));\n    },\n    dispatchAddTaskRecommendationAction(uuid: string, newTaskRecommendation:TaskRecommendation, taskRecommendations: Array<TaskRecommendation>) {\n      dispatch(addTaskRecommendation(uuid, newTaskRecommendation, taskRecommendations))\n    },\n    dispatchEditTaskRecommendationAction(uuid: string, updatedTaskRecommendation:TaskRecommendation, taskRecommendations: Array<TaskRecommendation>) {\n      dispatch(editTaskRecommendation(uuid, updatedTaskRecommendation, taskRecommendations))\n    }\n  };\n};\n\ntype Props = {\n  uuid: string,\n  secureToken:string,\n  taskSubmission?: TaskSubmissionType | null,\n  siteConfig?: SiteConfig | null,\n  currentUser?: User | null,\n  dispatchLoadDataAction?: (uuid: string, secureToken: string) => void,\n  dispatchApproveTaskSubmissionAction?: (uuid: string) => void,\n  dispatchDenyTaskSubmissionAction?: (uuid: string) => void,\n  dispatchSendBackForChangesTaskSubmissionAction?: (uuid: string) => void,\n  dispatchSaveAnsweredQuestionAction?: (answeredQuestion: Question) => void,\n  dispatchMoveToPreviousQuestionAction?: (targetQuestion: Question) => void,\n  dispatchEditAnswersAction?: () => void,\n  dispatchAddTaskRecommendationAction?: (uuid: string, newTaskRecommendation:TaskRecommendation, taskRecommendations: Array<TaskRecommendation>) => void,\n  dispatchEditTaskRecommendationAction?: (uuid: string, updatedTaskRecommendation:TaskRecommendation, taskRecommendations: Array<TaskRecommendation>) => void,\n\n};\n\nclass TaskSubmissionContainer extends Component<Props> {\n\n  componentDidMount() {\n    const {uuid, dispatchLoadDataAction, secureToken} = {...this.props};\n    dispatchLoadDataAction(uuid, secureToken);\n  }\n\n  render() {\n    const {\n      siteConfig,\n      currentUser,\n      taskSubmission,\n      dispatchSaveAnsweredQuestionAction,\n      dispatchMoveToPreviousQuestionAction,\n      dispatchEditAnswersAction,\n      dispatchApproveTaskSubmissionAction,\n      dispatchDenyTaskSubmissionAction,\n      dispatchSendBackForChangesTaskSubmissionAction,\n      dispatchAddTaskRecommendationAction,\n      dispatchEditTaskRecommendationAction,\n      secureToken\n    } = {...this.props};\n\n    if (!currentUser || !taskSubmission || !siteConfig) {\n      return null;\n    }\n\n    // Decide what the permission of the current user\n    let viewAs = \"others\";\n\n    do {\n      // Check if the current user is the submitter\n      if (parseInt(currentUser.id) === parseInt(taskSubmission.submitter.id)) {\n        viewAs = \"submitter\";\n        break;\n      }\n\n      // Check if the current user is an approver\n      if (taskSubmission.isCurrentUserAnApprover) {\n        viewAs = \"approver\";\n        break;\n      }\n    } while (false);\n\n    // As logged-in user, only submitter and SA can edit answers\n    const isCurrentUserSubmitter = parseInt(currentUser.id) === parseInt(taskSubmission.submitter.id);\n\n    const canUpdateAnswers = (taskSubmission.status === \"in_progress\" ||\n      taskSubmission.status === \"start\" ) && (currentUser.isSA || isCurrentUserSubmitter || taskSubmission.isTaskCollborator);\n    const showEditButton =\n      (taskSubmission.status === \"complete\" || taskSubmission.status === \"waiting_for_approval\"\n      || taskSubmission.status === \"denied\")\n      && (taskSubmission.questionnaireSubmissionStatus === \"submitted\")\n      && (currentUser.isSA || ((isCurrentUserSubmitter || taskSubmission.isTaskCollborator)\n      && !taskSubmission.lockWhenComplete));\n\n    return (\n      <div className=\"TaskSubmissionContainer\">\n        <Header title={taskSubmission.taskName} subtitle={siteConfig.siteTitle} username={currentUser.name} logopath={siteConfig.logoPath}/>\n        <TaskSubmission\n          taskSubmission={taskSubmission}\n          saveAnsweredQuestion={dispatchSaveAnsweredQuestionAction}\n          moveToPreviousQuestion={dispatchMoveToPreviousQuestionAction}\n          editAnswers={dispatchEditAnswersAction}\n          showEditButton={showEditButton}\n          canUpdateAnswers={canUpdateAnswers}\n          handleApproveButtonClick={this.handleApproveButtonClick.bind(this)}\n          handleDenyButtonClick={this.handleDenyButtonClick.bind(this)}\n          handleSendBackForChangesButtonClick={this.handleSendBackForChangesButtonClick.bind(this)}\n          handleAddTaskRecommendationButtonClick={this.handleAddTaskRecommendationButtonClick.bind(this)}\n          handleEditTaskRecommendationButtonClick={this.handleEditTaskRecommendationButtonClick.bind(this)}\n          loadResultForCertificationAndAccreditation={this.loadResultForCertificationAndAccreditation.bind(this)}\n          showBackLink={!!taskSubmission.questionnaireSubmissionUUID}\n          viewAs={viewAs}\n          siteConfig={siteConfig}\n          secureToken={secureToken}\n        />\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n\n  handleApproveButtonClick() {\n    const {user, isCurrentUserAnApprover, uuid} = {...this.props.taskSubmission};\n\n    if (!user && !uuid && !isCurrentUserAnApprover) {\n      return;\n    }\n\n    this.props.dispatchApproveTaskSubmissionAction(uuid);\n  }\n\n  handleSendBackForChangesButtonClick() {\n    const {user, isCurrentUserAnApprover, uuid} = {...this.props.taskSubmission};\n\n    if (!user && !uuid && !isCurrentUserAnApprover) {\n      return;\n    }\n\n    this.props.dispatchSendBackForChangesTaskSubmissionAction(uuid);\n  }\n\n  handleDenyButtonClick() {\n    const {user, isCurrentUserAnApprover, uuid} = {...this.props.taskSubmission};\n\n    if (!user && !uuid && !isCurrentUserAnApprover) {\n      return;\n    }\n    this.props.dispatchDenyTaskSubmissionAction(uuid);\n  }\n\n  handleAddTaskRecommendationButtonClick(recommendationObj) {\n    const {user, isCurrentUserAnApprover, uuid, taskRecommendations} = {...this.props.taskSubmission};\n\n    if (!user && !uuid && !isCurrentUserAnApprover && !taskRecommendations) {\n      return;\n    }\n\n    this.props.dispatchAddTaskRecommendationAction(uuid, recommendationObj, taskRecommendations);\n  }\n\n  handleEditTaskRecommendationButtonClick(updatedRecommendationObj) {\n    const {user, isCurrentUserAnApprover, uuid, taskRecommendations} = {...this.props.taskSubmission};\n\n    if (!user && !uuid && !isCurrentUserAnApprover && !taskRecommendations) {\n      return;\n    }\n\n    this.props.dispatchEditTaskRecommendationAction(uuid, updatedRecommendationObj, taskRecommendations);\n  }\n\n  loadResultForCertificationAndAccreditation() {\n    const {uuid, dispatchLoadResultForCertificationAndAccreditation, secureToken} = {...this.props};\n    dispatchLoadResultForCertificationAndAccreditation(uuid, secureToken);\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(TaskSubmissionContainer);\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {Question} from \"../../types/Questionnaire\";\nimport {\n  editCompletedTaskSubmission,\n  loadStandaloneTaskSubmission,\n  moveToPreviousQuestionInTaskSubmission,\n  saveAnsweredQuestionInTaskSubmission,\n} from \"../../actions/task\";\nimport TaskSubmission from \"./TaskSubmission\";\nimport type {User} from \"../../types/User\";\nimport type {TaskSubmission as TaskSubmissionType} from \"../../types/Task\";\nimport {loadCurrentUser} from \"../../actions/user\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    taskSubmission: state.taskSubmissionState.taskSubmission,\n    siteConfig: state.siteConfigState.siteConfig,\n    currentUser: state.currentUserState.user,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: OwnProps) => {\n  return {\n    dispatchLoadDataAction() {\n      const {taskId} = {...props};\n      dispatch(loadCurrentUser());\n      dispatch(loadSiteConfig());\n      dispatch(loadStandaloneTaskSubmission({taskId}))\n    },\n    dispatchSaveAnsweredQuestionAction(answeredQuestion: Question) {\n      dispatch(saveAnsweredQuestionInTaskSubmission({answeredQuestion, bypassNetwork: true}));\n    },\n    dispatchMoveToPreviousQuestionAction(targetQuestion: Question) {\n      dispatch(moveToPreviousQuestionInTaskSubmission({targetQuestion, bypassNetwork: true}));\n    },\n    dispatchEditAnswersAction() {\n      dispatch(editCompletedTaskSubmission({bypassNetwork: true}));\n    },\n  };\n};\n\ntype OwnProps = {\n  taskId: string\n}\n\ntype ReduxProps = {\n  taskSubmission?: TaskSubmissionType | null,\n  siteConfig?: SiteConfig | null,\n  currentUser?: User | null,\n  dispatchLoadDataAction?: () => void,\n  dispatchSaveAnsweredQuestionAction?: (answeredQuestion: Question) => void,\n  dispatchMoveToPreviousQuestionAction?: (targetQuestion: Question) => void,\n  dispatchEditAnswersAction?: () => void\n}\n\ntype Props = OwnProps & ReduxProps;\n\nclass TaskStandaloneContainer extends Component<Props> {\n\n  componentDidMount() {\n    const {dispatchLoadDataAction} = {...this.props};\n    dispatchLoadDataAction();\n  }\n\n  render() {\n    const {\n      siteConfig,\n      currentUser,\n      taskSubmission,\n      dispatchSaveAnsweredQuestionAction,\n      dispatchMoveToPreviousQuestionAction,\n      dispatchEditAnswersAction,\n    } = {...this.props};\n\n    if (!currentUser || !taskSubmission || !siteConfig) {\n      return null;\n    }\n\n    const canUpdateAnswers = (taskSubmission.status === \"in_progress\" || taskSubmission.status === \"start\");\n    const showEditButton = (taskSubmission.status === \"complete\");\n\n    return (\n      <div className=\"TaskSubmissionContainer\">\n        <Header title={taskSubmission.taskName} subtitle={siteConfig.siteTitle} username={currentUser.name} logopath={siteConfig.logoPath}/>\n        <TaskSubmission\n          taskSubmission={taskSubmission}\n          saveAnsweredQuestion={dispatchSaveAnsweredQuestionAction}\n          moveToPreviousQuestion={dispatchMoveToPreviousQuestionAction}\n          editAnswers={dispatchEditAnswersAction}\n          showEditButton={showEditButton}\n          canUpdateAnswers={canUpdateAnswers}\n          showBackButton={false}\n          siteConfig={siteConfig}\n          currentUser={currentUser}\n        />\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(TaskStandaloneContainer);\n","// @flow\n// This is used for component selection\n\nimport React, {Component} from \"react\";\nimport EditingIcon from \"../../../img/icons/question-editing.svg\";\n\ntype Props = {\n  title: string,\n  iconType: \"editing\" | \"success\" | \"pending\" | \"not-applicable\",\n  disabled: boolean,\n  onItemClick: () => void\n};\n\nexport default class LeftBarItem extends Component<Props> {\n\n  render() {\n    const {title, disabled, onItemClick} = {...this.props};\n\n    return (\n      <div className=\"LeftBarItem\">\n        <button className=\"btn\"\n                disabled={disabled}\n                onClick={(event) => {\n                  event.preventDefault();\n                  onItemClick();\n                }}>\n                {this.renderIcon()}\n                {title}\n        </button>\n      </div>\n    );\n  }\n\n  renderIcon() {\n    const {iconType} = {...this.props};\n\n    switch (iconType) {\n      case \"editing\":\n        return <img src={EditingIcon} alt=\"\"/>;\n      case \"success\":\n        return <i className=\"fas fa-check-circle success\"/>;\n      case \"pending\":\n        return <i className=\"fas fa-check-circle pending\"/>;\n      case \"not-applicable\":\n        return <i className=\"fas fa-question-circle not-applicable\"/>;\n      default:\n        return null;\n    }\n  }\n}\n","// @flow\n\nimport type {SecurityComponent} from \"../types/SecurityComponent\";\n\nexport default class ComponentSelectionUtil {\n  static isComponentExist(id: string, collection: Array<SecurityComponent>): boolean {\n    return collection.filter((component) => component.id === id).length > 0;\n  }\n\n  static isSelectedComponentExist (id: string, productAspect: string, collection: Array<SecurityComponent>): boolean {\n      if (productAspect !== \"\") {\n        return collection.filter((component) => component.id === id && component.productAspect === productAspect).length > 0;\n      }\n      return collection.filter((component) => component.id === id).length > 0;\n  }\n\n  static isComponentSaved(id: string, productAspect: string, collection: Array<SecurityComponent>): boolean {\n    return collection.filter((component) => component.id === id && component.productAspect === productAspect && component.isSaved).length > 0;\n  }\n\n  static doescomponentExistForProductAspect (productAspect: string, collection: Array<SecurityComponent>): boolean {\n    return collection.filter((component) => component.productAspect === productAspect).length > 0;\n\n  }\n}\n","// @flow\n// This is used for component selection\n\nimport React, {Component} from \"react\";\nimport LeftBarItem from \"../LeftBar/LeftBarItem\";\nimport type {SecurityComponent} from \"../../types/SecurityComponent\";\nimport ComponentSelectionUtil from \"../../utils/ComponentSelectionUtil\";\nimport toString from \"lodash/toString\";\n\ntype Props = {\n  availableComponents: Array<SecurityComponent>,\n  selectedComponents: Array<SecurityComponent>,\n  removeComponent: (id: string) => void,\n  addComponent: (id: string) => void,\n  title: string,\n  componentTarget: string,\n};\n\ntype State = {\n  filter: string,\n  selectedProductAspect: string,\n};\n\nexport default class LeftBar extends Component<Props> {\n  constructor(props: *) {\n    super(props);\n    this.state = {\n      filter: \"\",\n      selectedProductAspect: props.productAspects && props.productAspects.length ? props.productAspects[0] : ''\n    };\n  }\n  handleChange(event) {\n    alert(event.target.value);\n  }\n  render() {\n    const {\n      title,\n      availableComponents,\n      selectedComponents,\n      removeComponent,\n      addComponent,\n      productAspects,\n      componentTarget\n    } = {...this.props};\n\n    const {filter, selectedProductAspect} = {...this.state};\n\n    return (\n      <div className=\"LeftBar\">\n        {productAspects && productAspects.length > 0 && (\n          <div className=\"product-aspect\">\n            <label>\n              <span className=\"product-aspect-label\">Please select a Product Aspect:</span>\n              <select\n                className=\"custom-select custom-select-sm\"\n                onChange={(event) => {\n                  const value = toString(event.target.value).trim();\n                  this.setState({selectedProductAspect: value});\n                }}\n                value={selectedProductAspect}>\n                {\n                  productAspects.map((productAspect, index) => {\n                    return <option key={index} value={productAspect}>{productAspect}</option>;\n                  })\n                }\n              </select>\n            </label>\n          </div>\n        )}\n\n        <div className=\"title\">{title}</div>\n        <div className=\"search\">\n          <i className=\"fas fa-search\"/>\n          <input type=\"text\" placeholder=\"Filter component...\" onChange={(event) => {\n            const value = toString(event.target.value).trim();\n            this.setState({filter: value});\n          }}/>\n        </div>\n        <div className=\"items\">\n          {availableComponents\n            .filter((component) => {\n              if (!filter) {\n                return true;\n              }\n              return component.name.toUpperCase().includes(filter.toUpperCase());\n            })\n            .map((component) => {\n              const isSelected = ComponentSelectionUtil.isSelectedComponentExist(component.id, selectedProductAspect, selectedComponents);\n              const isDisable = ComponentSelectionUtil.isComponentSaved(component.id, selectedProductAspect, selectedComponents, componentTarget)\n                && componentTarget == \"JIRA Cloud\";\n\n              return (\n                <LeftBarItem\n                  title={component.name}\n                  iconType={isSelected ? \"success\" : \"pending\"}\n                  disabled={isDisable}\n                  key={component.id}\n                  onItemClick={() => {\n                    // Toggle selection\n                    if (isSelected) {\n                      removeComponent(component.id, selectedProductAspect);\n                    } else {\n                      addComponent(component.id, selectedProductAspect);\n                    }\n                  }}/>\n              );\n            })}\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport React, {Component} from \"react\";\nimport { Icon } from 'react-fa';\nimport tinymce from \"tinymce\";\nimport 'tinymce/themes/modern';\nimport { Editor } from \"@tinymce/tinymce-react\";\n\ntype Props = {\n  id: string,\n  name: string,\n  description: string,\n  implementationGuidance: string,\n  implementationEvidence: string,\n  showImplementationEvidence: boolean,\n  isCVATaskEditable: boolean,\n  className: string,\n  updateEvidenceTextareaData: (value: string) => void\n};\n\ntype State = {\n  isExpaned: boolean,\n  isImplementationEvidenceExpaned: boolean\n};\n\nexport default class ControlInfo extends React.Component<Props> {\n  constructor(props: *) {\n    super(props);\n    this.state = {\n      isExpanded: false,\n      isImplementationEvidenceExpaned: !this.props.isCVATaskEditable\n  };\n}\n\n  handleOnBlurForImplementationEvidence(event) {\n    if (this.props.isCVATaskEditable) {\n      this.props.updateEvidenceTextareaData(event.target.getContent());\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if(prevProps.isCVATaskEditable !== this.props.isCVATaskEditable) {\n      this.setState({\n        isImplementationEvidenceExpaned: !this.props.isCVATaskEditable\n      })\n    }\n  }\n\n  render() {\n    const {\n      id,\n      name,\n      description,\n      implementationGuidance,\n      implementationEvidence,\n      className,\n      showImplementationEvidence,\n      updateEvidenceTextareaData,\n      implementationEvidenceUserInput,\n      isCVATaskEditable\n    } = {...this.props};\n\n    const {isExpanded, isImplementationEvidenceExpaned} = {...this.state};\n    return (\n      <div className={\"ControlInfo \" + className}>\n        {name && (<h5>{name}</h5>)}\n        {\n          description && (\n            <div className=\"control-description\">\n              <span><b>Description: </b></span>\n              <span\n                className=\"control-description-cs\"\n                dangerouslySetInnerHTML={{\n                  __html: description\n                }}\n              >\n              </span>\n            </div>\n          )\n        }\n        {\n          implementationGuidance && (\n            <div className=\"implementation-Guidance\">\n              <div\n                className=\"implementation-Guidance-title\"\n                onClick={() => this.setState({ isExpanded: !isExpanded })}\n              >\n                <span>\n                  <b>Implementation Guidance </b>\n                  <Icon name={`${isExpanded ? \"caret-up\" : \"caret-down\"}`} />\n                </span>\n              </div>\n\n              {isExpanded && (\n                <div\n                  dangerouslySetInnerHTML={{\n                    __html: implementationGuidance\n                  }}\n                >\n                </div>\n              )}\n            </div>\n          )\n        }\n        {\n          showImplementationEvidence && (\n            <div className=\"implementation-Guidance\">\n              <div\n                className=\"implementation-Guidance-title\"\n                onClick={() => this.setState({ isImplementationEvidenceExpaned: !isImplementationEvidenceExpaned })}\n              >\n                <span>\n                  <b>Evidence of Implementation / Rationale of Not Applicable</b>\n                  <Icon name={`${isImplementationEvidenceExpaned ? \"caret-up\" : \"caret-down\"}`} />\n                </span>\n              </div>\n\n              {\n                isImplementationEvidenceExpaned && (\n                <div>\n                <div\n                  dangerouslySetInnerHTML={{\n                    __html: implementationEvidence\n                  }}\n                >\n                </div>\n                {\n                  isCVATaskEditable ? (\n                    <div>\n                      <Editor\n                        className=\"implementation-evidence\"\n                        initialValue={implementationEvidenceUserInput}\n                        init={{\n                          selector: 'textarea',\n                          menubar: false,\n                          toolbar: false,\n                          statusbar: false,\n                          skin_url: 'resources/vendor/silverstripe/admin/thirdparty/tinymce/skins/silverstripe'\n                        }}\n                        onBlur={(event) => this.handleOnBlurForImplementationEvidence(event)}\n                      />\n                    </div>\n                    ) : (\n                    <div className=\"implementation-evidence\">\n                      <span\n                        dangerouslySetInnerHTML={{\n                          __html: implementationEvidenceUserInput.replace(/ href=/gi, \" target='_blank' href=\")\n                        }}\n                      >\n                      </span>\n                    </div>\n                  )\n                }\n                </div>\n              )}\n            </div>\n          )\n        }\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React from \"react\";\nimport type {SecurityControl} from \"../../types/SecurityControl\";\nimport ControlInfo from \"./ControlInfo\";\n\ntype Props = {\n  id: string,\n  name: string,\n  description: string,\n  removeComponent: () => void,\n  childControls: Array<SecurityControl>,\n  showControls: boolean,\n  isDisable: boolean,\n};\n\nexport default class ComponentInfo extends React.Component<Props> {\n\n  render() {\n    const {id, name, description, removeComponent, childControls, isDisable} = {...this.props};\n\n    return (\n      <div className=\"ComponentInfo\" key={id+name}>\n        <h3>\n          {!isDisable && (\n            <button onClick={(event) => {\n              event.preventDefault();\n              removeComponent();\n            }\n          }>\n          <i className=\"fas fa-minus-circle text-danger\"/>\n          <span> {name}</span>\n          </button>)}\n        </h3>\n        <p>{description}</p>\n\n        {childControls && childControls.length > 0 && (<div className=\"control-heading\">Controls</div>)}\n\n        {childControls && childControls.length > 0 && (\n          childControls.map((control, index) => {\n              return (\n                <ControlInfo\n                  key={index}\n                  id={control.id}\n                  name={control.name}\n                  description={control.description}\n                  implementationGuidance={control.implementationGuidance}\n                  className= \"control-cs\"\n                />\n              );\n            })\n        )}\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport type {SecurityComponent} from \"../../types/SecurityComponent\";\nimport LeftBar from \"../LeftBar/LeftBar\";\nimport LeftBarItem from \"../LeftBar/LeftBarItem\";\nimport toString from \"lodash/toString\";\nimport DarkButton from \"../Button/DarkButton\";\nimport LightButton from \"../Button/LightButton\";\nimport ComponentInfo from \"./ComponentInfo\";\nimport ComponentSelectionUtil from \"../../utils/ComponentSelectionUtil\";\n\ntype Props = {\n  availableComponents: Array<SecurityComponent>,\n  selectedComponents: Array<SecurityComponent>,\n  componentTarget: taskSubmission.ComponentTarget,\n  createJIRATickets: (jiraKey: string) => void,\n  removeComponent: (id: string) => void,\n  addComponent: (id: string) => void,\n  finishWithSelection: () => void,\n  saveControls: () => void,\n  extraButtons?: *,\n  isStandaloneTask: boolean,\n  productAspects: Array<*>\n};\n\ntype State = {\n  jiraKey: string\n};\n\nexport default class ComponentSelection extends Component<Props, State> {\n\n  constructor(props: *) {\n    super(props);\n    this.state = {\n      jiraKey: \"\"\n    };\n  }\n\n  render() {\n    const {\n      availableComponents,\n      selectedComponents,\n      createJIRATickets,\n      removeComponent,\n      addComponent,\n      finishWithSelection,\n      saveControls,\n      extraButtons,\n      componentTarget,\n      productAspects,\n      isStandaloneTask\n    } = {...this.props};\n    const {jiraKey} = {...this.state};\n    const isGroupbyProductAspect = productAspects && productAspects.length > 0 && selectedComponents.length > 0;\n\n    return (\n      <div className=\"ComponentSelection\">\n        <div className=\"main-wrapper\">\n          <LeftBar\n            selectedComponents={selectedComponents}\n            availableComponents={availableComponents}\n            title={\"Available Components\"}\n            removeComponent={removeComponent}\n            addComponent={addComponent}\n            productAspects={productAspects}\n            componentTarget={componentTarget}\n          >\n          </LeftBar>\n\n          <div className=\"main-content\">\n            <div className=\"heading\">\n              Selected Components\n            </div>\n            <div className=\"selected-components\">\n              {isGroupbyProductAspect > 0 && productAspects.map ((productAspect, index) => {\n                return (\n                  <div key={index}>\n                    {ComponentSelectionUtil.doescomponentExistForProductAspect(productAspect, selectedComponents) &&\n                      <h4 key={index}>{productAspect}</h4>\n                    }\n                    {selectedComponents.map((component, index) => {\n                      const isDisable = component.hasOwnProperty('isSaved') && component.isSaved && componentTarget == \"JIRA Cloud\";\n                      if (component.productAspect === productAspect) {\n                        return (\n                          <ComponentInfo\n                            key={component.id + (component.productAspect ? `_${component.productAspect}`: \"\")}\n                            id={component.id}\n                            name={component.name}\n                            description={component.description}\n                            removeComponent={() => {\n                              removeComponent(component.id, component.productAspect);\n                            }}\n                            childControls={component.controls}\n                            isDisable={isDisable}\n                          />\n                        );\n                      }\n                    })}\n                  </div>\n                );\n              })}\n\n              {(productAspects === undefined || productAspects === ''|| productAspects.length === 0 ) && selectedComponents.map((component, index) => {\n                const isDisable = component.hasOwnProperty('isSaved') && component.isSaved && componentTarget == \"JIRA Cloud\";\n                return (\n                  <ComponentInfo\n                    key={component.id}\n                    id={component.id}\n                    name={component.name }\n                    description={component.description}\n                    removeComponent={() => {\n                      removeComponent(component.id, component.productAspect);\n                    }}\n                    childControls={component.controls}\n                    isDisable={isDisable}\n                  />\n                );\n              })}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"buttons-wrapper\">\n           <div className=\"extra-buttons\">{extraButtons}</div>\n           <div>\n             {selectedComponents.length > 0 && componentTarget === \"JIRA Cloud\" && (\n               <React.Fragment>\n                 <input\n                   type=\"text\"\n                   style={{height: \"100%\", marginRight: \"10px\"}}\n                   placeholder=\"JIRA Project Key\"\n                   onChange={event => {\n                     const value = toString(event.target.value).trim();\n                     this.setState({jiraKey: value});\n                   }}\n                 />\n                 <DarkButton\n                   title=\"CREATE JIRA TICKETS\"\n                   classes={[\"mr-3\"]}\n                   onClick={() => {\n                     createJIRATickets(jiraKey);\n                   }}\n                 />\n               </React.Fragment>\n             )}\n             {componentTarget === \"Local\" && !isStandaloneTask && (\n               <LightButton\n                 title=\"SAVE CONTROLS\"\n                 classes={[\"mr-3\"]}\n                 onClick={() => {\n                   saveControls();\n                 }}\n               />\n             )}\n             <LightButton\n               title=\"COMPLETE WITHOUT SELECTION\"\n               classes={[\"mr-3\"]}\n               onClick={() => {\n                 finishWithSelection();\n               }}\n             />\n           </div>\n         </div>\n       </div>\n     );\n   }\n }\n","// @flow\n\nimport React from \"react\";\nimport type {JiraTicket, SecurityComponent} from \"../../types/SecurityComponent\";\nimport ComponentSelectionUtil from \"../../utils/ComponentSelectionUtil\";\n\ntype Props = {\n  selectedComponents: Array<SecurityComponent>,\n  jiraTickets: Array<JiraTicket>,\n  buttons?: *,\n  componentTarget: string,\n  productAspects: Array<*>\n};\n\nexport default class ComponentSelectionReview extends React.Component<Props> {\n\n  render() {\n    const {selectedComponents, jiraTickets, buttons, componentTarget, productAspects} = {...this.props};\n    const isGroupbyProductAspect = productAspects && productAspects.length > 0 && selectedComponents.length > 0;\n    return (\n      <div className=\"ComponentSelectionReview\">\n        <div className=\"section\">\n          <h4>Selected Components</h4>\n          {isGroupbyProductAspect > 0 && productAspects.map ((productAspect, index) => {\n            return (\n              <ul key={index}>\n                {ComponentSelectionUtil.doescomponentExistForProductAspect(productAspect, selectedComponents) &&\n                  <h5 key={index}>{productAspect}</h5>\n                }\n                {selectedComponents.map((component, index) => {\n                  if (component.productAspect === productAspect) {\n                    return (\n                      <li key={component.id + (productAspect ? `_${productAspect}`: \"\")}>\n                        {component.name}\n                      </li>\n                    );\n                  }\n                })}\n              </ul>\n            );\n          })}\n          <ul>\n            {(productAspects === undefined || productAspects === '' || productAspects.length === 0) && selectedComponents.map((component: SecurityComponent) => {\n              return (\n                <li key={component.id}>\n                  {component.name}\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n\n        {componentTarget === \"JIRA Cloud\" && (\n          <div className=\"section\">\n            <h4>Created Jira Tickets</h4>\n            <ul>\n              {jiraTickets.map((ticket: JiraTicket) => {\n                return (\n                  <li key={ticket.id}><a href={ticket.link} target=\"_blank\">{ticket.link}</a></li>\n                );\n              })}\n            </ul>\n          </div>\n        )}\n\n        <div className=\"buttons\">\n          {buttons}\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {User} from \"../../types/User\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\nimport {loadCurrentUser} from \"../../actions/user\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport type {JiraTicket, SecurityComponent} from \"../../types/SecurityComponent\";\nimport ComponentSelection from \"./ComponentSelection\";\nimport {\n  addSelectedComponent,\n  createJIRATickets,\n  loadAvailableComponents,\n  removeSelectedComponent\n} from \"../../actions/componentSelection\";\nimport URLUtil from \"../../utils/URLUtil\";\nimport ComponentSelectionReview from \"./ComponentSelectionReview\";\nimport DarkButton from \"../Button/DarkButton\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    siteConfig: state.siteConfigState.siteConfig,\n    currentUser: state.currentUserState.user,\n    availableComponents: state.componentSelectionState.availableComponents,\n    selectedComponents: state.componentSelectionState.selectedComponents,\n    viewMode: state.componentSelectionState.viewMode,\n    jiraTickets: state.componentSelectionState.jiraTickets\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    dispatchLoadDataAction() {\n      dispatch(loadCurrentUser());\n      dispatch(loadSiteConfig());\n      dispatch(loadAvailableComponents())\n    },\n    dispatchAddComponentAction(id: string) {\n      dispatch(addSelectedComponent(id));\n    },\n    dispatchRemoveComponentAction(id: string) {\n      dispatch(removeSelectedComponent(id))\n    },\n    dispatchCreateJIRATicketsAction(jiraKey: string) {\n      dispatch(createJIRATickets(jiraKey))\n    }\n  };\n};\n\ntype OwnProps = {\n  taskId: string,\n  componentTarget: string,\n}\n\ntype ReduxProps = {\n  siteConfig?: SiteConfig | null,\n  currentUser?: User | null,\n  availableComponents?: Array<SecurityComponent>,\n  selectedComponents?: Array<SecurityComponent>,\n  viewMode?: \"edit\" | \"review\",\n  jiraTickets?: Array<JiraTicket>,\n  dispatchLoadDataAction?: () => void,\n  dispatchCreateJIRATicketsAction?: (jiraKey: string) => void,\n  dispatchAddComponentAction?: (id: string) => void,\n  dispatchRemoveComponentAction?: (id: string) => void,\n}\n\ntype Props = OwnProps & ReduxProps;\n\nclass ComponentSelectionStandaloneContainer extends Component<Props> {\n\n  componentDidMount() {\n    const {dispatchLoadDataAction} = {...this.props};\n    dispatchLoadDataAction();\n  }\n\n  render() {\n    const {\n      siteConfig,\n      currentUser,\n      availableComponents,\n      selectedComponents,\n      dispatchAddComponentAction,\n      dispatchRemoveComponentAction,\n      dispatchCreateJIRATicketsAction,\n      viewMode,\n      jiraTickets,\n      componentTarget\n    } = {...this.props};\n\n    if (!currentUser || !siteConfig) {\n      return null;\n    }\n\n    let body = null;\n    switch (viewMode) {\n      case \"edit\":\n        body = (\n          <ComponentSelection\n            availableComponents={availableComponents}\n            selectedComponents={selectedComponents}\n            componentTarget={componentTarget}\n            isStandaloneTask={true}\n            createJIRATickets={(jiraKey) => {\n              dispatchCreateJIRATicketsAction(jiraKey);\n            }}\n            removeComponent={(id) => {\n              dispatchRemoveComponentAction(id);\n            }}\n            addComponent={(id) => {\n              dispatchAddComponentAction(id);\n            }}\n            finishWithSelection={() => {\n              URLUtil.redirectToHome()\n            }}\n          />\n        );\n        break;\n      case \"review\":\n        body = (\n          <ComponentSelectionReview\n            selectedComponents={selectedComponents}\n            jiraTickets={jiraTickets}\n          >\n            <div className=\"buttons\">\n              <DarkButton title=\"BACK TO HOME\" onClick={() => {URLUtil.redirectToHome()}} />\n            </div>\n          </ComponentSelectionReview>\n        );\n    }\n\n    return (\n      <div className=\"ComponentSelectionContainer\">\n        <Header\n          title=\"Component Selection\"\n          subtitle={siteConfig.siteTitle}\n          logopath={siteConfig.logoPath}\n          username={currentUser.name}\n        />\n        {body}\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ComponentSelectionStandaloneContainer);\n","// @flow\n// this file is used on Component Selection Task and Control Validation Audit Task\nimport React, {Component} from \"react\";\n\nexport class SubmissionNotCompleted extends Component {\n  render() {\n    return (\n      <div className=\"alert alert-warning\">\n        The submission you are attempting to view has not been completed yet.\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {User} from \"../../types/User\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\nimport {loadCurrentUser} from \"../../actions/user\";\nimport type {JiraTicket, SecurityComponent} from \"../../types/SecurityComponent\";\nimport ComponentSelection from \"./ComponentSelection\";\nimport {\n  addSelectedComponent,\n  createJIRATickets,\n  loadAvailableComponents,\n  removeSelectedComponent,\n  loadSelectedComponents,\n} from \"../../actions/componentSelection\";\nimport URLUtil from \"../../utils/URLUtil\";\nimport ComponentSelectionReview from \"./ComponentSelectionReview\";\nimport DarkButton from \"../Button/DarkButton\";\nimport type {TaskSubmission} from \"../../types/Task\";\nimport {\n  completeTaskSubmission,\n  loadTaskSubmission,\n  saveSelectedComponents,\n  editCompletedTaskSubmission\n} from \"../../actions/task\";\nimport editIcon from \"../../../img/icons/edit.svg\";\nimport LightButton from \"../Button/LightButton\";\nimport SecurityRiskAssessmentUtil from \"../../utils/SecurityRiskAssessmentUtil\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport {SubmissionExpired} from \"../Common/SubmissionExpired\";\nimport {SubmissionNotCompleted} from \"../Common/SubmissionNotCompleted\";\n\ntype OwnProps = {\n  uuid: string,\n  secureToken:string\n};\n\ntype Props = OwnProps & {\n  siteConfig?: SiteConfig | null,\n  currentUser?: User | null,\n  taskSubmission?: TaskSubmission | null,\n  availableComponents?: Array<SecurityComponent>,\n  selectedComponents?: Array<SecurityComponent>,\n  dispatchLoadDataAction?: () => void,\n  dispatchCreateJIRATicketsAction?: (jiraKey: string) => void,\n  dispatchSaveLocalControlsAction?: () => void,\n  dispatchAddComponentAction?: (id: string) => void,\n  dispatchRemoveComponentAction?: (id: string) => void,\n  dispatchFinishAction?: () => void,\n  dispatchEditAnswersAction?: () => void,\n  dispatchLoadSelectedComponents?: (selectedComponents: Array<SecurityComponent>) => void\n}\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    siteConfig: state.siteConfigState.siteConfig,\n    currentUser: state.currentUserState.user,\n    taskSubmission: state.taskSubmissionState.taskSubmission,\n    availableComponents: state.componentSelectionState.availableComponents,\n    selectedComponents: state.componentSelectionState.selectedComponents\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: OwnProps) => {\n  return {\n    dispatchLoadDataAction() {\n      const {uuid, secureToken} = {...props};\n      dispatch(loadSiteConfig());\n      dispatch(loadCurrentUser());\n      dispatch(loadAvailableComponents());\n      dispatch(loadTaskSubmission({uuid, secureToken, type: \"componentSelection\"}));\n    },\n    dispatchAddComponentAction(id: string, productAspect: string) {\n      dispatch(addSelectedComponent(id, productAspect));\n    },\n    dispatchRemoveComponentAction(id: string, productAspect: string) {\n      dispatch(removeSelectedComponent(id, productAspect));\n    },\n    dispatchCreateJIRATicketsAction(jiraKey: string) {\n      dispatch(saveSelectedComponents(jiraKey));\n    },\n    dispatchSaveLocalControlsAction() {\n      dispatch(saveSelectedComponents(\"\"));\n    },\n    dispatchFinishAction() {\n      dispatch(completeTaskSubmission());\n    },\n    dispatchEditAnswersAction() {\n      dispatch(editCompletedTaskSubmission({type: \"componentSelection\"}));\n    }\n  };\n};\n\nclass ComponentSelectionContainer extends Component<Props> {\n  componentDidMount() {\n    const {dispatchLoadDataAction} = {...this.props};\n    dispatchLoadDataAction();\n  }\n\n  render() {\n    const {\n      siteConfig,\n      siteTitle,\n      secureToken,\n      currentUser,\n      taskSubmission,\n      availableComponents,\n      selectedComponents,\n      dispatchAddComponentAction,\n      dispatchRemoveComponentAction,\n      dispatchCreateJIRATicketsAction,\n      dispatchSaveLocalControlsAction,\n      dispatchFinishAction,\n      dispatchEditAnswersAction\n    } = {...this.props};\n\n    if (!currentUser || !taskSubmission || !siteConfig) {\n      return null;\n    }\n    const isCurrentUserSubmitter = parseInt(currentUser.id) === parseInt(taskSubmission.submitter.id);\n    const canEdit =  isCurrentUserSubmitter || currentUser.isSA || taskSubmission.isTaskCollborator;\n    const isSRATaskFinalised = SecurityRiskAssessmentUtil.isSRATaskFinalised(taskSubmission.siblingSubmissions);\n    const showEditControlButton =\n      (taskSubmission.status === \"complete\" || taskSubmission.status === \"waiting_for_approval\" ||taskSubmission.status === \"denied\") &&\n      (taskSubmission.questionnaireSubmissionStatus === \"submitted\") &&\n      (canEdit) && !taskSubmission.lockWhenComplete;\n    const backButton = (\n      <DarkButton key=\"back\"\n        title={\"BACK TO QUESTIONNAIRE SUMMARY\"}\n        onClick={() => {\n        URLUtil.redirectToQuestionnaireSummary(taskSubmission.questionnaireSubmissionUUID, secureToken);\n        }}\n      />\n    );\n    const editControlButton = showEditControlButton && !isSRATaskFinalised ? (\n      <LightButton\n        title=\"EDIT CONTROLS\"\n        onClick={ dispatchEditAnswersAction}\n        classes={[\"button\"]}\n        iconImage={editIcon}\n      />\n    ) : null;\n\n    let body = null;\n    switch (taskSubmission.status) {\n      case \"start\":\n      case \"in_progress\":\n         if (!canEdit){\n           body = (\n            <div className=\"ComponentSelectionReview\">\n              <div className=\"section\">\n                <h4>Selected Components</h4>\n                <br />\n                <SubmissionNotCompleted/>\n              </div>\n              <div className=\"buttons\">\n                {backButton}\n              </div>\n            </div>\n             );\n           break;\n         }\n         else {\n          body = (\n            <ComponentSelection\n              availableComponents={availableComponents}\n              selectedComponents={selectedComponents}\n              componentTarget={taskSubmission.componentTarget}\n              productAspects={taskSubmission.productAspects}\n              extraButtons={backButton}\n              createJIRATickets={(jiraKey) => {\n                dispatchCreateJIRATicketsAction(jiraKey);\n              }}\n              saveControls={() => {\n                dispatchSaveLocalControlsAction();\n              }}\n              removeComponent={(id, productAspect) => {\n                dispatchRemoveComponentAction(id, productAspect);\n              }}\n              addComponent={(id, productAspect) => {\n                dispatchAddComponentAction(id, productAspect);\n              }}\n              finishWithSelection={() => {\n                dispatchFinishAction();\n              }}\n            />\n          );\n        break;\n       }\n      case \"complete\":\n        body = (\n          <div>\n            <div className=\"ComponentSelectionReview\">\n              {isSRATaskFinalised ? SecurityRiskAssessmentUtil.getSraIsFinalisedAlert() : false}\n            </div>\n\n          <ComponentSelectionReview\n            selectedComponents={taskSubmission.selectedComponents}\n            jiraTickets={taskSubmission.jiraTickets}\n            componentTarget={taskSubmission.componentTarget}\n            productAspects={taskSubmission.productAspects}\n            buttons={[(\n              <div key=\"component-selection-review-button-container\">\n                {editControlButton}\n                {backButton}\n              </div>\n            )]}\n          />\n          </div>\n        );\n        break;\n        case \"expired\":\n          body = (<SubmissionExpired/>);\n        break;\n    }\n\n    return (\n      <div className=\"ComponentSelectionContainer\">\n        <Header title=\"Component Selection\" subtitle={siteConfig.siteTitle} logopath={siteConfig.logoPath} username={currentUser.name} />\n        {body}\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ComponentSelectionContainer);\n","import type {User} from \"../../types/User\";\n\nexport default class PrettifyStatusUtil {\n  static prettifyStatus(\n    status: string,\n    securityArchitectID: string,\n    currentUser: User,\n    securityArchitectApprover: string,\n    CisoApprovalStatus: string,\n    businessOwnerApprovalStatus: string\n  ) {\n    if (status === \"awaiting_security_architect_review\") {\n      return \"Awaiting security review\";\n    }\n\n    if (status === \"waiting_for_security_architect_approval\") {\n      return \"Awaiting security approval\";\n    }\n\n    if (status === \"waiting_for_approval\") {\n      if (CisoApprovalStatus === \"pending\" && businessOwnerApprovalStatus === \"pending\") {\n        return \"Awaiting approval\";\n      }\n\n      if (CisoApprovalStatus !== \"pending\" && businessOwnerApprovalStatus === \"pending\") {\n        return \"Awaiting business owner approval\";\n      }\n    }\n\n    if (status === \"approved\" && CisoApprovalStatus === \"pending\" && businessOwnerApprovalStatus === \"approved\") {\n      return \"Approved - Chief Information Security Officer Approval Pending\";\n    }\n\n    if (status == \"awaiting_certification_and_accreditation\") {\n      return \"Awaiting certification and accreditation\";\n    }\n\n    if (status == \"awaiting_accreditation\") {\n      return \"Awaiting accreditation\";\n    }\n\n    if (status == \"awaiting_certification\") {\n      return \"Awaiting certification\";\n    }\n\n    return status\n      .split(\"_\")\n      .map((str) => {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n      })\n      .join(\" \");\n  }\n}\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {User} from \"../../types/User\";\nimport type {QuestionnaireSubmissionListItem} from \"../../types/Questionnaire\";\nimport PrettifyStatusUtil from \"../../utils/PrettifyStatusUtil\";\nimport {loadCurrentUser} from \"../../actions/user\";\nimport {loadMySubmissionList} from \"../../actions/questionnaire\";\nimport moment from \"moment\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\nimport _ from \"lodash\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    currentUser: state.currentUserState.user,\n    siteConfig: state.siteConfigState.siteConfig,\n    mySubmissionList: state.questionnaireSubmissionListState.mySubmissionList,\n    loadingState: state.loadingState\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    async dispatchLoadDataAction() {\n      await dispatch(loadCurrentUser());\n      await dispatch(loadMySubmissionList());\n      await dispatch(loadSiteConfig());\n    }\n  };\n};\n\ntype Props = {\n  currentUser?: User | null,\n  siteConfig?: SiteConfig | null,\n  dispatchLoadDataAction?: () => void,\n  mySubmissionList?: Array<QuestionnaireSubmissionListItem>,\n  loadingState: object<*>\n};\n\nconst list = (mySubmissionList: QuestionnaireSubmissionListItem, currentUser: User) => {\n\n  const {questionnaireSubmissionList} = mySubmissionList;\n\n  if (_.isEmpty(questionnaireSubmissionList))\n  {\n    return (\n      <div className=\"container\">\n        <div className=\"alert alert-danger\">\n          Sorry, No data to display.\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"container\">\n      <div className=\"table-responsive\">\n        <table className=\"table table-bordered table-hover\">\n          <thead>\n            <tr key=\"submission_table_header\">\n              <th className=\"text-center\">Date Created</th>\n              <th className=\"text-center\">Pillar</th>\n              <th className=\"text-center\">Product Name</th>\n              <th className=\"text-center\">Status</th>\n              <th className=\"text-center\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {questionnaireSubmissionList.map((mySubmission) => {\n              let url = \"\";\n              if (mySubmission.status === \"in_progress\") {\n                url = \"#/questionnaire/submission/\" + mySubmission.uuid;\n              } else {\n                url = \"#/questionnaire/summary/\" + mySubmission.uuid;\n              }\n              return (\n                <tr key={mySubmission.id}>\n                  <td>\n                    {moment(mySubmission.created).format(\"DD MMM YYYY\")}\n                  </td>\n                  <td>\n                    {mySubmission.questionnaireName}\n                  </td>\n                  <td>\n                    {mySubmission.productName}\n                  </td>\n                  <td>\n                    {PrettifyStatusUtil.prettifyStatus(\n                      mySubmission.status,\n                      mySubmission.SecurityArchitectApproverID,\n                      currentUser,\n                      mySubmission.SecurityArchitectApprover,\n                      mySubmission.CisoApprovalStatus,\n                      mySubmission.BusinessOwnerApprovalStatus)}\n                  </td>\n                  <td>\n                      <a href={url}>View</a>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nclass MySubmissionList extends Component<Props> {\n  componentDidMount() {\n    const {dispatchLoadDataAction} = {...this.props};\n    dispatchLoadDataAction();\n  }\n\n  render() {\n    const {\n      currentUser,\n      mySubmissionList,\n      siteConfig,\n      loadingState,\n    } = {...this.props};\n\n    if (!currentUser || !mySubmissionList || !siteConfig) {\n      return null;\n    }\n\n    if (loadingState['QUESTIONNAIRE/FETCH_MY_SUBMISSION_LIST']) {\n      return null;\n    }\n\n    return (\n      <div className=\"AnswersPreview\">\n        <Header title=\"My Submission\" subtitle={siteConfig.siteTitle} username={currentUser.name} logopath={siteConfig.logoPath} />\n        {list(mySubmissionList, currentUser)}\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(MySubmissionList);\n","import React, { Component } from \"react\";\nimport firstPageIcon from \"../../../img/icons/first-page.svg\";\nimport lastPageIcon from \"../../../img/icons/last-page.svg\";\nimport chevronLeftIcon from \"../../../img/icons/chevron-left.svg\";\nimport chevronRightIcon from \"../../../img/icons/chevron-right-link.svg\";\nimport Select from \"react-select\";\n\nclass Pagination extends Component {\n  componentDidUpdate(prevProps) {\n    const { limit, offset } = this.props;\n    if (prevProps.limit !== limit || prevProps.offset !== offset) {\n      this.props.dispatchList(limit, offset);\n    }\n  }\n\n  handleFirstPageClick = () => {\n    this.props.paginationActions.firstPage({\n      limit: 10,\n      offset: 0,\n      index: 1,\n      pageNumber: 1,\n    });\n  };\n\n  handleNextPageClick = (runningTotal: number) => {\n    this.props.paginationActions.nextPage({\n      limit: this.props.limit,\n      offset: ((this.props.page + 1) - 1) * this.props.limit,\n      index: runningTotal + 1,\n      pageNumber: this.props.page + 1,\n    });\n  };\n\n  handlePreviousPageClick = () => {\n    this.props.paginationActions.prevPage({\n      limit: this.props.limit,\n      offset: ((this.props.page - 1) - 1) * this.props.limit,\n      index: Math.abs(this.props.limit - this.props.index),\n      pageNumber: this.props.page - 1,\n    });\n  };\n\n  handleLastPageClick = (totalCount: number) => {\n    this.props.paginationActions.lastPage({\n      limit: this.props.limit,\n      offset: (Math.ceil(totalCount / this.props.limit) - 1) * this.props.limit,\n      index: (Math.ceil(totalCount / this.props.limit) - 1) * this.props.limit,\n      pageNumber: Math.ceil(totalCount / this.props.limit)\n    });\n  };\n\n  handleChangeForSelectedRows = (limit) => {\n    this.props.paginationActions.selectedRow({\n      limit,\n      offset: this.props.offset,\n      index: this.props.index,\n      pageNumber: this.props.page,\n    });\n  };\n\n  render() {\n    const {\n      paginationInfo: { totalCount, hasNextPage, hasPreviousPage },\n      listLength,\n    } = this.props;\n\n    const rowsPerPage = [\n      { value: 10, label: \"10\" },\n      { value: 20, label: \"20\" },\n      { value: 30, label: \"30\" },\n      { value: 40, label: \"40\" },\n      { value: 50, label: \"50\" },\n    ];\n\n    const runningTotal = this.props.offset + listLength;\n    let index = this.props.index;\n\n    // reset index if on first page\n    if(!hasPreviousPage) {\n      index = 1;\n    }\n\n    return (\n      <div className=\"pagination-container\">\n        <span className=\"rows-per-page\">Rows per page</span>\n        <div className=\"rows-per-page-select\">\n          <Select\n            value={{label: this.props.limit}}\n            options={rowsPerPage}\n            defaultValue={rowsPerPage[0]}\n            classNamePrefix=\"react-select\"\n            placeholder={rowsPerPage[0]}\n            isSearchable={false}\n            onChange={(selectedOption) =>\n              this.handleChangeForSelectedRows(selectedOption.value)\n            }\n          />\n        </div>\n        <div className=\"pagination-navigation-count\">\n          {index + \"-\" + runningTotal + \" of \" + totalCount}\n        </div>\n        <div className=\"pagination-buttons\">\n          <img\n            className={!hasPreviousPage ? \"disable-pagination\" : \"\"}\n            src={firstPageIcon}\n            onClick={hasPreviousPage ? () => this.handleFirstPageClick() : \"\"}\n          />\n          <img\n            className={!hasPreviousPage ? \"disable-pagination\" : \"\"}\n            src={chevronLeftIcon}\n            onClick={hasPreviousPage ? () => this.handlePreviousPageClick() : \"\"}\n          />\n          <img\n            className={!hasNextPage ? \"disable-pagination\" : \"\"}\n            src={chevronRightIcon}\n            onClick={hasNextPage ? () => this.handleNextPageClick(runningTotal) : \"\"}\n          />\n          <img\n            className={!hasNextPage ? \"disable-pagination\": \"\"}\n            src={lastPageIcon}\n            onClick={hasNextPage ? () => this.handleLastPageClick(totalCount): \"\"}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Pagination;\n","import React, {Component} from \"react\";\nimport Pagination from \"./Pagination\";\nimport {\n  loadPaginationNextPage,\n  loadPaginationPrevPage,\n  loadPaginationFirstPage,\n  loadPaginationLastPage,\n  loadPaginationSelectedRow,\n} from \"../../actions/pagination\";\nimport {Dispatch} from \"redux\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\n\nclass PaginationContainer extends Component {\n  render() {\n    const {\n      paginationState: { pagination },\n      paginationActions,\n    } = this.props;\n\n    return (\n      <Pagination\n        paginationInfo={this.props.paginationInfo}\n        listLength={this.props.listLength}\n        dispatchList={this.props.dispatchList}\n        limit={pagination.limit}\n        offset={pagination.offset}\n        page={pagination.pageNumber}\n        index={pagination.index}\n        paginationActions={paginationActions}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    paginationState: state.paginationState,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    paginationActions: {\n      nextPage: (payload) => dispatch(loadPaginationNextPage(payload)),\n      prevPage: (payload) => dispatch(loadPaginationPrevPage(payload)),\n      firstPage: (payload) => dispatch(loadPaginationFirstPage(payload)),\n      lastPage: (payload) => dispatch(loadPaginationLastPage(payload)),\n      selectedRow: (payload) => dispatch(loadPaginationSelectedRow(payload)),\n    },\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PaginationContainer);\n","import ActionType from \"./ActionType\";\nimport { PaginationState } from \"../store/PaginationState\";\n\nexport function loadPaginationNextPage(payload: PaginationState) {\n  return {\n    type: ActionType.PAGINATION.FETCH_NEXT_PAGE,\n    payload\n  }\n}\n\nexport function loadPaginationPrevPage(payload: PaginationState) {\n  return {\n    type: ActionType.PAGINATION.FETCH_PREV_PAGE,\n    payload\n  }\n}\n\nexport function loadPaginationFirstPage(payload: PaginationState) {\n  return {\n    type: ActionType.PAGINATION.FETCH_FIRST_PAGE,\n    payload\n  }\n}\n\nexport function loadPaginationLastPage(payload: PaginationState) {\n  return {\n    type: ActionType.PAGINATION.FETCH_LAST_PAGE,\n    payload\n  }\n}\n\nexport function loadPaginationSelectedRow(payload: PaginationState) {\n  return {\n    type: ActionType.PAGINATION.SET_SELECTED_ROWS,\n    payload\n  }\n}\n\nexport function loadPaginationReset() {\n  return {\n    type: ActionType.PAGINATION.RESET_PAGINATION,\n  }\n}\n\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {User} from \"../../types/User\";\nimport type {QuestionnaireSubmissionListItem} from \"../../types/Questionnaire\";\nimport PrettifyStatusUtil from \"../../utils/PrettifyStatusUtil\";\nimport type {TaskSubmissionListItem} from \"../../types/Task\";\nimport {loadCurrentUser} from \"../../actions/user\";\nimport {loadAwaitingApprovalList} from \"../../actions/questionnaire\";\nimport {loadAwaitingApprovalTaskList } from \"../../actions/task\";\nimport moment from \"moment\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\nimport chevronRightIcon from \"../../../img/icons/chevron-right-link.svg\";\nimport ArrowDownIcon from \"../../../img/icons/arrow-down.svg\";\nimport awaitingApprovalIcon from \"../../../img/icons/awaiting-approval.svg\";\nimport PaginationContainer from \"../Pagination/PaginationContainer\";\nimport {loadPaginationReset} from \"../../actions/pagination\";\nimport _ from \"lodash\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    currentUser: state.currentUserState.user,\n    siteConfig: state.siteConfigState.siteConfig,\n    awaitingApprovalList: state.questionnaireSubmissionListState.awaitingApprovalList,\n    awaitingApprovalTaskList: state.questionnaireSubmissionListState.awaitingApprovalTaskList,\n    loadingState: state.loadingState\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    async dispatchLoadDataAction() {\n      await dispatch(loadCurrentUser());\n      await dispatch(loadAwaitingApprovalList(10, 0));\n      await dispatch(loadAwaitingApprovalTaskList(10, 0));\n      await dispatch(loadSiteConfig());\n    },\n    dispatchloadAwaitingApprovalTaskList(limit: number, offset: number) {\n      dispatch(loadAwaitingApprovalTaskList(limit, offset));\n    },\n    dispatchloadAwaitingApprovalList(limit: number, offset: number) {\n      dispatch(loadAwaitingApprovalList(limit, offset));\n    },\n    resetPagination: () => dispatch(loadPaginationReset()),\n  };\n};\n\ntype ownProps = {\n  currentUser?: User | null,\n  siteConfig?: SiteConfig | null,\n  dispatchLoadDataAction?: () => void,\n  awaitingApprovalList?: Array<QuestionnaireSubmissionListItem>,\n  awaitingApprovalTaskList?: Array<TaskSubmissionListItem>,\n  loadingState: object<*>,\n};\n\ntype reduxProps = {\n  dispatchloadAwaitingApprovalList: (limit: number, offset: number) => void,\n  dispatchloadAwaitingApprovalTaskList: (limit: number, offset: number) => void,\n};\n\ntype State = {\n  currentApprovalList: string\n};\n\ntype Props = ownProps & reduxProps;\n\nclass AwaitingApprovalList extends Component<Props> {\n  constructor(props: *) {\n    super(props);\n    this.state = {\n      currentApprovalList: \"QuestionnaireApproval\",\n    };\n  }\n\n  componentDidMount() {\n    const {dispatchLoadDataAction} = {...this.props};\n    dispatchLoadDataAction();\n  }\n\n  render() {\n    const {\n      currentUser,\n      siteConfig,\n      awaitingApprovalList,\n      awaitingApprovalTaskList,\n      loadingState,\n      dispatchloadAwaitingApprovalList,\n      dispatchloadAwaitingApprovalTaskList,\n    } = { ...this.props };\n\n    if (!currentUser || !awaitingApprovalList || !siteConfig || !awaitingApprovalTaskList) {\n      return null;\n    }\n\n    if (loadingState['QUESTIONNAIRE/FETCH_AWAITING_APPROVAL_LIST']) {\n      return null;\n    }\n\n    return (\n      <div className=\"AnswersPreview\">\n        <Header\n          title=\"Awaiting Approvals\"\n          username={currentUser.name}\n          subtitle={siteConfig.siteTitle}\n          logopath={siteConfig.logoPath}\n        />\n        <div className=\"container tab-container mb-0\">\n          <button\n            className={this.state.currentApprovalList == \"QuestionnaireApproval\" ? \"tab-button active\": \"tab-button\"}\n            onClick={() => {\n              this.setState({ currentApprovalList: \"QuestionnaireApproval\" });\n              this.props.resetPagination();\n              this.props.dispatchloadAwaitingApprovalList(10,0);\n            }}\n          >\n            Submission approvals\n          </button>\n          <button\n            className={this.state.currentApprovalList == \"TaskApproval\"? \"tab-button active\": \"tab-button\"}\n            onClick={() => {\n              this.setState({ currentApprovalList: \"TaskApproval\" });\n              this.props.resetPagination();\n              this.props.dispatchloadAwaitingApprovalTaskList(10,0);\n            }}\n          >\n            Task approvals\n          </button>\n        </div>\n        {this.state.currentApprovalList == \"QuestionnaireApproval\" &&\n          questionnaireList(\n            awaitingApprovalList,\n            currentUser,\n            dispatchloadAwaitingApprovalList\n          )}\n\n        {this.state.currentApprovalList == \"TaskApproval\" &&\n          taskList(\n            awaitingApprovalTaskList,\n            currentUser,\n            dispatchloadAwaitingApprovalTaskList\n          )}\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText} />\n      </div>\n    );\n  }\n}\n\nconst questionnaireList = (\n  awaitingApprovalList: Array<QuestionnaireSubmissionListItem>,\n  currentUser: User,\n  dispatchloadAwaitingApprovalList\n) => {\n\n  const { questionnaireSubmissionList, pageInfo} = awaitingApprovalList;\n\n  if (_.isEmpty(questionnaireSubmissionList)) {\n    return (\n      <div className=\"container\">\n        <div className=\"alert alert-danger\">\n          Sorry, No data to display for Questionnaire.\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"table-responsive\">\n        <table className=\"table table-hover table-approval-list\">\n          <thead>\n            <tr key=\"submission_table_header\">\n              <th>\n                <span className=\"date-created\">Date created</span>\n                <img src={ArrowDownIcon} />\n              </th>\n              <th className=\"submission-product-name-header\">Product Name</th>\n              <th>Business Owner</th>\n              <th>Submitter</th>\n              <th>Release date</th>\n              <th className=\"security-architect-header\">Security architect</th>\n              <th className=\"submission-status-header\">Status</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {questionnaireSubmissionList.map((awaitingApproval) => {\n              const url = \"#/questionnaire/summary/\" + awaitingApproval.uuid;\n              let securityArchitectName = awaitingApproval.SecurityArchitectApprover;\n\n              // SA name parsed as first name + last name\n              if (securityArchitectName == \"null null\") {\n                securityArchitectName = \"Unassigned\";\n              }\n\n              return (\n                <tr key={awaitingApproval.id}>\n                  <td>{moment(awaitingApproval.created).format(\"DD/MM/YY\")}</td>\n                  <td>{awaitingApproval.productName}</td>\n                  <td>{awaitingApproval.businessOwner}</td>\n                  <td>{awaitingApproval.submitterName}</td>\n                  <td>\n                    {awaitingApproval.releaseDate ? moment(awaitingApproval.releaseDate).format(\"DD/MM/YY\"): \"\"}\n                  </td>\n                  <td className={securityArchitectName == \"Unassigned\" ? \"unassigned-approver\" : \"\"}>\n                    {securityArchitectName}\n                  </td>\n                  <td>\n                    <img src={awaitingApprovalIcon} />\n                    {PrettifyStatusUtil.prettifyStatus(\n                      awaitingApproval.status,\n                      awaitingApproval.SecurityArchitectApproverID,\n                      currentUser,\n                      awaitingApproval.SecurityArchitectApprover,\n                      awaitingApproval.CisoApprovalStatus,\n                      awaitingApproval.BusinessOwnerApprovalStatus\n                    )}\n                  </td>\n                  <td>\n                    <a href={url}><img src={chevronRightIcon} /></a>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n      <PaginationContainer\n        paginationInfo={pageInfo}\n        listLength={questionnaireSubmissionList.length}\n        dispatchList={dispatchloadAwaitingApprovalList}\n      />\n    </div>\n  );\n};\n\nconst taskList = (\n  awaitingApprovalTaskList: Array<TaskSubmissionListItem>,\n  currentUser: User,\n  dispatchloadAwaitingApprovalTaskList\n) => {\n\n  const { taskSubmissionList, pageInfo } = awaitingApprovalTaskList;\n\n  if (_.isEmpty(taskSubmissionList)) {\n    return (\n      <div className=\"container\">\n        <div className=\"alert alert-danger\">\n          Sorry, No data to display for Task.\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"table-responsive\">\n        <table className=\"table table-hover table-approval-list\">\n          <thead>\n            <tr key=\"submission_table_header\">\n              <th>\n                <span className=\"date-created\">Date created</span>\n                <img src={ArrowDownIcon} />\n              </th>\n              <th className=\"task-name-header\">Task name</th>\n              <th className=\"task-product-name-header\">Product Name</th>\n              <th className=\"task-submitter-header\">Submitter</th>\n              <th className=\"task-status-header-header\">Status</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {taskSubmissionList.map((awaitingTaskApproval) => {\n              const url = \"#/task/submission/\" + awaitingTaskApproval.uuid;\n              return (\n                <tr key={awaitingTaskApproval.id}>\n                  <td>\n                    {moment(awaitingTaskApproval.created).format(\"DD/MM/YY\")}\n                  </td>\n                  <td>{awaitingTaskApproval.taskName}</td>\n                  <td>{awaitingTaskApproval.productName}</td>\n                  <td>{awaitingTaskApproval.submitterName}</td>\n                  <td>\n                    <img src={awaitingApprovalIcon} />\n                    Awaiting approval\n                  </td>\n                  <td>\n                    <a href={url}><img src={chevronRightIcon} /></a>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n      <PaginationContainer\n        paginationInfo={pageInfo}\n        listLength={taskSubmissionList.length}\n        dispatchList={dispatchloadAwaitingApprovalTaskList}\n      />\n    </div>\n  );\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AwaitingApprovalList);\n","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {User} from \"../../types/User\";\nimport type {QuestionnaireSubmissionListItem} from \"../../types/Questionnaire\";\nimport PrettifyStatusUtil from \"../../utils/PrettifyStatusUtil\";\nimport {loadCurrentUser} from \"../../actions/user\";\nimport {loadMyProductList} from \"../../actions/questionnaire\";\nimport moment from \"moment\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\nimport _ from \"lodash\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    currentUser: state.currentUserState.user,\n    siteConfig: state.siteConfigState.siteConfig,\n    myProductList: state.questionnaireSubmissionListState.myProductList,\n    loadingState: state.loadingState\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    async dispatchLoadDataAction() {\n      await dispatch(loadCurrentUser());\n      await dispatch(loadMyProductList());\n      await dispatch(loadSiteConfig());\n    }\n  };\n};\n\ntype Props = {\n  currentUser?: User | null,\n  siteConfig?: SiteConfig | null,\n  dispatchLoadDataAction?: () => void,\n  myProductList?: Array<QuestionnaireSubmissionListItem>,\n  loadingState: object<*>\n};\n\nconst list = (myProductList: QuestionnaireSubmissionListItem, currentUser: User) => {\n\n  const {questionnaireSubmissionList} = myProductList;\n\n  if (_.isEmpty(questionnaireSubmissionList))\n  {\n    return (\n      <div className=\"container\">\n        <div className=\"alert alert-danger\">\n          Sorry, No data to display.\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"container\">\n      <div className=\"table-responsive\">\n        <table className=\"table table-bordered table-hover\">\n          <thead>\n            <tr key=\"submission_table_header\">\n              <th className=\"text-center\">Date Created</th>\n              <th className=\"text-center\">Product Name</th>\n              <th className=\"text-center\">Submitter</th>\n              <th className=\"text-center\">Status</th>\n              <th className=\"text-center\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {questionnaireSubmissionList.map((myProduct) => {\n              let url = \"#/questionnaire/summary/\" + myProduct.uuid;\n              return (\n                <tr key={myProduct.id}>\n                  <td>\n                    {moment(myProduct.created).format(\"DD MMM YYYY\")}\n                  </td>\n                  <td>\n                    {myProduct.productName}\n                  </td>\n                  <td>\n                    {myProduct.submitterName}\n                  </td>\n                  <td>\n                    {PrettifyStatusUtil.prettifyStatus(\n                      myProduct.status,\n                      myProduct.SecurityArchitectApproverID,\n                      currentUser,\n                      myProduct.SecurityArchitectApprover,\n                      myProduct.CisoApprovalStatus,\n                      myProduct.BusinessOwnerApprovalStatus\n                    )}\n                  </td>\n                  <td>\n                    <a href={url}>View</a>\n                  </td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nclass MyProductList extends Component<Props> {\n  componentDidMount() {\n    const {dispatchLoadDataAction} = {...this.props};\n    dispatchLoadDataAction();\n  }\n\n  render() {\n    const {\n      currentUser,\n      myProductList,\n      siteConfig,\n      loadingState\n    } = {...this.props};\n\n    if (!currentUser || !myProductList || !siteConfig) {\n      return null;\n    }\n\n    if (loadingState['QUESTIONNAIRE/FETCH_MY_PRODUCT_LIST']) {\n      return null;\n    }\n\n    return (\n      <div className=\"AnswersPreview\">\n        <Header title=\"My Products\" subtitle={siteConfig.siteTitle} username={currentUser.name} logopath={siteConfig.logoPath} />\n        {list(myProductList, currentUser)}\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(MyProductList);\n","// @flow\nimport React, {Component} from \"react\";\nimport type {LikelihoodThreshold} from \"../../types/Task\";\n\ntype Props = {\n  LikelihoodThresholds: Array<LikelihoodThreshold> | null,\n};\n\nclass LikelihoodLegendContainer extends Component<Props> {\n  render() {\n    const {likelihoodThresholds} = {...this.props};\n\n    if(!likelihoodThresholds || likelihoodThresholds.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"LikelihoodLegend\">\n        <h3>Likelihood Legend</h3>\n\n        <div className=\"table-responsive\">\n          <table className=\"table table-sm\">\n            <thead className=\"thead-light\">\n              <tr key=\"likelihood_legend_header\">\n                <th>Threshold</th>\n                <th>Rating</th>\n              </tr>\n            </thead>\n            <tbody>\n              {likelihoodThresholds.map((likelihoodThreshold, index): Array<LikelihoodThreshold> => {\n                return (\n                  <tr key={index+1}>\n                    <td>\n                      {likelihoodThreshold.operator + likelihoodThreshold.value}\n                    </td>\n                    <td style={{backgroundColor:'#' + likelihoodThreshold.color}}>\n                      {likelihoodThreshold.name}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LikelihoodLegendContainer;\n","// @flow\nimport React, {Component} from \"react\";\nimport type {ImpactThreshold} from \"../../types/ImpactThreshold\";\n\ntype Props = {\n  impactThresholds: Array<ImpactThreshold> | null,\n};\n\nclass ImpactThresholdContainer extends Component<Props> {\n  render() {\n    const {impactThresholds} = {...this.props};\n\n    if(!impactThresholds || impactThresholds.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"ImapctLegend\">\n        <h3>Impact Legend</h3>\n\n        <div className=\"table-responsive\">\n          <table className=\"table table-sm\">\n            <thead className=\"thead-light\">\n              <tr key=\"impact_legend_header\">\n                <th>Threshold</th>\n                <th>Rating</th>\n              </tr>\n            </thead>\n            <tbody>\n              {impactThresholds.map((impactThreshold, index): Array<ImpactThreshold> => {\n                return (\n                  <tr key={index+1}>\n                    <td>\n                      {impactThreshold.operator + impactThreshold.value}\n                    </td>\n                    <td style={{backgroundColor:'#' + impactThreshold.color}}>\n                      {impactThreshold.name}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ImpactThresholdContainer;\n","// @flow\nimport React, {Component} from \"react\";\nimport type {LikelihoodThreshold} from \"../../types/Task\";\nimport {\n  DEFAULT_SRA_MATRIX_THRESHOLD_SCORE,\n  CTL_STATUS_1,\n  CTL_STATUS_2\n} from \"../../constants/values\";\nimport Comparators from \"../../utils/Comparators\";\nimport TaskParser from \"../../utils/TaskParser\";\nimport _toInteger from \"lodash/toInteger\";\n\ntype Props = {\n  calculatedSRAData: object,\n  hasProductAspect: boolean\n};\n\nclass RiskAssessmentMatrixTableContainer extends Component<Props> {\n  /**\n   * Render the security risk assessment matrix as an HTML table\n   */\n   renderTableHeader()\n   {\n      return (\n        <tr key=\"sra_header\">\n          <th>Risk</th>\n          {this.props.hasProductAspects && (<th>Product Aspect</th>)}\n          <th>Current Controls</th>\n          <th>Current Likelihood</th>\n          <th>Current Impact</th>\n          <th>Current Risk Rating</th>\n          <th>Recommended Treatments</th>\n        </tr>\n      )\n   }\n\n  renderTableBody()\n  {\n    if (this.props.hasProductAspects) {\n      return this.props.calculatedSRAData.map((risk, riskIndex) => {\n        return risk.productAspects.map((productAspect, productAspectIndex) =>{\n          const rowData = {\n            riskId: risk.riskId,\n            riskName: productAspectIndex == 0 ? `${risk.riskName} (${risk.baseImpactScore})` : null,\n            riskDescription: productAspectIndex == 0 ? risk.description : null,\n            components: productAspect.components,\n            currentLikelihood: productAspect.currentLikelihood,\n            currentImpact: productAspect.currentImpact,\n            currentRiskRating: productAspect.currentRiskRating\n          };\n\n          return this.renderTableRow(rowData, productAspect.productAspectName);\n        });\n      });\n    } else {\n      return this.props.calculatedSRAData.map((risk, riskIndex) => {\n        const rowData = {\n          riskId: risk.riskId,\n          riskName: `${risk.riskName} (${risk.baseImpactScore})`,\n          riskDescription: risk.description,\n          components: risk.riskDetail.components,\n          currentLikelihood: risk.riskDetail.currentLikelihood,\n          currentImpact: risk.riskDetail.currentImpact,\n          currentRiskRating: risk.riskDetail.currentRiskRating\n        };\n\n        return this.renderTableRow(rowData);\n      });\n    }\n  }\n\n  renderTableRow(rowData, productAspect = '')\n  {\n    return (\n      <tr key={productAspect + '_' + rowData.riskId}>\n        <td>\n          <span style={{display:'block'}}>{rowData.riskName}</span>\n          <small className=\"text-muted\">{rowData.riskDescription}</small>\n        </td>\n        {this.props.hasProductAspects && productAspect && (<td>{productAspect}</td>)}\n        <td>\n          {this.renderComponents(rowData.components, 'Implemented')}\n        </td>\n        <td>\n          {this.renderCurrentLikelihood(rowData.currentLikelihood)}\n        </td>\n        <td>\n          {this.renderCurrentImapct(rowData.currentImpact)}\n        </td>\n        <td\n          style={rowData.currentRiskRating.colour ? {backgroundColor: rowData.currentRiskRating.colour} : null}\n        >\n          {this.renderCurrentRiskRating(rowData.currentRiskRating)}\n        </td>\n        <td>\n          {this.renderComponents(rowData.components, 'Recommened')}\n        </td>\n      </tr>\n    );\n  }\n\n  renderComponents(components, type) {\n    if(!components || !Array.isArray(components) || components.length == 0) {\n      return null;\n    }\n\n    return components.map((component, componentIndex) =>{\n      const controls = (type === 'Implemented' ? component.implementedControls : component.recommendedControls);\n\n      return (\n        <div key={componentIndex+1}>\n          <strong key={component.id}>{controls.length> 0 ? component.name : null}</strong>\n          {controls.length> 0 && this.renderControls(controls, type)}\n        </div>\n      )\n    });\n  }\n\n  renderControls(controls, type) {\n    return controls.map((control, controlIndex) => {\n      let displayInBold = false;\n\n      if ( type == \"Recommened\" &&\n        (_toInteger(control.likelihoodPenalty) > 0 || _toInteger(control.impactPenalty) > 0)) {\n        displayInBold = true;\n      }\n\n      return(\n        <div key={controlIndex+1}>\n          <span\n            key={control.id}\n            className={`${displayInBold ? \"font-weight-bold control-title\" : \"font-weight-normal control-title\"}`}\n          >\n            {control.name} &nbsp;\n          </span>\n          <small className=\"text-muted\">\n            (\n              L: {control.likelihoodWeight},\n              I: {control.impactWeight},\n              LP: {control.likelihoodPenalty},\n              IP: {control.impactPenalty}\n            )\n          </small>\n        </div>\n      );\n    });\n  }\n\n  renderCurrentLikelihood(currentLikelihood) {\n    return (\n      <div>\n        <span style={currentLikelihood.colour ? {color: currentLikelihood.colour, display:'block'} : null}>\n          {currentLikelihood.name} {currentLikelihood.score ? '(' + (currentLikelihood.score) + ')' : null}\n        </span>\n        <small className=\"text-muted\">{currentLikelihood.formula}</small>\n      </div>\n    );\n  }\n\n  renderCurrentImapct(currentImapct) {\n    return (\n      <div>\n        <span style={currentImapct.colour ? {color: currentImapct.colour, display:'block'} : null}>\n          {currentImapct.name} {currentImapct.score ? '(' + (currentImapct.score) + ')' : null}\n        </span>\n        <small className=\"text-muted\">{currentImapct.formula}</small>\n      </div>\n    );\n  }\n\n  renderCurrentRiskRating(currentRiskRating) {\n    return (\n      <div>\n        {currentRiskRating.name}\n      </div>\n    );\n  }\n\n  render() {\n    if(!this.props.calculatedSRAData) {\n      return null;\n    }\n\n    return (\n      <div className=\"RiskMatrix\">\n        <h3>Your risk assessment results</h3>\n\n        <div className=\"table-responsive\">\n          <table className=\"table\">\n            <thead className=\"thead-light\">\n              {this.renderTableHeader()}\n            </thead>\n            <tbody>\n              {this.renderTableBody()}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RiskAssessmentMatrixTableContainer;\n","// @flow\nimport React, {Component} from \"react\";\nimport type {RiskRatingThreshold} from \"../../types/Task\";\n\ntype Props = {\n  riskRatingThresholds: Array<RiskRatingThreshold> | null,\n};\n\nclass RiskRatingThresholdContainer extends Component<Props> {\n  render() {\n    const {riskRatingThresholds} = {...this.props};\n\n    if(!riskRatingThresholds || riskRatingThresholds.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"RiskRatingLegend\">\n        <h3>Risk Rating Matix</h3>\n\n        <div className=\"table-responsive\">\n          <p className=\"impact-heading\">Impact</p>\n\n          <table className=\"table table-sm table-bordered\">\n            <thead className=\"thead-light\">\n              <tr key=\"risk_rating_legend_header\">\n              {\n                riskRatingThresholds.tableHeader.map((headerText, index) => {\n                  return (\n                    <th key={index}>\n                      {headerText}\n                    </th>\n                  )\n                })\n              }\n              </tr>\n            </thead>\n            <tbody>\n              {\n                riskRatingThresholds.tableRows.map((row, rowIndex) => {\n                  return (\n                    <tr key={'row_' + rowIndex}>\n                      {\n                        row.map((column, columnIndex) => {\n                          return(\n                            <td\n                              key={'column_'+columnIndex}\n                              style={column.color ? {backgroundColor: column.color} : null}\n                            >\n                            {column.name}\n                            </td>\n                          )\n                        })\n                      }\n                    </tr>\n                  )\n                })\n              }\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RiskRatingThresholdContainer;\n","// @flow\n\nimport GraphQLRequestHelper from \"../utils/GraphQLRequestHelper\";\nimport get from \"lodash/get\";\nimport toString from \"lodash/toString\";\nimport {DEFAULT_NETWORK_ERROR} from \"../constants/errors\";\nimport type {Task, TaskSubmission} from \"../types/Task\";\nimport UserParser from \"../utils/UserParser\";\nimport TaskParser from \"../utils/TaskParser\";\nimport type {ImpactThreshold} from \"../types/ImpactThreshold\";\nexport default class SecurityRiskAssessmentTaskDataService {\n\n  static async fetchSecurityRiskAssessmentTasK(args: { uuid: string, secureToken?: string }): Promise<TaskSubmission> {\n    const {uuid, secureToken} = {...args};\n    const query = `\nquery {\n  readTaskSubmission(UUID: \"${uuid}\", SecureToken: \"${secureToken || \"\"}\") {\n    UUID\n    TaskName\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        Status\n        TaskType\n      }\n    }\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n    Status\n    SecurityRiskAssessmentData\n  }\n}`;\n\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n\n    const submissionJSONObject = get(responseJSONObject, \"data.readTaskSubmission.0\", null);\n    if (!submissionJSONObject) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    const securityRiskAssessmentData = JSON.parse(get(submissionJSONObject, 'SecurityRiskAssessmentData', ''));\n    const data: TaskSubmission = {\n      uuid: submissionJSONObject && submissionJSONObject.UUID ? submissionJSONObject.UUID : '',\n      taskName: toString(get(submissionJSONObject, \"TaskName\", \"\")),\n      status: toString(get(submissionJSONObject, \"Status\", \"\")),\n      submitterID: toString(get(submissionJSONObject, \"Submitter.ID\", \"\")),\n      isTaskCollborator: get(submissionJSONObject, \"IsTaskCollborator\", \"false\") === \"true\",\n      questionnaireSubmissionUUID: toString(get(submissionJSONObject, \"QuestionnaireSubmission.UUID\", \"\")),\n      taskSubmissions: TaskParser.parseAlltaskSubmissionforQuestionnaire(submissionJSONObject),\n      sraData: securityRiskAssessmentData\n    };\n\n    return data;\n  }\n\n  static async fetchImpactThreshold(): Promise<ImpactThreshold> {\n    const query = `\nquery {\n  readImpactThreshold {\n    Name\n    Value\n    Colour\n    Operator\n  }\n}`;\n\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n    const impactThresholdJSONObject = get(responseJSONObject, \"data.readImpactThreshold\", null);\n    if (!impactThresholdJSONObject) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    const data:ImpactThreshold = impactThresholdJSONObject.map((impactThreshold) => {\n      return {\n        name: _.toString(_.get(impactThreshold, \"Name\", \"\")),\n        color: _.toString(_.get(impactThreshold, \"Colour\", \"\")),\n        operator: _.toString(_.get(impactThreshold, \"Operator\", \"\")),\n        value: _.toString(_.get(impactThreshold, \"Value\", \"\")),\n      }\n    });\n\n    return data;\n  }\n}\n","import {ThunkAction} from \"redux-thunk\";\nimport ActionType from \"./ActionType\";\nimport SecurityRiskAssessmentTaskDataService from \"../services/SecurityRiskAssessmentTaskDataService\";\nimport ErrorUtil from \"../utils/ErrorUtil\";\n\nexport function loadSecurityRiskAssessment(args: {uuid: string, secureToken?: string}): ThunkAction {\n  const {uuid, secureToken} = {...args};\n\n  return async (dispatch) => {\n    await dispatch({ type: ActionType.SRA.LOAD_SECURITY_RISK_ASSESSMENT_REQUEST});\n    try {\n      const payload = await SecurityRiskAssessmentTaskDataService.fetchSecurityRiskAssessmentTasK({\n        uuid,\n        secureToken\n      });\n\n      const action = {\n        type: ActionType.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS,\n        payload,\n      };\n\n      await dispatch(action);\n    }\n    catch (error) {\n      await dispatch({type: ActionType.SRA.LOAD_SECURITY_RISK_ASSESSMENT_FAILURE, error: error});\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\nexport function loadImpactThreshold() {\n    return async (dispatch) => {\n    try {\n      const payload = await SecurityRiskAssessmentTaskDataService.fetchImpactThreshold();\n\n      const action = {\n        type: ActionType.SRA.LOAD_IMPACT_THRESHOLD,\n        payload,\n      };\n\n      await dispatch(action);\n    }\n    catch (error) {\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport {loadCurrentUser} from \"../../actions/user\";\nimport LikelihoodLegendContainer from \"./LikelihoodLegendContainer\";\nimport ImpactThresholdContainer from \"./ImpactThresholdContainer\";\nimport RiskAssessmentMatrixTableContainer from \"./RiskAssessmentMatrixTableContainer\";\nimport RiskRatingThresholdContainer from \"./RiskRatingThresholdContainer\";\nimport type {User} from \"../../types/User\";\nimport {\n  loadSecurityRiskAssessment,\n  loadImpactThreshold\n} from \"../../actions/securityRiskAssessment\";\nimport {\n  completeTaskSubmission\n} from \"../../actions/task\";\nimport type {SecurityRiskAssessment} from \"../../types/Task\";\nimport URLUtil from \"../../utils/URLUtil\";\nimport LightButton from \"../Button/LightButton\";\nimport DarkButton from \"../Button/DarkButton\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\nimport type {ImpactThreshold} from \"../../types/ImpactThreshold\";\nimport SecurityRiskAssessmentUtil from \"../../utils/SecurityRiskAssessmentUtil\";\nimport {SubmissionExpired} from \"../Common/SubmissionExpired\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    siteConfig: state.siteConfigState.siteConfig,\n    currentUser: state.currentUserState.user,\n    securityRiskAssessmentData: state.securityRiskAssessmentState.securityRiskAssessmentData,\n    impactThresholdData: state.securityRiskAssessmentState.impactThresholdData\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    dispatchLoadDataAction(uuid: string, secureToken: string) {\n      dispatch(loadCurrentUser());\n      dispatch(loadSiteConfig());\n      dispatch(loadSecurityRiskAssessment({uuid, secureToken}));\n      dispatch(loadImpactThreshold());\n    },\n    dispatchFinaliseAction(uuid: string, secureToken?: string | null, questionnaireUUID) {\n      dispatch(completeTaskSubmission({'taskSubmissionUUID': uuid, 'secureToken': secureToken, 'questionnaireUUID': questionnaireUUID}));\n    }\n  };\n};\n\ntype Props = {\n  uuid: string,\n  secureToken: string,\n  siteConfig?: SiteConfig | null,\n  currentUser?: User | null,\n  impactThresholdData?: Array<ImpactThreshold> | null,\n  securityRiskAssessmentData?: SecurityRiskAssessment | null,\n  dispatchLoadDataAction?: (uuid: string, secureToken: string) => void,\n  dispatchFinaliseAction?: (uuid: string, secureToken: string) => void,\n};\n\nclass SecurityRiskAssessmentContainer extends Component<Props> {\n  componentDidMount() {\n    const {uuid, dispatchLoadDataAction, secureToken} = {...this.props};\n    dispatchLoadDataAction(uuid, secureToken);\n  }\n\n\n  render() {\n    const {\n      siteConfig,\n      currentUser,\n      securityRiskAssessmentData,\n      secureToken,\n      impactThresholdData\n    } = {...this.props};\n\n    if (!currentUser || !siteConfig || !securityRiskAssessmentData) {\n      return null;\n    }\n\n    const {\n      uuid,\n      taskName,\n      questionnaireSubmissionUUID,\n      submitterID,\n      taskSubmissions,\n      sraData,\n      status\n    } = {...securityRiskAssessmentData};\n\n    const isSRATaskFinalised = SecurityRiskAssessmentUtil.isSRATaskFinalised(taskSubmissions);\n\n    const backButton = (\n      <LightButton\n        title={\"BACK TO QUESTIONNAIRE SUMMARY\"}\n        classes={[\"button ml-3\"]}\n        onClick={() => {\n          URLUtil.redirectToQuestionnaireSummary(questionnaireSubmissionUUID, secureToken);\n        }}\n      />\n    );\n\n    const isSiblingTaskPending = SecurityRiskAssessmentUtil.isSiblingTaskPending(taskSubmissions);\n    const isSubmitter = securityRiskAssessmentData.submitterID === currentUser.id;\n    const canFinalise = isSubmitter || securityRiskAssessmentData.isTaskCollborator;\n\n    const finaliseButton = !isSRATaskFinalised && !isSiblingTaskPending && canFinalise\n      ? (\n        <DarkButton title=\"FINALISE\"\n          classes={[\"button ml-3\"]}\n          onClick={() => {\n            this.props.dispatchFinaliseAction(uuid, secureToken, questionnaireSubmissionUUID);\n          }}\n        />\n      )\n      : null;\n\n    return (\n      <div className=\"SecurityRiskAssessmentContainer\">\n\n        <Header title={securityRiskAssessmentData.taskName} subtitle={siteConfig.siteTitle} username={currentUser.name} logopath={siteConfig.logoPath} />\n\n        {securityRiskAssessmentData.status === 'expired' && <SubmissionExpired/>}\n        {\n          securityRiskAssessmentData.status !== 'expired' && (\n            <div className=\"SecurityRiskAssessmentResult\">\n              {isSRATaskFinalised ? SecurityRiskAssessmentUtil.getSraIsFinalisedAlert() : false}\n\n              <RiskAssessmentMatrixTableContainer\n                calculatedSRAData={sraData.calculatedSRAData}\n                hasProductAspects={sraData.hasProductAspects}\n              />\n\n              <LikelihoodLegendContainer\n                likelihoodThresholds={sraData.likelihoodThresholds}\n              />\n\n              <ImpactThresholdContainer impactThresholds={impactThresholdData} />\n\n              <RiskRatingThresholdContainer\n                riskRatingThresholds={sraData.riskRatingThresholds}\n              />\n\n              <div className=\"buttons\">\n                {backButton}\n                {finaliseButton}\n              </div>\n            </div>\n          )\n        }\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(SecurityRiskAssessmentContainer);\n","import GraphQLRequestHelper from \"../utils/GraphQLRequestHelper\";\nimport get from \"lodash/get\";\nimport toString from \"lodash/toString\";\nimport SecurityComponentParser from \"../utils/SecurityComponentParser\";\nimport {DEFAULT_NETWORK_ERROR} from \"../constants/errors\";\nimport TaskParser from \"../utils/TaskParser\";\nimport type {CVATaskSubmission} from \"../types/CVATaskSubmission\";\n\nexport default class ControlValidationAuditDataService {\n  static async fetchControlValidationAuditTaskSubmission(args: { uuid: string, secureToken?: string }): Promise<TaskSubmission> {\n    const {uuid, secureToken} = {...args};\n    const query = `\nquery {\n  readTaskSubmission(UUID: \"${uuid}\", SecureToken: \"${secureToken || \"\"}\") {\n    ID\n    UUID\n    QuestionnaireSubmission {\n      UUID\n      TaskSubmissions {\n        UUID\n        TaskType\n        Status\n      }\n    }\n    TaskName\n    CVATaskData\n    ProductAspects\n    CVATaskDataSource\n    Status\n    IsTaskCollborator\n    Submitter {\n      ID\n    }\n  }\n}`;\n\n    const responseJSONObject = await GraphQLRequestHelper.request({query});\n    const submissionJSONObject = get(responseJSONObject, \"data.readTaskSubmission.0\", null);\n\n    if (!submissionJSONObject) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n\n    let jsonArray = JSON.parse(get(submissionJSONObject, \"CVATaskData\", \"[]\"));\n\n    if (!Array.isArray(jsonArray)) {\n      jsonArray = [];\n    }\n\n    const components = jsonArray.length > 0 ? SecurityComponentParser.parseCVAFromJSONObject(jsonArray) : jsonArray;\n\n    const data: CVATaskSubmission = {\n      id: toString(get(submissionJSONObject, \"ID\", \"\")),\n      status: toString(get(submissionJSONObject, \"Status\", \"\")),\n      uuid: toString(get(submissionJSONObject, \"UUID\", \"\")),\n      questionnaireSubmissionUUID: toString(get(submissionJSONObject, \"QuestionnaireSubmission.UUID\", \"\")),\n      taskName: toString(get(submissionJSONObject, \"TaskName\", \"\")),\n      selectedComponents: components,\n      submitterID: toString(get(submissionJSONObject, \"Submitter.ID\", \"\")),\n      componentTarget: toString(get(submissionJSONObject, \"CVATaskDataSource\", \"\")),\n      isTaskCollborator: get(submissionJSONObject, \"IsTaskCollborator\", \"false\") === \"true\",\n      productAspects:  _.has(submissionJSONObject, 'ProductAspects') ? JSON.parse(get(submissionJSONObject, \"ProductAspects\", [])) : [],\n      siblingSubmissions: TaskParser.parseAlltaskSubmissionforQuestionnaire(submissionJSONObject)\n    };\n\n    return data;\n  }\n\n  static async saveControlValidationAuditData(argument: {\n    uuid: string,\n    controlData: object,\n    csrfToken: string\n  }): Promise<void> {\n    const {uuid, controlData, csrfToken} = {...argument};\n    const controlDataStr = window.btoa(\n      unescape(\n        encodeURIComponent(\n          JSON.stringify(\n            controlData\n          )\n        )\n      )\n    );\n\n    const query = `\nmutation {\n  updateControlValidationAuditTaskSubmission(UUID: \"${uuid}\", CVATaskData: \"${controlDataStr}\") {\n    UUID\n    CVATaskData\n  }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const updatedData = _.get(json, \"data.updateControlValidationAuditTaskSubmission.CVATaskData\", null);\n    if (!updatedData) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n  }\n\n  static async reSyncWithJira(argument: {uuid: string, csrfToken: string}) : Promise<TaskSubmission> {\n    const {uuid, csrfToken} = {...argument};\n    const query = `\nmutation {\n  reSyncWithJira(UUID: \"${uuid}\") {\n    UUID\n    CVATaskData\n  }\n}`;\n    const json = await GraphQLRequestHelper.request({query, csrfToken});\n    const updatedData = _.get(json, \"data.reSyncWithJira\", null);\n\n    if (!updatedData) {\n      throw DEFAULT_NETWORK_ERROR;\n    }\n    let jsonArray = JSON.parse(get(updatedData, \"CVATaskData\", \"[]\"));\n\n    if (!Array.isArray(jsonArray)) {\n      jsonArray = [];\n    }\n\n    const components = jsonArray.length > 0 ? SecurityComponentParser.parseCVAFromJSONObject(jsonArray) : jsonArray;\n    return components;\n  }\n}\n","// @flow\nimport {ThunkAction} from \"redux-thunk\";\nimport ActionType from \"./ActionType\";\nimport ControlValidationAuditDataService from \"../services/ControlValidationAuditDataService\";\nimport ErrorUtil from \"../utils/ErrorUtil\";\nimport CSRFTokenService from \"../services/CSRFTokenService\";\nimport URLUtil from \"../utils/URLUtil\";\n\nexport function loadControlValidationAudit(args: {uuid: string, secureToken?: string}): ThunkAction {\n  const {uuid, secureToken} = {...args};\n\n  return async (dispatch) => {\n    await dispatch({ type: ActionType.CVA.LOAD_CONTROL_VALIDATION_AUDIT_REQUEST});\n\n    try {\n      // Clear CVA data first from store\n      await dispatch( {\n        type: ActionType.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA,\n        payload: null, // make the data empty\n      });\n\n      const payload = await ControlValidationAuditDataService.fetchControlValidationAuditTaskSubmission({\n        uuid,\n        secureToken\n      });\n\n      // Save data in store\n      const action = {\n        type: ActionType.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS,\n        payload,\n      };\n\n      await dispatch(action);\n    }\n    catch (error) {\n      await dispatch({type: ActionType.CVA.LOAD_CONTROL_VALIDATION_AUDIT_FAILURE, error: error});\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\nexport function saveControlValidationAuditData(uuid: string, controlData?: object, questionnaireSubmissionUUID: string, secureToken: string, auto: boolean): ThunkAction {\n  return async (dispatch) => {\n    try {\n      // Get CSRF token\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n\n      // Call save data api\n      const payload = await ControlValidationAuditDataService.saveControlValidationAuditData({\n        uuid,\n        controlData,\n        csrfToken\n      });\n\n      const action = {\n        type: ActionType.CVA.SAVE_CONTROL_VALIDATION_AUDIT_DATA,\n        payload,\n      };\n\n      await dispatch(action);\n      if (!auto) {\n        URLUtil.redirectToQuestionnaireSummary(questionnaireSubmissionUUID, secureToken);\n      }\n    }\n    catch (error) {\n      ErrorUtil.displayError(error);\n    }\n  };\n}\n\nexport function updateControlValidationAuditData(args: {\n  selectedOption: string,\n  controlID: string,\n  componentID: string,\n  productAspect: string,\n  implementationEvidenceUserInput:string\n}): ThunkAction {\n  return async (dispatch) => {\n    const action = {\n      type: ActionType.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA,\n      payload: args\n    };\n    await dispatch(action);\n  }\n}\n\nexport function reSyncWithJira (uuid: string) : ThunkAction {\n  return async (dispatch) => {\n    await dispatch({ type: ActionType.CVA.RE_SYNC_WITH_JIRA_REQUEST});\n\n    try {\n      // Get CSRF token\n      const csrfToken = await CSRFTokenService.getCSRFToken();\n\n      // Call re sync with jira data api\n      const payload = await ControlValidationAuditDataService.reSyncWithJira({\n        uuid,\n        csrfToken\n      });\n\n      const action = {\n        type: ActionType.CVA.RE_SYNC_WITH_JIRA_SUCCESS,\n        payload,\n      };\n\n      await dispatch(action);\n    }\n    catch (error) {\n      await dispatch({ type: ActionType.CVA.RE_SYNC_WITH_JIRA_FAILURE, error: error});\n      ErrorUtil.displayError(error);\n    }\n  }\n}\n","// @flow\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport {loadCurrentUser} from \"../../actions/user\";\nimport {\n  updateControlValidationAuditData,\n  loadControlValidationAudit,\n  saveControlValidationAuditData,\n  reSyncWithJira\n} from \"../../actions/controlValidationAudit\";\nimport type {User} from \"../../types/User\";\nimport type {\n  CVATaskSubmission,\n  CVASelectedComponents\n} from \"../../types/ControlValidationAudit\";\nimport URLUtil from \"../../utils/URLUtil\";\nimport LightButton from \"../Button/LightButton\";\nimport DarkButton from \"../Button/DarkButton\";\nimport {\n  DEFAULT_CVA_CONTROLS_ANSWER_YES,\n  DEFAULT_CVA_CONTROLS_ANSWER_NO,\n  DEFAULT_CVA_CONTROLS_ANSWER_NOT_APPLICABLE,\n  DEFAULT_NO_CONTROLS_MESSAGE,\n  DEFAULT_CVA_UNFINISHED_TASKS_MESSAGE,\n  CTL_STATUS_1,\n  CTL_STATUS_2,\n  CTL_STATUS_3\n} from '../../constants/values.js';\nimport SecurityRiskAssessmentUtil from \"../../utils/SecurityRiskAssessmentUtil\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\nimport {SubmissionExpired} from \"../Common/SubmissionExpired\";\nimport {SubmissionNotCompleted} from \"../Common/SubmissionNotCompleted\";\nimport ControlInfo from \"../ComponentSelection/ControlInfo\";\nimport CSRFTokenService from \"../../services/CSRFTokenService\";\nimport ErrorUtil from \"../../utils/ErrorUtil\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    currentUser: state.currentUserState.user,\n    controlValidationAuditData: state.controlValidationAuditState.controlValidationAuditData,\n    cvaSelectedComponents: state.controlValidationAuditState.cvaSelectedComponents,\n    siteConfig: state.siteConfigState.siteConfig\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {\n    dispatchLoadDataAction: async (uuid: string, secureToken: string) => {\n      await Promise.all([\n        dispatch(loadControlValidationAudit({uuid, secureToken})),\n        dispatch(loadCurrentUser()),\n        dispatch(loadSiteConfig())\n      ]);\n    },\n    // when user click on save button, save in the database\n    dispatchSaveControlValidationAuditDataAction(\n      uuid: string,\n      controlData: object,\n      questionnaireSubmissionUUID: string,\n      secureToken: string, auto: boolean\n    ) {\n      dispatch(saveControlValidationAuditData(\n        uuid,\n        controlData,\n        questionnaireSubmissionUUID,\n        secureToken,\n        auto)\n      );\n    },\n    // this is used to update the selectedOptionDetail object\n    // before clicking on save button\n    dispatchUpdateControlValidationQuestionDataAction (selectedOptionDetail: object) {\n      dispatch(updateControlValidationAuditData(selectedOptionDetail));\n    },\n    dispatchReSyncWithJira(uuid: string) {\n      dispatch(reSyncWithJira(uuid));\n    }\n  };\n};\n\ntype Props = {\n  uuid: string,\n  secureToken: string,\n  currentUser?: User | null,\n  controlValidationAuditData?: CVATaskSubmission | null,\n  dispatchLoadDataAction?: (uuid: string, secureToken: string) => void,\n  dispatchSaveControlValidationAuditDataAction?: () => void,\n  dispatchUpdateControlValidationQuestionDataAction?: (selectedOptionDetail: object) => void,\n  cvaSelectedComponents: CVASelectedComponents,\n  dispatchReSyncWithJira?: (uuid: string) => void,\n  siteConfig?: SiteConfig | null,\n};\n\ntype State = {\n  isCVATaskEditable: boolean,\n  isSRATaskFinalised: boolean,\n  canEdit: boolean\n};\n\nlet autoSaveCVATask;\nclass ControlValidationAuditContainer extends Component<Props, State> {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isCVATaskEditable: false,\n      isSRATaskFinalised: false,\n      canEdit: false\n    }\n  }\n\n  async componentDidMount() {\n    const {\n      uuid,\n      dispatchLoadDataAction,\n      secureToken,\n    } = {...this.props};\n\n    await dispatchLoadDataAction(uuid, secureToken);\n\n    /**\n     * Save CVA task in every 10 mins so userInput will not get lost\n     */\n    try {\n      const {\n        controlValidationAuditData,\n        currentUser\n      } = {...this.props};\n\n      const isSubmitter = controlValidationAuditData.submitterID === currentUser.id;\n      const canEdit = (isSubmitter || controlValidationAuditData.isTaskCollborator);\n      const isSRATaskFinalised = SecurityRiskAssessmentUtil.isSRATaskFinalised(controlValidationAuditData.siblingSubmissions);\n      const isCVATaskEditable = (canEdit && !isSRATaskFinalised);\n\n      this.setState({\n        canEdit: canEdit,\n        isSRATaskFinalised: isSRATaskFinalised,\n        isCVATaskEditable: isCVATaskEditable\n      });\n\n      this.autoSaveCVATask = setInterval(\n        async () => {\n          if (isCVATaskEditable) {\n            await this.callAutoSaveCvaTaskApi();\n          }\n        },\n        600000\n      );\n    } catch(e) {\n      ErrorUtil.displayError(error);\n    }\n  }\n\n  /**\n   * Clear Interval function when the user is leaving CVA task page\n   */\n  componentWillUnmount() {\n    clearInterval(this.autoSaveCVATask);\n  }\n\n\n  /**\n   * Call db save Api logic in every 10 mins\n   */\n  callAutoSaveCvaTaskApi() {\n    const {\n      uuid,\n      secureToken,\n      dispatchSaveControlValidationAuditDataAction,\n      controlValidationAuditData,\n      cvaSelectedComponents,\n      currentUser\n    } = {...this.props};\n\n    dispatchSaveControlValidationAuditDataAction(\n      uuid,\n      cvaSelectedComponents,\n      controlValidationAuditData.questionnaireSubmissionUUID,\n      secureToken,\n      true\n    );\n  }\n\n  /**\n   * Display a list of security component headlines with radio inputs for controls\n   */\n  renderCVAQuestionsForm() {\n    const productAspects = this.props.controlValidationAuditData.productAspects;\n    const selectedComponents = this.props.cvaSelectedComponents;\n    const componentTarget =this.props.controlValidationAuditData.componentTarget;\n\n    if (productAspects.length > 0 && selectedComponents.length > 0) {\n      return (\n        this.renderComponentGroupByProductAspect(productAspects, selectedComponents)\n      );\n    } else if (selectedComponents.length > 0) {\n      return(\n        <div>\n          {\n            selectedComponents.map((component) => {\n              return (\n                this.renderComponent(component)\n              );\n            })\n          }\n        </div>\n      );\n    }\n    else {\n      return(\n        <div className=\"alert alert-warning\" key=\"unfinished_cs_task_message\">\n          {DEFAULT_CVA_UNFINISHED_TASKS_MESSAGE}\n        </div>\n      );\n    }\n  }\n\n  renderComponentGroupByProductAspect(productAspects, components) {\n    return (\n      <div>\n      {\n        productAspects.map((productAspect, productAspectIndex) => {\n          const filterComponent = components.filter((component) => {\n            return component.productAspect === productAspect;\n          })\n\n          if (filterComponent.length == 0) {\n            return null;\n          }\n\n          return (\n            <div className=\"mt-2\" key={productAspectIndex} >\n              <h4>{productAspect}</h4>\n              {\n                filterComponent.map((component) => {\n                  return (\n                    this.renderComponent(component)\n                  );\n                })\n              }\n            </div>\n          )\n        })\n      }\n      </div>\n    );\n  }\n\n  renderComponent(component) {\n    const componentKey = component.productAspect ? `${component.productAspect}_${component.id}`: component.id;\n    const controls = component.controls;\n    const link = component.jiraTicketLink ? (<a href={component.jiraTicketLink}>{component.jiraTicketLink}</a>) : null;\n\n    return (\n      <div key={componentKey}>\n        <h5>\n          {component.name}\n          {link && this.props.controlValidationAuditData.componentTarget == \"JIRA Cloud\" && (<span> - {link}</span>)}\n        </h5>\n        {\n          controls && controls.length > 0 && controls.map((control) => {\n            return (this.renderControl(control, component));\n          })\n        }\n        {\n          !controls || controls.length == 0 && (\n            <div className=\"alert alert-warning\" key=\"no_controls_message\">\n              {DEFAULT_NO_CONTROLS_MESSAGE}\n            </div>\n          )\n        }\n      </div>\n    );\n  }\n\n  renderControl(control, component) {\n    const controlKey = component.productAspect ? `${component.productAspect}_${component.id}_${control.id}`: `${component.id}_${control.id}`;\n    const componentTarget = this.props.controlValidationAuditData.componentTarget;\n\n    if (componentTarget === \"JIRA Cloud\") {\n      return this.renderRemoteControls(control, controlKey);\n    } else {\n      return this.renderLocalControl(control, controlKey, component);\n    }\n  }\n\n  renderLocalControl(control, controlKey, component) {\n    const options = [\n      {'value': CTL_STATUS_1, 'label': DEFAULT_CVA_CONTROLS_ANSWER_YES},\n      {'value':CTL_STATUS_2, 'label': DEFAULT_CVA_CONTROLS_ANSWER_NO},\n      {'value':CTL_STATUS_3, 'label': DEFAULT_CVA_CONTROLS_ANSWER_NOT_APPLICABLE}\n    ];\n    return(\n      <div className=\"my-0 container row\" key={controlKey}>\n\n        <div className=\"col-xs-2\">\n          {\n            options.map((option, optionIndex) => {\n              return (\n                <label key={`optionlabel_${controlKey}_${optionIndex}`}>\n                  <input\n                    type=\"radio\"\n                    key={`radiobutton_${controlKey}_${optionIndex}`}\n                    name={controlKey}\n                    value={option.value}\n                    defaultChecked={control.selectedOption === option.value}\n                    disabled={!this.state.isCVATaskEditable}\n                    onClick={() => this.props.dispatchUpdateControlValidationQuestionDataAction({\n                      \"selectedOption\": option.value,\n                      \"controlID\":control.id,\n                      \"componentID\":component.id,\n                      \"productAspect\":component.productAspect,\n                      \"implementationEvidenceUserInput\": control.implementationEvidenceUserInput\n                  })}\n                  />\n                  {option.label}\n                </label>\n              );\n            })\n          }\n        </div>\n\n        <div className=\"col-10\">\n          <label key={control.id}>\n            <strong>{control.name}</strong>\n          </label>\n\n          <ControlInfo\n            key={`controlInfo_${control.id}`}\n            id={control.id}\n            name=''\n            description={control.description}\n            implementationGuidance={control.implementationGuidance}\n            implementationEvidence={control.implementationEvidence}\n            implementationEvidenceUserInput={control.implementationEvidenceUserInput}\n            showImplementationEvidence={true}\n            className=\"text-muted\"\n            isCVATaskEditable={this.state.isCVATaskEditable}\n            updateEvidenceTextareaData={\n              (value) => this.props.dispatchUpdateControlValidationQuestionDataAction({\n                \"selectedOption\": control.selectedOption,\n                \"controlID\":control.id,\n                \"componentID\":component.id,\n                \"productAspect\":component.productAspect,\n                \"implementationEvidenceUserInput\":value\n              })\n            }\n          />\n\n        </div>\n      </div>\n    );\n  }\n\n  renderRemoteControls(control, controlKey) {\n    const className = (control.selectedOption).toLowerCase().replace(\" \", \"-\");\n    return(\n      <div className=\"my-0\" key={controlKey}>\n        <label className=\"ml-2\" key={control.id}>\n          <span><strong>{control.name}</strong> - </span>\n          <span className={className}>({control.selectedOption})</span>\n        </label>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      siteConfig,\n      currentUser,\n      controlValidationAuditData,\n      secureToken,\n      dispatchSaveControlValidationAuditDataAction,\n      cvaSelectedComponents,\n      dispatchReSyncWithJira\n    } = {...this.props};\n    if (!currentUser || !controlValidationAuditData || !siteConfig) {\n      return null;\n    }\n\n    const submitButton = this.state.isCVATaskEditable && cvaSelectedComponents.length > 0 ? (\n      <LightButton\n      title=\"SUBMIT\"\n      onClick={() => dispatchSaveControlValidationAuditDataAction(\n        controlValidationAuditData.uuid,\n        cvaSelectedComponents,\n        controlValidationAuditData.questionnaireSubmissionUUID,\n        secureToken,\n        false\n      )}/>\n    ): null;\n\n    const backButton =  (\n      <DarkButton\n        title={\"BACK TO QUESTIONNAIRE SUMMARY\"}\n        onClick={() => {\n          URLUtil.redirectToQuestionnaireSummary(controlValidationAuditData.questionnaireSubmissionUUID, secureToken);\n        }}\n      />\n    );\n\n    const reSync = this.state.isCVATaskEditable && controlValidationAuditData.componentTarget == \"JIRA Cloud\" && cvaSelectedComponents.length > 0 ? (\n      <DarkButton\n        title={\"RE SYNC WITH JIRA\"}\n        onClick={() => dispatchReSyncWithJira(controlValidationAuditData.uuid)}\n      />\n    ) : null;\n\n    return (\n      <div className=\"ControlValidationAuditContainer\">\n        <Header\n          title={controlValidationAuditData.taskName}\n          subtitle={siteConfig.siteTitle}\n          username={currentUser.name}\n          logopath={siteConfig.logoPath}\n        />\n\n        {\n          controlValidationAuditData.status === 'expired' && <SubmissionExpired/>\n        }\n\n        {\n          controlValidationAuditData.status !== 'expired' && (\n            <div className=\"ControlValidationAuditResult\" key=\"0\">\n              <div className=\"ControlValidationAuditForm\">\n                <h3>Have These Controls Been Implemented?</h3>\n                {\n                  ['start','in_progress'].includes(controlValidationAuditData.status)\n                  && !this.state.canEdit\n                  && (\n                        <SubmissionNotCompleted/>\n                    )\n                }\n                {\n                  (this.state.canEdit || controlValidationAuditData.status == \"complete\") &&\n                  (\n                    <div>\n                      {this.state.isSRATaskFinalised ? SecurityRiskAssessmentUtil.getSraIsFinalisedAlert() : false}\n                      {this.renderCVAQuestionsForm()}\n                    </div>\n                  )\n                }\n              </div>\n              <div className=\"buttons\" key=\"component_validation_buttons\">\n                <div>\n                  {submitButton}\n                  {reSync}\n                  {backButton}\n                </div>\n              </div>\n            </div>\n          )\n        }\n\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(ControlValidationAuditContainer);\n","// @flow\n// site wide loading Icon\n\nimport { Icon } from 'react-fa';\nimport React, {Component} from \"react\";\n\nexport class Loading extends Component {\n  render() {\n    return (\n      <div>\n        <div className=\"loading-spinner-page-overlay\">\n          <div className=\"loading-spinner\">\n            <Icon spin name=\"spinner\" /> Loading...\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {Route, Switch} from \"react-router-dom\";\nimport HomeContainer from \"../Home/HomeContainer\";\nimport StartContainer from \"../Questionnaire/StartContainer\";\nimport QuestionnaireContainer from \"../Questionnaire/QuestionnaireContainer\";\nimport ReviewContainer from \"../Questionnaire/ReviewContainer\";\nimport SummaryContainer from \"../Questionnaire/SummaryContainer\";\nimport TaskSubmissionContainer from \"../Task/TaskSubmissionContainer\";\nimport TaskStandaloneContainer from \"../Task/TaskStandaloneContainer\";\nimport ComponentSelectionStandaloneContainer from \"../ComponentSelection/ComponentSelectionStandaloneContainer\";\nimport ComponentSelectionContainer from \"../ComponentSelection/ComponentSelectionContainer\";\nimport MySubmissionList from \"../QuestionnaireSubmissionList/MySubmissionList\";\nimport AwaitingApprovalList from \"../QuestionnaireSubmissionList/AwaitingApprovalList\";\nimport MyProductList from \"../QuestionnaireSubmissionList/MyProductList\";\nimport SecurityRiskAssessmentContainer from \"../SecurityRiskAssessment/SecurityRiskAssessmentContainer.js\";\nimport ControlValidationAuditContainer from \"../ControlValidationAudit/ControlValidationAuditContainer.js\";\nimport {parse} from \"query-string\";\nimport { Loading } from \"../Common/Loading.js\";\nimport { withRouter } from 'react-router-dom';\nimport _ from \"lodash\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    loading: _.chain(state.loadingState).values().some(val => val).value()\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: *) => {\n  return {};\n};\n\ntype Props = {\n  loading: boolean\n};\n\nclass MainApp extends Component<*> {\n  render() {\n    return (\n      <div>\n        {this.props.loading && <Loading/>}\n        <main>\n          <Switch>\n            <Route exact path='/'>\n              {() => {\n                return <HomeContainer/>;\n              }}\n            </Route>\n            <Route path='/questionnaire/start/:id'>\n              {({match}) => {\n                return (\n                  <div className=\"gray-bg\">\n                    <StartContainer questionnaireID={match.params.id}/>\n                  </div>\n                );\n              }}\n            </Route>\n            <Route path='/questionnaire/submission/:hash'>\n              {({match}) => {\n                return (\n                  <div className=\"gray-bg\">\n                    <QuestionnaireContainer submissionHash={match.params.hash}/>\n                  </div>\n                );\n              }}\n            </Route>\n            <Route path='/questionnaire/review/:hash'>\n            {({match, location}) => {\n              let secureToken = '';\n              if (location.search) {\n                const queryString = parse(location.search);\n                secureToken = queryString.token;\n              }\n              return (\n                <div className=\"gray-bg\">\n                    <ReviewContainer submissionHash={match.params.hash} secureToken={secureToken}/>\n                  </div>\n                );\n              }}\n            </Route>\n            <Route path='/questionnaire/summary/:hash'>\n              {({match, location}) => {\n                let secureToken = '';\n                if (location.search) {\n                  const queryString = parse(location.search);\n                  secureToken = queryString.token;\n                }\n                return (\n                  <div className=\"gray-bg\">\n                    <SummaryContainer submissionHash={match.params.hash} secureToken={secureToken}/>\n                  </div>\n                );\n              }}\n            </Route>\n            <Route path='/task/submission/:uuid'>\n              {({match, location}) => {\n                let secureToken = '';\n                if (location.search) {\n                  const queryString = parse(location.search);\n                  secureToken = queryString.token;\n                }\n                return (\n                  <div className=\"gray-bg\">\n                    <TaskSubmissionContainer uuid={match.params.uuid} secureToken={secureToken}/>\n                  </div>\n                );\n              }}\n            </Route>\n            <Route path='/tasks/standalone/:taskId'>\n              {({match}) => {\n                return (\n                  <div className=\"gray-bg\">\n                    <TaskStandaloneContainer taskId={match.params.taskId}/>\n                  </div>\n                );\n              }}\n            </Route>\n            <Route path='/component-selection/standalone/:taskId'>\n              {({match, location}) => {\n                let componentTarget = '';\n                if (location.search) {\n                  const queryString = parse(location.search);\n                  componentTarget = queryString.componentTarget;\n                }\n                return (\n                  <div className=\"gray-bg\">\n                    <ComponentSelectionStandaloneContainer\n                    taskId={match.params.taskId}\n                    componentTarget={componentTarget}\n                    />\n                  </div>\n                );\n              }}\n            </Route>\n            <Route path='/component-selection/submission/:uuid'>\n              {({match, location}) => {\n                let secureToken = '';\n                if (location.search) {\n                  const queryString = parse(location.search);\n                  secureToken = queryString.token;\n                }\n                return (\n                  <div className=\"gray-bg\">\n                    <ComponentSelectionContainer uuid={match.params.uuid} secureToken={secureToken}/>\n                  </div>\n                );\n              }}\n            </Route>\n\n            <Route path='/control-validation-audit/submission/:uuid'>\n              {({match, location}) => {\n                let secureToken = '';\n                if (location.search) {\n                  const queryString = parse(location.search);\n                  secureToken = queryString.token;\n                }\n                return (\n                  <div className=\"gray-bg\">\n                    <ControlValidationAuditContainer uuid={match.params.uuid} secureToken={secureToken}/>\n                  </div>\n                );\n              }}\n            </Route>\n\n            <Route path='/security-risk-assessment/submission/:uuid'>\n              {({match, location}) => {\n                let secureToken = '';\n                if (location.search) {\n                  const queryString = parse(location.search);\n                  secureToken = queryString.token;\n                }\n                return (\n                  <div className=\"gray-bg\">\n                    <SecurityRiskAssessmentContainer uuid={match.params.uuid} secureToken={secureToken}/>\n                  </div>\n                );\n              }}\n            </Route>\n\n            <Route path='/MySubmissions'>\n              {({match}) => {\n                return (\n                  <div className=\"gray-bg\">\n                    <MySubmissionList/>\n                  </div>\n                );\n              }}\n            </Route>\n            <Route path='/AwaitingApprovals'>\n              {({match}) => {\n                return (\n                  <div className=\"gray-bg\">\n                    <AwaitingApprovalList/>\n                  </div>\n                );\n              }}\n            </Route>\n            <Route path='/MyProducts'>\n              {({match}) => {\n                return (\n                  <div className=\"gray-bg\">\n                    <MyProductList/>\n                  </div>\n                );\n              }}\n            </Route>\n          </Switch>\n        </main>\n      </div>\n    );\n  }\n}\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  )(MainApp)\n);\n","// @flow\n\nimport type {HomeState} from \"../store/HomeState\";\nimport type {LoadHomeStateFinishedAction} from \"../actions/ActionType\";\nimport ActionType from \"../actions/ActionType\";\n\nconst defaultState: HomeState = {\n  title: \"\",\n  subtitle: \"\",\n  pillars: [],\n  tasks: [],\n};\n\nexport function homeState(state: HomeState = defaultState, action: LoadHomeStateFinishedAction) {\n  switch (action.type) {\n    case ActionType.HOME.LOAD_HOME_STATE_FINISHED:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport {combineReducers} from \"redux\";\nimport type {\n  QuestionnaireStartState,\n  QuestionnaireState,\n  QuestionnaireSubmissionState,\n} from \"../store/QuestionnaireState\";\nimport type {LoadQuestionnaireStartAction} from \"../actions/ActionType\";\nimport ActionType from \"../actions/ActionType\";\nimport type {Question} from \"../types/Questionnaire\";\nimport _ from \"lodash\";\n\nconst defaultStartState: QuestionnaireStartState = {\n  title: \"\",\n  subtitle: \"\",\n  keyInformation: \"\",\n  questionnaireID: \"\",\n  user: null\n};\n\nconst defaultSubmissionState: QuestionnaireSubmissionState = {\n  title: \"\",\n  siteTitle: \"\",\n  user: null,\n  submission: null,\n  isCurrentUserApprover: false,\n  isCurrentUserABusinessOwnerApprover: false\n};\n\nexport function startState(state: QuestionnaireStartState = defaultStartState, action: LoadQuestionnaireStartAction) {\n  if (action.type === ActionType.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_START_STATE) {\n    return action.payload;\n  }\n  return state;\n}\n\nexport function submissionState(state: QuestionnaireSubmissionState = defaultSubmissionState, action: *) {\n  if (action.type === ActionType.QUESTIONNAIRE.LOAD_QUESTIONNAIRE_SUBMISSION_STATE_SUCCESS) {\n    return action.payload;\n  }\n\n  if (action.type === ActionType.QUESTIONNAIRE.PUT_DATA_IN_QUESTIONNAIRE_ANSWER) {\n    if (!state.submission) {\n      return state;\n    }\n\n    // Find the matched question\n    const answeredQuestion: Question = action.payload;\n    const index = state.submission.questions.findIndex((question) => {\n      return question.id === answeredQuestion.id;\n    });\n    if (index < 0) {\n      return state;\n    }\n\n    const newState = {...state};\n    _.set(newState, `submission.questions.${index}`, answeredQuestion);\n    return newState;\n  }\n\n  if (action.type === ActionType.QUESTIONNAIRE.MOVE_TO_ANOTHER_QUESTIONNAIRE_QUESTION) {\n    const submission = state.submission;\n    if (!submission) {\n      return state;\n    }\n\n    const {targetIndex} = {...action};\n    const currentIndex = submission.questions.findIndex((question) => {\n      return question.isCurrent;\n    });\n\n    // Don't move when target is wrong\n    if (targetIndex < 0 || targetIndex >= submission.questions.length) {\n      return state;\n    }\n\n    const newState = {...state};\n\n    // Mark current question is not current anymore\n    _.set(newState, `submission.questions.${currentIndex}.isCurrent`, false);\n\n    // Mark target question to be current\n    _.set(newState, `submission.questions.${targetIndex}.isCurrent`, true);\n\n    return newState;\n  }\n\n  if (action.type === ActionType.QUESTIONNAIRE.MARK_QUESTIONNAIRE_QUESTION_NOT_APPLICABLE) {\n    const submission = state.submission;\n    if (!submission) {\n      return state;\n    }\n    const newState = {...state};\n\n    // Mark questions between target and current to be \"not applicable\"\n    const nonApplicableIndexes = action.nonApplicableIndexes;\n    if (nonApplicableIndexes && nonApplicableIndexes.length > 0) {\n      nonApplicableIndexes.forEach(index => {\n        const nonApplicableQuestion = submission.questions[index];\n        nonApplicableQuestion.isApplicable = false;\n        _.set(newState, `submission.questions.${index}`, nonApplicableQuestion);\n      });\n    }\n\n    return newState;\n  }\n\n  return state;\n}\n\nexport default combineReducers<QuestionnaireState>({\n  startState,\n  submissionState\n});\n","// @flow\n\nimport type {TaskSubmissionState} from \"../store/TaskSubmissionState\";\nimport type {LoadTaskSubmissionAction, PutDataInTaskSubmissionAction} from \"../actions/ActionType\";\nimport ActionType from \"../actions/ActionType\";\nimport type {Question} from \"../types/Questionnaire\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport set from \"lodash/set\";\nimport type {TaskSubmission} from \"../types/Task\";\n\nconst defaultStartState: TaskSubmissionState = {\n  taskSubmission: null,\n};\n\nexport function taskSubmissionState(state: TaskSubmissionState = defaultStartState, action: *): TaskSubmissionState {\n  const taskSubmission: TaskSubmission | null = state.taskSubmission;\n\n  if (action.type === ActionType.TASK.LOAD_TASK_SUBMISSION) {\n    (action: LoadTaskSubmissionAction);\n    return {\n      taskSubmission: action.payload,\n    };\n  }\n\n  if (action.type === ActionType.TASK.LOAD_RESULT_FOR_CERTIFICATION_AND_ACCREDITATION) {\n    if (!taskSubmission) {\n      return state;\n    }\n\n    const {resultForCertificationAndAccreditation} = {...action.payload};\n    const newState = cloneDeep(state);\n\n    set(newState, `taskSubmission.resultForCertificationAndAccreditation`, resultForCertificationAndAccreditation);\n    return newState;\n  }\n\n  if (action.type === ActionType.TASK.PUT_DATA_IN_TASK_SUBMISSION) {\n    (action: PutDataInTaskSubmissionAction);\n    if (!taskSubmission) {\n      return state;\n    }\n    // Find the matched question\n    const answeredQuestion: Question = action.payload;\n    const index = taskSubmission.questions.findIndex((question) => {\n      return question.id === answeredQuestion.id;\n    });\n    if (index < 0) {\n      return state;\n    }\n\n    const newState = cloneDeep(state);\n    set(newState, `taskSubmission.questions.${index}`, answeredQuestion);\n    return newState;\n  }\n\n  if (action.type === ActionType.TASK.MARK_TASK_QUESTION_NOT_APPLICABLE) {\n    if (!taskSubmission) {\n      return state;\n    }\n    const newState = cloneDeep(state);\n\n    // Mark questions between target and current to be \"not applicable\"\n    const nonApplicableIndexes = action.payload;\n    if (nonApplicableIndexes && nonApplicableIndexes.length > 0) {\n      nonApplicableIndexes.forEach(index => {\n        const nonApplicableQuestion = taskSubmission.questions[index];\n        nonApplicableQuestion.isApplicable = false;\n        set(newState, `taskSubmission.questions.${index}`, nonApplicableQuestion);\n      });\n    }\n\n    return newState;\n  }\n\n  if (action.type === ActionType.TASK.MOVE_TO_ANOTHER_TASK_QUESTION) {\n    if (!taskSubmission) {\n      return state;\n    }\n\n    const {currentIndex, targetIndex} = {...action.payload};\n\n    // Don't move when target is wrong\n    if (targetIndex < 0 || targetIndex >= taskSubmission.questions.length) {\n      return state;\n    }\n\n    const newState = cloneDeep(state);\n\n    // Mark current question is not current anymore\n    set(newState, `taskSubmission.questions.${currentIndex}.isCurrent`, false);\n    // Mark target question to be current\n    set(newState, `taskSubmission.questions.${targetIndex}.isCurrent`, true);\n\n    return newState;\n  }\n\n  if (action.type === ActionType.TASK.COMPLETE_TASK_SUBMISSION) {\n    const newState = cloneDeep(state);\n    set(newState, `taskSubmission.status`, \"complete\");\n\n    if (action.payload) {\n      set(newState, `taskSubmission.result`, action.payload);\n    }\n\n    return newState;\n  }\n\n  if (action.type === ActionType.TASK.EDIT_TASK_SUBMISSION) {\n    const newState = cloneDeep(state);\n    set(newState, `taskSubmission.status`, \"in_progress\");\n    set(newState, `taskSubmission.result`, null);\n    return newState;\n  }\n\n  return state;\n}\n","// @flow\n\nimport type {CurrentUserState} from \"../store/CurrentUserState\";\nimport type {SetCurrentUserAction} from \"../actions/ActionType\";\nimport ActionType from \"../actions/ActionType\";\n\nconst defaultState: CurrentUserState = {\n  user: null,\n};\n\nexport function currentUserState(state: CurrentUserState = defaultState, action: SetCurrentUserAction) {\n  switch (action.type) {\n    case ActionType.USER.SET_CURRENT_USER:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport type {SiteConfigState} from \"../store/SiteConfigState\";\nimport type {LoadSiteConfigAction} from \"../actions/ActionType\";\nimport ActionType from \"../actions/ActionType\";\n\nconst defaultState: SiteConfigState = {\n  siteConfig: null,\n};\n\nexport function siteConfigState(state: SiteConfigState = defaultState, action: LoadSiteConfigAction) {\n  switch (action.type) {\n    case ActionType.SITE_CONFIG.LOAD_SITE_CONFIG:\n      return {\n        ...state,\n        siteConfig: action.payload\n      };\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport type {ComponentSelectionState} from \"../store/ComponentSelectionState\";\nimport type {\n  AddSelectedComponentAction,\n  LoadAvailableComponentsAction,\n  RemoveSelectedComponentAction,\n  LoadSelectedComponentsAction\n} from \"../actions/ActionType\";\nimport ActionType from \"../actions/ActionType\";\nimport concat from \"lodash/concat\";\nimport ComponentSelectionUtil from \"../utils/ComponentSelectionUtil\";\nimport type {SetJiraTicketsAction, SetViewModeAction} from \"../actions/componentSelection\";\n\nconst defaultState: ComponentSelectionState = {\n  availableComponents: [],\n  selectedComponents: [],\n  savedComponents: [],\n  jiraTickets: [],\n  viewMode: \"edit\"\n};\n\nconst isComponentExist = ComponentSelectionUtil.isComponentExist;\nconst isSelectedComponentExist = ComponentSelectionUtil.isSelectedComponentExist;\n\nexport function componentSelectionState(state: ComponentSelectionState = defaultState, action: *) {\n  if (action.type === ActionType.COMPONENT_SELECTION.SET_AVAILABLE_COMPONENTS) {\n    const act: LoadAvailableComponentsAction = action;\n    return {\n      ...state,\n      availableComponents: act.payload\n    };\n  }\n\n  if (action.type === ActionType.COMPONENT_SELECTION.ADD_SELECTED_COMPONENT) {\n    const act: AddSelectedComponentAction = action;\n    const id = act.payload.id;\n    const productAspect = act.payload.productAspect;\n\n    if (!isSelectedComponentExist(id, productAspect, state.selectedComponents) &&\n      isComponentExist(id, state.availableComponents)) {\n      const availableComponent = state.availableComponents.filter((component) => component.id === id );\n      const seletedComponent = Object.assign({}, availableComponent[0]);\n      seletedComponent.productAspect = productAspect;\n      return {\n        ...state,\n        selectedComponents: concat(\n          state.selectedComponents,\n          seletedComponent\n        )\n      };\n    }\n  }\n\n  if (action.type === ActionType.COMPONENT_SELECTION.REMOVE_SELECTED_COMPONENT) {\n    const act: RemoveSelectedComponentAction = action;\n    const id = act.payload.id;\n    const productAspect = act.payload.productAspect;\n\n    if (isSelectedComponentExist(id, productAspect, state.selectedComponents) &&\n      isComponentExist(id, state.availableComponents)) {\n\n      return {\n        ...state,\n        selectedComponents: state.selectedComponents.filter((component) =>\n          component.id !== id || component.productAspect !== productAspect\n        )\n      };\n    }\n  }\n\n  if (action.type === ActionType.COMPONENT_SELECTION.SET_JIRA_TICKETS) {\n    const act: SetJiraTicketsAction = action;\n    return {\n      ...state,\n      jiraTickets: act.payload\n    };\n  }\n\n  if (action.type === ActionType.COMPONENT_SELECTION.SET_VIEW_MODE) {\n    const act: SetViewModeAction = action;\n    return {\n      ...state,\n      viewMode: act.payload\n    };\n  }\n\n  if (action.type === ActionType.COMPONENT_SELECTION.LOAD_SELECTED_COMPONENTS) {\n    const act: LoadSelectedComponentsAction = action;\n    return {\n      ...state,\n      selectedComponents: act.payload\n    };\n  }\n\n  return state;\n}\n","// @flow\nimport ActionType from \"../actions/ActionType\";\n\nconst initalState: QuestionnaireSubmissionListState = {\n  awaitingApprovalList: [],\n  awaitingApprovalTaskList: [],\n  mySubmissionList: [],\n  myProductList: [],\n}\n\nexport function questionnaireSubmissionListState(state: QuestionnaireSubmissionListState = initalState, action: any): QuestionnaireSubmissionListState {\n  if (action.type === ActionType.QUESTIONNAIRE.FETCH_AWAITING_APPROVAL_LIST_SUCCESS) {\n    return {\n      ...state,\n      awaitingApprovalList: action.payload\n    };\n  }\n\n  if (action.type === ActionType.TASK.FETCH_AWAITING_APPROVAL_TASK_LIST_SUCCESS) {\n    return {\n      ...state,\n      awaitingApprovalTaskList: action.payload\n    };\n  }\n\n  if (action.type === ActionType.QUESTIONNAIRE.FETCH_MY_SUBMISSION_LIST_SUCCESS) {\n    return {\n      ...state,\n      mySubmissionList: action.payload\n    };\n  }\n\n  if (action.type === ActionType.QUESTIONNAIRE.FETCH_MY_PRODUCT_LIST_SUCCESS) {\n    return {\n      ...state,\n      myProductList: action.payload\n    };\n  }\n\n  return state;\n}\n","// @flow\n\nimport type {SecurityRiskAssessmentState} from \"../store/SecurityRiskAssessmentState\";\nimport ActionType from \"../actions/ActionType\";\nimport type {SecurityRiskAssessment} from \"../types/Task\";\n\nconst defaultStartState: SecurityRiskAssessmentState = {\n  securityRiskAssessmentData: null,\n  impactThresholdData: null\n};\n\nexport function securityRiskAssessmentState(state: SecurityRiskAssessmentState = defaultStartState, action: *): SecurityRiskAssessmentState {\n\n  if (action.type === ActionType.SRA.LOAD_SECURITY_RISK_ASSESSMENT_SUCCESS) {\n    return {\n      ...state,\n      securityRiskAssessmentData: action.payload\n    };\n  }\n\n  if (action.type === ActionType.SRA.LOAD_IMPACT_THRESHOLD) {\n    return {\n      ...state,\n      impactThresholdData: action.payload,\n    };\n  }\n\n  return state;\n}\n","// @flow\n\nimport type {ControlValidationAuditState} from \"../store/ControlValidationAuditState\";\nimport ActionType from \"../actions/ActionType\";\nimport ComponentSelectionUtil from \"../utils/ComponentSelectionUtil\";\nimport { cloneDeep } from 'lodash';\n\nconst defaultStartState: ControlValidationAuditState = {\n  controlValidationAuditData: null,\n  cvaSelectedComponents: []\n};\nconst isSelectedComponentExist = ComponentSelectionUtil.isSelectedComponentExist;\n\nexport function controlValidationAuditState(state: ControlValidationAuditState = defaultStartState, action: *): ControlValidationAuditState {\n  if (action.type === ActionType.CVA.LOAD_CONTROL_VALIDATION_AUDIT_SUCCESS) {\n    let controlValidationAuditData = action.payload;\n    let selectedComponents = [];\n\n    if (controlValidationAuditData) {\n      selectedComponents = controlValidationAuditData.selectedComponents;\n      delete controlValidationAuditData.selectedComponents;\n    }\n\n    return {\n      ...state,\n      controlValidationAuditData: controlValidationAuditData,\n      cvaSelectedComponents: selectedComponents\n    };\n  }\n\n  if (action.type === ActionType.CVA.UPDATE_CONTROL_VALIDATION_AUDIT_DATA) {\n    const selectedOption = action.payload.selectedOption;\n    const productAspect = action.payload.productAspect;\n    const controlID = action.payload.controlID;\n    const componentID = action.payload.componentID;\n    const implementationEvidenceUserInput = action.payload.implementationEvidenceUserInput;\n    const selectedComponents = cloneDeep(state.cvaSelectedComponents);\n    let selectedcomponent = [];\n\n    if (productAspect !== \"\") {\n      selectedcomponent = selectedComponents.filter((component) => component.id == componentID && component.productAspect == productAspect);\n    } else {\n      selectedcomponent = selectedComponents.filter((component) => component.id == componentID)\n    }\n\n    if(selectedcomponent.length> 0) {\n      const control = selectedcomponent[0].controls.filter((control) => control.id == controlID);\n      if(control.length> 0) {\n        control[0].selectedOption = selectedOption;\n        control[0].implementationEvidenceUserInput = implementationEvidenceUserInput;\n        return {\n          ...state,\n          cvaSelectedComponents: selectedComponents,\n        };\n      }\n    }\n  }\n\n  if (action.type === ActionType.CVA.RE_SYNC_WITH_JIRA_SUCCESS) {\n    const newCVATaskData = action.payload;\n    return {\n      ...state,\n      cvaSelectedComponents: newCVATaskData\n    };\n  }\n\n  if (action.type === ActionType.CVA.EMPTY_CONTROL_VALIDATION_AUDIT_DATA) {\n    const controlValidationAuditData = action.payload;\n\n    return {\n      ...state,\n      controlValidationAuditData: controlValidationAuditData,\n      cvaSelectedComponents: []\n    };\n  }\n\n  return state;\n}\n","import type {LoadingState} from \"../store/LoadingState\";\n\nexport default (state: LoadingState = {}, action: any) => {\n  const { type } = action;\n  const matches = /(.*)\\/(REQUEST|SUCCESS|FAILURE)/.exec(type);\n\n  // not a */REQUEST / */SUCCESS /  */FAILURE actions, so we ignore them\n  if (!matches) return state;\n\n  const [request, requestName, requestState] = matches;\n  return {\n    ...state,\n    // Store whether a request is happening at the moment or not\n    // e.g. will be true when receiving GET_TODOS/REQUEST\n    //      and false when receiving GET_TODOS/SUCCESS / GET_TODOS/FAILURE\n    [requestName]: requestState === 'REQUEST'\n  };\n};\n","// @flow\n\nimport type {MemberState} from \"../store/MemberState\";\nimport type {LoadMembersAction} from \"../actions/ActionType\";\nimport ActionType from \"../actions/ActionType\";\n\nconst defaultState: MemberState = {\n  members: null,\n};\n\nexport function memberState(state: MemberState = defaultState, action: LoadMembersAction) {\n  switch (action.type) {\n    case ActionType.USER.LOAD_MEMBER:\n      return action.payload;\n    default:\n      return state;\n  }\n}\n","import { PaginationState } from \"../store/PaginationState\";\nimport ActionType from \"../actions/ActionType\";\n\nconst defaultState: PaginationState = {\n  pagination: {\n    limit: 10,\n    offset: 0,\n    index: 1,\n    pageNumber: 1,\n  },\n};\n\nexport function paginationState(state: PaginationState = defaultState, action) {\n  switch (action.type) {\n    case ActionType.PAGINATION.FETCH_NEXT_PAGE:\n      return {\n        ...state,\n        pagination: action.payload,\n      };\n    case ActionType.PAGINATION.FETCH_PREV_PAGE:\n      return {\n        ...state,\n        pagination: action.payload,\n      };\n    case ActionType.PAGINATION.FETCH_FIRST_PAGE:\n      return {\n        ...state,\n        pagination: action.payload,\n      };\n    case ActionType.PAGINATION.FETCH_LAST_PAGE:\n      return {\n        ...state,\n        pagination: action.payload,\n      };\n    case ActionType.PAGINATION.SET_SELECTED_ROWS:\n      return {\n        ...state,\n        pagination: action.payload,\n      };\n    case ActionType.PAGINATION.RESET_PAGINATION:\n      return {\n        ...state,\n        pagination: defaultState.pagination,\n      };\n\n    default:\n      return state;\n  }\n}\n","// @flow\n\nimport {combineReducers} from \"redux\";\nimport type {RootState} from \"../store/RootState\";\nimport {homeState} from \"./homeState\";\nimport questionnaireState from \"./questionnaireState\";\nimport {taskSubmissionState} from \"./taskSubmissionState\";\nimport {currentUserState} from \"./currentUserState\";\nimport {siteConfigState} from \"./siteConfigState\";\nimport {componentSelectionState} from \"./componentSelectionState\";\nimport {questionnaireSubmissionListState} from \"./questionnaireSubmissionListState\"\nimport {securityRiskAssessmentState} from \"./securityRiskAssessmentState\";\nimport {controlValidationAuditState} from \"./controlValidationAuditState\";\nimport loadingState from './loadingState';\nimport {memberState} from './memberState';\nimport {paginationState} from \"./paginationState\";\n\nexport default combineReducers<RootState>({\n  homeState,\n  questionnaireState,\n  taskSubmissionState,\n  currentUserState,\n  siteConfigState,\n  componentSelectionState,\n  questionnaireSubmissionListState,\n  securityRiskAssessmentState,\n  controlValidationAuditState,\n  loadingState,\n  memberState,\n  paginationState\n});\n","import {applyMiddleware, createStore} from \"redux\";\nimport thunk from \"redux-thunk\";\nimport {createLogger} from \"redux-logger\";\nimport rootState from \"../reducers/rootState\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\n\nconst middleware = [thunk];\n\nif (process.env.NODE_ENV !== \"production\") {\n  middleware.push(createLogger({diff: true, collapsed: true}));\n}\n\nexport const store = createStore(\n  rootState,\n  composeWithDevTools(\n    applyMiddleware(...middleware),\n  ),\n);\n\nexport default store;\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport type {RootState} from \"../../store/RootState\";\nimport {Dispatch} from \"redux\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport type {Question} from \"../../types/Questionnaire\";\nimport {\n  editCompletedTaskSubmission,\n  loadTaskSubmission,\n  moveToPreviousQuestionInTaskSubmission,\n  saveAnsweredQuestionInTaskSubmission,\n} from \"../../actions/task\";\nimport TaskSubmission from \"./TaskSubmission\";\nimport type {TaskSubmission as TaskSubmissionType} from \"../../types/Task\";\nimport {loadSiteConfig} from \"../../actions/siteConfig\";\nimport type {SiteConfig} from \"../../types/SiteConfig\";\n\nconst mapStateToProps = (state: RootState) => {\n  return {\n    taskSubmission: state.taskSubmissionState.taskSubmission,\n    siteConfig: state.siteConfigState.siteConfig,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch, props: OwnProps) => {\n  return {\n    dispatchLoadDataAction() {\n      const {uuid, secureToken} = {...props};\n      dispatch(loadTaskSubmission({uuid, secureToken}));\n      dispatch(loadSiteConfig());\n    },\n    dispatchSaveAnsweredQuestionAction(answeredQuestion: Question) {\n      const {secureToken} = {...props};\n      dispatch(saveAnsweredQuestionInTaskSubmission({answeredQuestion, secureToken}));\n    },\n    dispatchMoveToPreviousQuestionAction(targetQuestion: Question) {\n      const {secureToken} = {...props};\n      dispatch(moveToPreviousQuestionInTaskSubmission({targetQuestion, secureToken}));\n    },\n    dispatchEditAnswersAction() {\n      const {secureToken} = {...props};\n      dispatch(editCompletedTaskSubmission({secureToken}));\n    },\n  };\n};\n\ntype OwnProps = {\n  uuid: string,\n  secureToken: string,\n};\n\ntype ReduxProps = {\n  siteConfig?: SiteConfig | null,\n  taskSubmission?: TaskSubmissionType | null,\n  dispatchLoadDataAction?: () => void,\n  dispatchSaveAnsweredQuestionAction?: (answeredQuestion: Question) => void,\n  dispatchMoveToPreviousQuestionAction?: (targetQuestion: Question) => void,\n  dispatchEditAnswersAction?: () => void\n};\n\ntype Props = OwnProps & ReduxProps;\n\nclass TaskSubmissionForVendorContainer extends Component<Props> {\n\n  componentDidMount() {\n    const {dispatchLoadDataAction} = {...this.props};\n    dispatchLoadDataAction();\n  }\n\n  render() {\n    const {\n      siteConfig,\n      taskSubmission,\n      dispatchSaveAnsweredQuestionAction,\n      dispatchMoveToPreviousQuestionAction,\n      dispatchEditAnswersAction,\n    } = {...this.props};\n\n    if (!taskSubmission || !siteConfig) {\n      return null;\n    }\n\n    return (\n      <div className=\"TaskSubmissionContainer\">\n        <Header title={taskSubmission.taskName} subtitle={siteConfig.siteTitle} showLogoutButton={false} logopath={siteConfig.logoPath}/>\n        <TaskSubmission\n          taskSubmission={taskSubmission}\n          saveAnsweredQuestion={dispatchSaveAnsweredQuestionAction}\n          moveToPreviousQuestion={dispatchMoveToPreviousQuestionAction}\n          editAnswers={dispatchEditAnswersAction}\n          showBackButton={false}\n          showEditButton={false}\n          canUpdateAnswers={taskSubmission.status === \"in_progress\" || taskSubmission.status === \"start\"}\n          siteConfig={siteConfig}\n          siteTitle={siteConfig.siteTitle}\n        />\n        <Footer footerCopyrightText={siteConfig.footerCopyrightText}/>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(TaskSubmissionForVendorContainer);\n","// @flow\n\nimport React, {Component} from \"react\";\nimport {Route, Switch} from \"react-router-dom\";\nimport {parse} from \"query-string\";\nimport TaskSubmissionForVendorContainer from \"../Task/TaskSubmissionForVendorContainer\";\n\nclass VendorApp extends Component<*> {\n\n  render() {\n    return (\n      <div>\n        <main>\n          <Switch>\n            <Route path='/task/submission/:uuid'>\n              {({match, location}) => {\n                const query = parse(location.search);\n                return (\n                  <div className=\"gray-bg\">\n                    <TaskSubmissionForVendorContainer uuid={match.params.uuid} secureToken={query.token || \"\"}/>\n                  </div>\n                );\n              }}\n            </Route>\n          </Switch>\n        </main>\n      </div>\n\n    );\n  }\n}\n\nexport default VendorApp;\n","import \"@babel/polyfill\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport MainApp from \"./components/App/MainApp\";\nimport {HashRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"./store/store\";\nimport VendorApp from \"./components/App/VendorApp\";\nimport ReactModal from \"react-modal\";\n\nwindow.addEventListener(\"load\", () => {\n\n  ReactModal.defaultStyles = {\n    overlay: {\n      position: \"fixed\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    content: {\n      background: \"#fff\",\n      overflow: \"auto\",\n      WebkitOverflowScrolling: \"touch\",\n      padding: \"20px\",\n    },\n  };\n\n  const mainContainer = document.getElementById(\"main-app\");\n  if (mainContainer) {\n    ReactDOM.render((\n      <HashRouter>\n        <Provider store={store}>\n          <MainApp/>\n        </Provider>\n      </HashRouter>\n    ), mainContainer);\n  }\n\n  const vendorContainer = document.getElementById(\"vendor-app\");\n  if (vendorContainer) {\n    ReactDOM.render((\n      <HashRouter>\n        <Provider store={store}>\n          <VendorApp/>\n        </Provider>\n      </HashRouter>\n    ), vendorContainer);\n  }\n});\n","module.exports = __webpack_public_path__ + \"../img/0440ba3e3faedab93471760cf52fdf4b.svg\";"],"sourceRoot":""}